(window.webpackJsonp = window.webpackJsonp || []).push([[5], [function (e, t, r) { "use strict"; r.d(t, "o", function () { return shouleBeObject }), r.d(t, "f", function () { return getParameterError }), r.d(t, "h", function () { return inlineStyle }), r.d(t, "n", function () { return setTransform }), r.d(t, "p", function () { return successHandler }), r.d(t, "d", function () { return errorHandler }), r.d(t, "m", function () { return serializeParams }), r.d(t, "q", function () { return temporarilyNotSupport }), r.d(t, "k", function () { return permanentlyNotSupport }), r.d(t, "j", function () { return i }), r.d(t, "a", function () { return a }), r.d(t, "b", function () { return s }), r.d(t, "l", function () { return processOpenapi }), r.d(t, "e", function () { return f }), r.d(t, "c", function () { return d }), r.d(t, "g", function () { return p }), r.d(t, "i", function () { return g }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function shouleBeObject(e) { return e && "object" === (void 0 === e ? "undefined" : n(e)) ? { "res": !0 } : { "res": !1, "msg": getParameterError({ "correct": "Object", "wrong": e }) } } function getParameterError(e) { var t = e.name, r = void 0 === t ? "" : t, o = e.para, i = e.correct, a = e.wrong; return r + ":fail parameter error: " + (o ? "parameter." + o : "parameter") + " should be " + i + " instead of " + function upperCaseFirstLetter(e) { return "string" != typeof e ? e : e = e.replace(/^./, function (e) { return e.toUpperCase() }) }(null === a ? "Null" : void 0 === a ? "undefined" : n(a)) } function inlineStyle(e) { var t = ""; for (var r in e) t += r + ": " + e[r] + ";"; return t.indexOf("display: flex;") >= 0 && (t += "display: -webkit-box;display: -webkit-flex;"), t = (t = t.replace(/transform:(.+?);/g, function (e, t) { return e + "-webkit-transform:" + t + ";" })).replace(/flex-direction:(.+?);/g, function (e, t) { return e + "-webkit-flex-direction:" + t + ";" }) } function setTransform(e, t) { e.style.transform = t, e.style.OTransform = t, e.style.msTransform = t, e.style.MozTransform = t, e.style.WebkitTransform = t } function isFunction(e) { return "function" == typeof e } function successHandler(e, t) { return function (r) { return isFunction(e) && e(r), isFunction(t) && t(r), Promise.resolve(r) } } function errorHandler(e, t) { return function (r) { return isFunction(e) && e(r), isFunction(t) && t(r), Promise.reject(r) } } function serializeParams(e) { return e ? Object.keys(e).map(function (t) { return encodeURIComponent(t) + "=" + ("object" === n(e[t]) ? encodeURIComponent(JSON.stringify(e[t])) : encodeURIComponent(e[t])) }).join("&") : "" } function temporarilyNotSupport(e) { return function () { var t = "暂时不支持 API " + e; return console.error(t), Promise.reject({ "errMsg": t }) } } function permanentlyNotSupport(e) { return function () { var t = "不支持 API " + e; return console.error(t), Promise.reject({ "errMsg": t }) } } var o = /^#[0-9a-fA-F]{6}$/, i = function isValidColor(e) { return o.test(e) }, a = function createCallbackManager() { var e = []; return { "add": function add(t) { e.push(t) }, "remove": function remove(t) { var r = -1; e.forEach(function (e, n) { e === t && (r = n) }), r > -1 && e.splice(r, 1) }, "count": function count() { return e.length }, "trigger": function trigger() { for (var t = arguments.length, r = Array(t), n = 0; n < t; n++)r[n] = arguments[n]; e.forEach(function (e) { if ("function" == typeof e) e.apply(void 0, r); else { var t = e.callback, n = e.ctx; t.call.apply(t, [n].concat(r)) } }) } } }, s = function createScroller() { var e = document.querySelector(".taro-tabbar__panel") || window, t = e === window ? function () { return document.documentElement.scrollHeight } : function () { return e.scrollHeight }, r = e === window ? function () { return window.pageYOffset } : function () { return e.scrollTop }, n = e === window ? function () { return window.screen.height } : function () { return e.clientHeight }; return { "listen": function listen(t) { e.addEventListener("scroll", t), document.body.addEventListener("touchmove", t) }, "unlisten": function unlisten(t) { e.removeEventListener("scroll", t), document.body.removeEventListener("touchmove", t) }, "getPos": r, "isReachBottom": function isReachBottom() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; return t() - r() - n() < e } } }; function processOpenapi(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function (e) { return e }, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : function (e) { return e }; return window.wx ? function (o) { o = o || {}; var i = Object.assign({}, t, o); return new Promise(function (t, a) { ["fail", "success", "complete"].forEach(function (e) { i[e] = function (n) { var i = r(n); o[e] && o[e](i), "success" === e ? t(i) : "fail" === e && a(i) } }), wx[e](n(i)) }) } : function weixinCorpSupport(e) { return function () { var t = "h5端仅在微信公众号中支持 API " + e; return console.error(t), Promise.reject({ "errMsg": t }) } }(e) } var c, u, l, f = function findRef(e, t) { if (!t.isRoute) return t[e] || findRef(e, t.vnode._owner) }, d = function easeInOut(e) { return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1 }, p = function getTimingFunc(e, t) { return function (r) { return e(r / (t - 1)) } }, h = (c = void 0, u = void 0, l = Object.assign({}, document.body.style), c || (u = l), { "getInlineStyle": function getInlineStyle() { return u && u.cssText }, "hasCalculated": c = !0 }); var m = 0, g = function interactiveHelper() { return { "handleAfterCreate": function handleAfterCreate() { var e = { "position": "fixed", "width": "100%", "overflow": "hidden", "top": -(m = function getScrollTop() { return document.scrollingElement ? document.scrollingElement.scrollTop : window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 }()) + "px" }; document.body.setAttribute("style", inlineStyle(e)) }, "handleBeforeDestroy": function handleBeforeDestroy() { var e = h.getInlineStyle() || {}; document.body.setAttribute("style", e), function setScrollTop(e) { document.scrollingElement ? document.scrollingElement.scrollTop = e : (document.documentElement.scrollTop = e, document.body.scrollTop = e) }(m) } } } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return ee }), r.d(t, "b", function () { return Y }), r.d(t, "e", function () { return J }), r.d(t, "h", function () { return createElement$2 }), r.d(t, "f", function () { return cloneElement }), r.d(t, "s", function () { return g }), r.d(t, "t", function () { return Z }), r.d(t, "m", function () { return findDOMNode }), r.d(t, "q", function () { return isValidElement$1 }), r.d(t, "u", function () { return unmountComponentAtNode }), r.d(t, "j", function () { return createPortal }), r.d(t, "w", function () { return unstable_renderSubtreeIntoContainer }), r.d(t, "p", function () { return hydrate }), r.d(t, "i", function () { return createFactory }), r.d(t, "v", function () { return ne }), r.d(t, "G", function () { return te }), r.d(t, "d", function () { return ie }), r.d(t, "k", function () { return createRef }), r.d(t, "n", function () { return forwardRef }), r.d(t, "r", function () { return memo }), r.d(t, "g", function () { return createContext }), r.d(t, "o", function () { return getHooks }), r.d(t, "c", function () { return _ }), r.d(t, "z", function () { return useEffect }), r.d(t, "B", function () { return useLayoutEffect }), r.d(t, "D", function () { return useReducer }), r.d(t, "F", function () { return useState }), r.d(t, "E", function () { return useRef }), r.d(t, "x", function () { return useCallback }), r.d(t, "C", function () { return useMemo }), r.d(t, "A", function () { return useImperativeHandle }), r.d(t, "y", function () { return useContext }); var n = function () { var e; if (void 0 !== n) e = n; else if ("undefined" != typeof self) e = self; else try { e = Function("return this")() } catch (e) { throw new Error("global object is unavailable in this environment") } return e }(), o = "undefined" != typeof window; function noop() { } var i = o ? document : { "createElement": noop, "createElementNS": noop, "createTextNode": noop }, a = o && window.navigator.userAgent.toLowerCase(), s = o && a && window.navigator.platform && /mac/i.test(window.navigator.platform) && /^((?!chrome|android).)*safari/i.test(a), c = o && !document.scripts, u = a && a.indexOf("msie 9.0") > 0, l = a && /iphone|ipad|ipod|ios/.test(a); function isNumber(e) { return "number" == typeof e } var f = isFunction(i.createAttributeNS); function isString(e) { return "string" == typeof e } function isFunction(e) { return "function" == typeof e } var d = Array.isArray; function isObject(e) { return e === Object(e) && !isFunction(e) } function isUndefined(e) { return void 0 === e } function objectIs(e, t) { return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t } var p, m = "Promise" in n && !s; m && (p = Promise.resolve()); var g = function nextTick(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; if (e = isFunction(e) ? e.bind.apply(e, [null].concat(t)) : e, m) return p.then(e); ("requestAnimationFrame" in n && !s ? requestAnimationFrame : setTimeout)(e) }; function shallowEqual(e, t) { if (null === e || null === t) return !1; if (Object.is(e, t)) return !0; var r = e ? Object.keys(e) : [], n = t ? Object.keys(t) : []; if (r.length !== n.length) return !1; for (var o = 0; o < r.length; o++) { var i = r[o]; if (!t.hasOwnProperty(i) || !Object.is(e[i], t[i])) return !1 } return !0 } Object.is = Object.is || function (e, t) { return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t }; var v = function SimpleMap() { this.cache = [], this.size = 0 }; v.prototype.set = function set(e, t) { var r = this.cache.length; if (!r) return this.cache.push({ "k": e, "v": t }), void (this.size += 1); for (var n = 0; n < r; n++) { var o = this.cache[n]; if (o.k === e) return void (o.v = t) } this.cache.push({ "k": e, "v": t }), this.size += 1 }, v.prototype.get = function get(e) { var t = this.cache.length; if (t) for (var r = 0; r < t; r++) { var n = this.cache[r]; if (n.k === e) return n.v } }, v.prototype.has = function has(e) { var t = this.cache.length; if (!t) return !1; for (var r = 0; r < t; r++) { if (this.cache[r].k === e) return !0 } return !1 }, v.prototype.delete = function delete$1(e) { for (var t = this.cache.length, r = 0; r < t; r++) { if (this.cache[r].k === e) return this.cache.splice(r, 1), this.size -= 1, !0 } return !1 }, v.prototype.clear = function clear() { var e = this.cache.length; if (this.size = 0, e) for (; e;)this.cache.pop(), e-- }; var y = "Map" in n ? Map : v; function isAttrAnEvent(e) { return "o" === e[0] && "n" === e[1] } var b = "assign" in Object ? function (e, t) { return t ? (Object.assign(e, t), e) : e } : function (e, t) { if (!t) return e; for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]); return e }; function clone(e) { return b({}, e) } var S, _ = { "current": null, "index": 0 }, w = [], A = {}; function isNullOrUndef(e) { return null == e } function isInvalid(e) { return isNullOrUndef(e) || !0 === e || !1 === e } function isVNode(e) { return !isNullOrUndef(e) && 2 === e.vtype } function isComponent(e) { return !isInvalid(e) && e.isReactComponent === A } function isPortal(e, t) { return (32 & e) > 0 } function isComposite(e) { return !isNullOrUndef(e) && 4 === e.vtype } function isValidElement(e) { return !isNullOrUndef(e) && e.vtype } function noop$1() { } !function (e) { e[e.Text = 1] = "Text", e[e.Node = 2] = "Node", e[e.Composite = 4] = "Composite", e[e.Void = 16] = "Void", e[e.Portal = 32] = "Portal" }(S || (S = {})); var C = { "update": function update(e, t, r) { var n = null != e && e.ref, o = null != t && t.ref; n !== o && (this.detach(e, n, e.dom), this.attach(t, o, r)) }, "attach": function attach(e, t, r) { var n = isComposite(e) ? e.component : r; if (isFunction(t)) errorCatcher(function () { t(n) }, isComposite(e) ? e.component : e); else if (isString(t)) { var o = e._owner; o && isFunction(o.render) && (o.refs[t] = n) } else isObject(t) && (t.current = n) }, "detach": function detach(e, t, r) { var n = isComposite(e) ? e.component : r; if (isFunction(t)) errorCatcher(function () { t(null) }, isComposite(e) ? e.component : e); else if (isString(t)) { var o = e._owner; o.refs[t] === n && isFunction(o.render) && delete o.refs[t] } else isObject(t) && (t.current = null) } }, T = { "passive": !1, "capture": !1 }, P = function eventListenerOptionsSupported() { var e = !1; try { var t = Object.defineProperty({}, "passive", { "get": function get() { e = !0 } }); window.addEventListener("test", null, t), window.removeEventListener("test", null, t) } catch (t) { e = !1 } return e }; var k = function getDefaultPassiveOption() { var e = !!P() && T; return function () { return e } }(), E = { "scroll": k(), "wheel": k(), "touchstart": k(), "touchmove": k(), "touchenter": k(), "touchend": k(), "touchleave": k(), "mouseout": k(), "mouseleave": k(), "mouseup": k(), "mousedown": k(), "mousemove": k(), "mouseenter": k(), "mousewheel": k(), "mouseover": k() }, x = "oninput", O = "onpropertychange", I = new y, R = { "onmousemove": 1, "ontouchmove": 1, "onmouseleave": 1, "onmouseenter": 1, "onload": 1, "onunload": 1, "onscroll": 1, "onfocus": 1, "onblur": 1, "onrowexit": 1, "onbeforeunload": 1, "onstop": 1, "ondragdrop": 1, "ondragenter": 1, "ondragexit": 1, "ondraggesture": 1, "ondragover": 1, "oncontextmenu": 1, "onerror": 1, "onabort": 1, "oncanplay": 1, "oncanplaythrough": 1, "ondurationchange": 1, "onemptied": 1, "onended": 1, "onloadeddata": 1, "onloadedmetadata": 1, "onloadstart": 1, "onencrypted": 1, "onpause": 1, "onplay": 1, "onplaying": 1, "onprogress": 1, "onratechange": 1, "onseeking": 1, "onseeked": 1, "onstalled": 1, "onsuspend": 1, "ontimeupdate": 1, "onvolumechange": 1, "onwaiting": 1 }; R[O] = 1; var M, B, D, j = !1; if (u) { var F = [], L = []; i.addEventListener("selectionchange", function () { var e = i.activeElement; if (detectCanUseOnInputNode(e)) { var t = F.indexOf(e), r = F[t] || F.push(e); if (r.value !== L[t]) { var n = i.createEvent("CustomEvent"); n.initCustomEvent("input", !0, !0, void 0), L[t] = r.value, e.dispatchEvent(n) } } }) } function attachEvent(e, t, r) { if ((t = fixEvent(e, t)) !== O) { var n = I.get(t); if (1 === R[t] || c) { n || (n = new y); var o = function attachEventToNode(e, t, r) { var n = function eventHandler(t) { var n = r.get(e); if (n && n.eventHandler) { var o = { "currentTarget": e }; Object.defineProperties(t, { "currentTarget": { "configurable": !0, "get": function get() { return o.currentTarget } } }), n.eventHandler(t) } }, o = parseEventName(t); return e.addEventListener(o, n, E[o] || !1), n }(e, t, n); I.set(t, n), isFunction(r) && n.set(e, { "eventHandler": r, "event": o }) } else n || ((n = { "items": new y }).event = function attachEventToDocument(e, t, r) { var n = function eventHandler(e) { var t = r.items, n = t.size; if (n > 0) { var o = { "currentTarget": e.target }; try { Object.defineProperties(e, { "currentTarget": { "configurable": !0, "get": function get() { return o.currentTarget } }, "stopPropagation": { "value": stopPropagation } }) } catch (e) { } !function dispatchEvent(e, t, r, n, o) { var i = r.get(t); if (i && (n--, o.currentTarget = t, Object.defineProperties(e, { "nativeEvent": { "value": e } }), i(e), e.cancelBubble)) return; if (n > 0) { var a = t.parentNode; if (null === a || "click" === e.type && 1 === a.nodeType && a.disabled) return; dispatchEvent(e, a, r, n, o) } }(e, e.target, r.items, n, o) } }, o = parseEventName(t); return e.addEventListener(o, n, E[o] || !1), n }(i, t, n), I.set(t, n)), isFunction(r) && (l && (e.onclick = noop$1), n.items.set(e, r)) } else (function processOnPropertyChangeEvent(e, t) { N[e.name] = t, j || (e.addEventListener("focusin", function () { unbindOnPropertyChange(), function bindOnPropertyChange(e) { M = e, B = e.value, D = Object.getOwnPropertyDescriptor(e.constructor.prototype, "value"), Object.defineProperty(M, "value", { "get": function get() { return D.get.call(this) }, "set": function set(e) { B = e, D.set.call(this, e) } }), M.addEventListener("propertychange", propertyChangeHandler, !1) }(e) }, !1), e.addEventListener("focusout", unbindOnPropertyChange, !1)) })(e, r) } function detachEvent(e, t, r) { if ((t = fixEvent(e, t)) !== O) { var n = I.get(t); if (1 === R[t] && n || c) { var o = n.get(e); if (o) { e.removeEventListener(parseEventName(t), o.event, !1); var a = n.size; n.delete(e) && 0 === a && I.delete(t) } } else if (n && n.items) { var s = n.items; s.delete(e) && 0 === s.size && (i.removeEventListener(parseEventName(t), n.event, !1), I.delete(t)) } } } "undefined" == typeof Event || Event.prototype.persist || (Event.prototype.persist = noop$1); var N = {}; function propertyChangeHandler(e) { if ("value" === e.propertyName) { var t = e.target || e.srcElement, r = t.value; if (r !== B) { B = r; var n = N[t.name]; isFunction(n) && n.call(t, e) } } } function unbindOnPropertyChange() { M && (delete M.value, M.removeEventListener("propertychange", propertyChangeHandler, !1), M = null, B = null, D = null) } function detectCanUseOnInputNode(e) { var t = e.nodeName && e.nodeName.toLowerCase(), r = e.type; return "input" === t && /text|password/.test(r) || "textarea" === t } function fixEvent(e, t) { return c && "onClick" === t && (t = "onTap"), t = "onDoubleClick" === t ? "ondblclick" : "onTouchTap" === t ? "onclick" : "onChange" === t && detectCanUseOnInputNode(e) ? x in window ? x : O : t.toLowerCase() } function parseEventName(e) { return e.substr(2) } function stopPropagation() { this.cancelBubble = !0, this.stopImmediatePropagation() } function unmountChildren(e, t) { if (d(e)) for (var r = 0, n = e.length; r < n; r++)unmount(e[r], t); else unmount(e, t) } function unmount(e, t) { if (!isInvalid(e)) { var r = e.vtype, n = e.dom; if ((4 & r) > 0) e.destroy(); else if ((2 & r) > 0) { var o = e.props, i = e.children, a = e.ref; for (var s in unmountChildren(i), o) isAttrAnEvent(s) && detachEvent(n, s, o[s]); null !== a && C.detach(e, a, n) } else 32 & r && unmountChildren(e.children, e.type); if (!isNullOrUndef(t) && !isNullOrUndef(n)) if (d(n)) for (var c = 0; c < n.length; c++)t.removeChild(n[c]); else t.removeChild(n) } } var H = "http://www.w3.org/1999/xlink", U = "http://www.w3.org/XML/1998/namespace", W = { "accentHeight": "accent-height", "accumulate": 0, "additive": 0, "alignmentBaseline": "alignment-baseline", "allowReorder": "allowReorder", "alphabetic": 0, "amplitude": 0, "arabicForm": "arabic-form", "ascent": 0, "attributeName": "attributeName", "attributeType": "attributeType", "autoReverse": "autoReverse", "azimuth": 0, "baseFrequency": "baseFrequency", "baseProfile": "baseProfile", "baselineShift": "baseline-shift", "bbox": 0, "begin": 0, "bias": 0, "by": 0, "calcMode": "calcMode", "capHeight": "cap-height", "clip": 0, "clipPath": "clip-path", "clipRule": "clip-rule", "clipPathUnits": "clipPathUnits", "colorInterpolation": "color-interpolation", "colorInterpolationFilters": "color-interpolation-filters", "colorProfile": "color-profile", "colorRendering": "color-rendering", "contentScriptType": "contentScriptType", "contentStyleType": "contentStyleType", "cursor": 0, "cx": 0, "cy": 0, "d": 0, "decelerate": 0, "descent": 0, "diffuseConstant": "diffuseConstant", "direction": 0, "display": 0, "divisor": 0, "dominantBaseline": "dominant-baseline", "dur": 0, "dx": 0, "dy": 0, "edgeMode": "edgeMode", "elevation": 0, "enableBackground": "enable-background", "end": 0, "evEvent": "ev:event", "exponent": 0, "externalResourcesRequired": "externalResourcesRequired", "fill": 0, "fillOpacity": "fill-opacity", "fillRule": "fill-rule", "filter": 0, "filterRes": "filterRes", "filterUnits": "filterUnits", "floodColor": "flood-color", "floodOpacity": "flood-opacity", "focusable": 0, "fontFamily": "font-family", "fontSize": "font-size", "fontSizeAdjust": "font-size-adjust", "fontStretch": "font-stretch", "fontStyle": "font-style", "fontVariant": "font-variant", "fontWeight": "font-weight", "format": 0, "from": 0, "fx": 0, "fy": 0, "g1": 0, "g2": 0, "glyphName": "glyph-name", "glyphOrientationHorizontal": "glyph-orientation-horizontal", "glyphOrientationVertical": "glyph-orientation-vertical", "glyphRef": "glyphRef", "gradientTransform": "gradientTransform", "gradientUnits": "gradientUnits", "hanging": 0, "horizAdvX": "horiz-adv-x", "horizOriginX": "horiz-origin-x", "ideographic": 0, "imageRendering": "image-rendering", "in": 0, "in2": 0, "intercept": 0, "k": 0, "k1": 0, "k2": 0, "k3": 0, "k4": 0, "kernelMatrix": "kernelMatrix", "kernelUnitLength": "kernelUnitLength", "kerning": 0, "keyPoints": "keyPoints", "keySplines": "keySplines", "keyTimes": "keyTimes", "lengthAdjust": "lengthAdjust", "letterSpacing": "letter-spacing", "lightingColor": "lighting-color", "limitingConeAngle": "limitingConeAngle", "local": 0, "markerEnd": "marker-end", "markerMid": "marker-mid", "markerStart": "marker-start", "markerHeight": "markerHeight", "markerUnits": "markerUnits", "markerWidth": "markerWidth", "mask": 0, "maskContentUnits": "maskContentUnits", "maskUnits": "maskUnits", "mathematical": 0, "mode": 0, "numOctaves": "numOctaves", "offset": 0, "opacity": 0, "operator": 0, "order": 0, "orient": 0, "orientation": 0, "origin": 0, "overflow": 0, "overlinePosition": "overline-position", "overlineThickness": "overline-thickness", "paintOrder": "paint-order", "panose1": "panose-1", "pathLength": "pathLength", "patternContentUnits": "patternContentUnits", "patternTransform": "patternTransform", "patternUnits": "patternUnits", "pointerEvents": "pointer-events", "points": 0, "pointsAtX": "pointsAtX", "pointsAtY": "pointsAtY", "pointsAtZ": "pointsAtZ", "preserveAlpha": "preserveAlpha", "preserveAspectRatio": "preserveAspectRatio", "primitiveUnits": "primitiveUnits", "r": 0, "radius": 0, "refX": "refX", "refY": "refY", "renderingIntent": "rendering-intent", "repeatCount": "repeatCount", "repeatDur": "repeatDur", "requiredExtensions": "requiredExtensions", "requiredFeatures": "requiredFeatures", "restart": 0, "result": 0, "rotate": 0, "rx": 0, "ry": 0, "scale": 0, "seed": 0, "shapeRendering": "shape-rendering", "slope": 0, "spacing": 0, "specularConstant": "specularConstant", "specularExponent": "specularExponent", "speed": 0, "spreadMethod": "spreadMethod", "startOffset": "startOffset", "stdDeviation": "stdDeviation", "stemh": 0, "stemv": 0, "stitchTiles": "stitchTiles", "stopColor": "stop-color", "stopOpacity": "stop-opacity", "strikethroughPosition": "strikethrough-position", "strikethroughThickness": "strikethrough-thickness", "string": 0, "stroke": 0, "strokeDasharray": "stroke-dasharray", "strokeDashoffset": "stroke-dashoffset", "strokeLinecap": "stroke-linecap", "strokeLinejoin": "stroke-linejoin", "strokeMiterlimit": "stroke-miterlimit", "strokeOpacity": "stroke-opacity", "strokeWidth": "stroke-width", "surfaceScale": "surfaceScale", "systemLanguage": "systemLanguage", "tableValues": "tableValues", "targetX": "targetX", "targetY": "targetY", "textAnchor": "text-anchor", "textDecoration": "text-decoration", "textRendering": "text-rendering", "textLength": "textLength", "to": 0, "transform": 0, "u1": 0, "u2": 0, "underlinePosition": "underline-position", "underlineThickness": "underline-thickness", "unicode": 0, "unicodeBidi": "unicode-bidi", "unicodeRange": "unicode-range", "unitsPerEm": "units-per-em", "vAlphabetic": "v-alphabetic", "vHanging": "v-hanging", "vIdeographic": "v-ideographic", "vMathematical": "v-mathematical", "values": 0, "vectorEffect": "vector-effect", "version": 0, "vertAdvY": "vert-adv-y", "vertOriginX": "vert-origin-x", "vertOriginY": "vert-origin-y", "viewBox": "viewBox", "viewTarget": "viewTarget", "visibility": 0, "widths": 0, "wordSpacing": "word-spacing", "writingMode": "writing-mode", "x": 0, "xHeight": "x-height", "x1": 0, "x2": 0, "xChannelSelector": "xChannelSelector", "xlinkActuate": "xlink:actuate", "xlinkArcrole": "xlink:arcrole", "xlinkHref": "xlink:href", "xlinkRole": "xlink:role", "xlinkShow": "xlink:show", "xlinkTitle": "xlink:title", "xlinkType": "xlink:type", "xmlBase": "xml:base", "xmlId": "xml:id", "xmlns": 0, "xmlnsXlink": "xmlns:xlink", "xmlLang": "xml:lang", "xmlSpace": "xml:space", "y": 0, "y1": 0, "y2": 0, "yChannelSelector": "yChannelSelector", "z": 0, "zoomAndPan": "zoomAndPan" }, G = { "Properties": {}, "DOMAttributeNamespaces": { "ev:event": "http://www.w3.org/2001/xml-events", "xlink:actuate": H, "xlink:arcrole": H, "xlink:href": H, "xlink:role": H, "xlink:show": H, "xlink:title": H, "xlink:type": H, "xml:base": U, "xml:id": U, "xml:lang": U, "xml:space": U }, "DOMAttributeNames": {} }; function patch(e, t, r, n, o) { var i, a = e.dom, s = d(e), c = d(t); if (function isSameVNode(e, t) { if (isInvalid(e) || isInvalid(t) || d(e) || d(t)) return !1; return e.type === t.type && e.vtype === t.vtype && e.key === t.key }(e, t)) { var u = t.vtype; if (2 & u) (o = isNullOrUndef(o) ? e.isSvg : o) && (t.isSvg = o), function patchProps(e, t, r, n, o) { for (var i in r) { var a = r[i]; isNullOrUndef(t[i]) && !isNullOrUndef(a) && (isAttrAnEvent(i) ? detachEvent(e, i) : "dangerouslySetInnerHTML" === i ? e.textContent = "" : "className" === i ? e.removeAttribute("class") : e.removeAttribute(i)) } for (var s in t) patchProp(e, s, r[s], t[s], n, o) }(a, t.props, e.props, e, o), patchChildren(a, e.children, t.children, n, o), null !== t.ref && C.update(e, t, a), i = a; else if ((4 & u) > 0) i = t.update(e, t, n); else { if (1 & u) return function patchVText(e, t) { var r = e.dom; if (null === r) return; var n = t.text; t.dom = r, e.text !== n && (r.nodeValue = n); return r }(e, t); 32 & u && patchChildren(e.type, e.children, t.children, n, o) } t.dom = i || a } else if (d(e) && d(t)) patchArrayChildren(a, e, t, n, !1); else if (s && !c) patchArrayChildren(r, e, [t], n, !1); else if (!s && c) insertElement(i = createElement(t, o, n), r, a), r.removeChild(a); else { unmount(e), i = createElement(t, o, n), null !== t && (t.dom = i); var l = d(i), f = d(a); if (l) insertElement(i, r, a), r.removeChild(a); else if (f) { (r = a[0].parentNode).insertBefore(i, a[0]); for (var p = 0; p < a.length; p++)r.removeChild(a[p]) } else null !== r && (null != a ? r.replaceChild(i, a) : r.appendChild(i)) } return i } function patchArrayChildren(e, t, r, n, o) { var i = t.length, a = r.length; if (0 === i) { if (a > 0) for (var s = 0; s < a; s++)mountChild(r[s], e, n, o) } else 0 === a ? (unmountChildren(t), e.textContent = "") : !function isKeyed(e, t) { return t.length > 0 && !isNullOrUndef(t[0]) && !isNullOrUndef(t[0].key) && e.length > 0 && !isNullOrUndef(e[0]) && !isNullOrUndef(e[0].key) }(t, r) ? function patchNonKeyedChildren(e, t, r, n, o, i, a) { var s = Math.min(i, a), c = 0; for (; c < s;)patch(t[c], r[c], e, n, o), c++; if (i < a) { for (c = s; c < a; c++)if (null !== e) { var u = t[c - 1]; mountElement(createElement(r[c], o, n), e, isValidElement(u) && null != u.dom ? u.dom.nextSibling : null) } } else if (i > a) for (c = s; c < i; c++)unmount(t[c], e) }(e, t, r, n, o, i, a) : function patchKeyedChildren(e, t, r, n, o, i, a) { var s, c, u, l, f, d, p, h = i - 1, m = a - 1, g = 0, v = 0, b = e[g], S = t[v], _ = e[h], w = t[m]; e: { for (; b.key === S.key;) { if (patch(b, S, r, n, o), v++, ++g > h || v > m) break e; b = e[g], S = t[v] } for (; _.key === w.key;) { if (patch(_, w, r, n, o), m--, g > --h || v > m) break e; _ = e[h], w = t[m] } } if (g > h) { if (v <= m) for (f = (d = m + 1) < a ? t[d].dom : null; v <= m;)p = t[v], v++, attachNewNode(r, createElement(p, o, n), f) } else if (v > m) for (; g <= h;)unmount(e[g++], r); else { var A = h - g + 1, C = m - v + 1, T = new Array(C); for (s = 0; s < C; s++)T[s] = -1; var P = !1, k = 0, E = 0; if (C <= 4 || A * C <= 16) { for (s = g; s <= h; s++)if (u = e[s], E < C) for (c = v; c <= m; c++)if (l = t[c], u.key === l.key) { T[c - v] = s, k > c ? P = !0 : k = c, patch(u, l, r, n, o), E++, e[s] = null; break } } else { var x = new y; for (s = v; s <= m; s++)x.set(t[s].key, s); for (s = g; s <= h; s++)u = e[s], E < C && void 0 !== (c = x.get(u.key)) && (l = t[c], T[c - v] = s, k > c ? P = !0 : k = c, patch(u, l, r, n, o), E++, e[s] = null) } if (A === i && 0 === E) for (unmountChildren(e), r.textContent = ""; v < C;)p = t[v], v++, attachNewNode(r, createElement(p, o, n), null); else { for (s = A - E; s > 0;)null !== (u = e[g++]) && (unmount(u, r), s--); if (P) { var O = function lis(e) { var t, r, n = e.slice(), o = []; o.push(0); for (var i = 0, a = e.length; i < a; ++i)if (-1 !== e[i]) { var s = o[o.length - 1]; if (e[s] < e[i]) n[i] = s, o.push(i); else { for (t = 0, r = o.length - 1; t < r;) { var c = (t + r) / 2 | 0; e[o[c]] < e[i] ? t = c + 1 : r = c } e[i] < e[o[t]] && (t > 0 && (n[i] = o[t - 1]), o[t] = i) } } t = o.length, r = o[t - 1]; for (; t-- > 0;)o[t] = r, r = n[r]; return o }(T); for (c = O.length - 1, s = C - 1; s >= 0; s--)-1 === T[s] ? (p = t[k = s + v], d = k + 1, attachNewNode(r, createElement(p, o, n), d < a ? t[d].dom : null)) : c < 0 || s !== O[c] ? (p = t[k = s + v], d = k + 1, attachNewNode(r, p.dom, d < a ? t[d].dom : null)) : c-- } else if (E !== C) for (s = C - 1; s >= 0; s--)-1 === T[s] && (p = t[k = s + v], d = k + 1, attachNewNode(r, createElement(p, o, n), d < a ? t[d].dom : null)) } } }(t, r, e, n, o, i, a) } function patchChildren(e, t, r, n, o) { var i = d(t), a = d(r); i && a ? patchArrayChildren(e, t, r, n, o) : i || a ? i && !a ? patchArrayChildren(e, t, [r], n, o) : !i && a && patchArrayChildren(e, [t], r, n, o) : patch(t, r, e, n, o) } function attachNewNode(e, t, r) { isNullOrUndef(r) ? e.appendChild(t) : e.insertBefore(t, r) } Object.keys(W).forEach(function (e) { G.Properties[e] = 0, W[e] && (G.DOMAttributeNames[e] = W[e]) }); var V = { "children": 1, "key": 1, "ref": 1, "owner": 1 }, q = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i; function setStyle(e, t, r) { if (!(isNullOrUndef(r) || isNumber(r) && isNaN(r))) return "float" === t ? (e.cssFloat = r, void (e.styleFloat = r)) : void (e[t] = !isNumber(r) || q.test(t) ? r : r + "px"); e[t] = "" } function patchProp(e, t, r, n, o, i) { if (r !== n || "value" === t) { if ("className" === t && (t = "class"), 1 === V[t]) return; if ("class" !== t || i) if ("dangerouslySetInnerHTML" === t) { var a = r && r.__html, s = n && n.__html; a !== s && (isNullOrUndef(s) || (isValidElement(o) && o.children !== w && (unmountChildren(o.children), o.children = []), e.innerHTML = s)) } else if (isAttrAnEvent(t)) !function patchEvent(e, t, r, n) { t !== r && (isFunction(t) && detachEvent(n, e), attachEvent(n, e, r)) }(t, r, n, e); else if ("style" === t) !function patchStyle(e, t, r) { var n, o, i = r.style; if (isString(t)) i.cssText = t; else if (isNullOrUndef(e) || isString(e)) for (n in t) setStyle(i, n, o = t[n]); else { for (n in t) (o = t[n]) !== e[n] && setStyle(i, n, o); for (n in e) isNullOrUndef(t[n]) && (i[n] = "") } }(r, n, e); else if ("list" !== t && "type" !== t && !i && t in e) !function setProperty(e, t, r) { try { e[t] = r } catch (e) { } }(e, t, null == n ? "" : n), null != n && !1 !== n || e.removeAttribute(t); else if (isNullOrUndef(n) || !1 === n) e.removeAttribute(t); else { var c = G.DOMAttributeNamespaces[t]; if (i && c) if (n) e.setAttributeNS(c, t, n); else { var u = t.indexOf(":"), l = u > -1 ? t.substr(u + 1) : t; e.removeAttributeNS(c, l) } else isFunction(n) || e.setAttribute(t, n) } else e.className = n } } var z = "http://www.w3.org/2000/svg"; function createElement(e, t, r, n) { var o; if (isValidElement(e)) { var a = e.vtype; 4 & a ? o = e.init(r, n) : 1 & a ? (o = i.createTextNode(e.text), e.dom = o) : 2 & a ? o = function mountVNode$1(e, t, r, n) { e.isSvg ? t = !0 : "svg" === e.type ? t = !0 : f || (t = !1); t && (e.namespace = z, e.isSvg = t); var o = t ? i.createElementNS(e.namespace, e.type) : i.createElement(e.type); (function setProps(e, t, r) { var n = t.props; for (var o in n) patchProp(e, o, null, n[o], null, r) })(o, e, t), "foreignObject" === e.type && (t = !1); var a = e.children; if (d(a)) for (var s = 0, c = a.length; s < c; s++)mountChild(a[s], o, r, t, n); else mountChild(a, o, r, t, n); e.dom = o, null !== e.ref && C.attach(e, e.ref, o); return o }(e, t, r, n) : 16 & a ? o = e.dom = i.createTextNode("") : isPortal(a) && (e.type.appendChild(createElement(e.children, t, r, n)), o = i.createTextNode("")) } else if (isString(e) || isNumber(e)) o = i.createTextNode(e); else if (isNullOrUndef(e) || function isBoolean(e) { return !0 === e || !1 === e }(e)) o = i.createTextNode(""); else { if (!d(e)) throw new Error("Unsupported VNode."); o = e.map(function (e) { return createElement(e, t, r, n) }) } return o } function mountChild(e, t, r, n, o) { e.parentContext = r || A, mountElement(createElement(e, n, r, o), t) } function mountElement(e, t, r) { if (d(e)) for (var n = 0; n < e.length; n++) { mountElement(e[n], t) } else null != r ? t.insertBefore(e, r) : t.appendChild(e) } function insertElement(e, t, r) { if (d(e)) for (var n = 0; n < e.length; n++) { insertElement(e[n], t, r) } else t.insertBefore(e, r) } function createVText(e) { return { "text": e, "vtype": 1, "dom": null } } function getHooks(e) { if (null === _.current) throw new Error("invalid hooks call: hooks can only be called in a stateless component."); var t = _.current.hooks; return e >= t.length && t.push({}), t[e] } function useState(e) { isFunction(e) && (e = e()); var t = getHooks(_.index++); return t.state || (t.component = _.current, t.state = [e, function (e) { t.state[0] = isFunction(e) ? e(t.state[0]) : e, t.component._disable = !1, t.component.setState({}) }]), t.state } function useReducer(e, t, r) { isFunction(t) && (t = t()); var n = getHooks(_.index++); return n.state || (n.component = _.current, n.state = [isUndefined(r) ? t : r(t), function (t) { n.state[0] = e(n.state[0], t), n.component._disable = !1, n.component.setState({}) }]), n.state } function areDepsChanged(e, t) { return !(!isNullOrUndef(e) && !isNullOrUndef(t)) || t.some(function (t, r) { return !objectIs(t, e[r]) }) } function invokeEffects(e, t) { void 0 === t && (t = !1), (t ? e.effects : e.layoutEffects).forEach(function (e) { isFunction(e.cleanup) && e.cleanup(); var t = e.effect(); isFunction(t) && (e.cleanup = t) }), t ? e.effects = [] : e.layoutEffects = [] } var X = []; function useEffectImpl(e, t, r) { void 0 === r && (r = !1); var n = getHooks(_.index++); areDepsChanged(n.deps, t) && (n.effect = e, n.deps = t, r ? (_.current.effects = _.current.effects.concat(n), function invokeScheduleEffects(e) { e._afterScheduleEffect || (e._afterScheduleEffect = !0, X.push(e), 1 === X.length && g(function () { setTimeout(function () { X.forEach(function (e) { e._afterScheduleEffect = !1, invokeEffects(e, !0) }), X = [] }, 0) })) }(_.current)) : _.current.layoutEffects = _.current.layoutEffects.concat(n)) } function useEffect(e, t) { useEffectImpl(e, t, !0) } function useLayoutEffect(e, t) { useEffectImpl(e, t) } function useRef(e) { var t = getHooks(_.index++); return t.ref || (t.ref = { "current": e }), t.ref } function useMemo(e, t) { var r = getHooks(_.index++); return areDepsChanged(r.deps, t) && (r.deps = t, r.callback = e, r.value = e()), r.value } function useCallback(e, t) { return useMemo(function () { return e }, t) } function useContext(e) { var t = _.current.context[e._id]; if (isUndefined(t)) return e._defaultValue; var r = getHooks(_.index++); if (isUndefined(r.context)) { r.context = !0; var n = _.current; t.on(function () { return enqueueRender(n) }) } return t.value } function useImperativeHandle(e, t, r) { useLayoutEffect(function () { return isFunction(e) ? (e(t()), function () { return e(null) }) : isUndefined(e) ? void 0 : (e.current = t(), function () { delete e.current }) }, d(r) ? r.concat([e]) : void 0) } var Q = []; function errorCatcher(e, t) { try { return e() } catch (e) { !function errorHandler(e, t) { var r; for (; ;) { var n = e.constructor, o = n.getDerivedStateFromError; if (isFunction(o) || isFunction(e.componentDidCatch)) { r = e; break } if (!e._parentComponent) break; e = e._parentComponent } if (!r) throw t; var i = r.constructor, a = i.getDerivedStateFromError, s = r._disable; r._disable = !1, isFunction(a) ? e.setState(a(t)) : isFunction(e.componentDidCatch) && r.componentDidCatch(t), r._disable = s }(t, e) } } function ensureVirtualNode(e) { return isNumber(e) || isString(e) ? createVText(e) : isInvalid(e) ? { "dom": null, "vtype": 16 } : (d(e) && (e = 0 === e.length ? { "dom": null, "vtype": 16 } : e.map(ensureVirtualNode)), e) } function mountVNode(e, t, r) { return createElement(e, !1, t, r) } function getContextByContextType(e, t) { var r = e.type.contextType, n = !isUndefined(r), o = n ? t[r._id] : null; return n ? isNullOrUndef(o) ? r._defaultValue : o.value : t } function getChildContext(e, t) { return void 0 === t && (t = A), isFunction(e.getChildContext) ? b(clone(t), e.getChildContext()) : clone(t) } function renderComponent(e) { var t; return _.current = e, _.index = 0, invokeEffects(e, !0), errorCatcher(function () { t = e.render() }, e), t = ensureVirtualNode(t), _.current = null, t } function flushMount() { if (Q.length) { var e = Q.slice(0); Q.length = 0, e.forEach(function (e) { isFunction(e) ? e() : e.componentDidMount && errorCatcher(function () { e.componentDidMount() }, e) }) } } function updateComponent(e, t) { void 0 === t && (t = !1); var r = e.vnode, n = r.dom, o = e.props, i = e.getState(), a = e.context, s = e.prevProps || o, c = e.prevState || e.state, u = e.prevContext || a, l = callGetDerivedStateFromProps(o, i, e); isUndefined(l) || (i = l), e.props = s, e.context = u; var f = !1, p = o.onShouldComponentUpdate; if (!t && (isFunction(e.shouldComponentUpdate) && !1 === function callShouldComponentUpdate(e, t, r, n) { var o = !0; return errorCatcher(function () { o = n.shouldComponentUpdate(e, t, r) }, n), o }(o, i, a, e) || isFunction(p) && !1 === p(s, o)) ? f = !0 : !hasNewLifecycle(e) && isFunction(e.componentWillUpdate) && errorCatcher(function () { e.componentWillUpdate(o, i, a) }, e), isUndefined(l) || (e.state = l), e.props = o, e.state = i, e.context = a, e._dirty = !1, !f) { var h = e._rendered, m = renderComponent(e); m.parentVNode = r; var g = getChildContext(e, a), v = function callGetSnapshotBeforeUpdate(e, t, r) { var n, o = r.getSnapshotBeforeUpdate; return errorCatcher(function () { isFunction(o) && (n = o.call(r, e, t)) }, r), n }(s, c, e), y = h.dom && h.dom.parentNode; if (d(h)) { var b = function getFragmentHostNode(e) { var t = e[0]; return d(t) ? getFragmentHostNode(t) : isComposite(t) && null == t.dom ? getFragmentHostNode(t.component._rendered) : null != t ? t.dom : null }(h); null != b && (y = h.dom = b.parentNode) } for (n = r.dom = patch(h, m, y || null, g), e._rendered = m, isFunction(e.componentDidUpdate) && errorCatcher(function () { e.componentDidUpdate(s, c, v) }, e); r = r.parentVNode;)(4 & r.vtype) > 0 && (r.dom = n) } return e.prevProps = e.props, e.prevState = e.state, e.prevContext = e.context, e.clearCallBacks(), flushMount(), invokeEffects(e), n } function callGetDerivedStateFromProps(e, t, r) { var n, o = r.constructor.getDerivedStateFromProps; return errorCatcher(function () { if (isFunction(o)) { var r = o.call(null, e, t); isUndefined(r) || (n = b(clone(t), r)) } }, r), n } function hasNewLifecycle(e) { return !!isFunction(e.constructor.getDerivedStateFromProps) } var K = []; function enqueueRender(e) { !e._dirty && (e._dirty = !0) && 1 === K.push(e) && g(rerender) } function rerender(e) { var t; void 0 === e && (e = !1); var r = K; for (K = []; t = r.pop();)t._dirty && updateComponent(t, e) } var Y = function Component(e, t) { this._dirty = !0, this._disable = !0, this._pendingStates = [], this._pendingCallbacks = [], this._afterScheduleEffect = !1, this.hooks = [], this.effects = w, this.layoutEffects = w, this.state || (this.state = {}), this.props = e || {}, this.context = t || A, this.refs = {} }; Y.prototype.setState = function setState(e, t) { e && this._pendingStates.push(e), isFunction(t) && this._pendingCallbacks.push(t), this._disable || enqueueRender(this) }, Y.prototype.getState = function getState() { var e = this, t = this._pendingStates, r = this.state, n = this.props; if (!t.length) return r; var o = clone(r), i = t.concat(); return this._pendingStates.length = 0, i.forEach(function (t) { isFunction(t) && (t = t.call(e, r, n)), b(o, t) }), o }, Y.prototype.clearCallBacks = function clearCallBacks() { for (var e = this._pendingCallbacks.length; this._dirty ? this._pendingCallbacks.length : e;) { this._pendingCallbacks.shift().call(this), e-- } }, Y.prototype.forceUpdate = function forceUpdate(e) { isFunction(e) && this._pendingCallbacks.push(e), updateComponent(this, !0) }, Y.prototype.render = function render(e, t, r) { }, Y.prototype.isReactComponent = A; var J = function (e) { function PureComponent() { e.apply(this, arguments), this.isPureComponent = !0 } return e && (PureComponent.__proto__ = e), PureComponent.prototype = Object.create(e && e.prototype), PureComponent.prototype.constructor = PureComponent, PureComponent.prototype.shouldComponentUpdate = function shouldComponentUpdate(e, t) { return !shallowEqual(this.props, e) || !shallowEqual(this.state, t) }, PureComponent }(Y), Z = { "afterMount": noop$1, "afterUpdate": noop$1, "beforeUpdate": noop$1, "beforeUnmount": noop$1, "beforeRender": noop$1, "beforeMount": noop$1, "afterCreate": noop$1, "roots": [], "debug": !1 }; function render(e, t, r) { if (!t) throw new Error(t + " should be a DOM Element"); var n, o = t._component; return Z.roots.push(e), void 0 !== o ? (Z.roots = Z.roots.filter(function (e) { return e !== o }), n = patch(o, e, t, {})) : mountElement(n = mountVNode(e, {}), t), t && (t._component = e), flushMount(), r && r(), isComposite(e) ? e.component : n } function h(e, t, r) { var n; return t.children && (r || (r = t.children)), d(r) ? function addChildren(e, t, r) { if (isString(t) || isNumber(t)) e.push(createVText(String(t))); else if (isValidElement(t)) e.push(t); else if (d(t)) for (var n = 0; n < t.length; n++)addChildren(e, t[n], r); else e.push({ "dom": null, "vtype": 16 }) }(n = [], r, e) : isString(r) || isNumber(r) ? r = createVText(String(r)) : isValidElement(r) || (r = w), t.children = void 0 !== n ? n : r, function createVNode(e, t, r, n, o, i, a) { return { "type": e, "key": n || null, "vtype": 2, "props": t || A, "children": r, "namespace": o || null, "_owner": i, "dom": null, "ref": a || null } }(e, t, t.children, t.key, t.namespace, t.owner, t.ref) } var $ = function ComponentWrapper(e, t) { if (this.vtype = 4, this.type = e, this.name = e.name, isUndefined(this.name)) { var r = e.toString().match(/^function\s*([^\s(]+)/); this.name = d(r) ? r[0] : "Component" } e.displayName = this.name, this._owner = t.owner, delete t.owner, (this.ref = t.ref) && delete t.ref, e._forwarded && (isUndefined(this.ref) || (t.ref = this.ref), delete this.ref), this.props = t, this.key = t.key || null, this.dom = null, Z.afterCreate(this) }; function createElement$2(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; var o, i = r; return r && (1 === r.length ? i = r[0] : 0 === r.length && (i = void 0)), isString(e) ? ((o = function transformPropsForRealTag(e, t) { var r = {}; for (var n in t) { var o = t[n]; if ("defaultValue" !== n) { var i = G.DOMAttributeNames[n]; i && i !== n ? r[i] = o : r[n] = o } else r.value = t.value || t.defaultValue } return r }(0, t)).owner = _.current, h(e, o, i)) : isFunction(e) ? ((o = function transformPropsForComponent(e, t) { var r = {}; for (var n in e) { var o = e[n]; r[n] = o } if (t) for (var i in t) isUndefined(r[i]) && (r[i] = t[i]); return r }(t, e.defaultProps)).children && o.children !== w || (o.children = i || 0 === i ? i : w), o.owner = _.current, new $(e, o)) : e } function cloneElement(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; if (function isVText(e) { return !isNullOrUndef(e) && 1 === e.vtype }(e)) return createVText(e.text); if (isString(e) || isNumber(e)) return createVText(e); if (isInvalid(e) || !isInvalid(e) && isPortal(e.vtype) || e && 16 & e.vtype) return { "dom": null, "vtype": 16 }; var o = clone(b(clone(e.props), t)); e.namespace && (o.namespace = e.namespace), 4 & e.vtype && !isNullOrUndef(e.ref) && (o.ref = e.ref); var i = (arguments.length > 2 ? [].slice.call(arguments, 2) : e.children || o.children) || []; if (i.length && 1 === i.length && (i = r[0]), d(e)) return e.map(function (e) { return cloneElement(e) }); var a = createElement$2(e.type, o); if (d(i)) { var s = i.map(function (e) { return cloneElement(e, e.props) }); 0 === s.length && (s = w), isVNode(a) && (a.children = s), a.props.children = s } else i && (isVNode(a) && (a.children = cloneElement(i)), a.props.children = cloneElement(i, i.props)); return a } $.prototype.init = function init(e, t) { Z.beforeMount(this); var r = function mountComponent(e, t, r) { var n = e.ref; if (e.type.prototype && e.type.prototype.render) { var o = getContextByContextType(e, t); e.component = new e.type(e.props, o) } else { var i = new Y(e.props, t); i.render = function () { return e.type.call(i, i.props, i.context) }, e.component = i } var a = e.component; a.vnode = e, isComponent(r) && (a._parentComponent = r); var s = callGetDerivedStateFromProps(e.props, a.state, a); isUndefined(s) || (a.state = s), !hasNewLifecycle(a) && isFunction(a.componentWillMount) && (errorCatcher(function () { a.componentWillMount() }, a), a.state = a.getState(), a.clearCallBacks()), a._dirty = !1; var c = renderComponent(a); c.parentVNode = e, a._rendered = c, isNullOrUndef(n) || C.attach(e, n, e.dom); var u = e.dom = mountVNode(c, getChildContext(a, t), a); return invokeEffects(a), isFunction(a.componentDidMount) && Q.push(a), a._disable = !1, u }(this, e, t); return Z.afterMount(this), r }, $.prototype.update = function update(e, t, r, n) { this.context = getContextByContextType(this, r), Z.beforeUpdate(this); var o = function reRenderComponent(e, t) { var r = t.component = e.component, n = t.props, o = t.context; return r._disable = !0, !hasNewLifecycle(r) && isFunction(r.componentWillReceiveProps) && errorCatcher(function () { r.componentWillReceiveProps(n, o) }, r), r._disable = !1, r.prevProps = r.props, r.prevState = r.state, r.prevContext = r.context, r.props = n, r.context = o, isNullOrUndef(t.ref) || C.update(e, t), updateComponent(r) }(e, this); return Z.afterUpdate(this), o }, $.prototype.destroy = function destroy() { Z.beforeUnmount(this), function unmountComponent(e) { var t = e.component; t.hooks.forEach(function (e) { isFunction(e.cleanup) && e.cleanup() }), isFunction(t.componentWillUnmount) && errorCatcher(function () { t.componentWillUnmount() }, t), t._disable = !0, unmount(t._rendered), isNullOrUndef(e.ref) || C.detach(e, e.ref, e.dom) }(this) }; var ee = { "map": function map(e, t, r) { return isNullOrUndef(e) ? e : (e = ee.toArray(e), r && r !== e && (t = t.bind(r)), e.map(t)) }, "forEach": function forEach(e, t, r) { if (!isNullOrUndef(e)) { e = ee.toArray(e), r && r !== e && (t = t.bind(r)); for (var n = 0, o = e.length; n < o; n++) { t(isInvalid(e[n]) ? null : e[n], n, e) } } }, "count": function count(e) { return (e = ee.toArray(e)).length }, "only": function only(e) { if (1 !== (e = ee.toArray(e)).length) throw new Error("Children.only() expects only one child."); return e[0] }, "toArray": function toArray(e) { if (isNullOrUndef(e)) return []; if (d(e)) { var t = []; return function flatten(e, t) { for (var r = 0, n = e.length; r < n; r++) { var o = e[r]; d(o) ? flatten(o, t) : t.push(o) } return t }(e, t), t } return w.concat(e) } }; function hydrate(e, t, r) { if (null !== t) { for (var n = t.lastChild; n;) { var o = n.previousSibling; t.removeChild(n), n = o } return render(e, t, r) } } function createPortal(e, t) { return { "type": t, "vtype": 32, "children": e, "dom": null } } var te = "15.4.2"; function unmountComponentAtNode(e) { var t = e._component; return !!isValidElement(t) && (unmount(t, e), delete e._component, !0) } function findDOMNode(e) { return isInvalid(e) ? null : isComponent(e) ? e.vnode.dom : isValidElement(e) ? e.dom : e } function createFactory(e) { return createElement$2.bind(null, e) } var re = function (e) { function WrapperComponent() { e.apply(this, arguments) } return e && (WrapperComponent.__proto__ = e), WrapperComponent.prototype = Object.create(e && e.prototype), WrapperComponent.prototype.constructor = WrapperComponent, WrapperComponent.prototype.getChildContext = function getChildContext$$1() { return this.props.context }, WrapperComponent.prototype.render = function render$$1() { return this.props.children }, WrapperComponent }(Y); function unstable_renderSubtreeIntoContainer(e, t, r, n) { var o = render(createElement$2(re, { "context": getChildContext(e, e.context) }, t), r); return n && n.call(o), o } function isValidElement$1(e) { return isValidElement(e) && (6 & e.vtype) > 0 } var ne = g, oe = noop$1; function getShim() { return oe } oe.isRequired = noop$1; var ie = { "array": oe, "bool": oe, "func": oe, "number": oe, "object": oe, "string": oe, "any": oe, "arrayOf": getShim, "element": oe, "instanceOf": getShim, "node": oe, "objectOf": getShim, "oneOf": getShim, "oneOfType": getShim, "shape": getShim, "exact": getShim, "PropTypes": {}, "checkPropTypes": noop$1 }; function createRef() { return {} } function forwardRef(e) { var t = function fn(t) { var r = t.ref; return delete t.ref, e(t, r) }; return t._forwarded = !0, t } function memo(e, t) { function shouldComponentUpdate(e) { var r = this.props.ref, n = e.ref; return r !== n ? (C.detach(this.vnode, r, this.dom), C.attach(this.vnode, n, this.dom), !0) : isFunction(t) ? !t(this.props, e) : !shallowEqual(this.props, e) } function Memoed(t) { return this.shouldComponentUpdate = shouldComponentUpdate, createElement$2(e, Object.assign({}, t)) } return Memoed._forwarded = !0, Memoed.isMemo = !0, Memoed } ie.PropTypes = ie; var ae = function Emiter(e) { this.handlers = [], this.value = e }; ae.prototype.on = function on(e) { this.handlers.push(e) }, ae.prototype.off = function off(e) { this.handlers = this.handlers.filter(function (t) { return t !== e }) }, ae.prototype.set = function set(e) { var t = this; this.value = e, this.handlers.forEach(function (e) { return e(t.value) }) }; var se = 0; function createContext(e) { var t = "__context_" + se++ + "__", r = function (e) { function Provider() { e.apply(this, arguments), this.emiter = new ae(this.props.value) } return e && (Provider.__proto__ = e), Provider.prototype = Object.create(e && e.prototype), Provider.prototype.constructor = Provider, Provider.prototype.getChildContext = function getChildContext() { return (e = {})[t] = this.emiter, e; var e }, Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(e) { objectIs(this.props.value, e.value) || this.emiter.set(e.value) }, Provider.prototype.render = function render() { return this.props.children }, Provider }(Y); r.isContextProvider = !0; var n = function (r) { function Consumer() { var e = this; r.apply(this, arguments), this.state = { "value": this.getContextValue() }, this.onUpdate = function (t) { objectIs(t, e.state.value) || e.setState({ "value": e.getContextValue() }) } } return r && (Consumer.__proto__ = r), Consumer.prototype = Object.create(r && r.prototype), Consumer.prototype.constructor = Consumer, Consumer.prototype.componentWillMount = function componentWillMount() { var e = this.context[t]; e && e.off(this.onUpdate) }, Consumer.prototype.componentDidMount = function componentDidMount() { var e = this.context[t]; e && e.on(this.onUpdate) }, Consumer.prototype.getContextValue = function getContextValue() { var r = this.context[t]; return isUndefined(r) ? e : r.value }, Consumer.prototype.render = function render() { return function onlyChild(e) { return Array.isArray(e) ? e[0] : e }(this.props.children)(this.state.value) }, Consumer }(Y); return n.isContextConsumer = !0, { "Provider": r, "Consumer": n, "_id": t, "_defaultValue": e } } var ce = { "Children": ee, "Component": Y, "PureComponent": J, "createElement": createElement$2, "cloneElement": cloneElement, "render": render, "nextTick": g, "options": Z, "findDOMNode": findDOMNode, "isValidElement": isValidElement$1, "unmountComponentAtNode": unmountComponentAtNode, "createPortal": createPortal, "unstable_renderSubtreeIntoContainer": unstable_renderSubtreeIntoContainer, "hydrate": hydrate, "createFactory": createFactory, "unstable_batchedUpdates": ne, "version": te, "PropTypes": ie, "createRef": createRef, "forwardRef": forwardRef, "memo": memo, "createContext": createContext, "renderComponent": renderComponent, "getHooks": getHooks, "Current": _, "useEffect": useEffect, "useLayoutEffect": useLayoutEffect, "useReducer": useReducer, "useState": useState, "useRef": useRef, "useCallback": useCallback, "useMemo": useMemo, "useImperativeHandle": useImperativeHandle, "useContext": useContext, "Fragment": function Fragment(e) { return e.children } }; t.l = ce }, function (e, t, r) { e.exports = r(179)() }, function (e, t, r) { "use strict"; r.r(t); var n = r(11), o = r(55), i = r(0), a = Object(i.a)(), s = void 0, c = function stopAccelerometer() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete, o = {}; try { return window.removeEventListener("devicemotion", s, !0), o.errMsg = "stopAccelerometer:ok", Object(i.p)(t, n)(o) } catch (e) { return o.errMsg = "stopAccelerometer:fail " + e.message, Object(i.d)(r, n)(o) } }, u = { "game": { "interval": 20, "frequency": 50 }, "ui": { "interval": 60, "frequency": 16.67 }, "normal": { "interval": 200, "frequency": 5 } }, l = function startAccelerometer() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.interval, r = void 0 === t ? "normal" : t, n = e.success, o = e.fail, l = e.complete; try { if (!window.DeviceMotionEvent) throw new Error("accelerometer is not supported"); var f = u[r]; return s && c(), s = function getDevicemotionListener(e) { var t = void 0, r = void 0; return function (n) { t || (t = !0, r && clearTimeout(r), a.trigger({ "x": n.acceleration.x || 0, "y": n.acceleration.y || 0, "z": n.acceleration.z || 0 }), r = setTimeout(function () { t = !1 }, e)) } }(f.interval), window.addEventListener("devicemotion", s, !0), Object(i.p)(n, l)({ "errMsg": "startAccelerometer:ok" }) } catch (e) { return Object(i.d)(o, l)({ "errMsg": "startAccelerometer:fail " + e.message }) } }, f = function onAccelerometerChange(e) { a.add(e) }, d = function () { return function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function sliceIterator(e, t) { var r = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { o = !0, i = e } finally { try { !n && s.return && s.return() } finally { if (o) throw i } } return r }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }(), p = function createInnerAudioContext() { var e = new Audio, t = {}, r = { "error": Object(i.a)(), "stop": Object(i.a)() }; t.play = function () { return e.play() }, t.pause = function () { return e.pause() }, t.stop = function () { t.pause(), t.seek(0), r.stop.trigger() }, t.seek = function (t) { e.currentTime = t }, t.destroy = function () { t.stop(), document.body.removeChild(e), e = null };["src", "autoplay", "loop", "volume", "duration", "currentTime", "buffered", "paused"].forEach(function (r) { Object.defineProperty(t, r, { "get": function get() { return e[r] }, "set": function set(t) { e[r] = t } }) }), Object.defineProperty(t, "startTime", { "value": 0 }), Object.defineProperty(t, "obeyMuteSwitch", { "value": !0 }); var o = [["on", e.addEventListener], ["off", e.removeEventListener]];["Canplay", "Ended", "Pause", "Play", "Seeked", "Seeking", "TimeUpdate", "Waiting"].forEach(function (r) { o.forEach(function (n) { var o = d(n, 2), i = o[0], a = o[1]; Object.defineProperty(t, "" + i + r, { "get": function get() { return function (t) { return a.call(e, r.toLowerCase(), t) } } }) }) }); var a = [["on", "add"], ["off", "remove"]]; return ["Stop", "Error"].forEach(function (e) { a.forEach(function (n) { var o = d(n, 2), i = o[0], a = o[1]; Object.defineProperty(t, "" + i + e, { "get": function get() { return function (t) { return r[e.toLowerCase()][a](t) } } }) }) }), n.a.eventCenter.on("__taroRouterChange", function () { t.stop() }), t }, h = r(1), m = function canvasGetImageData(e, t) { var r = e.canvasId, n = e.success, o = e.fail, a = e.complete, s = e.x, c = e.y, u = e.width, l = e.height, f = "__taroref_" + r, d = Object(i.e)(f, t), p = Object(h.m)(d); try { var m = { "width": u, "height": l, "data": p.querySelector("[canvasId=" + r + "]").getContext("2d").getImageData(s, c, u, l) }; return n && n(m), a && a(m), Promise.resolve(m) } catch (e) { var g = { "errMsg": e.message }; return o && o(g), a && a(g), Promise.reject(g) } }, g = function canvasPutImageData(e, t) { var r = e.canvasId, n = e.data, o = e.x, a = e.y, s = e.success, c = e.fail, u = e.complete, l = "__taroref_" + r, f = Object(i.e)(l, t), d = Object(h.m)(f); try { d.querySelector("[canvasId=" + r + "]").getContext("2d").putImageData(n, o, a); var p = { "errMsg": "canvasPutImageData:ok" }; return s && s(p), u && u(p), Promise.resolve(p) } catch (e) { var m = { "errMsg": e.message }; return c && c(m), u && u(m), Promise.reject(m) } }, v = r(56), y = function () { return function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function sliceIterator(e, t) { var r = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { o = !0, i = e } finally { try { !n && s.return && s.return() } finally { if (o) throw i } } return r }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }(), b = function createCanvasContext(e, t) { var r = "__taroref_" + e, n = Object(i.e)(r, t), o = Object(h.m)(n).querySelector("[canvasId=" + e + "]"), a = o.getContext("2d"), s = [], c = function enqueueActions(e) { return function () { for (var t = arguments.length, r = Array(t), n = 0; n < t; n++)r[n] = arguments[n]; s.push({ "func": e, "args": r }) } }, u = {}; return [["setFillStyle", function (e) { a.fillStyle = e }], ["setFontSize", function (e) { a.font = e }], ["setGlobalAlpha", function (e) { a.globalAlpha = e }], ["setLineDash", function (e, t) { a.setLineDash(e), a.lineDashOffset = t }], ["setLineCap", function (e) { a.lineCap = e }], ["setLineJoin", function (e) { a.lineJoin = e }], ["setLineWidth", function (e) { a.lineWidth = e }], ["setMiterLimit", function (e) { a.miterLimit = e }], ["setShadow", function (e, t, r, n) { a.shadowOffsetX = e, a.shadowOffsetY = t, a.shadowColor = r, a.shadowBlur = n }], ["setStrokeStyle", function (e) { a.strokeStyle = e }], ["setTextAlign", function (e) { a.textAlign = e }], ["setTextBaseline", function (e) { a.textBaseline = e }]].forEach(function (e) { var t = y(e, 2), r = t[0], n = t[1]; Object.defineProperty(u, r, { "get": function get() { return c(n) }, "enumerable": !0 }) }), [["arc"], ["arcTo"], ["beginPath"], ["bezierCurveTo"], ["clearRect"], ["clip"], ["closePath"], ["createCircularGradient"], ["createLinearGradient"], ["createPattern"], ["drawImage"], ["fill"], ["fillRect"], ["fillText"], ["lineTo"], ["measureText", !0], ["moveTo"], ["quadraticCurveTo"], ["rect"], ["restore"], ["rotate"], ["save"], ["scale"], ["setTransform"], ["stroke"], ["strokeRect"], ["strokeText"], ["transform"], ["translate"]].forEach(function (e) { var t = y(e, 2), r = t[0], n = t[1]; Object.defineProperty(u, r, { "get": n ? function () { return a[r].bind(a) } : function () { return c(a[r]) }, "enumerable": !0 }) }), ["fillStyle", "font", "globalAlpha", "lineCap", "lineDashOffset", "lineJoin", "lineWidth", "miterLimit", "shadowOffsetX", "shadowOffsetY", "shadowColor", "shadowBlur", "strokeStyle", "textAlign", "textBaseline", "direction", "globalCompositeOperation", "imageSmoothingEnabled ", "imageSmoothingQuality", "filter"].forEach(function (e) { Object.defineProperty(u, e, { "get": function get() { return a[e] }, "set": function set(t) { return c(function () { a[e] = t })(), !0 } }) }), Object.defineProperty(u, "draw", { "value": function draw() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = arguments[1]; try { return e || a.clearRect(0, 0, o.width, o.height), s.forEach(function (e) { var t = e.func, r = e.args; t.apply(a, r) }), function emptyActions() { s.length = 0 }(), t && t(), Promise.resolve() } catch (e) { return Promise.reject({ "errMsg": e.message }) } } }), u }, S = r(25); document.addEventListener("copy", function () { Object(S.i)({ "key": "taro_clipboard", "data": window.getSelection().toString() }).catch(function (e) { console.error(e) }) }); var _ = function setClipboardData(e) { var t = e.data, r = e.success, n = e.fail, o = e.complete; return new Promise(function (e, i) { Object(S.i)({ "key": "taro_clipboard", "data": t }).then(function () { if ("function" != typeof document.execCommand) throw new Error("Unsupported Function: 'document.execCommand'."); var n = document.createElement("input"); n.readOnly = !0, n.value = t, n.style.position = "absolute", n.style.width = "100px", n.style.left = "-10000px", document.body.appendChild(n), n.select(), n.setSelectionRange(0, n.value.length), document.execCommand("copy"), document.body.removeChild(n); var i = { "errMsg": "setClipboardData:ok", "data": t }; r && r(i), o && o(i), e(i) }).catch(function (e) { var t = { "errMsg": "setClipboardData:fail " + e.message }; n && n(t), o && o(t), i(t) }) }) }, w = function getClipboardData() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; return new Promise(function (e, o) { Object(S.c)({ "key": "taro_clipboard" }).then(function (r) { var o = { "errMsg": "getClipboardData:ok", "data": r }; t && t(o), n && n(o), e(o) }).catch(function (e) { var t = { "errMsg": "getClipboardData:fail " + e.message }; r && r(t), n && n(t), o(t) }) }) }, A = void 0, C = Object(i.a)(), T = function stopCompass() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; try { return window.removeEventListener("deviceorientation", A, !0), Object(i.p)(t, n)({ "errMsg": "stopCompass:ok" }) } catch (e) { return Object(i.d)(r, n)({ "errMsg": "stopCompass:fail " + e.message }) } }, P = function startCompass() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; try { if (!window.DeviceOrientationEvent) throw new Error("compass is not supported"); return A && T(), A = function getDeviceOrientationListener(e) { var t = void 0, r = void 0; return function (n) { t || (t = !0, r && clearTimeout(r), C.trigger({ "direction": 360 - n.alpha }), r = setTimeout(function () { t = !1 }, e)) } }(200), window.addEventListener("deviceorientation", A, !0), Object(i.p)(t, n)({ "errMsg": "startCompass:ok" }) } catch (e) { return Object(i.d)(r, n)({ "errMsg": "startCompass:fail " + e.message }) } }, k = function onCompassChange(e) { C.add(e) }, E = function () { return function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function sliceIterator(e, t) { var r = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { o = !0, i = e } finally { try { !n && s.return && s.return() } finally { if (o) throw i } } return r }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }(), x = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var O = new function StyleSheet() { var e = this; _classCallCheck(this, StyleSheet), this.$style = null, this.sheet = null, this.appendStyleSheet = function () { e.$style.setAttribute("type", "text/css"), e.$style.setAttribute("data-type", "Taro"), document.getElementsByTagName("head")[0].appendChild(e.$style), e.sheet = e.$style.sheet, "insertRule" in e.sheet || console.warn("当前浏览器不支持 stylesheet.insertRule 接口") }, this.add = function (t) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; null === e.sheet && e.appendStyleSheet(), e.sheet.insertRule(t, r) }, this.$style = document.createElement("style") }, I = "transitionend", R = "transform", M = document.createElement("div"); M.style.cssText = "\n  -webkit-animation-name: webkit;\n  -moz-animation-name: moz;\n  -ms-animation-name: ms;\n  animation-name: standard;\n", "standard" === M.style["animation-name"] ? (I = "transitionend", R = "transform") : "webkit" === M.style["-webkit-animation-name"] ? (I = "webkitTransionEnd", R = "-webkit-transform") : "moz" === M.style["-moz-animation-name"] ? (I = "mozTransionEnd", R = "-moz-transform") : "ms" === M.style["-ms-animation-name"] && (I = "MSTransionEnd", R = "-ms-transform"); var B = 0, D = function () { function Animation() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = t.duration, n = void 0 === r ? 400 : r, o = t.delay, i = void 0 === o ? 0 : o, a = t.timingFunction, s = void 0 === a ? "linear" : a, c = t.transformOrigin, u = void 0 === c ? "50% 50% 0" : c, l = t.unit, f = void 0 === l ? "px" : l; _classCallCheck(this, Animation), this.rules = [], this.transform = [R + ":"], this.steps = [], this.animationMap = {}, this.animationMapCount = 0, this.setDefault(n, i, s, u), this.unit = f; var d = "animation"; this.id = ++B, document.body.addEventListener(I, function (t) { var r = t.target; null === r.getAttribute(d) && (d = "data-animation"); var n = r.getAttribute(d); if (null !== n) { var o = n.split("__"), i = E(o, 2), a = i[0], s = i[1]; if (a === "taro-h5-poly-fill/" + e.id + "/create-animation") { var c = s.split("--"), u = E(c, 2), l = u[0], f = u[1], p = void 0 === f ? 0 : f; p < e.animationMap[a + "__" + l] - 1 && (r.setAttribute(d, a + "__" + l + "--" + (p + 1)), "animation" === d && r.setAttribute("data-animation", a + "__" + l + "--" + (p + 1))) } } }) } return x(Animation, [{ "key": "transformUnit", "value": function transformUnit() { for (var e = this, t = [], r = arguments.length, n = Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return n.forEach(function (r) { t.push(isNaN(r) ? r : "" + r + e.unit) }), t } }, { "key": "setDefault", "value": function setDefault(e, t, r, n) { this.DEFAULT = { "duration": e, "delay": t, "timingFunction": r, "transformOrigin": n } } }, { "key": "matrix", "value": function matrix(e, t, r, n, o, i) { return this.transform.push("matrix(" + e + ", " + t + ", " + r + ", " + n + ", " + o + ", " + i + ")"), this } }, { "key": "matrix3d", "value": function matrix3d(e, t, r, n, o, i, a, s, c, u, l, f, d, p, h, m) { return this.transform.push("matrix3d(" + e + ", " + t + ", " + r + ", " + n + ", " + o + ", " + i + ", " + a + ", " + s + ", " + c + ", " + u + ", " + l + ", " + f + ", " + d + ", " + p + ", " + h + ", " + m + ")"), this } }, { "key": "rotate", "value": function rotate(e) { return this.transform.push("rotate(" + e + "deg)"), this } }, { "key": "rotate3d", "value": function rotate3d(e, t, r, n) { return this.transform.push("rotate3d(" + e + ", " + t + ", " + r + ", " + n + "deg)"), this } }, { "key": "rotateX", "value": function rotateX(e) { return this.transform.push("rotateX(" + e + "deg)"), this } }, { "key": "rotateY", "value": function rotateY(e) { return this.transform.push("rotateY(" + e + "deg)"), this } }, { "key": "rotateZ", "value": function rotateZ(e) { return this.transform.push("rotateZ(" + e + "deg)"), this } }, { "key": "scale", "value": function scale(e, t) { return this.transform.push("scale(" + e + ", " + t + ")"), this } }, { "key": "scale3d", "value": function scale3d(e, t, r) { return this.transform.push("scale3d(" + e + ", " + t + ", " + r + ")"), this } }, { "key": "scaleX", "value": function scaleX(e) { return this.transform.push("scaleX(" + e + ")"), this } }, { "key": "scaleY", "value": function scaleY(e) { return this.transform.push("scaleY(" + e + ")"), this } }, { "key": "scaleZ", "value": function scaleZ(e) { return this.transform.push("scaleZ(" + e + ")"), this } }, { "key": "skew", "value": function skew(e, t) { return this.transform.push("skew(" + e + ", " + t + ")"), this } }, { "key": "skewX", "value": function skewX(e) { return this.transform.push("skewX(" + e + ")"), this } }, { "key": "skewY", "value": function skewY(e) { return this.transform.push("skewY(" + e + ")"), this } }, { "key": "translate", "value": function translate(e, t) { var r = this.transformUnit(e, t), n = E(r, 2); return e = n[0], t = n[1], this.transform.push("translate(" + e + ", " + t + ")"), this } }, { "key": "translate3d", "value": function translate3d(e, t, r) { var n = this.transformUnit(e, t, r), o = E(n, 3); return e = o[0], t = o[1], r = o[2], this.transform.push("translate3d(" + e + ", " + t + ", " + r + ")"), this } }, { "key": "translateX", "value": function translateX(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.transform.push("translateX(" + e + ")"), this } }, { "key": "translateY", "value": function translateY(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.transform.push("translateY(" + e + ")"), this } }, { "key": "translateZ", "value": function translateZ(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.transform.push("translateZ(" + e + ")"), this } }, { "key": "opacity", "value": function opacity(e) { return this.rules.push("opacity: " + e), this } }, { "key": "backgroundColor", "value": function backgroundColor(e) { return this.rules.push("background-color: " + e), this } }, { "key": "width", "value": function width(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("width: " + e), this } }, { "key": "height", "value": function height(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("height: " + e), this } }, { "key": "top", "value": function top(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("top: " + e), this } }, { "key": "right", "value": function right(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("right: " + e), this } }, { "key": "bottom", "value": function bottom(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("bottom: " + e), this } }, { "key": "left", "value": function left(e) { var t = this.transformUnit(e); return e = E(t, 1)[0], this.rules.push("left: " + e), this } }, { "key": "step", "value": function step() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this.DEFAULT, r = e.duration, n = void 0 === r ? t.duration : r, o = e.delay, i = void 0 === o ? t.delay : o, a = e.timingFunction, s = void 0 === a ? t.timingFunction : a, c = e.transformOrigin, u = void 0 === c ? t.transformOrigin : c; return this.steps.push([this.rules.join(";"), this.transform.join(" "), R + "-origin: " + u, "transition: all " + n + "ms " + s + " " + i + "ms"].filter(function (e) { return "" !== e && e !== R + ":" }).join(";")), this.rules = [], this.transform = [R + ":"], this } }, { "key": "createAnimationData", "value": function createAnimationData() { var e = "taro-h5-poly-fill/" + this.id + "/create-animation__" + this.animationMapCount++; return this.animationMap[e] = this.steps.length, this.steps.forEach(function (t, r) { var n = 0 === r ? '[animation="' + e + '"], [data-animation="' + e + '"]' : '[animation="' + e + "--" + r + '"], [data-animation="' + e + "--" + r + '"]'; O.add(n + " { " + t + " }") }), this.steps = [], e } }, { "key": "export", "value": function _export() { return this.createAnimationData() } }]), Animation }(); function createAnimation() { for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)t[r] = arguments[r]; return new (Function.prototype.bind.apply(D, [null].concat(t))) } var j = r(28), F = void 0, L = Object(i.a)(), N = { "game": { "interval": 20, "frequency": 50 }, "ui": { "interval": 60, "frequency": 16.67 }, "normal": { "interval": 200, "frequency": 5 } }, H = function stopDeviceMotionListening(e) { var t = e.success, r = e.fail, n = e.complete; try { return window.removeEventListener("deviceorientation", F, !0), Object(i.p)(t, n)({ "errMsg": "stopDeviceMotionListening:ok" }) } catch (e) { return Object(i.d)(r, n)({ "errMsg": "stopDeviceMotionListening:fail " + e.message }) } }, U = function startDeviceMotionListening() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.interval, r = void 0 === t ? "normal" : t, n = e.success, o = e.fail, a = e.complete; try { var s = N[r]; if (!window.DeviceOrientationEvent) throw new Error("deviceMotion is not supported"); return F && H(), F = function getDeviceOrientationListener(e) { var t = void 0, r = void 0; return function (n) { t || (t = !0, r && clearTimeout(r), L.trigger({ "alpha": n.alpha, "beta": n.beta, "gamma": n.gamma }), r = setTimeout(function () { t = !1 }, e)) } }(s.interval), window.addEventListener("deviceorientation", F, !0), Object(i.p)(n, a)({ "errMsg": "startDeviceMotionListening:ok" }) } catch (e) { return Object(i.d)(o, a)({ "errMsg": "startDeviceMotionListening:fail " + e.message }) } }, W = function onDeviceMotionChange(e) { L.add(e) }, G = r(57), V = r(58), q = r(59), z = function getImageInfo() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.src, r = e.success, n = e.fail, o = e.complete; return new Promise(function (e, i) { var a = new Image; a.onload = function () { !function onSuccess(t) { r && r(t), o && o(t), e(t) }({ "errMsg": "getImageInfo:ok", "width": a.naturalWidth, "height": a.naturalHeight }) }, a.onerror = function (e) { !function onError(e) { n && n(e), o && o(e), i(e) }({ "errMsg": "getImageInfo:fail " + e.message }) }, a.src = t }) }, X = r(76), Q = r(48), K = r(77), Y = r(60), J = Object(i.l)("chooseWXPay", void 0, void 0, function (e) { return Object.assign(e, { "timestamp": Number.parseInt(e.timeStamp, 10) }) }), Z = r(37); function arrayBufferToBase64(e) { return Object(Z.fromByteArray)(e) } function base64ToArrayBuffer(e) { return Object(Z.toByteArray)(e) } function makePhoneCall(e) { var t = Object(i.o)(e); if (!t.res) { var r = { "errMsg": "makePhoneCall" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var n = e.phoneNumber, o = e.success, a = e.fail, s = e.complete, c = { "errMsg": "makePhoneCall:ok" }; return "string" != typeof n ? (c.errMsg = Object(i.f)({ "name": "makePhoneCall", "para": "phoneNumber", "correct": "String", "wrong": n }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) : (window.location.href = "tel:" + n, "function" == typeof o && o(c), "function" == typeof s && s(c), Promise.resolve(c)) } var $ = function startPullDownRefresh() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new Promise(function (t, r) { var o = e.success, i = e.fail, a = e.complete, s = {}; n.a.eventCenter.trigger("__taroStartPullDownRefresh", { "successHandler": function successHandler() { o && o(s), a && a(s), t(s) }, "errorHandler": function errorHandler() { i && i(s), a && a(s), r(s) } }) }) }, ee = function stopPullDownRefresh() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new Promise(function (t, r) { var o = e.success, i = e.fail, a = e.complete, s = {}; n.a.eventCenter.trigger("__taroStopPullDownRefresh", { "successHandler": function successHandler() { o && o(s), a && a(s), t(s) }, "errorHandler": function errorHandler() { i && i(s), a && a(s), r(s) } }) }) }, te = r(6), re = r(78), ne = { "searchParams": "URLSearchParams" in self, "iterable": "Symbol" in self && "iterator" in Symbol, "blob": "FileReader" in self && "Blob" in self && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), "formData": "FormData" in self, "arrayBuffer": "ArrayBuffer" in self }; if (ne.arrayBuffer) var oe = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], ie = ArrayBuffer.isView || function (e) { return e && oe.indexOf(Object.prototype.toString.call(e)) > -1 }; function normalizeName(e) { if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function normalizeValue(e) { return "string" != typeof e && (e = String(e)), e } function iteratorFor(e) { var t = { "next": function next() { var t = e.shift(); return { "done": void 0 === t, "value": t } } }; return ne.iterable && (t[Symbol.iterator] = function () { return t }), t } function Headers(e) { this.map = {}, e instanceof Headers ? e.forEach(function (e, t) { this.append(t, e) }, this) : Array.isArray(e) ? e.forEach(function (e) { this.append(e[0], e[1]) }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) { this.append(t, e[t]) }, this) } function consumed(e) { if (e.bodyUsed) return Promise.reject(new TypeError("Already read")); e.bodyUsed = !0 } function fileReaderReady(e) { return new Promise(function (t, r) { e.onload = function () { t(e.result) }, e.onerror = function () { r(e.error) } }) } function readBlobAsArrayBuffer(e) { var t = new FileReader, r = fileReaderReady(t); return t.readAsArrayBuffer(e), r } function bufferClone(e) { if (e.slice) return e.slice(0); var t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function Body() { return this.bodyUsed = !1, this._initBody = function (e) { this._bodyInit = e, e ? "string" == typeof e ? this._bodyText = e : ne.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : ne.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : ne.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : ne.arrayBuffer && ne.blob && function isDataView(e) { return e && DataView.prototype.isPrototypeOf(e) }(e) ? (this._bodyArrayBuffer = bufferClone(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : ne.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || ie(e)) ? this._bodyArrayBuffer = bufferClone(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "", this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : ne.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, ne.blob && (this.blob = function () { var e = consumed(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? consumed(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(readBlobAsArrayBuffer) }), this.text = function () { var e = consumed(this); if (e) return e; if (this._bodyBlob) return function readBlobAsText(e) { var t = new FileReader, r = fileReaderReady(t); return t.readAsText(e), r }(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(function readArrayBufferAsText(e) { for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++)r[n] = String.fromCharCode(t[n]); return r.join("") }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, ne.formData && (this.formData = function () { return this.text().then(decode) }), this.json = function () { return this.text().then(JSON.parse) }, this } Headers.prototype.append = function (e, t) { e = normalizeName(e), t = normalizeValue(t); var r = this.map[e]; this.map[e] = r ? r + ", " + t : t }, Headers.prototype.delete = function (e) { delete this.map[normalizeName(e)] }, Headers.prototype.get = function (e) { return e = normalizeName(e), this.has(e) ? this.map[e] : null }, Headers.prototype.has = function (e) { return this.map.hasOwnProperty(normalizeName(e)) }, Headers.prototype.set = function (e, t) { this.map[normalizeName(e)] = normalizeValue(t) }, Headers.prototype.forEach = function (e, t) { for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this) }, Headers.prototype.keys = function () { var e = []; return this.forEach(function (t, r) { e.push(r) }), iteratorFor(e) }, Headers.prototype.values = function () { var e = []; return this.forEach(function (t) { e.push(t) }), iteratorFor(e) }, Headers.prototype.entries = function () { var e = []; return this.forEach(function (t, r) { e.push([r, t]) }), iteratorFor(e) }, ne.iterable && (Headers.prototype[Symbol.iterator] = Headers.prototype.entries); var ae = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; function Request(e, t) { var r = (t = t || {}).body; if (e instanceof Request) { if (e.bodyUsed) throw new TypeError("Already read"); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new Headers(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || null == e._bodyInit || (r = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "same-origin", !t.headers && this.headers || (this.headers = new Headers(t.headers)), this.method = function normalizeMethod(e) { var t = e.toUpperCase(); return ae.indexOf(t) > -1 ? t : e }(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && r) throw new TypeError("Body not allowed for GET or HEAD requests"); this._initBody(r) } function decode(e) { var t = new FormData; return e.trim().split("&").forEach(function (e) { if (e) { var r = e.split("="), n = r.shift().replace(/\+/g, " "), o = r.join("=").replace(/\+/g, " "); t.append(decodeURIComponent(n), decodeURIComponent(o)) } }), t } function Response(e, t) { t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new Headers(t.headers), this.url = t.url || "", this._initBody(e) } Request.prototype.clone = function () { return new Request(this, { "body": this._bodyInit }) }, Body.call(Request.prototype), Body.call(Response.prototype), Response.prototype.clone = function () { return new Response(this._bodyInit, { "status": this.status, "statusText": this.statusText, "headers": new Headers(this.headers), "url": this.url }) }, Response.error = function () { var e = new Response(null, { "status": 0, "statusText": "" }); return e.type = "error", e }; var se = [301, 302, 303, 307, 308]; Response.redirect = function (e, t) { if (-1 === se.indexOf(t)) throw new RangeError("Invalid status code"); return new Response(null, { "status": t, "headers": { "location": e } }) }; var ce = self.DOMException; try { new ce } catch (e) { (ce = function DOMException(e, t) { this.message = e, this.name = t; var r = Error(e); this.stack = r.stack }).prototype = Object.create(Error.prototype), ce.prototype.constructor = ce } function fetch_fetch(e, t) { return new Promise(function (r, n) { var o = new Request(e, t); if (o.signal && o.signal.aborted) return n(new ce("Aborted", "AbortError")); var i = new XMLHttpRequest; function abortXhr() { i.abort() } i.onload = function () { var e = { "status": i.status, "statusText": i.statusText, "headers": function parseHeaders(e) { var t = new Headers; return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function (e) { var r = e.split(":"), n = r.shift().trim(); if (n) { var o = r.join(":").trim(); t.append(n, o) } }), t }(i.getAllResponseHeaders() || "") }; e.url = "responseURL" in i ? i.responseURL : e.headers.get("X-Request-URL"); var t = "response" in i ? i.response : i.responseText; r(new Response(t, e)) }, i.onerror = function () { n(new TypeError("Network request failed")) }, i.ontimeout = function () { n(new TypeError("Network request failed")) }, i.onabort = function () { n(new ce("Aborted", "AbortError")) }, i.open(o.method, o.url, !0), "include" === o.credentials ? i.withCredentials = !0 : "omit" === o.credentials && (i.withCredentials = !1), "responseType" in i && ne.blob && (i.responseType = "blob"), o.headers.forEach(function (e, t) { i.setRequestHeader(t, e) }), o.signal && (o.signal.addEventListener("abort", abortXhr), i.onreadystatechange = function () { 4 === i.readyState && o.signal.removeEventListener("abort", abortXhr) }), i.send(void 0 === o._bodyInit ? null : o._bodyInit) }) } fetch_fetch.polyfill = !0, self.fetch || (self.fetch = fetch_fetch, self.Headers = Headers, self.Request = Request, self.Response = Response); var ue = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _request(e) { "string" == typeof (e = e || {}) && (e = { "url": e }); var t = e, r = t.success, n = t.complete, o = t.fail, a = e.url, s = {}, c = {}; if (e.jsonp) return Object.assign(s, e), s.params = e.data, s.cache = e.jsonpCache, "string" == typeof e.jsonp && (s.name = e.jsonp), delete s.jsonp, Object(re.a)(a, s).then(function (e) { return c.statusCode = 200, c.data = e, "function" == typeof r && r(c), "function" == typeof n && n(c), c }).catch(function (e) { return "function" == typeof o && o(e), "function" == typeof n && n(c), Promise.reject(e) }); s.method = e.method || "GET"; var u = s.method.toUpperCase(); if (s.cache = e.cache || "default", "GET" === u || "HEAD" === u) a = function generateRequestUrlWithParams(e, t) { return (t = "string" == typeof t ? t : Object(i.m)(t)) && (e += (~e.indexOf("?") ? "&" : "?") + t), e = e.replace("?&", "?") }(a, e.data); else if ("object" === ue(e.data)) { var l = e.header && (e.header["Content-Type"] || e.header["content-type"]); l && l.indexOf("application/json") >= 0 ? s.body = JSON.stringify(e.data) : l && l.indexOf("application/x-www-form-urlencoded") >= 0 ? s.body = Object(i.m)(e.data) : s.body = e.data } else s.body = e.data; return e.header && (s.headers = e.header), e.mode && (s.mode = e.mode), e.signal && (s.signal = e.signal), s.credentials = e.credentials, fetch(a, s).then(function (t) { if (c.statusCode = t.status, c.header = {}, t.headers.forEach(function (e, t) { c.header[t] = e }), !t.ok) throw t; return "arraybuffer" === e.responseType ? t.arrayBuffer() : "json" === e.dataType || void 0 === e.dataType ? t.json() : "text" === e.responseType ? t.text() : Promise.resolve(null) }).then(function (e) { return c.data = e, "function" == typeof r && r(c), "function" == typeof n && n(c), c }).catch(function (e) { return "function" == typeof o && o(e), "function" == typeof n && n(c), Promise.reject(e) }) } var le = new te.c(function taroInterceptor(e) { return _request(e.requestParams) }), fe = le.request.bind(le), de = le.addInterceptor.bind(le), pe = void 0, he = void 0, me = function pageScrollTo(e) { var t = e.scrollTop, r = e.duration, n = void 0 === r ? 300 : r, o = e.success, a = e.fail, s = e.complete; return new Promise(function (e, r) { try { if (void 0 === t) throw Error('"scrollTop" is required'); var c = document.querySelector(".taro-tabbar__panel") || window; pe || (pe = c === window ? function scrollFunc(e) { if (void 0 === e) return window.pageYOffset; window.scrollTo(0, e) } : function scrollFunc(e) { if (void 0 === e) return c.scrollTop; c.scrollTop = e }); var u = pe(), l = t - u, f = n / 17, d = Object(i.g)(i.c, f); !function scroll() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = u + l * d(t); if (pe(r), t < f) he && clearTimeout(he), he = setTimeout(function () { scroll(t + 1) }, 17); else { var n = { "errMsg": "pageScrollTo:ok" }; o && o(n), s && s(n), e(n) } }() } catch (e) { var p = { "errMsg": "pageScrollTo:fail " + e.message }; a && a(p), s && s(p), r(p) } }) }, ge = r(43); function getConnection() { return navigator.connection || navigator.mozConnection || navigator.webkitConnection || navigator.msConnection } function getNetworkType() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = getConnection(), r = e.success, n = e.complete, o = { "errMsg": "getNetworkType:ok" }; if (!t) return o.networkType = "unknown", "function" == typeof r && r(o), "function" == typeof n && n(o), Promise.resolve(o); var i = "unknown"; if (isNaN(Number(t.type))) t.type ? i = t.type : t.effectiveType && (i = t.effectiveType); else switch (t.type) { case t.WIFI: i = "wifi"; break; case t.CELL_3G: i = "3g"; break; case t.CELL_2G: i = "2g"; break; default: i = "unknown" }return o.networkType = i, "function" == typeof r && r(o), "function" == typeof n && n(o), Promise.resolve(o) } function onNetworkStatusChange(e) { var t = getConnection(); t && t.addEventListener("change", function () { getNetworkType().then(function (t) { var r = t.networkType; e({ "isConnected": "none" !== r, "networkType": r }) }) }) } var ve = Object(i.l)("scanQRCode", { "needResult": 1 }, function (e) { return { "errMsg": "scanQRCode:ok" === e.errMsg ? "scanCode:ok" : e.errMsg, "result": e.resultStr } }), ye = r(62), be = function vibrator(e) { try { return window.navigator.vibrate(e) } catch (e) { console.log("当前浏览器不支持vibrate") } }, Se = function vibrateShort() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; return be ? (be(15), Object(i.p)(t, n)({ "errMsg": "vibrateShort:ok" })) : Object(i.d)(r, n)({ "errMsg": "vibrateShort:fail" }) }, _e = function vibrateLong() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; return be ? (be(400), Object(i.p)(t, n)({ "errMsg": "vibrateLong:ok" })) : Object(i.d)(r, n)({ "errMsg": "vibrateLong:fail" }) }, we = r(63), Ae = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Ce = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var Te = function () { function SocketTask(e, t) { !function socketTask_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, SocketTask), t && t.length ? this.ws = new WebSocket(e, t) : this.ws = new WebSocket(e), this.CONNECTING = 0, this.OPEN = 1, this.CLOSING = 2, this.CLOSED = 3 } return Ce(SocketTask, [{ "key": "send", "value": function send() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; "object" === (void 0 === e ? "undefined" : Ae(e)) && e || (e = {}); var t = e, r = t.data, n = void 0 === r ? "" : r, o = t.success, i = t.fail, a = t.complete; if (1 !== this.readyState) { var s = { "errMsg": "SocketTask.send:fail SocketTask.readState is not OPEN" }; return console.error(s.errMsg), "function" == typeof i && i(s), "function" == typeof a && a(s), Promise.reject(s) } this.ws.send(n); var c = { "errMsg": "sendSocketMessage:ok" }; return "function" == typeof o && o(c), "function" == typeof a && a(c), Promise.resolve(c) } }, { "key": "close", "value": function close() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; "object" === (void 0 === e ? "undefined" : Ae(e)) && e || (e = {}); var t = e, r = t.code, n = void 0 === r ? 1e3 : r, o = t.reason, i = void 0 === o ? "server complete,close" : o, a = t.success, s = t.complete; this.closeDetail = { "code": n, "reason": i }, this._destroyWhenClose && this._destroyWhenClose(), this.ws.close(); var c = { "errMsg": "closeSocket:ok" }; return "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.resolve(c) } }, { "key": "onOpen", "value": function onOpen(e) { this.ws.onopen = e } }, { "key": "onMessage", "value": function onMessage(e) { this.ws.onmessage = e } }, { "key": "onClose", "value": function onClose(e) { var t = this; this.ws.onclose = function () { t._destroyWhenClose && t._destroyWhenClose(), e(t.closeDetail || { "code": 1006, "reason": "abnormal closure" }) } } }, { "key": "onError", "value": function onError(e) { this.ws.onerror = e } }, { "key": "readyState", "get": function get() { return this.ws.readyState } }]), SocketTask }(), Pe = [], ke = 1; function connectSocket(e) { var t = "connectSocket"; return new Promise(function (r, n) { var o = Object(i.o)(e); if (!o.res) { var a = { "errMsg": "" + t + o.msg }; return console.error(a.errMsg), n(a) } var s = e.url, c = e.protocols, u = e.success, l = e.fail, f = e.complete, d = { "errMsg": "connectSocket:ok" }; if ("string" != typeof s) return d.errMsg = Object(i.f)({ "name": t, "para": "url", "correct": "String", "wrong": s }), console.error(d.errMsg), "function" == typeof l && l(d), "function" == typeof f && f(d), n(d); if (!s.startsWith("ws://") && !s.startsWith("wss://")) return d.errMsg = 'request:fail invalid url "' + s + '"', console.error(d.errMsg), "function" == typeof l && l(d), "function" == typeof f && f(d), n(d); var p = Array.isArray(c) ? c : null; if (Pe.length > 1) return d.errMsg = "同时最多发起 2 个 socket 请求，更多请参考文档。", console.error(d.errMsg), "function" == typeof l && l(d), "function" == typeof f && f(d), n(d); var h = new Te(s, p); return h._destroyWhenClose = function () { var e = this; Pe = Pe.filter(function (t) { return t !== e }) }, Pe.push(h), d.socketTaskId = ke++, "function" == typeof u && u(d), "function" == typeof f && f(d), r(h) }) } function onSocketOpen() { console.warn("Deprecated.Please use socketTask.onOpen instead.") } function onSocketError() { console.warn("Deprecated.Please use socketTask.onError instead.") } function sendSocketMessage() { console.warn("Deprecated.Please use socketTask.send instead.") } function onSocketMessage() { console.warn("Deprecated.Please use socketTask.onMessage instead.") } function closeSocket() { console.warn("Deprecated.Please use socketTask.close instead.") } function onSocketClose() { console.warn("Deprecated.Please use socketTask.onClose instead.") } var Ee = Object(i.a)(), xe = function resizeListener() { Ee.trigger({ "windowWidth": window.screen.width, "windowHeight": window.screen.height }) }, Oe = function onWindowResize(e) { Ee.add(e), 1 === Ee.count() && window.addEventListener("resize", xe) }, Ie = function offWindowResize(e) { Ee.remove(e), 0 === Ee.count() && window.removeEventListener("resize", xe) }, Re = r(36), Me = r(35); r.d(t, "onBackgroundAudioPlay", function () { return o.Cb }), r.d(t, "onBackgroundAudioPause", function () { return o.Bb }), r.d(t, "onBackgroundAudioStop", function () { return o.Db }), r.d(t, "onBluetoothAdapterStateChange", function () { return o.Gb }), r.d(t, "onBluetoothDeviceFound", function () { return o.Hb }), r.d(t, "onBLEConnectionStateChange", function () { return o.Ab }), r.d(t, "onBLECharacteristicValueChange", function () { return o.zb }), r.d(t, "onBeaconUpdate", function () { return o.Fb }), r.d(t, "onBeaconServiceChange", function () { return o.Eb }), r.d(t, "onUserCaptureScreen", function () { return o.Lb }), r.d(t, "onHCEMessage", function () { return o.Jb }), r.d(t, "onGetWifiList", function () { return o.Ib }), r.d(t, "onWifiConnected", function () { return o.Mb }), r.d(t, "offWifiConnected", function () { return o.yb }), r.d(t, "offGetWifiList", function () { return o.xb }), r.d(t, "getExtConfigSync", function () { return o.O }), r.d(t, "getLogManager", function () { return o.S }), r.d(t, "onMemoryWarning", function () { return o.Kb }), r.d(t, "reportAnalytics", function () { return o.Zb }), r.d(t, "navigateToSmartGameProgram", function () { return o.pb }), r.d(t, "getFileSystemManager", function () { return o.Q }), r.d(t, "stopRecord", function () { return o.Cc }), r.d(t, "getRecorderManager", function () { return o.U }), r.d(t, "pauseVoice", function () { return o.Sb }), r.d(t, "stopVoice", function () { return o.Dc }), r.d(t, "pauseBackgroundAudio", function () { return o.Rb }), r.d(t, "stopBackgroundAudio", function () { return o.yc }), r.d(t, "getBackgroundAudioManager", function () { return o.G }), r.d(t, "createAudioContext", function () { return o.r }), r.d(t, "createCameraContext", function () { return o.t }), r.d(t, "createLivePlayerContext", function () { return o.v }), r.d(t, "createLivePusherContext", function () { return o.w }), r.d(t, "createMapContext", function () { return o.x }), r.d(t, "canIUse", function () { return o.f }), r.d(t, "showNavigationBarLoading", function () { return o.oc }), r.d(t, "hideNavigationBarLoading", function () { return o.gb }), r.d(t, "drawCanvas", function () { return o.A }), r.d(t, "hideKeyboard", function () { return o.fb }), r.d(t, "createIntersectionObserver", function () { return o.u }), r.d(t, "getMenuButtonBoundingClientRect", function () { return o.T }), r.d(t, "getAccountInfoSync", function () { return o.C }), r.d(t, "getUpdateManager", function () { return o.bb }), r.d(t, "createWorker", function () { return o.y }), r.d(t, "saveImageToPhotosAlbum", function () { return o.cc }), r.d(t, "startRecord", function () { return o.vc }), r.d(t, "playVoice", function () { return o.Vb }), r.d(t, "setInnerAudioOption", function () { return o.jc }), r.d(t, "getAvailableAudioSources", function () { return o.D }), r.d(t, "getBackgroundAudioPlayerState", function () { return o.H }), r.d(t, "playBackgroundAudio", function () { return o.Ub }), r.d(t, "seekBackgroundAudio", function () { return o.ec }), r.d(t, "saveVideoToPhotosAlbum", function () { return o.dc }), r.d(t, "loadFontFace", function () { return o.jb }), r.d(t, "saveFile", function () { return o.bc }), r.d(t, "getFileInfo", function () { return o.P }), r.d(t, "getSavedFileList", function () { return o.W }), r.d(t, "getSavedFileInfo", function () { return o.V }), r.d(t, "removeSavedFile", function () { return o.Yb }), r.d(t, "openDocument", function () { return o.Pb }), r.d(t, "openBluetoothAdapter", function () { return o.Nb }), r.d(t, "closeBluetoothAdapter", function () { return o.p }), r.d(t, "getBluetoothAdapterState", function () { return o.J }), r.d(t, "startBluetoothDevicesDiscovery", function () { return o.rc }), r.d(t, "stopBluetoothDevicesDiscovery", function () { return o.Ac }), r.d(t, "getBluetoothDevices", function () { return o.K }), r.d(t, "getConnectedBluetoothDevices", function () { return o.L }), r.d(t, "createBLEConnection", function () { return o.s }), r.d(t, "closeBLEConnection", function () { return o.o }), r.d(t, "getBLEDeviceServices", function () { return o.F }), r.d(t, "getBLEDeviceCharacteristics", function () { return o.E }), r.d(t, "readBLECharacteristicValue", function () { return o.Xb }), r.d(t, "writeBLECharacteristicValue", function () { return o.Ic }), r.d(t, "notifyBLECharacteristicValueChange", function () { return o.rb }), r.d(t, "startBeaconDiscovery", function () { return o.qc }), r.d(t, "stopBeaconDiscovery", function () { return o.zc }), r.d(t, "getBeacons", function () { return o.I }), r.d(t, "setScreenBrightness", function () { return o.lc }), r.d(t, "getScreenBrightness", function () { return o.X }), r.d(t, "setKeepScreenOn", function () { return o.kc }), r.d(t, "addPhoneContact", function () { return o.b }), r.d(t, "getHCEState", function () { return o.R }), r.d(t, "startHCE", function () { return o.uc }), r.d(t, "stopHCE", function () { return o.Bc }), r.d(t, "sendHCEMessage", function () { return o.fc }), r.d(t, "startWifi", function () { return o.xc }), r.d(t, "stopWifi", function () { return o.Ec }), r.d(t, "connectWifi", function () { return o.q }), r.d(t, "getWifiList", function () { return o.eb }), r.d(t, "setWifiList", function () { return o.nc }), r.d(t, "getConnectedWifi", function () { return o.M }), r.d(t, "setTopBarText", function () { return o.mc }), r.d(t, "setBackgroundColor", function () { return o.gc }), r.d(t, "setBackgroundTextStyle", function () { return o.hc }), r.d(t, "getExtConfig", function () { return o.N }), r.d(t, "login", function () { return o.kb }), r.d(t, "checkSession", function () { return o.k }), r.d(t, "authorize", function () { return o.e }), r.d(t, "getUserInfo", function () { return o.cb }), r.d(t, "checkIsSupportFacialRecognition", function () { return o.i }), r.d(t, "startFacialRecognitionVerify", function () { return o.sc }), r.d(t, "startFacialRecognitionVerifyAndUploadVideo", function () { return o.tc }), r.d(t, "faceVerifyForPay", function () { return o.B }), r.d(t, "showShareMenu", function () { return o.pc }), r.d(t, "hideShareMenu", function () { return o.hb }), r.d(t, "updateShareMenu", function () { return o.Hc }), r.d(t, "getShareInfo", function () { return o.Z }), r.d(t, "chooseAddress", function () { return o.l }), r.d(t, "addCard", function () { return o.a }), r.d(t, "openCard", function () { return o.Ob }), r.d(t, "openSetting", function () { return o.Qb }), r.d(t, "getSetting", function () { return o.Y }), r.d(t, "getWeRunData", function () { return o.db }), r.d(t, "navigateToMiniProgram", function () { return o.ob }), r.d(t, "navigateBackMiniProgram", function () { return o.mb }), r.d(t, "chooseInvoice", function () { return o.m }), r.d(t, "chooseInvoiceTitle", function () { return o.n }), r.d(t, "checkIsSupportSoterAuthentication", function () { return o.j }), r.d(t, "startSoterAuthentication", function () { return o.wc }), r.d(t, "checkIsSoterEnrolledInDevice", function () { return o.h }), r.d(t, "setEnableDebug", function () { return o.ic }), r.d(t, "ocrIdCard", function () { return o.vb }), r.d(t, "ocrBankCard", function () { return o.tb }), r.d(t, "ocrDrivingLicense", function () { return o.ub }), r.d(t, "ocrVehicleLicense", function () { return o.wb }), r.d(t, "textReview", function () { return o.Fc }), r.d(t, "textToAudio", function () { return o.Gc }), r.d(t, "imageAudit", function () { return o.ib }), r.d(t, "advancedGeneralIdentify", function () { return o.c }), r.d(t, "objectDetectIdentify", function () { return o.sb }), r.d(t, "carClassify", function () { return o.g }), r.d(t, "dishClassify", function () { return o.z }), r.d(t, "logoClassify", function () { return o.lb }), r.d(t, "animalClassify", function () { return o.d }), r.d(t, "plantClassify", function () { return o.Tb }), r.d(t, "getSwanId", function () { return o.ab }), r.d(t, "requestPolymerPayment", function () { return o.ac }), r.d(t, "navigateToSmartProgram", function () { return o.qb }), r.d(t, "navigateBackSmartProgram", function () { return o.nb }), r.d(t, "preloadSubPackage", function () { return o.Wb }), r.d(t, "stopAccelerometer", function () { return c }), r.d(t, "startAccelerometer", function () { return l }), r.d(t, "onAccelerometerChange", function () { return f }), r.d(t, "createInnerAudioContext", function () { return p }), r.d(t, "canvasGetImageData", function () { return m }), r.d(t, "canvasPutImageData", function () { return g }), r.d(t, "canvasToTempFilePath", function () { return v.a }), r.d(t, "createCanvasContext", function () { return b }), r.d(t, "setClipboardData", function () { return _ }), r.d(t, "getClipboardData", function () { return w }), r.d(t, "stopCompass", function () { return T }), r.d(t, "startCompass", function () { return P }), r.d(t, "onCompassChange", function () { return k }), r.d(t, "createAnimation", function () { return createAnimation }), r.d(t, "createSelectorQuery", function () { return j.a }), r.d(t, "nextTick", function () { return h.s }), r.d(t, "stopDeviceMotionListening", function () { return H }), r.d(t, "startDeviceMotionListening", function () { return U }), r.d(t, "onDeviceMotionChange", function () { return W }), r.d(t, "downloadFile", function () { return G.a }), r.d(t, "uploadFile", function () { return V.a }), r.d(t, "chooseImage", function () { return q.a }), r.d(t, "getImageInfo", function () { return z }), r.d(t, "previewImage", function () { return X.a }), r.d(t, "showToast", function () { return Q.f }), r.d(t, "hideToast", function () { return Q.b }), r.d(t, "showLoading", function () { return Q.d }), r.d(t, "hideLoading", function () { return Q.a }), r.d(t, "showModal", function () { return Q.e }), r.d(t, "showActionSheet", function () { return Q.c }), r.d(t, "chooseLocation", function () { return K.a }), r.d(t, "getLocation", function () { return K.b }), r.d(t, "openLocation", function () { return K.c }), r.d(t, "setNavigationBarTitle", function () { return Y.b }), r.d(t, "setNavigationBarColor", function () { return Y.a }), r.d(t, "requestPayment", function () { return J }), r.d(t, "arrayBufferToBase64", function () { return arrayBufferToBase64 }), r.d(t, "base64ToArrayBuffer", function () { return base64ToArrayBuffer }), r.d(t, "makePhoneCall", function () { return makePhoneCall }), r.d(t, "startPullDownRefresh", function () { return $ }), r.d(t, "stopPullDownRefresh", function () { return ee }), r.d(t, "request", function () { return fe }), r.d(t, "addInterceptor", function () { return de }), r.d(t, "pageScrollTo", function () { return me }), r.d(t, "setStorage", function () { return S.i }), r.d(t, "setStorageSync", function () { return S.j }), r.d(t, "getStorage", function () { return S.c }), r.d(t, "getStorageSync", function () { return S.f }), r.d(t, "getStorageInfo", function () { return S.d }), r.d(t, "getStorageInfoSync", function () { return S.e }), r.d(t, "removeStorage", function () { return S.g }), r.d(t, "removeStorageSync", function () { return S.h }), r.d(t, "clearStorage", function () { return S.a }), r.d(t, "clearStorageSync", function () { return S.b }), r.d(t, "scanCode", function () { return ve }), r.d(t, "getSystemInfo", function () { return ge.a }), r.d(t, "getSystemInfoSync", function () { return ge.b }), r.d(t, "getNetworkType", function () { return getNetworkType }), r.d(t, "onNetworkStatusChange", function () { return onNetworkStatusChange }), r.d(t, "initTabBarApis", function () { return ye.c }), r.d(t, "switchTab", function () { return ye.j }), r.d(t, "setTabBarBadge", function () { return ye.e }), r.d(t, "removeTabBarBadge", function () { return ye.d }), r.d(t, "showTabBarRedDot", function () { return ye.i }), r.d(t, "hideTabBarRedDot", function () { return ye.b }), r.d(t, "showTabBar", function () { return ye.h }), r.d(t, "hideTabBar", function () { return ye.a }), r.d(t, "setTabBarStyle", function () { return ye.g }), r.d(t, "setTabBarItem", function () { return ye.f }), r.d(t, "vibrateShort", function () { return Se }), r.d(t, "vibrateLong", function () { return _e }), r.d(t, "chooseVideo", function () { return we.a }), r.d(t, "createVideoContext", function () { return we.b }), r.d(t, "connectSocket", function () { return connectSocket }), r.d(t, "onSocketOpen", function () { return onSocketOpen }), r.d(t, "onSocketError", function () { return onSocketError }), r.d(t, "sendSocketMessage", function () { return sendSocketMessage }), r.d(t, "onSocketMessage", function () { return onSocketMessage }), r.d(t, "closeSocket", function () { return closeSocket }), r.d(t, "onSocketClose", function () { return onSocketClose }), r.d(t, "onWindowResize", function () { return Oe }), r.d(t, "offWindowResize", function () { return Ie }), r.d(t, "onReachBottom", function () { return Me.a }), r.d(t, "onPageScroll", function () { return Re.a }); t.default = n.a }, function (e, t, r) { "use strict"; r.r(t); var n = r(3), o = r(5), i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, a = function (e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) }; function temporarilyNotSupport(e) { var t = "当前平台暂时不支持 API " + e; return console.error(t), Promise.reject({ "backup": !0, "errMsg": t }) } function getParameterError(e) { var t = e.name, r = void 0 === t ? "" : t, n = e.para, o = void 0 === n ? "" : n, a = e.correct, s = e.wrong; return r + ":fail parameter error: " + (o ? "parameter." + o : "parameter") + " should be " + a + " instead of " + function upperCaseFirstLetter(e) { return "string" != typeof e ? e : e = e.replace(/^./, function (e) { return e.toUpperCase() }) }(null === s ? "Null" : void 0 === s ? "undefined" : i(s)) } function shouleBeObject(e) { return e && "object" === (void 0 === e ? "undefined" : i(e)) ? { "res": !0 } : { "res": !1, "msg": getParameterError({ "correct": "Object", "wrong": e }) } } function processTime(e) { var t = e.beforeCameraTime, r = e.DateTimeOriginal, n = e.debug, o = r.replace(/(\d+):(\d+):(\d+)\s/, "$1-$2-$3 "), i = (new Date(o).getTime() - t) / 1e3; return i < 0 ? 0 : (n && (console.log("前间隔时间:" + i), console.log("拍摄时间:", r)), i) } function getSourceType(e) { return a(this, void 0, void 0, regeneratorRuntime.mark(function _callee() { var t, r, n, i, a, s, c, u, l, f, d, p, h, m, g, v; return regeneratorRuntime.wrap(function _callee$(y) { for (; ;)switch (y.prev = y.next) { case 0: if (t = e.sourceType, r = void 0 === t ? ["camera", "album"] : t, n = e.chooseImageRes, i = e.beforeCameraTime, a = e.debug, s = void 0 !== a && a, "camera" !== (c = r.toString()) && "user" !== c && "environment" !== c) { y.next = 23; break } if (u = Object(o.isIOS)(), l = Object(o.versionFloat)(Object(o.getOsVersion)()), s && console.log("iosVersion", l), !(u && l >= 10)) { y.next = 8; break } return y.abrupt("return", Promise.resolve("camera")); case 8: if (!(u && l < 10)) { y.next = 10; break } return y.abrupt("return", Promise.resolve("album")); case 10: return f = n.tempFiles, p = (d = void 0 === f ? [] : f)[0] && d[0].originalFileObj, y.next = 14, Object(o.getImageInfo)(p); case 14: if (h = y.sent, m = h.DateTimeOriginal, 0 !== (g = void 0 === m ? 0 : m)) { y.next = 19; break } return y.abrupt("return", Promise.resolve("album")); case 19: if (v = processTime({ "beforeCameraTime": i, "DateTimeOriginal": g, "debug": s })) { y.next = 22; break } return y.abrupt("return", Promise.resolve("album")); case 22: return y.abrupt("return", Promise.resolve(v <= 4 ? "camera" : "timeout")); case 23: return y.abrupt("return", Promise.resolve("album")); case 24: case "end": return y.stop() } }, _callee, this) })) } var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function setStorageSync(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "LOCAL"; if ("string" == typeof e) { var n = {}; n = "symbol" === (void 0 === t ? "undefined" : s(t)) ? { "data": "" } : { "data": t }, r && "SESSION" === r.toUpperCase() ? sessionStorage.setItem(e, JSON.stringify(n)) : localStorage.setItem(e, JSON.stringify(n)) } else console.error(getParameterError({ "name": "setStorage", "correct": "String", "wrong": e })) } function getItem(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "LOCAL", r = void 0; try { r = "SESSION" === (null == t ? void 0 : t.toUpperCase()) ? JSON.parse(sessionStorage.getItem(e)) : JSON.parse(localStorage.getItem(e)) } catch (e) { } return r && "object" === (void 0 === r ? "undefined" : s(r)) && r.hasOwnProperty("data") ? { "result": !0, "data": r.data } : { "result": !1 } } function getStorageInfoSync(e) { var t = e.type, r = void 0 === t ? "LOCAL" : t, n = void 0; return "SESSION" === (null == r ? void 0 : r.toUpperCase()) ? n.keys = Object.keys(sessionStorage) : n.keys = Object.keys(localStorage), n.limitSize = null, n.currentSize = null, n } function removeStorageSync(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "LOCAL"; "string" == typeof e ? "SESSION" === (null == t ? void 0 : t.toUpperCase()) ? sessionStorage.removeItem(e) : localStorage.removeItem(e) : console.error(getParameterError({ "name": "removeStorage", "correct": "String", "wrong": e })) } r(25); function storage_setStorageSync(e) { return setStorageSync(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "LOCAL") } function storage_setStorage(e) { return function setStorage(e) { var t = shouleBeObject(e); if (!t.res) { var r = { "errMsg": "setStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var n = e.key, o = e.data, i = e.type, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "setStorage:ok" }; return "string" != typeof n ? (u.errMsg = getParameterError({ "name": "setStorage", "para": "key", "correct": "String", "wrong": n }), console.error(u.errMsg), "function" == typeof s && s(u), "function" == typeof c && c(u), Promise.reject(u)) : (setStorageSync(n, o, i), "function" == typeof a && a(u), "function" == typeof c && c(u), Promise.resolve(u)) }(e) } function storage_getStorage(e) { return function getStorage(e) { var t = shouleBeObject(e); if (!t.res) { var r = { "errMsg": "getStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var n = e.key, o = e.type, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "getStorage:ok" }; if ("string" != typeof n) return c.errMsg = getParameterError({ "name": "getStorage", "para": "key", "correct": "String", "wrong": n }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c); var u = getItem(n, o), l = u.result, f = u.data; return l ? (c.data = f, "function" == typeof i && i(c), "function" == typeof s && s(c), Promise.resolve(c)) : (c.errMsg = "getStorage:fail data not found", "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) }(e) } function storage_getStorageSync(e) { return function getStorageSync(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "LOCAL"; if ("string" == typeof e) { var r = getItem(e, t); return r.result ? r.data : "" } console.error(getParameterError({ "name": "getStorage", "correct": "String", "wrong": e })) }(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "LOCAL") } function storage_getStorageInfoSync(e) { return getStorageInfoSync(e) } function storage_getStorageInfo(e) { return function getStorageInfo(e) { var t = e.success, r = e.complete, n = { "errMsg": "getStorageInfo:ok" }, o = getStorageInfoSync(e); return Object.assign(n, o), t && t(n), r && r(n), Promise.resolve(n) }(e) } function storage_removeStorageSync(e) { return removeStorageSync(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "LOCAL") } function storage_removeStorage(e) { return function removeStorage(e) { var t = shouleBeObject(e); if (!t.res) { var r = { "errMsg": "removeStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var n = e.key, o = e.type, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "removeStorage:ok" }; return "string" != typeof n ? (c.errMsg = getParameterError({ "name": "removeStorage", "para": "key", "correct": "String", "wrong": n }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) : (removeStorageSync(n, o), i && i(c), s && s(c), Promise.resolve(c)) }(e) } function storage_clearStorage() { return function clearStorage() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "LOCAL"; "SESSION" === (null == e ? void 0 : e.toUpperCase()) ? sessionStorage.clear() : localStorage.clear() }(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "LOCAL") } var c = { "WEAPP": "WEAPP", "WEB": "WEB", "RN": "RN", "SWAN": "SWAN", "ALIPAY": "ALIPAY", "TT": "TT", "QQ": "QQ", "APP": "APP" }; function getCurrentEnv() { var e = void 0; switch (n.default.getEnv()) { case c.WEB: e = Object(o.isMuapp)() ? c.APP : c.WEB; break; default: e = n.default.getEnv() }return e } var u = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var l = function () { function ChannelConfig() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ChannelConfig), this.config = {} } return u(ChannelConfig, [{ "key": "setConfig", "value": function setConfig(e) { "[object Object]" === Object.prototype.toString.call(e) ? this.config = Object.assign(Object.assign({}, this.config), e) : console.error("[Madp.setConfig]: config params should be Object") } }, { "key": "getConfig", "value": function getConfig() { return this.config } }]), ChannelConfig }(); function getChannelConfigInstance() { return getChannelConfigInstance.instance ? getChannelConfigInstance.instance : (getChannelConfigInstance.instance = new l, getChannelConfigInstance.instance) } function setConfig(e) { getChannelConfigInstance().setConfig(e) } function getConfig() { return getChannelConfigInstance().getConfig() } var f = function extractChannelFromUrl() { var e = window.location.pathname.match(/^\/([0-9a-zA-Z])+\//g); return e && e.length > 0 ? e[0].replace(/\//g, "") : "" }(), d = function getChannel() { var e = f, t = getConfig().channel || {}; if (!e) switch (n.default.getEnv()) { case n.default.ENV_TYPE.WEAPP: e = t.WEAPP_DEFAULT_CHANNEL; break; case n.default.ENV_TYPE.SWAN: e = t.SWAN_DEFAULT_CHANNEL; break; case n.default.ENV_TYPE.ALIPAY: e = t.ALIPAY_DEFAULT_CHANNEL; break; case n.default.ENV_TYPE.TT: e = t.TT_DEFAULT_CHANNEL; break; case n.default.ENV_TYPE.WEB: default: e = t.H5_DEFAULT_CHANNEL }return e || "MOCK" }; r(60); function invokeBridgeService(e) { var t = r(96).default, n = t[e]; if (n) { for (var o = arguments.length, i = Array(o > 1 ? o - 1 : 0), a = 1; a < o; a++)i[a - 1] = arguments[a]; return n.call.apply(n, [t].concat(i)) } return temporarilyNotSupport(e) } function setNavigationBarTitle(e) { return invokeBridgeService("setNavigationBarTitle", e) } function setNavigationNarRightTextTitle(e) { var t = e || {}, r = t.titleJson, n = t.successCallback; return Object(o.isMuapp)() ? new Promise(function (e, t) { var o, i; try { null === (i = null === (o = window.top.muapp) || void 0 === o ? void 0 : o.H5TitleBarPlugin) || void 0 === i || i.setRightTextTitle(n, r), e() } catch (e) { t("api_invoke_fail") } }) : temporarilyNotSupport("setNavigationNarRightTextTitle") } function setNavigationBarGoBackAction(e) { var t = e || {}, r = t.backParam, n = t.successCallback, i = t.errorCallback; return Object(o.isMuapp)() ? new Promise(function (e, t) { var o, a; try { null === (a = null === (o = window.top.muapp) || void 0 === o ? void 0 : o.H5TitleBarPlugin) || void 0 === a || a.goBackAction(n, r, i), e() } catch (e) { t("api_invoke_fail") } }) : temporarilyNotSupport("setNavigationBarGoBackAction") } function setNavigationBarUI(e) { return invokeBridgeService("setNavigationBarUI", e) } function goToWebView(e) { var t = e.url, r = e.type, o = void 0 === r ? "default" : r, i = e.redirect, a = "navigateTo"; return void 0 !== i && i && (a = "redirectTo"), n.default[a]({ "url": "/pages/web-view/index?jumpUrl=" + encodeURIComponent(t) + "&type=" + o }) } var p = r(58); function uploadCustomFileList(e) { if (Object(o.isMuapp)()) { var t = e.url, r = void 0 === t ? "" : t, n = e.data, i = void 0 === n ? {} : n, a = e.success, s = e.fail; return new Promise(function (e, t) { var n, o; null === (o = null === (n = window.top.muna) || void 0 === n ? void 0 : n.uploadFile) || void 0 === o || o.call(n, { "url": r, "data": i, "success": function success(t) { "function" == typeof a && a(), e(t) }, "fail": function fail(e) { "function" == typeof s && s(), t(e) } }) }) } try { return Object(p.a)(e) } catch (e) { return Promise.reject("当前环境不支持该API调用") } } var h = r(48); function showToast() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object.assign(Object.assign({}, e), { "mask": !0 }); return Object(h.f)(t) } var m = h.b; function showModal() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object.assign(Object.assign({ "confirmColor": "#3477FF", "cancelColor": "#000000", "cancelText": "取消" }, e), { "success": function success() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = e.showCancel, n = void 0 === r ? t.confirm : !r || t.confirm, o = Object.assign({ "errMsg": "showModal:ok", "confirm": !!n, "cancel": !n }, t); e.success && e.success(o) } }); return Object(h.e)(t) } var g = "default"; function showLoading() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if ("ready" !== g) { var t = document.createElement("style"); t.textContent = ".taro__toast{position:fixed;z-index:5000;}"; var r = document.querySelector("head"); null == r || r.appendChild(t), g = "ready" } return Object(h.d)(e) } function getModuleId() { return "" } function initWechat(e) { return invokeBridgeService("initWechat", e) } function chooseWXPay(e) { return invokeBridgeService("chooseWXPay", e) } function goWechatAuth() { return invokeBridgeService("goWechatAuth") } function chooseAliPaySDK(e) { return invokeBridgeService("chooseAliPaySDK", e) } function selectAlipayAddress(e) { return invokeBridgeService("selectAlipayAddress", e) } function followSubscription(e) { return invokeBridgeService("followSubscription", e) } var v = r(62), y = function confirmManager(e, t) { t && "function" == typeof t ? t(e) : e(!0) }, b = n.default, S = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : "", _ = function replaceUrlToUnionUrl(e) { if (/channel=.*/g.test(e)) return e; var t = new RegExp("operationId=xll.content.business.router&.*putChannel=ALL.*", "g"); return e.replace(t, "$&&channel=" + d()) }, w = function invokeNavigateTo(e) { return b.navigateTo(e) }, A = function invokeRedirectTo(e) { return b.redirectTo(e) }; function startsWith(e, t) { return "function" != typeof String.prototype.startsWith ? e.slice(0, t.length) === t : e.startsWith(t) } function getCompleteUrl(e) { if (startsWith(e, "http") || startsWith(e, "muapp://")) return e; var t = void 0, r = window.location.href.match(/(^https?:\/\/[\w\.-]+\/\w+\/\w+)/); if (r) t = r[0]; else { var n = window.location.href.match(/(^https?:\/\/[\w\.-]+\/\w+)/); n && (t = n[0]) } return (window.location.href.indexOf("#") > -1 ? t + "/#" + e : "" + t + e) || e } var C = function invokeJumpToNativeH5(e) { var t = e.url; t = _(t); var r = e.redirect, n = void 0 !== r && r, o = e.useExternalModule, i = void 0 !== o && o, a = e.confirmLeave; if (startsWith(t, "http")) return new Promise(function (e, r) { y(function (o) { o ? (n ? window.location.replace(t) : window.location.href = t, e("")) : r("") }, a) }); if (startsWith(t, "/") && i) { var s = getCompleteUrl(t); return new Promise(function (e, t) { y(function (r) { r ? (n ? window.location.replace(s) : window.location.href = s, e("")) : t("") }, a) }) } return n ? A(e) : w(e) }, T = function invokeNativeNavigateTo(e) { var t = e.url; t = _(t); var r = e.useAppRouter, n = void 0 !== r && r, o = e.redirect, i = void 0 !== o && o, a = e.confirmLeave; if (!n && !startsWith(t, "muapp")) return C(e); var s = getCompleteUrl(t), c = window.muapp && window.muapp.PagerJumpPlugin, u = void 0 !== c && (c.navigateTo || c.route); return void 0 !== u ? new Promise(function (t, r) { y(function (n) { n ? u(s, function (r) { "function" == typeof e.success && e.success(r), t(r) }, function (t) { "function" == typeof e.fail && e.fail(t), r(t) }) : ("function" == typeof e.fail && e.fail(""), r("")) }, a) }) : i ? A(e) : w(e) }, P = function invokeGlobalJump(e) { return function isMuapp() { return /muapp\//i.test(S) }() ? T(e) : function isAlipay() { return /(alipayclient)/i.test(S) }() || function isCmb() { return /MPBank\//i.test(S) }() || function isUnicom() { return /unicom/i.test(S) }() ? function invokeNavigateToNewWebview(e) { var t = e.url; t = _(t); var r = e.useAppRouter, n = void 0 !== r && r, o = e.confirmLeave; if (!n) return C(e); var i = getCompleteUrl(t); return new Promise(function (t, r) { y(function (n) { n ? invokeBridgeService("pushWindow", Object.assign(Object.assign({}, e), { "url": i })).then(function (e) { return t(e) }).catch(function (e) { return r(e) }) : ("function" == typeof e.fail && e.fail(""), r("")) }, o) }) }(e) : C(e) }, k = P, E = function invokeNavigateBack(e) { return b.navigateBack(e) }, x = function redirectTo(e) { var t = Object.assign({ "redirect": !0 }, e); return P(t) }, O = function invokeRelaunch(e) { return b.reLaunch(e) }, I = function invokeSwitchTab(e) { return Object(v.j)(e) }, R = T, M = function invokeNavigateToExternalUrl(e) { var t = e.url; t = _(t); var r = e.redirect, n = void 0 !== r && r, o = e.confirmLeave; return new Promise(function (e, r) { y(function (o) { o ? (n ? window.location.replace(t) : window.location.href = t, e("")) : r("") }, o) }) }, B = P, D = r(59), j = r(76), F = function (e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) }; function image_invokePreviewImage(e) { return function invokePreviewImage(e) { var t = Object.assign({ "urls": [""], "current": "" }, e); return invokeBridgeService("previewImage", t).catch(function () { return Object(j.a)(t) }) }(e) } function image_invokeChooseImage(e) { return function invokeChooseImage(e) { var t = this, r = Object.assign({ "count": 1, "sourceType": ["album", "camera"], "sizeType": ["original", "compressed"], "size": 400, "maskType": 0, "imageType": "image/jpeg" }, e), n = (e || {}).enableBackup; return void 0 === n || n ? invokeBridgeService("chooseImage", r).catch(function (n) { return F(t, void 0, void 0, regeneratorRuntime.mark(function _callee() { var t, i, a, s, c, u, l, f, d, p, h, m, g; return regeneratorRuntime.wrap(function _callee$(v) { for (; ;)switch (v.prev = v.next) { case 0: if (t = n.errCode, i = n.errMsg, a = n.backup, (!Object(o.isMuapp)() || 1 !== t || "用户取消" !== i) && a) { v.next = 3; break } return v.abrupt("return", new Promise(function (e, t) { t(n) })); case 3: return s = r.sourceType, c = r.imageType, u = r.encoderOptions, l = r.limit, f = Date.now(), v.next = 7, Object(D.a)(e || {}); case 7: return d = v.sent, p = d.tempFilePaths, h = void 0 === p ? [""] : p, v.next = 11, Object(o.imageToBase64)({ "src": h[0], "type": c, "encoderOptions": u, "limit": l }); case 11: return m = v.sent, v.next = 14, getSourceType({ "sourceType": s, "chooseImageRes": d, "beforeCameraTime": f }); case 14: return g = v.sent, v.abrupt("return", new Promise(function (e) { e(Object.assign(Object.assign({}, d), { "base64": m, "scene": g })) })); case 16: case "end": return v.stop() } }, _callee, this) })) }) : invokeBridgeService("chooseImage", r) }(e) } function image_invokeUploadImage(e) { return function invokeUploadImage(e) { return invokeBridgeService("uploadImage", e) }(e) } r(63); function video_invokeChooseVideo(e) { return function invokeChooseVideo(e) { return invokeBridgeService("chooseVideo", e) }(e) } function web_view_invokeCloseWebView() { return function invokeCloseWebView() { return invokeBridgeService("closeWebView") }() } r(77); var L = function invokeGetLocation(e) { return function invokeGetLocation(e) { return invokeBridgeService("getLocation", e) }(e) }; function share_invokeOnMenuShare(e) { return function invokeOnMenuShare(e) { return invokeBridgeService("onMenuShare", e) }(e) } function screen_record_invokeScreenRecord(e) { return function invokeScreenRecord(e) { return invokeBridgeService("screenRecord", e) }(e) } var N = r(16), H = function (e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) }; var U = { "timeoutInterceptor": N.timeoutInterceptor, "logInterceptor": N.logInterceptor, "lbsInterceptor": function lbsInterceptor(e) { return H(this, void 0, void 0, regeneratorRuntime.mark(function _callee() { var t, r, n, o, i, a, s; return regeneratorRuntime.wrap(function _callee$(c) { for (; ;)switch (c.prev = c.next) { case 0: if (t = e.requestParams, n = (r = void 0 === t ? {} : t).data, o = void 0 === n ? {} : n, i = void 0, i = "undefined" != typeof FormData && o instanceof FormData && o.get("reqEnvParams") ? o.get("reqEnvParams") : o.reqEnvParams ? o.reqEnvParams : {}, a = i, i && "string" == typeof i) try { a = JSON.parse(i) } catch (e) { a = {} } return s = {}, c.prev = 7, c.next = 10, L(); case 10: s = c.sent, c.next = 16; break; case 13: throw c.prev = 13, c.t0 = c.catch(7), new Error(c.t0); case 16: return c.abrupt("return", e.proceed(Object.assign(Object.assign({}, r), { "data": { "reqEnvParams": Object.assign(Object.assign({}, a), s) } }))); case 17: case "end": return c.stop() } }, _callee, this, [[7, 13]]) })) } }, W = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; var G = void 0; "undefined" == typeof Proxy ? (G = function proxyPolyfillFn() { var e = void 0; function isObject(e) { return !!e && ("object" === (void 0 === e ? "undefined" : W(e)) || "function" == typeof e) } function validateProto(e) { if (null !== e && !isObject(e)) throw new TypeError("Object prototype may only be an Object or null: " + e) } var t = Object, r = Boolean(t.create) || !({ "__proto__": null } instanceof t), n = t.create || (r ? function create(e) { return validateProto(e), { "__proto__": e } } : function create(e) { if (validateProto(e), null === e) throw new SyntaxError("Native Object.create is required to create objects with null prototype"); var t = function T() { }; return t.prototype = e, new t }), o = function noop() { return null }, i = t.getPrototypeOf || ([].__proto__ === Array.prototype ? function getPrototypeOf(e) { var t = e.__proto__; return isObject(t) ? t : null } : o); function ProxyCreate(e, a, s) { if (!isObject(e) || !isObject(a)) throw new TypeError("Cannot create proxy with a non-object as target or handler"); var c = function throwRevoked(e) { }, u = a; for (var l in a = { "get": null, "set": null, "apply": null, "construct": null }, u) { if (!(l in a)) throw new TypeError("Proxy polyfill does not support trap '" + l + "'"); a[l] = u[l] } "function" == typeof u && (a.apply = u.apply.bind(u)); var f = i(e), d = void 0, p = !1, h = !1; "function" == typeof e ? (d = function ProxyPolyfill() { var t = this && this.constructor === d, r = Array.prototype.slice.call(arguments); return c(t ? "construct" : "apply"), t && a.construct ? a.construct.call(this, e, r) : !t && a.apply ? a.apply(e, this, r) : t ? (r.unshift(e), new (e.bind.apply(e, r))) : e.apply(this, r) }, p = !0) : e instanceof Array ? (d = [], h = !0) : d = r || null !== f ? n(f) : {}; var m = a.get ? function (e) { return c("get"), a.get(this, e, d) } : function (e) { return c("get"), this[e] }, g = a.set ? function (e, t) { c("set"), a.set(this, e, t, d) } : function (e, t) { c("set"), this[e] = t }, v = t.getOwnPropertyNames(e), y = {}; v.forEach(function (r) { if (!((p || h) && r in d)) { var n = t.getOwnPropertyDescriptor(e, r), o = { "enumerable": Boolean(n.enumerable), "get": m.bind(e, r), "set": g.bind(e, r) }; t.defineProperty(d, r, o), y[r] = !0 } }); var b = !0; if (p || h) { var S = t.setPrototypeOf || ([].__proto__ === Array.prototype ? function setPrototypeOf(e, t) { return validateProto(t), e.__proto__ = t, e } : o); f && S(d, f) || (b = !1) } if (a.get || !b) for (var _ in e) y[_] || t.defineProperty(d, _, { "get": m.bind(e, _) }); return t.seal(e), t.seal(d), s ? { "proxy": d, "revoke": function revoke() { e = null, c = function throwRevoked(e) { throw new TypeError("Cannot perform '" + e + "' on a proxy that has been revoked") } } } : d } return (e = function ProxyPolyfill(t, r) { if (void 0 === (this && this instanceof e ? this.constructor : void 0)) throw new TypeError("Constructor Proxy requires 'new'"); return ProxyCreate(t, r) }).revocable = function (e, t) { return ProxyCreate(e, t, !0) }, e }()).revocable = G.revocable : G = Proxy; var V = "webViewJsBridgeLoad", q = !1, z = !1, X = { "getEnv": function getEnv(e) { e({ "miniprogram": !1, "env": n.default.getEnv && n.default.getEnv() }) }, "postMessage": function postMessage() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = "madp_webview_message_" + (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "default"); n.default.eventCenter.trigger(t, { "detail": e }) } }; !function loadWebViewJsBridge() { !function loadScript(e) { if (!e || "undefined" == typeof document) return Promise.resolve(); q = !0; var t = document.createElement("script"); t.type = "text/javascript", t.src = e; var r = document.getElementsByTagName("script")[0]; return r.parentNode && r.parentNode.insertBefore(t, r), new Promise(function (e, r) { t.onload = function () { z = !0; var t = document.createEvent("Event"); t.initEvent(V, !0, !0), document.dispatchEvent(t), e() }, t.onerror = function (e) { console.error(e), r(e) } }) }(function getWebViewMiniBridgeScript() { return { "wx": "https://res.wx.qq.com/open/js/jweixin-1.6.0.js", "my": "https://appx/web-view.min.js", "tt": "https://s3.pstatp.com/toutiao/tmajssdk/jssdk-1.0.1.js", "swan": "https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.20.js" }[Object(o.getWebViewName)()] || "" }()) }(); var Q = new G(X, { "get": function get(e, t) { if (t in e) return e[t]; if (!q) throw new ReferenceError("API " + t + " 在当前环境不支持"); var r = function getWebViewJsBridge() { var e = Object(o.getWebViewGlobalApi)().platform; return { "my": "undefined" != typeof my ? my : "", "tt": "undefined" != typeof tt ? tt.miniProgram : "", "swan": "undefined" != typeof swan ? swan.webView : "", "wx": "undefined" != typeof wx ? wx.miniProgram : "", "h5": n.default }[e] }(); if (z) return e[t] = r[t], e[t]; "undefined" != typeof document && document.addEventListener(V, function () { return e[t] = r[t], e[t] }) } }); function contact_invokeChooseContact(e) { return function invokeChooseContact(e) { return invokeBridgeService("chooseContact", e) }(e) } function invokeEnableLongPressGesture() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muapp) || void 0 === r ? void 0 : r.WebViewLongPressPlugin) || void 0 === n || n.enableLongPressGesture(), e() } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeDisableLongPressGesture() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muapp) || void 0 === r ? void 0 : r.WebViewLongPressPlugin) || void 0 === n || n.disableLongPressGesture(), e() } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeSendDeviceFingerEvent(e) { var t = e || {}, r = t.eventType, n = t.loginId; return Object(o.isMuapp)() ? new Promise(function (e, t) { var o, i; try { null === (i = null === (o = window.top.muapp) || void 0 === o ? void 0 : o.DeviceFingerPlugin) || void 0 === i || i.sendEvent({ "eventType": r, "loginId": n, "success": function success(t) { e(t) }, "fail": function fail(e) { t(e) } }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeAddBankCard() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muapp) || void 0 === r ? void 0 : r.BankCardPlugin) || void 0 === n || n.addBankCard(function (t) { e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeHtmlCopy() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""; return Object(o.isMuapp)() ? new Promise(function (t, r) { var n, o; try { null === (o = null === (n = window.top.muna) || void 0 === n ? void 0 : n.HtmlCopyPlugin) || void 0 === o || o.onCopy(e, function (e) { t(e) }, function (e) { r(e) }) } catch (e) { r("api_invoke_fail") } }) : Promise.reject("api_not_exist") } var K = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function invokeGetContactNameByNo(e) { return Object(o.isMuapp)() ? new Promise(function (t, r) { var n, o; try { null === (o = null === (n = window.top.muna) || void 0 === n ? void 0 : n.ContactPlugin) || void 0 === o || o.getNameByNo(e, function (e) { "object" === (void 0 === e ? "undefined" : K(e)) && (e = String(e.name || "")), t(e) }, function (e) { r(e) }) } catch (e) { r("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeGetContactCount() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muna) || void 0 === r ? void 0 : r.ContactPlugin) || void 0 === n || n.getContactCount(function (t) { "object" === (void 0 === t ? "undefined" : K(t)) && (t = t.count), e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeSelectContact() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muna) || void 0 === r ? void 0 : r.ContactPlugin) || void 0 === n || n.selectContact(function (t) { e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeGetRemotePreference(e) { return Object(o.isMuapp)() ? new Promise(function (t, r) { var n, o; try { t(null === (o = null === (n = window.top.muna) || void 0 === n ? void 0 : n.RemotePreferencePlugin) || void 0 === o ? void 0 : o.getConfig(e)) } catch (e) { r("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeFrontIdcardScan() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muna) || void 0 === r ? void 0 : r.IdScannerPlugin) || void 0 === n || n.startScanIdFront(function (t) { e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeBackIdcardScan() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muna) || void 0 === r ? void 0 : r.IdScannerPlugin) || void 0 === n || n.startScanIdBack(function (t) { e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } function invokeBankCardScan() { return Object(o.isMuapp)() ? new Promise(function (e, t) { var r, n; try { null === (n = null === (r = window.top.muna) || void 0 === r ? void 0 : r.IdScannerPlugin) || void 0 === n || n.startScanBankCard(function (t) { e(t) }, function (e) { t(e) }) } catch (e) { t("api_invoke_fail") } }) : Promise.reject("api_not_exist") } var Y = r(6), J = function () { return function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function sliceIterator(e, t) { var r = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { o = !0, i = e } finally { try { !n && s.return && s.return() } finally { if (o) throw i } } return r }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }(), Z = []; function useScript(e, t, r) { var n = Object(Y.m)({ "loaded": !1, "error": !1 }), o = J(n, 2), i = o[0], a = o[1]; return Object(Y.k)(function () { if (!Z.includes(e)) { Z.push(e); var n = document.createElement("script"); n.src = e, n.async = !0; var o = function onScriptLoad() { a({ "loaded": !0, "error": !1 }), t && t() }, i = function onScriptError() { var t = Z.indexOf(e); t >= 0 && Z.splice(t, 1), n.remove(), a({ "loaded": !0, "error": !0 }), r && r() }; return n.addEventListener("load", o), n.addEventListener("error", i), document.body.appendChild(n), function () { n.removeEventListener("load", o), n.removeEventListener("error", i) } } a({ "loaded": !0, "error": !1 }) }, [e]), [i.loaded, i.error] } function useEventListener(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window, n = Object(Y.l)(); Object(Y.k)(function () { n.current = t }, [t]), Object(Y.k)(function () { if (null == r ? void 0 : r.addEventListener) { var t = function eventListener(e) { return n.current(e) }; return r.addEventListener(e, t), function () { r.removeEventListener(e, t) } } }, [e, r]) } function useResize(e) { var t = Object(Y.m)({ "width": 0, "height": 0 }), r = J(t, 2), n = r[0], o = r[1]; return Object(Y.k)(function () { var t = function resizeHandler() { o({ "width": window.innerWidth, "height": window.innerHeight }), e && e() }; return window.addEventListener("resize", t), t(), function () { return window.removeEventListener("resize", t) } }, []), n } function permission_invokeCheckPermission(e) { return function invokeCheckPermission(e) { return invokeBridgeService("checkPermission", e) }(e) } r.d(t, "setStorage", function () { return storage_setStorage }), r.d(t, "setStorageSync", function () { return storage_setStorageSync }), r.d(t, "getStorage", function () { return storage_getStorage }), r.d(t, "getStorageSync", function () { return storage_getStorageSync }), r.d(t, "getStorageInfo", function () { return storage_getStorageInfo }), r.d(t, "getStorageInfoSync", function () { return storage_getStorageInfoSync }), r.d(t, "removeStorage", function () { return storage_removeStorage }), r.d(t, "removeStorageSync", function () { return storage_removeStorageSync }), r.d(t, "clearStorage", function () { return storage_clearStorage }), r.d(t, "clearStorageSync", function () { return storage_clearStorage }), r.d(t, "CUR_ENV_TYPE", function () { return c }), r.d(t, "getCurrentEnv", function () { return getCurrentEnv }), r.d(t, "getChannel", function () { return d }), r.d(t, "setConfig", function () { return setConfig }), r.d(t, "getConfig", function () { return getConfig }), r.d(t, "setNavigationBarTitle", function () { return setNavigationBarTitle }), r.d(t, "setNavigationNarRightTextTitle", function () { return setNavigationNarRightTextTitle }), r.d(t, "setNavigationBarGoBackAction", function () { return setNavigationBarGoBackAction }), r.d(t, "setNavigationBarUI", function () { return setNavigationBarUI }), r.d(t, "goToWebView", function () { return goToWebView }), r.d(t, "uploadFileList", function () { return uploadCustomFileList }), r.d(t, "getModuleId", function () { return getModuleId }), r.d(t, "initWechat", function () { return initWechat }), r.d(t, "chooseWXPay", function () { return chooseWXPay }), r.d(t, "goWechatAuth", function () { return goWechatAuth }), r.d(t, "chooseAliPaySDK", function () { return chooseAliPaySDK }), r.d(t, "selectAlipayAddress", function () { return selectAlipayAddress }), r.d(t, "followSubscription", function () { return followSubscription }), r.d(t, "navigateTo", function () { return k }), r.d(t, "navigateBack", function () { return E }), r.d(t, "redirectTo", function () { return x }), r.d(t, "reLaunch", function () { return O }), r.d(t, "switchTab", function () { return I }), r.d(t, "nativeNavigateTo", function () { return R }), r.d(t, "navigateToExternalUrl", function () { return M }), r.d(t, "navigateToModule", function () { return B }), r.d(t, "previewImage", function () { return image_invokePreviewImage }), r.d(t, "chooseImage", function () { return image_invokeChooseImage }), r.d(t, "uploadImage", function () { return image_invokeUploadImage }), r.d(t, "chooseVideo", function () { return video_invokeChooseVideo }), r.d(t, "closeWebView", function () { return web_view_invokeCloseWebView }), r.d(t, "closeWebview", function () { return web_view_invokeCloseWebView }), r.d(t, "getLocation", function () { return L }), r.d(t, "onMenuShare", function () { return share_invokeOnMenuShare }), r.d(t, "screenRecord", function () { return screen_record_invokeScreenRecord }), r.d(t, "interceptors", function () { return U }), r.d(t, "miniProgram", function () { return Q }), r.d(t, "chooseContact", function () { return contact_invokeChooseContact }), r.d(t, "enableLongPressGesture", function () { return invokeEnableLongPressGesture }), r.d(t, "disableLongPressGesture", function () { return invokeDisableLongPressGesture }), r.d(t, "sendDeviceFingerEvent", function () { return invokeSendDeviceFingerEvent }), r.d(t, "addBankCard", function () { return invokeAddBankCard }), r.d(t, "htmlCopy", function () { return invokeHtmlCopy }), r.d(t, "getContactNameByNo", function () { return invokeGetContactNameByNo }), r.d(t, "getContactCount", function () { return invokeGetContactCount }), r.d(t, "selectContact", function () { return invokeSelectContact }), r.d(t, "getRemotePreference", function () { return invokeGetRemotePreference }), r.d(t, "frontIdcardScan", function () { return invokeFrontIdcardScan }), r.d(t, "backIdcardScan", function () { return invokeBackIdcardScan }), r.d(t, "bankCardScan", function () { return invokeBankCardScan }), r.d(t, "request", function () { return N.request }), r.d(t, "pureRequest", function () { return N.pureRequest }), r.d(t, "customFetch", function () { return N.customFetch }), r.d(t, "addInterceptor", function () { return N.addInterceptor }), r.d(t, "cleanInterceptors", function () { return N.cleanInterceptors }), r.d(t, "timeoutInterceptor", function () { return N.timeoutInterceptor }), r.d(t, "logInterceptor", function () { return N.logInterceptor }), r.d(t, "setMiniCookies", function () { return N.setMiniCookies }), r.d(t, "useScript", function () { return useScript }), r.d(t, "useEventListener", function () { return useEventListener }), r.d(t, "useResize", function () { return useResize }), r.d(t, "checkPermission", function () { return permission_invokeCheckPermission }), r.d(t, "showToast", function () { return showToast }), r.d(t, "hideToast", function () { return m }), r.d(t, "showModal", function () { return showModal }), r.d(t, "showLoading", function () { return showLoading }); t.default = n.default }, function (e, t, r) { "use strict"; r.r(t), function (e) { r.d(t, "Url", function () { return s }), r.d(t, "Validator", function () { return a }), r.d(t, "compareMuappVersion", function () { return w }), r.d(t, "compareUniComVersion", function () { return A }), r.d(t, "debounce", function () { return debounce }), r.d(t, "eventCenter", function () { return I }), r.d(t, "getCurrentPageUrl", function () { return getCurrentPageUrl }), r.d(t, "getCurrentPageUrlWithArgs", function () { return getCurrentPageUrlWithArgs }), r.d(t, "getEnv", function () { return getEnv }), r.d(t, "getFrameVersion", function () { return _ }), r.d(t, "getImageInfo", function () { return getImageInfo }), r.d(t, "getMuappVersion", function () { return S }), r.d(t, "getOsVersion", function () { return E }), r.d(t, "getRoutePath", function () { return getRoutePath }), r.d(t, "getWebViewGlobalApi", function () { return invokeGetWebViewGlobalApi }), r.d(t, "getWebViewName", function () { return invokeGetWebViewName }), r.d(t, "getWebviewGlobalApi", function () { return invokeGetWebViewGlobalApi }), r.d(t, "getWebviewName", function () { return invokeGetWebViewName }), r.d(t, "getWechatVersion", function () { return T }), r.d(t, "imageToBase64", function () { return imageToBase64 }), r.d(t, "isAlipay", function () { return y }), r.d(t, "isAndroid", function () { return g }), r.d(t, "isDesktop", function () { return k }), r.d(t, "isIOS", function () { return m }), r.d(t, "isMobile", function () { return P }), r.d(t, "isMuapp", function () { return v }), r.d(t, "isObject", function () { return isObject }), r.d(t, "isQQ", function () { return h }), r.d(t, "isUnicom", function () { return b }), r.d(t, "isWechat", function () { return p }), r.d(t, "log", function () { return log }), r.d(t, "logger", function () { return logger }), r.d(t, "throttle", function () { return throttle }), r.d(t, "versionCompare", function () { return C }), r.d(t, "versionFloat", function () { return x }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function getRoutePath() { var e = window.location.href, t = /https?:\/\/[^]+?\/[^]+?\/([^\?]+)?(\?[^]*)*/.exec(e); return t ? t[1] || "" : "/" } var o = function isEmpty(e) { return null == e || (function isArray(e) { return Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e) }(e) ? 0 === e.length : !"".concat(e).trim()) }, i = function getIdCardInfo(e) { var t = { "isTrue": !1, "year": null, "month": null, "day": null, "isMale": !1, "isFemale": !1 }; if (!e && 15 !== e.length && 18 !== e.length) return t.isTrue = !1, t; if (15 === e.length) { var r = e.substring(6, 8), n = e.substring(8, 10), o = e.substring(10, 12), i = e.substring(14, 15), a = new Date(r, parseFloat(n) - 1, parseFloat(o)); return a.getFullYear() !== parseFloat(r) || a.getMonth() !== parseFloat(n) - 1 || a.getDate() !== parseFloat(o) ? t.isTrue = !1 : (t.isTrue = !0, t.year = a.getFullYear(), t.month = a.getMonth() + 1, t.day = a.getDate(), i % 2 == 0 ? (t.isFemale = !0, t.isMale = !1) : (t.isFemale = !1, t.isMale = !0)), t } if (18 === e.length) { var s = e.substring(6, 10), c = e.substring(10, 12), u = e.substring(12, 14), l = e.substring(14, 17), f = new Date(s, parseFloat(c) - 1, parseFloat(u)); if (f.getFullYear() !== parseFloat(s) || f.getMonth() !== parseFloat(c) - 1 || f.getDate() !== parseFloat(u)) return t.isTrue = !1, t; var d = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1], p = 0, h = e.split(""); "x" === h[17].toLowerCase() && (h[17] = "10"); for (var m = 0; m < 17; m++)p += d[m] * h[m]; var g = p % 11; return h[17] !== ["1", "0", "10", "9", "8", "7", "6", "5", "4", "3", "2"][g] ? (t.isTrue = !1, t) : (t.isTrue = !0, t.year = f.getFullYear(), t.month = f.getMonth() + 1, t.day = f.getDate(), l % 2 == 0 ? (t.isFemale = !0, t.isMale = !1) : (t.isFemale = !1, t.isMale = !0), t) } return t }; var a = { "isEmpty": o, "isSmsCode": function isSmsCode(e) { return !o(e) && !!/^\d{6}$/.test(e) }, "isTelephoneNumber": function isTelephoneNumber(e) { if (o(e)) return !1; return !!/^(\d{4}|\d{3})-?(\d{7,8})$/.test(e) }, "isMobilePhoneNumber": function isMobilePhoneNumber(e) { if (o(e)) return !1; return !!/^1\d{10}$/.test(e) }, "isMoney": function isMoney(e) { if (o(e)) return !1; return !!/^[1-9][0-9]*(\.)?([0-9]){0,2}$|^0(\.)([0-9]){0,2}$/.test(e) }, "isBankcardNumber": function isBankcardNumber(e) { if (o(e)) return !1; return !!/^[0-9]{16,19}$/.test(e) }, "isIdentityNumber": function isIdentityNumber(e) { return !o(e) && !!i(e).isTrue }, "getIdCardInfo": i, "isChineseCharacterOnly": function isChineseCharacterOnly(e, t) { if (o(e)) return !1; if (t && function getLen(e) { for (var t = 0, r = 0; r < e.length; r++)e.charCodeAt(r) >= 0 && e.charCodeAt(r) <= 255 ? t += 1 : t += 2; return t }(e) > t) return !1; return !(!/^((?![\u3000-\u303F])[\u2E80-\uFE4F·])+$/.test(e) || /(^·+)|(·+$)/.test(e)) }, "isLoginPassword": function isLoginPassword(e) { if (o(e)) return !1; return !!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(e) }, "isTradePassword": function isTradePassword(e) { if (o(e)) return !1; return !!/^\d{6}$/.test(e) && e % 111111 != 0 }, "isEmail": function isEmail(e) { if (o(e)) return !1; return !!/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e) }, "hasChineseEnglishNumOnly": function hasChineseEnglishNumOnly(e) { if (o(e)) return !1; return !!/^((?![\u3000-\u303F])[\(\)\uFF08\uFF09\u2E80-\uFE4F0-9a-zA-Z·])+$/.test(e) }, "isNDigits": function isNDigits(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; if (o(e)) return !1; var r = new RegExp("^\\d{".concat(t, "}$")); return 0 === t && (r = /^\d+$/), !!r.test(e) }, "isNMDigits": function isNMDigits(e, t, r) { return !o(e) && !!new RegExp("^\\d{".concat(t, ",").concat(r, "}$")).test(e) }, "getAge": function getAge(e, t, r) { var n = new Date, o = new Date(e, t - 1, r), i = n.getFullYear() - o.getFullYear(), a = n.getMonth() - o.getMonth(); return (a < 0 || 0 === a && n.getDate() < o.getDate()) && i--, i }, "isQQNumber": function isQQNumber(e) { if (o(e)) return !1; return !!/^\d{5,15}$/.test(e) }, "isChineseEnglishOnly": function isChineseEnglishOnly(e) { if (o(e)) return !1; return !!/^((?![\u3000-\u303F])[\u2E80-\uFE4Fa-zA-Z·])+$/.test(e) } }; function getCurrentPageUrl() { var e = window.location.href, t = e.indexOf("?"); return t > -1 ? e.substring(0, t) : e } function getCurrentPageUrlWithArgs() { return window.location.href } var s = { "getParam": function getParam(e) { return function getParamFromHash(e) { var t = new RegExp("(^|&)".concat(e, "=([^&]*)(&|$)")), r = window.location.hash.indexOf("?"); if (window.location.hash.indexOf("#") > -1) { if (-1 === r) return; var n = window.location.hash.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } var o = new RegExp("[?&]" + e + "=([^&]+)", "gmi"), i = window.location.href; return o.test(i) ? RegExp.$1 : "" }(e) || function getParamFromSearch(e) { var t = new RegExp("(^|&)".concat(e, "=([^&]*)(&|$)")), r = window.location.search.indexOf("?"); if (-1 !== r) { var n = window.location.search.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } }(e) }, "isMuDomain": function isMuDomain(e) { return /(https?:\/\/(?:[^\/]+\.)?((?:xll|xll|xll).(?:cn|com|cc))(?:$|\/))|(^\/[^\/])/.test(e) }, "addParam": function addParam(e, t) { var r = e; if (!t || Object.keys(t).length < 1) return r; var n = r; r.indexOf("?") > 0 && r.indexOf("?") < r.indexOf("#") && (n = r.slice(r.indexOf("?") + 1)), r = n.indexOf("?") < 0 ? "".concat(r, "?") : "".concat(r, "&"); var o = Object.keys(t).map(function (e) { return "".concat(e, "=").concat(t[e]) }).join("&"); return r = "".concat(r).concat(o) } }; function getEnv() { var e = window.location.hostname; if (-1 !== e.indexOf("localhost") || -1 !== e.indexOf("127.0.0.1")) return "se"; var t = /.*-(.*)\.xll\.cn/.exec(e); return t ? t[1] : "prod" } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : n(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : n(e) })(e) } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function isObject(e) { var t = _typeof(e); return null != e && ("object" === t || "function" === t) } var c = "object" === (void 0 === e ? "undefined" : _typeof(e)) && null !== e && e.Object === Object && e, u = "object" === ("undefined" == typeof globalThis ? "undefined" : _typeof(globalThis)) && null !== globalThis && globalThis.Object == Object && globalThis, l = "object" === ("undefined" == typeof self ? "undefined" : _typeof(self)) && null !== self && self.Object === Object && self, f = u || c || l || Function("return this")(); function debounce(e) { var t, r, n, o, i, a, s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, c = arguments.length > 2 ? arguments[2] : void 0, u = 0, l = !1, d = !1, p = !0, h = !s && 0 !== s && "function" == typeof f.requestAnimationFrame; if ("function" != typeof e) throw new TypeError("Expected a function"); function invokeFunc(n) { var i = t, a = r; return t = r = void 0, u = n, o = e.apply(a, i) } function startTimer(e, t) { return h ? (f.cancelAnimationFrame(i), f.requestAnimationFrame(e)) : setTimeout(e, t) } function trailingEdge(e) { return i = void 0, p && t ? invokeFunc(e) : (t = r = void 0, o) } function shouldInvoke(e) { var t = e - a; return void 0 === a || t >= s || t < 0 || d && e - u >= n } function timerExpired() { var e = Date.now(); if (shouldInvoke(e)) return trailingEdge(e); i = startTimer(timerExpired, function remainingWait(e) { var t = e - u, r = s - (e - a); return d ? Math.min(r, n - t) : r }(e)) } function debounced() { for (var e = Date.now(), n = shouldInvoke(e), c = arguments.length, f = new Array(c), p = 0; p < c; p++)f[p] = arguments[p]; if (t = f, r = this, a = e, n) { if (void 0 === i) return function leadingEdge(e) { return u = e, i = startTimer(timerExpired, s), l ? invokeFunc(e) : o }(a); if (d) return i = startTimer(timerExpired, s), invokeFunc(a) } return void 0 === i && (i = startTimer(timerExpired, s)), o } return s = +s || 0, isObject(c) && (l = !!c.leading, n = (d = "maxWait" in c) ? Math.max(+c.maxWait || 0, s) : n, p = "trailing" in c ? !!c.trailing : p), debounced.cancel = function cancel() { void 0 !== i && function cancelTimer(e) { if (h) return f.cancelAnimationFrame(e); clearTimeout(e) }(i), u = 0, t = a = r = i = void 0 }, debounced.flush = function flush() { return void 0 === i ? o : trailingEdge(Date.now()) }, debounced.pending = function pending() { return void 0 !== i }, debounced } function throttle(e, t, r) { var n = !0, o = !0; if ("function" != typeof e) throw new TypeError("Expected a function"); return isObject(r) && (n = "leading" in r ? !!r.leading : n, o = "trailing" in r ? !!r.trailing : o), debounce(e, t, { "leading": n, "trailing": o, "maxWait": t }) } var d = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : "", p = function isWechat() { return /micromessenger/.test(d) }, h = function isQQ() { return /qq\//.test(d) }, m = function isIOS() { return /(iphone|ipad|ipod|ios)/i.test(d) }, g = function isAndroid() { return /(android)/i.test(d) }, v = function isMuapp() { return /muapp\//i.test(d) }, y = function isAlipay() { return /(alipayclient)/i.test(d) }, b = function isUnicom() { return /unicom/i.test(d) }, S = function getMuappVersion() { var e = d.match(/muapp\/(?:\w*\/)?([\d.]+)/i); return e && e[1] || "" }, _ = function getFrameVersion() { return new Promise(function (e, t) { try { window.muapp.AppPlugin.getFrameVersion(function (r) { if (r) { var n = r.match(/\d.\d.\d/)[0] || ""; e(n) } else t("") }) } catch (t) { console.error("当前平台暂时不支持 该方法: getFrameVersion", t), e("0.0.0") } }) }, w = function compareMuappVersion(e) { for (var t = S().split("."), r = (null == e ? void 0 : e.split(".")) || "", n = 0; n < 3; n++) { if (void 0 === t[n] && (t[n] = 0), parseInt(t[n], 10) - r[n] < 0) return -1; if (parseInt(t[n], 10) - r[n] > 0) return 1 } return 0 }, A = function compareUniComVersion(e) { var t = function getUnicomVersion() { var e = ""; return g() ? e = d.slice(d.indexOf("android@") + 8, d.indexOf(",desmobile")) : m() && (e = d.slice(d.indexOf("iphone_c@") + 9, d.indexOf("}"))), e }().split("."), r = e.split("."), n = t.length; n > r.length && (n = r.length); for (var o = 0; o < n; o++) { if (parseInt(t[o]) - parseInt(r[o]) < 0) return -1; if (parseInt(t[o]) - parseInt(r[o]) > 0) return 1 } return 0 }, C = function versionCompare(e, t) { for (var r = e.split("."), n = t.split("."), o = 0; o < t.length; o++) { if (r[o] - n[o] < 0) return -1; if (r[o] - n[o] > 0) return 1 } return 0 }, T = function getWechatVersion() { var e = d.match(/micromessenger\/([\d.]+)/i); return e && e[1] || "" }, P = function isMobile() { return p() || g() || m() || h() }, k = function isDesktop() { return !P() }, E = function getOsVersion() { var e = d.match(/(ipad).*os\s([\d_]+)/), t = d.match(/(ipod)(.*os\s([\d_]+))?/), r = !e && !t && d.match(/(iphone\sos)\s([\d_]+)/), n = ""; return r && (n = r[2].replace(/_/g, ".")), r && n && d.indexOf("version/") >= 0 && "10" === n.split(".")[0] && (n = d.split("version/")[1].split(" ")[0]), n }, x = function versionFloat(e) { var t = e.replace(/^([^.]*\.)(.*)/, function (e, t, r) { return t + r.replace(/\./g, "") }); return parseFloat(t) }; function invokeGetWebViewGlobalApi() { return "undefined" != typeof my ? (my.platform = "my", my) : "undefined" != typeof tt ? (tt.platform = "tt", tt) : "undefined" != typeof swan ? (swan.platform = "swan", swan) : "undefined" != typeof wx ? (wx.platform = "wx", wx) : { "platform": "h5" } } function invokeGetWebViewName() { var e = "", t = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : ""; return "undefined" != typeof window && "miniprogram" === window.__wxjs_environment ? e = "wx" : t.match(/alipayclient/i) ? e = "my" : t.match(/swan\//) ? e = "swan" : t.match(/toutiaomicroapp/i) && (e = "tt"), e } function imageToBase64(e) { var t = e.src, r = e.type, n = void 0 === r ? "image/png" : r, o = e.encoderOptions, i = e.limit, a = void 0 === i ? {} : i, s = new Image; return s.crossOrigin = "anonymous", new Promise(function (e, r) { s.onload = function () { var t = document.createElement("CANVAS"), i = t.getContext("2d"), c = a.height, u = a.width, l = function _adaperImage() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.limitWidth, r = e.limitHeight, n = e.originWidth, o = e.originHeight; return r && o > r && (n *= r / o, o = r), t && n > t && (o *= t / n, n = t), { "width": n, "height": o } }({ "originWidth": s.width, "originHeight": s.height, "limitWidth": u, "limitHeight": c }), f = l.width, d = l.height; t.height = d, t.width = f, i.drawImage(s, 0, 0, f, d); try { var p = t.toDataURL(n, o); e(p) } catch (e) { console.error("canvas转换成DataURL异常: ".concat(e)), r(e) } t = null }, s.src = t }) } var O = function () { function Events(e) { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Events), void 0 !== e && e.callbacks ? this.callbacks = e.callbacks : this.callbacks = {} } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(Events, [{ "key": "on", "value": function on(e, t, r) { var n, o, i, a, s; if (!t) return this; for (e = e.split(Events.eventSplitter), n = this.callbacks; o = e.shift();)(i = (s = n[o]) ? s.tail : {}).next = a = {}, i.context = r, i.callback = t, n[o] = { "tail": a, "next": s ? s.next : i }; return this } }, { "key": "once", "value": function once(e, t, r) { var n = this; return this.on(e, function wrapper() { for (var o = arguments.length, i = new Array(o), a = 0; a < o; a++)i[a] = arguments[a]; t.apply(n, i), n.off(e, wrapper, r) }, r), this } }, { "key": "off", "value": function off(e, t, r) { var n, o, i, a, s, c; if (!(o = this.callbacks)) return this; if (!(e || t || r)) return delete this.callbacks, this; for (e = e ? e.split(Events.eventSplitter) : Object.keys(o); n = e.shift();)if (i = o[n], delete o[n], i && (t || r)) for (a = i.tail; (i = i.next) !== a;)s = i.callback, c = i.context, (t && s !== t || r && c !== r) && this.on(n, s, c); return this } }, { "key": "trigger", "value": function trigger(e) { var t, r, n, o, i; if (!(n = this.callbacks)) return this; for (e = e.split(Events.eventSplitter), i = [].slice.call(arguments, 1); t = e.shift();)if (r = n[t]) for (o = r.tail; (r = r.next) !== o;)r.callback.apply(r.context || this, i); return this } }]), Events }(); O.eventSplitter = /\s+/; var I = new O; function log(e, t, r) { var n = r.value; return r.value = function () { return n.apply(this, arguments) }, r } function logger(e) { return function () { for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)r[n] = arguments[n]; "".concat(e, ": ").concat(r.join(",")) } } function exif() { var e = function EXIF(e) { return e instanceof EXIF ? e : this instanceof EXIF ? void (this.EXIFwrapped = e) : new EXIF(e) }; e.debug = !1; var t = e.Tags = { "36864": "ExifVersion", "40960": "FlashpixVersion", "40961": "ColorSpace", "40962": "PixelXDimension", "40963": "PixelYDimension", "37121": "ComponentsConfiguration", "37122": "CompressedBitsPerPixel", "37500": "MakerNote", "37510": "UserComment", "40964": "RelatedSoundFile", "36867": "DateTimeOriginal", "36868": "DateTimeDigitized", "37520": "SubsecTime", "37521": "SubsecTimeOriginal", "37522": "SubsecTimeDigitized", "33434": "ExposureTime", "33437": "FNumber", "34850": "ExposureProgram", "34852": "SpectralSensitivity", "34855": "ISOSpeedRatings", "34856": "OECF", "37377": "ShutterSpeedValue", "37378": "ApertureValue", "37379": "BrightnessValue", "37380": "ExposureBias", "37381": "MaxApertureValue", "37382": "SubjectDistance", "37383": "MeteringMode", "37384": "LightSource", "37385": "Flash", "37396": "SubjectArea", "37386": "FocalLength", "41483": "FlashEnergy", "41484": "SpatialFrequencyResponse", "41486": "FocalPlaneXResolution", "41487": "FocalPlaneYResolution", "41488": "FocalPlaneResolutionUnit", "41492": "SubjectLocation", "41493": "ExposureIndex", "41495": "SensingMethod", "41728": "FileSource", "41729": "SceneType", "41730": "CFAPattern", "41985": "CustomRendered", "41986": "ExposureMode", "41987": "WhiteBalance", "41988": "DigitalZoomRation", "41989": "FocalLengthIn35mmFilm", "41990": "SceneCaptureType", "41991": "GainControl", "41992": "Contrast", "41993": "Saturation", "41994": "Sharpness", "41995": "DeviceSettingDescription", "41996": "SubjectDistanceRange", "40965": "InteroperabilityIFDPointer", "42016": "ImageUniqueID" }, r = e.TiffTags = { "256": "ImageWidth", "257": "ImageHeight", "34665": "ExifIFDPointer", "34853": "GPSInfoIFDPointer", "40965": "InteroperabilityIFDPointer", "258": "BitsPerSample", "259": "Compression", "262": "PhotometricInterpretation", "274": "Orientation", "277": "SamplesPerPixel", "284": "PlanarConfiguration", "530": "YCbCrSubSampling", "531": "YCbCrPositioning", "282": "XResolution", "283": "YResolution", "296": "ResolutionUnit", "273": "StripOffsets", "278": "RowsPerStrip", "279": "StripByteCounts", "513": "JPEGInterchangeFormat", "514": "JPEGInterchangeFormatLength", "301": "TransferFunction", "318": "WhitePoint", "319": "PrimaryChromaticities", "529": "YCbCrCoefficients", "532": "ReferenceBlackWhite", "306": "DateTime", "270": "ImageDescription", "271": "Make", "272": "Model", "305": "Software", "315": "Artist", "33432": "Copyright" }, o = e.GPSTags = { "0": "GPSVersionID", "1": "GPSLatitudeRef", "2": "GPSLatitude", "3": "GPSLongitudeRef", "4": "GPSLongitude", "5": "GPSAltitudeRef", "6": "GPSAltitude", "7": "GPSTimeStamp", "8": "GPSSatellites", "9": "GPSStatus", "10": "GPSMeasureMode", "11": "GPSDOP", "12": "GPSSpeedRef", "13": "GPSSpeed", "14": "GPSTrackRef", "15": "GPSTrack", "16": "GPSImgDirectionRef", "17": "GPSImgDirection", "18": "GPSMapDatum", "19": "GPSDestLatitudeRef", "20": "GPSDestLatitude", "21": "GPSDestLongitudeRef", "22": "GPSDestLongitude", "23": "GPSDestBearingRef", "24": "GPSDestBearing", "25": "GPSDestDistanceRef", "26": "GPSDestDistance", "27": "GPSProcessingMethod", "28": "GPSAreaInformation", "29": "GPSDateStamp", "30": "GPSDifferential" }, i = e.IFD1Tags = { "256": "ImageWidth", "257": "ImageHeight", "258": "BitsPerSample", "259": "Compression", "262": "PhotometricInterpretation", "273": "StripOffsets", "274": "Orientation", "277": "SamplesPerPixel", "278": "RowsPerStrip", "279": "StripByteCounts", "282": "XResolution", "283": "YResolution", "284": "PlanarConfiguration", "296": "ResolutionUnit", "513": "JpegIFOffset", "514": "JpegIFByteCount", "529": "YCbCrCoefficients", "530": "YCbCrSubSampling", "531": "YCbCrPositioning", "532": "ReferenceBlackWhite" }, a = e.StringValues = { "ExposureProgram": { "0": "Not defined", "1": "Manual", "2": "Normal program", "3": "Aperture priority", "4": "Shutter priority", "5": "Creative program", "6": "Action program", "7": "Portrait mode", "8": "Landscape mode" }, "MeteringMode": { "0": "Unknown", "1": "Average", "2": "CenterWeightedAverage", "3": "Spot", "4": "MultiSpot", "5": "Pattern", "6": "Partial", "255": "Other" }, "LightSource": { "0": "Unknown", "1": "Daylight", "2": "Fluorescent", "3": "Tungsten (incandescent light)", "4": "Flash", "9": "Fine weather", "10": "Cloudy weather", "11": "Shade", "12": "Daylight fluorescent (D 5700 - 7100K)", "13": "Day white fluorescent (N 4600 - 5400K)", "14": "Cool white fluorescent (W 3900 - 4500K)", "15": "White fluorescent (WW 3200 - 3700K)", "17": "Standard light A", "18": "Standard light B", "19": "Standard light C", "20": "D55", "21": "D65", "22": "D75", "23": "D50", "24": "ISO studio tungsten", "255": "Other" }, "Flash": { "0": "Flash did not fire", "1": "Flash fired", "5": "Strobe return light not detected", "7": "Strobe return light detected", "9": "Flash fired, compulsory flash mode", "13": "Flash fired, compulsory flash mode, return light not detected", "15": "Flash fired, compulsory flash mode, return light detected", "16": "Flash did not fire, compulsory flash mode", "24": "Flash did not fire, auto mode", "25": "Flash fired, auto mode", "29": "Flash fired, auto mode, return light not detected", "31": "Flash fired, auto mode, return light detected", "32": "No flash function", "65": "Flash fired, red-eye reduction mode", "69": "Flash fired, red-eye reduction mode, return light not detected", "71": "Flash fired, red-eye reduction mode, return light detected", "73": "Flash fired, compulsory flash mode, red-eye reduction mode", "77": "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected", "79": "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected", "89": "Flash fired, auto mode, red-eye reduction mode", "93": "Flash fired, auto mode, return light not detected, red-eye reduction mode", "95": "Flash fired, auto mode, return light detected, red-eye reduction mode" }, "SensingMethod": { "1": "Not defined", "2": "One-chip color area sensor", "3": "Two-chip color area sensor", "4": "Three-chip color area sensor", "5": "Color sequential area sensor", "7": "Trilinear sensor", "8": "Color sequential linear sensor" }, "SceneCaptureType": { "0": "Standard", "1": "Landscape", "2": "Portrait", "3": "Night scene" }, "SceneType": { "1": "Directly photographed" }, "CustomRendered": { "0": "Normal process", "1": "Custom process" }, "WhiteBalance": { "0": "Auto white balance", "1": "Manual white balance" }, "GainControl": { "0": "None", "1": "Low gain up", "2": "High gain up", "3": "Low gain down", "4": "High gain down" }, "Contrast": { "0": "Normal", "1": "Soft", "2": "Hard" }, "Saturation": { "0": "Normal", "1": "Low saturation", "2": "High saturation" }, "Sharpness": { "0": "Normal", "1": "Soft", "2": "Hard" }, "SubjectDistanceRange": { "0": "Unknown", "1": "Macro", "2": "Close view", "3": "Distant view" }, "FileSource": { "3": "DSC" }, "Components": { "0": "", "1": "Y", "2": "Cb", "3": "Cr", "4": "R", "5": "G", "6": "B" } }; function imageHasData(e) { return !!e.exifdata } function getImageData(t, r) { function handleBinaryFile(n) { var o = findEXIFinJPEG(n); t.exifdata = o || {}; var i = function findIPTCinJPEG(t) { var r = new DataView(t); e.debug && console.log("Got file of length " + t.byteLength); if (255 != r.getUint8(0) || 216 != r.getUint8(1)) return e.debug && console.log("Not a valid JPEG"), !1; var n = 2, o = t.byteLength, i = function isFieldSegmentStart(e, t) { return 56 === e.getUint8(t) && 66 === e.getUint8(t + 1) && 73 === e.getUint8(t + 2) && 77 === e.getUint8(t + 3) && 4 === e.getUint8(t + 4) && 4 === e.getUint8(t + 5) }; for (; n < o;) { if (i(r, n)) { var a = r.getUint8(n + 7); a % 2 != 0 && (a += 1), 0 === a && (a = 4); var s = n + 8 + a, c = r.getUint16(n + 6 + a); return readIPTCData(t, s, c) } n++ } }(n); if (t.iptcdata = i || {}, e.isXmpEnabled) { var a = function findXMPinJPEG(t) { if (!("DOMParser" in self)) return; var r = new DataView(t); e.debug && console.log("Got file of length " + t.byteLength); if (255 != r.getUint8(0) || 216 != r.getUint8(1)) return e.debug && console.log("Not a valid JPEG"), !1; var n = 2, o = t.byteLength, i = new DOMParser; for (; n < o - 4;) { if ("http" == getStringFromDB(r, n, 4)) { var a = n - 1, s = r.getUint16(n - 2) - 1, c = getStringFromDB(r, a, s), u = c.indexOf("xmpmeta>") + 8, l = (c = c.substring(c.indexOf("<x:xmpmeta"), u)).indexOf("x:xmpmeta") + 10; c = c.slice(0, l) + 'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" ' + c.slice(l); var f = i.parseFromString(c, "text/xml"); return xml2Object(f) } n++ } }(n); t.xmpdata = a || {} } r && r.call(t) } if (t.src) if (/^data\:/i.test(t.src)) handleBinaryFile(function base64ToArrayBuffer(e, t) { t = t || e.match(/^data\:([^\;]+)\;base64,/im)[1] || "", e = e.replace(/^data\:([^\;]+)\;base64,/gim, ""); for (var r = atob(e), n = r.length, o = new ArrayBuffer(n), i = new Uint8Array(o), a = 0; a < n; a++)i[a] = r.charCodeAt(a); return o }(t.src)); else if (/^blob\:/i.test(t.src)) { (o = new FileReader).onload = function (e) { handleBinaryFile(e.target.result) }, function objectURLToBlob(e, t) { var r = new XMLHttpRequest; r.open("GET", e, !0), r.responseType = "blob", r.onload = function (e) { 200 != this.status && 0 !== this.status || t(this.response) }, r.send() }(t.src, function (e) { o.readAsArrayBuffer(e) }) } else { var n = new XMLHttpRequest; n.onload = function () { if (200 != this.status && 0 !== this.status) throw "Could not load image"; handleBinaryFile(n.response), n = null }, n.onerror = function (e) { r && r({ "error": e }) }, n.open("GET", t.src, !0), n.responseType = "arraybuffer", n.send(null) } else if (self.FileReader && (t instanceof self.Blob || t instanceof self.File)) { var o; (o = new FileReader).onload = function (t) { e.debug && console.log("Got file of length " + t.target.result.byteLength), handleBinaryFile(t.target.result) }, o.readAsArrayBuffer(t) } } function findEXIFinJPEG(t) { var r = new DataView(t); if (e.debug && console.log("Got file of length " + t.byteLength), 255 != r.getUint8(0) || 216 != r.getUint8(1)) return e.debug && console.log("Not a valid JPEG"), !1; for (var n, o = 2, i = t.byteLength; o < i;) { if (255 != r.getUint8(o)) return e.debug && console.log("Not a valid marker at offset " + o + ", found: " + r.getUint8(o)), !1; if (n = r.getUint8(o + 1), e.debug && console.log(n), 225 == n) return e.debug && console.log("Found 0xFFE1 marker"), readEXIFData(r, o + 4, r.getUint16(o + 2)); o += 2 + r.getUint16(o + 2) } } var s = { "120": "caption", "110": "credit", "25": "keywords", "55": "dateCreated", "80": "byline", "85": "bylineTitle", "122": "captionWriter", "105": "headline", "116": "copyright", "15": "category" }; function readIPTCData(e, t, r) { for (var n, o, i, a, c = new DataView(e), u = {}, l = t; l < t + r;)28 === c.getUint8(l) && 2 === c.getUint8(l + 1) && (a = c.getUint8(l + 2)) in s && (i = c.getInt16(l + 3), o = s[a], n = getStringFromDB(c, l + 5, i), u.hasOwnProperty(o) ? u[o] instanceof Array ? u[o].push(n) : u[o] = [u[o], n] : u[o] = n), l++; return u } function readTags(t, r, n, o, i) { var a, s, c, u = t.getUint16(n, !i), l = {}; for (c = 0; c < u; c++)a = n + 12 * c + 2, !(s = o[t.getUint16(a, !i)]) && e.debug && console.log("Unknown tag: " + t.getUint16(a, !i)), l[s] = readTagValue(t, a, r, n, i); return l } function readTagValue(e, t, r, n, o) { var i, a, s, c, u, l, f = e.getUint16(t + 2, !o), d = e.getUint32(t + 4, !o), p = e.getUint32(t + 8, !o) + r; switch (f) { case 1: case 7: if (1 == d) return e.getUint8(t + 8, !o); for (i = d > 4 ? p : t + 8, a = [], c = 0; c < d; c++)a[c] = e.getUint8(i + c); return a; case 2: return getStringFromDB(e, i = d > 4 ? p : t + 8, d - 1); case 3: if (1 == d) return e.getUint16(t + 8, !o); for (i = d > 2 ? p : t + 8, a = [], c = 0; c < d; c++)a[c] = e.getUint16(i + 2 * c, !o); return a; case 4: if (1 == d) return e.getUint32(t + 8, !o); for (a = [], c = 0; c < d; c++)a[c] = e.getUint32(p + 4 * c, !o); return a; case 5: if (1 == d) return u = e.getUint32(p, !o), l = e.getUint32(p + 4, !o), (s = new Number(u / l)).numerator = u, s.denominator = l, s; for (a = [], c = 0; c < d; c++)u = e.getUint32(p + 8 * c, !o), l = e.getUint32(p + 4 + 8 * c, !o), a[c] = new Number(u / l), a[c].numerator = u, a[c].denominator = l; return a; case 9: if (1 == d) return e.getInt32(t + 8, !o); for (a = [], c = 0; c < d; c++)a[c] = e.getInt32(p + 4 * c, !o); return a; case 10: if (1 == d) return e.getInt32(p, !o) / e.getInt32(p + 4, !o); for (a = [], c = 0; c < d; c++)a[c] = e.getInt32(p + 8 * c, !o) / e.getInt32(p + 4 + 8 * c, !o); return a } } function getStringFromDB(e, t, r) { for (var n = "", o = t; o < t + r; o++)n += String.fromCharCode(e.getUint8(o)); return n } function readEXIFData(n, s) { if ("Exif" != getStringFromDB(n, s, 4)) return e.debug && console.log("Not valid EXIF data! " + getStringFromDB(n, s, 4)), !1; var c, u, l, f, d, p = s + 6; if (18761 == n.getUint16(p)) c = !1; else { if (19789 != n.getUint16(p)) return e.debug && console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"), !1; c = !0 } if (42 != n.getUint16(p + 2, !c)) return e.debug && console.log("Not valid TIFF data! (no 0x002A)"), !1; var h = n.getUint32(p + 4, !c); if (h < 8) return e.debug && console.log("Not valid TIFF data! (First offset less than 8)", n.getUint32(p + 4, !c)), !1; if ((u = readTags(n, p, p + h, r, c)).ExifIFDPointer) for (l in f = readTags(n, p, p + u.ExifIFDPointer, t, c)) { switch (l) { case "LightSource": case "Flash": case "MeteringMode": case "ExposureProgram": case "SensingMethod": case "SceneCaptureType": case "SceneType": case "CustomRendered": case "WhiteBalance": case "GainControl": case "Contrast": case "Saturation": case "Sharpness": case "SubjectDistanceRange": case "FileSource": f[l] = a[l][f[l]]; break; case "ExifVersion": case "FlashpixVersion": f[l] = String.fromCharCode(f[l][0], f[l][1], f[l][2], f[l][3]); break; case "ComponentsConfiguration": f[l] = a.Components[f[l][0]] + a.Components[f[l][1]] + a.Components[f[l][2]] + a.Components[f[l][3]] }u[l] = f[l] } if (u.GPSInfoIFDPointer) for (l in d = readTags(n, p, p + u.GPSInfoIFDPointer, o, c)) { switch (l) { case "GPSVersionID": d[l] = d[l][0] + "." + d[l][1] + "." + d[l][2] + "." + d[l][3] }u[l] = d[l] } return u.thumbnail = function readThumbnailImage(e, t, r, n) { var o = function getNextIFDOffset(e, t, r) { var n = e.getUint16(t, !r); return e.getUint32(t + 2 + 12 * n, !r) }(e, t + r, n); if (!o) return {}; if (o > e.byteLength) return {}; var a = readTags(e, t, t + o, i, n); if (a.Compression) switch (a.Compression) { case 6: if (a.JpegIFOffset && a.JpegIFByteCount) { var s = t + a.JpegIFOffset, c = a.JpegIFByteCount; a.blob = new Blob([new Uint8Array(e.buffer, s, c)], { "type": "image/jpeg" }) } break; case 1: console.log("Thumbnail image format is TIFF, which is not implemented."); break; default: console.log("Unknown thumbnail image format '%s'", a.Compression) } else 2 == a.PhotometricInterpretation && console.log("Thumbnail image format is RGB, which is not implemented."); return a }(n, p, h, c), u } function xml2json(e) { var t = {}; if (1 == e.nodeType) { if (e.attributes.length > 0) { t["@attributes"] = {}; for (var r = 0; r < e.attributes.length; r++) { var n = e.attributes.item(r); t["@attributes"][n.nodeName] = n.nodeValue } } } else if (3 == e.nodeType) return e.nodeValue; if (e.hasChildNodes()) for (var o = 0; o < e.childNodes.length; o++) { var i = e.childNodes.item(o), a = i.nodeName; if (null == t[a]) t[a] = xml2json(i); else { if (null == t[a].push) { var s = t[a]; t[a] = [], t[a].push(s) } t[a].push(xml2json(i)) } } return t } function xml2Object(e) { try { var t = {}; if (e.children.length > 0) for (var r = 0; r < e.children.length; r++) { var n = e.children.item(r), o = n.attributes; for (var i in o) { var a = o[i], s = a.nodeName, c = a.nodeValue; void 0 !== s && (t[s] = c) } var u = n.nodeName; if (void 0 === t[u]) t[u] = xml2json(n); else { if (void 0 === t[u].push) { var l = t[u]; t[u] = [], t[u].push(l) } t[u].push(xml2json(n)) } } else t = e.textContent; return t } catch (e) { console.log(e.message) } } return e.enableXmp = function () { e.isXmpEnabled = !0 }, e.disableXmp = function () { e.isXmpEnabled = !1 }, e.getData = function (e, t) { return !((self.Image && e instanceof self.Image || self.HTMLImageElement && e instanceof self.HTMLImageElement) && !e.complete) && (imageHasData(e) ? t && t.call(e) : getImageData(e, t), !0) }, e.getTag = function (e, t) { if (imageHasData(e)) return e.exifdata[t] }, e.getIptcTag = function (e, t) { if (imageHasData(e)) return e.iptcdata[t] }, e.getAllTags = function (e) { if (!imageHasData(e)) return {}; var t, r = e.exifdata, n = {}; for (t in r) r.hasOwnProperty(t) && (n[t] = r[t]); return n }, e.getAllIptcTags = function (e) { if (!imageHasData(e)) return {}; var t, r = e.iptcdata, n = {}; for (t in r) r.hasOwnProperty(t) && (n[t] = r[t]); return n }, e.pretty = function (e) { if (!imageHasData(e)) return ""; var t, r = e.exifdata, o = ""; for (t in r) r.hasOwnProperty(t) && ("object" == n(r[t]) ? r[t] instanceof Number ? o += t + " : " + r[t] + " [" + r[t].numerator + "/" + r[t].denominator + "]\r\n" : o += t + " : [" + r[t].length + " values]\r\n" : o += t + " : " + r[t] + "\r\n"); return o }, e.readFromBinaryFile = function (e) { return findEXIFinJPEG(e) }, e } function getImageInfo(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r = e; g() && "string" == typeof r && (r = r.replace(/[\r\n]/g, "")); var n = exif(); return new Promise(function (e) { try { if (n.debug = t, "string" == typeof r) { var o = document.createElement("img"); o.src = r, o.onload = function () { n.getData(o, function (r) { if (r && r.error) e({}); else { var i = n.getAllTags(o); t && console.log("获取到的图片信息为", i), e(i) } }) } } else n.getData(r, function () { var o = n.getAllTags(r); t && console.log("获取到的图片信息为", o), e(o) }) } catch (t) { e({}) } }) } "object" === (void 0 === e ? "undefined" : _typeof(e)) ? e.eventCenter = I : "object" === ("undefined" == typeof my ? "undefined" : _typeof(my)) && (my.eventCenter = I) }.call(this, r(14)) }, function (e, t, r) { "use strict"; (function (e) { r.d(t, "b", function () { return U }), r.d(t, "d", function () { return Q }), r.d(t, "e", function () { return getEnv }), r.d(t, "a", function () { return N }), r.d(t, "j", function () { return render }), r.d(t, "h", function () { return get }), r.d(t, "i", function () { return set$1 }), r.d(t, "f", function () { return initPxTransform }), r.d(t, "c", function () { return G }), r.d(t, "g", function () { return V }), r.d(t, "k", function () { return useEffect }), r.d(t, "m", function () { return useState }), r.d(t, "l", function () { return useRef }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : n(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : n(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } "function" != typeof Object.assign && (Object.assign = function (e) { if (null == e) throw new TypeError("Cannot convert undefined or null to object"); for (var t = Object(e), r = 1; r < arguments.length; r++) { var n = arguments[r]; if (null != n) for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o]) } return t }), "function" != typeof Object.defineProperties && (Object.defineProperties = function (e, t) { function convertToDescriptor(e) { function hasProperty(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function isCallable(e) { return "function" == typeof e } if ("object" !== _typeof(e) || null === e) throw new TypeError("bad desc"); var t = {}; if (hasProperty(e, "enumerable") && (t.enumerable = !!e.enumerable), hasProperty(e, "configurable") && (t.configurable = !!e.configurable), hasProperty(e, "value") && (t.value = e.value), hasProperty(e, "writable") && (t.writable = !!e.writable), hasProperty(e, "get")) { var r = e.get; if (!isCallable(r) && void 0 !== r) throw new TypeError("bad get"); t.get = r } if (hasProperty(e, "set")) { var n = e.set; if (!isCallable(n) && void 0 !== n) throw new TypeError("bad set"); t.set = n } if (("get" in t || "set" in t) && ("value" in t || "writable" in t)) throw new TypeError("identity-confused descriptor"); return t } if ("object" !== _typeof(e) || null === e) throw new TypeError("bad obj"); t = Object(t); for (var r = Object.keys(t), n = [], o = 0; o < r.length; o++)n.push([r[o], convertToDescriptor(t[r[o]])]); for (o = 0; o < n.length; o++)Object.defineProperty(e, n[o][0], n[o][1]); return e }); var o = "Expected a function", i = "__lodash_hash_undefined__", a = 1 / 0, s = "[object Function]", c = "[object GeneratorFunction]", u = "[object Symbol]", l = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, f = /^\w*$/, d = /^\./, p = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, h = /\\(\\)?/g, m = /^\[object .+?Constructor\]$/, g = "object" === (void 0 === e ? "undefined" : _typeof(e)) && e && e.Object === Object && e, v = "object" === ("undefined" == typeof self ? "undefined" : _typeof(self)) && self && self.Object === Object && self, y = g || v || Function("return this")(), b = 9007199254740991, S = /^(?:0|[1-9]\d*)$/; var _, w = Array.prototype, A = Function.prototype, C = Object.prototype, T = y["__core-js_shared__"], P = (_ = /[^.]+$/.exec(T && T.keys && T.keys.IE_PROTO || "")) ? "Symbol(src)_1." + _ : "", k = A.toString, E = C.hasOwnProperty, x = C.toString, O = RegExp("^" + k.call(E).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), I = y.Symbol, R = w.splice, M = getNative(y, "Map"), B = getNative(Object, "create"), D = I ? I.prototype : void 0, j = D ? D.toString : void 0; function Hash(e) { var t = -1, r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function ListCache(e) { var t = -1, r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function MapCache(e) { var t = -1, r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0], n[1]) } } function assocIndexOf(e, t) { for (var r = e.length; r--;)if (eq(e[r][0], t)) return r; return -1 } function baseGet(e, t) { for (var r = 0, n = (t = function isKey(e, t) { if (L(e)) return !1; var r = _typeof(e); if ("number" == r || "symbol" == r || "boolean" == r || null == e || isSymbol(e)) return !0; return f.test(e) || !l.test(e) || null != t && e in Object(t) }(t, e) ? [t] : castPath(t)).length; null != e && r < n;)e = e[toKey(t[r++])]; return r && r == n ? e : void 0 } function baseIsNative(e) { return !(!isObject(e) || function isMasked(e) { return !!P && P in e }(e)) && (function isFunction(e) { var t = isObject(e) ? x.call(e) : ""; return t == s || t == c }(e) || function isHostObject(e) { var t = !1; if (null != e && "function" != typeof e.toString) try { t = !!(e + "") } catch (e) { } return t }(e) ? O : m).test(function toSource(e) { if (null != e) { try { return k.call(e) } catch (e) { } try { return e + "" } catch (e) { } } return "" }(e)) } function castPath(e) { return L(e) ? e : F(e) } function getMapData(e, t) { var r = e.__data__; return function isKeyable(e) { var t = _typeof(e); return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e }(t) ? r["string" == typeof t ? "string" : "hash"] : r.map } function getNative(e, t) { var r = function getValue(e, t) { return null == e ? void 0 : e[t] }(e, t); return baseIsNative(r) ? r : void 0 } Hash.prototype.clear = function hashClear() { this.__data__ = B ? B(null) : {} }, Hash.prototype.delete = function hashDelete(e) { return this.has(e) && delete this.__data__[e] }, Hash.prototype.get = function hashGet(e) { var t = this.__data__; if (B) { var r = t[e]; return r === i ? void 0 : r } return E.call(t, e) ? t[e] : void 0 }, Hash.prototype.has = function hashHas(e) { var t = this.__data__; return B ? void 0 !== t[e] : E.call(t, e) }, Hash.prototype.set = function hashSet(e, t) { return this.__data__[e] = B && void 0 === t ? i : t, this }, ListCache.prototype.clear = function listCacheClear() { this.__data__ = [] }, ListCache.prototype.delete = function listCacheDelete(e) { var t = this.__data__, r = assocIndexOf(t, e); return !(r < 0 || (r == t.length - 1 ? t.pop() : R.call(t, r, 1), 0)) }, ListCache.prototype.get = function listCacheGet(e) { var t = this.__data__, r = assocIndexOf(t, e); return r < 0 ? void 0 : t[r][1] }, ListCache.prototype.has = function listCacheHas(e) { return assocIndexOf(this.__data__, e) > -1 }, ListCache.prototype.set = function listCacheSet(e, t) { var r = this.__data__, n = assocIndexOf(r, e); return n < 0 ? r.push([e, t]) : r[n][1] = t, this }, MapCache.prototype.clear = function mapCacheClear() { this.__data__ = { "hash": new Hash, "map": new (M || ListCache), "string": new Hash } }, MapCache.prototype.delete = function mapCacheDelete(e) { return getMapData(this, e).delete(e) }, MapCache.prototype.get = function mapCacheGet(e) { return getMapData(this, e).get(e) }, MapCache.prototype.has = function mapCacheHas(e) { return getMapData(this, e).has(e) }, MapCache.prototype.set = function mapCacheSet(e, t) { return getMapData(this, e).set(e, t), this }; var F = memoize(function (e) { e = function toString(e) { return null == e ? "" : function baseToString(e) { if ("string" == typeof e) return e; if (isSymbol(e)) return j ? j.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -a ? "-0" : t }(e) }(e); var t = []; return d.test(e) && t.push(""), e.replace(p, function (e, r, n, o) { t.push(n ? o.replace(h, "$1") : r || e) }), t }); function toKey(e) { if ("string" == typeof e || isSymbol(e)) return e; var t = e + ""; return "0" == t && 1 / e == -a ? "-0" : t } function memoize(e, t) { if ("function" != typeof e || t && "function" != typeof t) throw new TypeError(o); var r = function memoized() { var r = arguments, n = t ? t.apply(this, r) : r[0], o = memoized.cache; if (o.has(n)) return o.get(n); var i = e.apply(this, r); return memoized.cache = o.set(n, i), i }; return r.cache = new (memoize.Cache || MapCache), r } function eq(e, t) { return e === t || e != e && t != t } memoize.Cache = MapCache; var L = Array.isArray; function isObject(e) { var t = _typeof(e); return !!e && ("object" == t || "function" == t) } function isSymbol(e) { return "symbol" === _typeof(e) || function isObjectLike(e) { return !!e && "object" === _typeof(e) }(e) && x.call(e) == u } function isIndex(e, t) { var r = _typeof(e); return !!(t = null == t ? b : t) && ("number" == r || "symbol" != r && S.test(e)) && e > -1 && e % 1 == 0 && e < t } E = Object.prototype.hasOwnProperty; function assignValue(e, t, r) { var n = e[t]; E.call(e, t) && eq(n, r) && (void 0 !== r || t in e) || function baseAssignValue(e, t, r) { "__proto__" == t ? Object.defineProperty(e, t, { "configurable": !0, "enumerable": !0, "value": r, "writable": !0 }) : e[t] = r }(e, t, r) } function get(e, t, r) { var n = null == e ? void 0 : baseGet(e, t); return void 0 === n ? r : n } function set$1(e, t, r) { return null == e ? e : function baseSet(e, t, r, n) { if (!isObject(e)) return e; for (var o = (t = castPath(t)).length, i = o - 1, a = -1, s = e; null != s && ++a < o;) { var c = toKey(t[a]), u = r; if (a != i) { var l = s[c]; void 0 === (u = n ? n(l, c, s) : void 0) && (u = isObject(l) ? l : isIndex(t[a + 1]) ? [] : {}) } assignValue(s, c, u), s = s[c] } return e }(e, t, r) } var N = { "WEAPP": "WEAPP", "WEB": "WEB", "RN": "RN", "SWAN": "SWAN", "ALIPAY": "ALIPAY", "QUICKAPP": "QUICKAPP", "TT": "TT", "QQ": "QQ", "JD": "JD" }, H = null; function getEnv() { return H || ("undefined" != typeof jd && jd.getSystemInfo ? (H = N.JD, N.JD) : "undefined" != typeof qq && qq.getSystemInfo ? (H = N.QQ, N.QQ) : "undefined" != typeof tt && tt.getSystemInfo ? (H = N.TT, N.TT) : "undefined" != typeof wx && wx.getSystemInfo ? (H = N.WEAPP, N.WEAPP) : "undefined" != typeof qa && qa.getSystemInfo ? (H = N.QUICKAPP, N.QUICKAPP) : "undefined" != typeof swan && swan.getSystemInfo ? (H = N.SWAN, N.SWAN) : "undefined" != typeof my && my.getSystemInfo ? (H = N.ALIPAY, N.ALIPAY) : void 0 !== e && e.__fbGenNativeModule ? (H = N.RN, N.RN) : "undefined" != typeof window ? (H = N.WEB, N.WEB) : "Unknown environment") } var U = function () { function Events(e) { _classCallCheck(this, Events), void 0 !== e && e.callbacks ? this.callbacks = e.callbacks : this.callbacks = {} } return _createClass(Events, [{ "key": "on", "value": function on(e, t, r) { var n, o, i, a, s; if (!t) return this; for (e = e.split(Events.eventSplitter), n = this.callbacks; o = e.shift();)(i = (s = n[o]) ? s.tail : {}).next = a = {}, i.context = r, i.callback = t, n[o] = { "tail": a, "next": s ? s.next : i }; return this } }, { "key": "once", "value": function once(e, t, r) { var n = this; return this.on(e, function wrapper() { for (var o = arguments.length, i = new Array(o), a = 0; a < o; a++)i[a] = arguments[a]; t.apply(n, i), n.off(e, wrapper, r) }, r), this } }, { "key": "off", "value": function off(e, t, r) { var n, o, i, a, s, c; if (!(o = this.callbacks)) return this; if (!(e || t || r)) return delete this.callbacks, this; for (e = e ? e.split(Events.eventSplitter) : Object.keys(o); n = e.shift();)if (i = o[n], delete o[n], i && (t || r)) for (a = i.tail; (i = i.next) !== a;)s = i.callback, c = i.context, (t && s !== t || r && c !== r) && this.on(n, s, c); return this } }, { "key": "trigger", "value": function trigger(e) { var t, r, n, o, i; if (!(n = this.callbacks)) return this; for (e = e.split(Events.eventSplitter), i = [].slice.call(arguments, 1); t = e.shift();)if (r = n[t]) for (o = r.tail; (r = r.next) !== o;)r.callback.apply(r.context || this, i); return this } }]), Events }(); function render() { } U.eventSplitter = /\s+/; var W = function () { function Chain(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; _classCallCheck(this, Chain), this.index = r, this.requestParams = e, this.interceptors = t } return _createClass(Chain, [{ "key": "proceed", "value": function proceed(e) { if (this.requestParams = e, this.index >= this.interceptors.length) throw new Error("chain 参数错误, 请勿直接修改 request.chain"); var t = this._getNextInterceptor()(this._getNextChain()), r = t.catch(function (e) { return Promise.reject(e) }); return "function" == typeof t.abort && (r.abort = t.abort), r } }, { "key": "_getNextInterceptor", "value": function _getNextInterceptor() { return this.interceptors[this.index] } }, { "key": "_getNextChain", "value": function _getNextChain() { return new Chain(this.requestParams, this.interceptors, this.index + 1) } }]), Chain }(), G = function () { function Link(e) { _classCallCheck(this, Link), this.taroInterceptor = e, this.chain = new W } return _createClass(Link, [{ "key": "request", "value": function request(e) { var t = this; return this.chain.interceptors = this.chain.interceptors.filter(function (e) { return e !== t.taroInterceptor }), this.chain.interceptors.push(this.taroInterceptor), this.chain.proceed(function _objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}, n = Object.keys(r); "function" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(r).filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable }))), n.forEach(function (t) { _defineProperty(e, t, r[t]) }) } return e }({}, e)) } }, { "key": "addInterceptor", "value": function addInterceptor(e) { this.chain.interceptors.push(e) } }, { "key": "cleanInterceptors", "value": function cleanInterceptors() { this.chain = new W } }]), Link }(); var V = Object.freeze({ "timeoutInterceptor": function timeoutInterceptor(e) { var t, r = e.requestParams, n = new Promise(function (n, o) { var i = setTimeout(function () { i = null, o(new Error("网络链接超时,请稍后再试！")) }, r && r.timeout || 6e4); (t = e.proceed(r)).then(function (e) { i && (clearTimeout(i), n(e)) }).catch(function (e) { i && clearTimeout(i), o(e) }) }); return "function" == typeof t.abort && (n.abort = t.abort), n }, "logInterceptor": function logInterceptor(e) { var t = e.requestParams, r = t.method, n = t.data, o = t.url; console.log("http ".concat(r || "GET", " --\x3e ").concat(o, " data: "), n); var i = e.proceed(t), a = i.then(function (e) { return console.log("http <-- ".concat(o, " result:"), e), e }); return "function" == typeof i.abort && (a.abort = i.abort), a } }); function initPxTransform(e) { var t = e.designWidth, r = void 0 === t ? 700 : t, n = e.deviceRatio, o = void 0 === n ? { "640": 1.17, "750": 1, "828": .905 } : n; this.config = this.config || {}, this.config.designWidth = r, this.config.deviceRatio = o } function objectIs(e, t) { return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t } function isFunction$1(e) { return "function" == typeof e } var q = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout; function isUndefined(e) { return void 0 === e } function isNullOrUndef(e) { return isUndefined(e) || null === e } var z; function forceUpdateCallback() { } function getHooks(e) { if (null === z.current) throw new Error("invalid hooks call: hooks can only be called in a stateless component."); var t = z.current.hooks; return e >= t.length && t.push({}), t[e] } function useState(e) { isFunction$1(e) && (e = e()); var t = getHooks(z.index++); return t.state || (t.component = z.current, t.state = [e, function (e) { var r = isFunction$1(e) ? e(t.state[0]) : e; t.state[0] !== r && (t.state[0] = r, t.component._disable = !1, t.component.setState({}, forceUpdateCallback)) }]), t.state } function areDepsChanged(e, t) { return !(!isNullOrUndef(e) && !isNullOrUndef(t)) || t.some(function (t, r) { return !objectIs(t, e[r]) }) } function invokeEffects(e, t) { (t ? e.effects : e.layoutEffects).forEach(function (e) { isFunction$1(e.cleanup) && e.cleanup(); var t = e.effect(); isFunction$1(t) && (e.cleanup = t) }), t ? e.effects = [] : e.layoutEffects = [] } z = { "current": null, "index": 0 }; var X = []; function useEffectImpl(e, t, r) { var n = getHooks(z.index++); !z.current._disableEffect && z.current.__isReady && areDepsChanged(n.deps, t) && (n.effect = e, n.deps = t, r ? (z.current.effects = z.current.effects.concat(n), function invokeScheduleEffects(e) { e._afterScheduleEffect || (e._afterScheduleEffect = !0, X.push(e), 1 === X.length && q(function () { setTimeout(function () { X.forEach(function (e) { e._afterScheduleEffect = !1, invokeEffects(e, !0) }), X = [] }, 0) })) }(z.current)) : z.current.layoutEffects = z.current.layoutEffects.concat(n)) } function useEffect(e, t) { useEffectImpl(e, t, !0) } function useRef(e) { var t = getHooks(z.index++); return t.ref || (t.ref = { "current": e }), t.ref } var Q; Object.is; Q = new U }).call(this, r(14)) }, function (e, t, r) { "use strict"; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; t.__assign = function () { return t.__assign = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }, t.__assign.apply(this, arguments) }; var o, i = { "default": { "se": "wx2c5ee5eaf031f7d4", "se1": "wx4663c2c81cfa999b", "st1": "wxa6a29c0f2bfc6302", "st2": "wx2ff17bcc587d29b0", "uat": "wx7dbd8d74122e7689", "uat1": "wx5b6104c575b33e63", "prod": "wx34a2dec2bb3e9b96" }, "1WEC": { "st1": "wxa6a29c0f2bfc6302", "st2": "wx2ff17bcc587d29b0", "prod": "wx4e509d735d3b9573" }, "14WEC": { "st1": "wxa6a29c0f2bfc6302", "prod": "wxc50146836febe0ea" }, "2WEC": { "st1": "wxa6a29c0f2bfc6302", "st2": "wx2ff17bcc587d29b0", "uat": "wx7dbd8d74122e7689", "prod": "wx05de94d684cd8483" }, "12WEC": { "st": "wx2c5ee5eaf031f7d4", "st1": "wxa6a29c0f2bfc6302", "st2": "wx2ff17bcc587d29b0", "uat": "wx7dbd8d74122e7689", "sit": "wx7cab9e5a5de13ffc", "prod": "wx00a8fcb5f58464c2" }, "26WEC": { "st1": "wxa6a29c0f2bfc6302", "st2": "wx2ff17bcc587d29b0", "uat": "wx7dbd8d74122e7689", "prod": "wx34a2dec2bb3e9b96" } }, a = "yts-mes-web/wechat/getSignatureByUrl.json", s = { "se": "https://yts-se.xll.cn/" + a, "se1": "https://yts-se1.xll.cn/" + a, "st1": "https://yts-st1.xll.cn/" + a, "st2": "https://yts-st2.xll.cn/" + a, "uat": "https://rts-uat.xll.cn/" + a, "uat1": "https://rts-uat1.xll.cn/" + a, "prod": "https://rts.xll.com/" + a }; (o = t.ErrMsg || (t.ErrMsg = {})).API_NOT_EXIST = "api_not_exist", o.INVOKE_FAIL = "api_invoke_fail"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : n(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : n(e) })(e) } var c = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : "", u = (/micromessenger/i.test(c), /(iphone|ipad|ipod|ios)/i.test(c)), l = /(android)/i.test(c), f = (/muapp\//i.test(c), /(alipayclient)/i.test(c), /unicom/i.test(c), /MPBank\//i.test(c), /micromessenger/.test(c) && /wxwork/.test(c)), d = (/phd_native_app/.test(c), function getUnicomVersion() { var e = ""; return l ? e = c.slice(c.indexOf("android@") + 8, c.indexOf(",desmobile")) : u && (e = c.slice(c.indexOf("iphone_c@") + 9, c.indexOf("}"))), e }); function getChannel() { return function extractChannelFromUrl() { var e = window.location.pathname.match(/^\/([0-9a-zA-Z])+\//g); return e && e.length > 0 ? e[0].replace(/\//g, "") : "" }() || "MOCK" } function getParameterError(e) { var t = e.para ? "parameter." + e.para : "parameter", r = function upperCaseFirstLetter(e) { return "string" != typeof e ? e : e = e.replace(/^./, function (e) { return e.toUpperCase() }) }(null === e.wrong ? "Null" : _typeof(e.wrong)); return name + ":fail parameter error: " + t + " should be " + e.correct + " instead of " + r } var p = function getParamFromSearch(e) { var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), r = window.location.search.indexOf("?"); if (-1 !== r) { var n = window.location.search.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } }, h = function getParamFromHash(e) { var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), r = window.location.hash.indexOf("?"); if (window.location.hash.indexOf("#") > -1) { if (-1 === r) return; var n = window.location.hash.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } var o = new RegExp("[?&]" + e + "=([^&]+)", "gmi"), i = window.location.href; return o.test(i) ? RegExp.$1 : "" }; function isObject(e) { return "[object Object]" === Object.prototype.toString.call(e) } function isString(e) { return "[object String]" === Object.prototype.toString.call(e) } t.CMB_ZH_PARAMS = { "st": { "subscriptionID": "600000001055", "appId": "12c047e1cda105afbb567463c316730f", "shopName": "xll测试" }, "prod": { "subscriptionID": "600000000851", "appId": "27030a8c09069778f53118749b7b099d", "shopName": "xll金融" } }, t.LBS_CODE = { "refuse": 999, "error": -999, "others": 1111, "default": -999 }, t.WXWORK_APPID_MAP = { "st": "wx36d7affa49633bbc", "st1": "wxf9a663b73de4db27", "st2": "wx4df676849c1f6a5c", "prod": "wx6cd524a4496a67c8", "uat": "ww4717eb76986f6276" }, t.WXWORK_SIGNATURE = s, t.__awaiter = function __awaiter(e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) }, t.__generator = function __generator(e, t) { var r, n, o, i, a = { "label": 0, "sent": function sent() { if (1 & o[0]) throw o[1]; return o[1] }, "trys": [], "ops": [] }; return i = { "next": verb(0), "throw": verb(1), "return": verb(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function verb(i) { return function (s) { return function step(i) { if (r) throw new TypeError("Generator is already executing."); for (; a;)try { if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o; switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return a.label++, { "value": i[1], "done": !1 }; case 5: a.label++, n = i[1], i = [0]; continue; case 7: i = a.ops.pop(), a.trys.pop(); continue; default: if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) { a = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { a.label = i[1]; break } if (6 === i[0] && a.label < o[1]) { a.label = o[1], o = i; break } if (o && a.label < o[2]) { a.label = o[2], a.ops.push(i); break } o[2] && a.ops.pop(), a.trys.pop(); continue }i = t.call(e, a) } catch (e) { i = [6, e], n = 0 } finally { r = o = 0 } if (5 & i[0]) throw i[1]; return { "value": i[0] ? i[1] : void 0, "done": !0 } }([i, s]) } } }, t._typeof = _typeof, t.adaperChooseContactParams = function adaperChooseContactParams(e, r) { void 0 === e && (e = {}); var n = { "cmb": function cmb(e) { return { "action": { "single": "selectContact", "multi": "matchContact" }[e.type || "single"] } }(e), "alipay": { "type": e.type || "single" } }; return t.__assign(t.__assign({}, e), n[r] || {}) }, t.adaperContactRes = function adaperContactRes(e, r) { return void 0 === e && (e = {}), { "cmb": t.__assign({ "userName": e.name || "", "userPhone": e.phoneNumber || "" }, e), "alipay": t.__assign({ "userName": e.contacts && e.contacts.name || "", "userPhone": e.contacts && e.contacts.mobile || "" }, e), "muapp": t.__assign({ "userName": e.username || "", "userPhone": e.userphone || "" }, e) }[r] || e }, t.adaperSourceType = function adaperSourceType(e, t) { var r = [], n = { "alipay": { "user": ["camera"], "environment": ["camera"], "camera": ["camera"], "album": ["album"], "default": ["camera", "album"] }, "cmb": { "user": "portrait", "environment": "camera", "camera": "camera", "album": "album", "default": "default" }, "weixin": { "user": ["camera"], "environment": ["camera"], "camera": ["camera"], "album": ["album"], "default": ["album", "camera"] }, "iqiyi": { "user": 1, "environment": 0, "camera": 0, "album": 0, "default": 1 }, "muapp": { "user": 0, "environment": 0, "camera": 0, "album": 1, "default": 2 }, "spdbank": { "user": 0, "environment": 0, "camera": 0, "album": 1, "default": 2 }, "unicom": { "user": "front", "environment": "back", "camera": "back", "album": "front", "default": "front" }, "newUnicom": { "user": "camera", "environment": "camera", "camera": "camera", "album": "album", "default": "" } }, o = e && 1 === e.length ? e[0] : "default"; return n[t] && (r = n[t][o]), r }, t.buildEnvParams = function buildEnvParams(e) { void 0 === e && (e = {}); var r, n, o, i, a = e.EnvParams, s = void 0 === a ? "" : a, c = e.reqEnvParams, u = void 0 === c ? "" : c, l = e.channel, f = e.appType, d = void 0 === f ? "H5" : f, p = { "channel": l || getChannel(), "appType": d }, h = p; try { r = isString(s) ? JSON.parse(s) : s, n = isString(u) ? JSON.parse(u) : u } catch (e) { r = {}, n = {} } r = isObject(r) ? r : {}, n = isObject(n) ? n : {}; var m = t.__assign(t.__assign({}, p), r), g = t.__assign(t.__assign({}, h), n); try { o = JSON.stringify(m), i = JSON.stringify(g) } catch (e) { o = "", i = "" } return { "EnvParams": o, "reqEnvParams": i } }, t.compareUniComVersion = function compareUniComVersion(e) { var t = d().split("."), r = (null == e ? void 0 : e.split(".")) || "", n = t.length; n > r.length && (n = r.length); for (var o = 0; o < n; o++) { if (parseInt(t[o]) - parseInt(r[o]) < 0) return -1; if (parseInt(t[o]) - parseInt(r[o]) > 0) return 1 } return 0 }, t.getApiHost = function getApiHost(e) { var t = window.location.hostname, r = window.location.protocol; if (-1 !== t.indexOf("localhost") || -1 !== t.indexOf("127.0.0.1")) return r + "//" + e + ".api.xll.cn"; var n = t.split("."), o = /(st\d?|se\d?|uat\d?)/.exec(t); return o ? r + "//" + e + "-" + o[1] + ".api." + n[1] + "." + n[2] : "https://" + e + ".api.xll.com" }, t.getAppId = function getAppId(e, t) { var r = i[t]; return r && r[e] ? r[e] : i.default[e] }, t.getChannel = getChannel, t.getCurrentEnv = function getCurrentEnv() { var e = window.location.hostname; if (-1 !== e.indexOf("localhost") || -1 !== e.indexOf("127.0.0.1")) return "se"; var t = /(st\d?|se\d?|uat\d?)/.exec(e); return t ? t[1] : "prod" }, t.getParam = function getParam(e) { return h(e) || p(e) }, t.getParameterError = getParameterError, t.imageToBase64 = function imageToBase64(e) { var t = e.src, r = e.type, n = void 0 === r ? "image/png" : r, o = e.encoderOptions, i = e.limit, a = void 0 === i ? {} : i, s = new Image; return s.crossOrigin = "anonymous", new Promise(function (e, r) { s.onload = function () { var t = document.createElement("CANVAS"), i = t.getContext("2d"), c = a.height, u = a.width, l = function _adaperImage(e) { void 0 === e && (e = {}); var t = e.limitWidth, r = e.limitHeight, n = e.originWidth, o = e.originHeight; return r && o > r && (n *= r / o, o = r), t && n > t && (o *= t / n, n = t), { "width": n, "height": o } }({ "originWidth": s.width, "originHeight": s.height, "limitWidth": u, "limitHeight": c }), f = l.width, d = l.height; t.height = d, t.width = f, i.drawImage(s, 0, 0, f, d); try { var p = t.toDataURL(n, o); e(p) } catch (e) { console.error("canvas转换成DataURL异常: " + e), r(e) } t = null }, s.src = t }) }, t.isFunction = function isFunction(e) { return e && "function" == typeof e }, t.isIOS = u, t.isWorkWx = f, t.shouleBeObject = function shouleBeObject(e) { return e && "object" === _typeof(e) ? { "res": !0 } : { "res": !1, "msg": getParameterError({ "correct": "Object", "wrong": e }) } }, t.temporarilyNotSupport = function temporarilyNotSupport(e) { var t = "当前平台暂时不支持 API " + e; return console.error(t), Promise.reject({ "backup": !0, "errMsg": t }) } }, function (e, t, r) { var n, o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !function () { "use strict"; var i = {}.hasOwnProperty; function classNames() { for (var e = [], t = 0; t < arguments.length; t++) { var r = arguments[t]; if (r) { var n = void 0 === r ? "undefined" : o(r); if ("string" === n || "number" === n) e.push(r); else if (Array.isArray(r)) { if (r.length) { var a = classNames.apply(null, r); a && e.push(a) } } else if ("object" === n) { if (r.toString !== Object.prototype.toString && !r.toString.toString().includes("[native code]")) { e.push(r.toString()); continue } for (var s in r) i.call(r, s) && r[s] && e.push(s) } } } return e.join(" ") } e.exports ? (classNames.default = classNames, e.exports = classNames) : "object" === o(r(53)) && r(53) ? void 0 === (n = function () { return classNames }.apply(t, [])) || (e.exports = n) : window.classNames = classNames }() }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n, o = function __assign() { return (o = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; n = r(3); var i = Object.assign({}, n, n.default); e.exports = o({}, i); var a = i; t.default = a }, function (e, t, r) { "use strict"; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; Object.defineProperty(t, "__esModule", { "value": !0 }); var o = r(7), i = function _interopDefault(e) { return e && "object" === (void 0 === e ? "undefined" : n(e)) && "default" in e ? e.default : e }(r(9)); function getLocationInNativeH5(e) { return o.__awaiter(this, void 0, Promise, function () { var t, r, n, i, a, s, c; return o.__generator(this, function (u) { return t = { "coordinateSystem": "WGS-84" }, n = (r = e || {}).success, i = r.fail, a = r.complete, s = r.eventType, c = window.navigator.geolocation, [2, new Promise(function (r, u) { c ? c.getCurrentPosition(function (c) { c && c.coords && c.coords.latitude || (t.latitude = o.LBS_CODE.others, t.longitude = o.LBS_CODE.others, t.tag = s, getLocationFailModal(e), o.isFunction(i) && i(t), r(t)); var u = c.coords, l = u.latitude, f = u.longitude; t.latitude = l, t.longitude = f, t.tag = s, o.isFunction(n) && n(t), o.isFunction(a) && a(t), r(t) }, function (n) { (null == n ? void 0 : n.code) === n.PERMISSION_DENIED ? (t.latitude = o.LBS_CODE.refuse, t.longitude = o.LBS_CODE.refuse, t.tag = s, getLocationFailModal(e), o.isFunction(i) && i(t), r(t)) : (t.latitude = o.LBS_CODE.error, t.longitude = o.LBS_CODE.error, t.tag = s, getLocationFailModal(e), o.isFunction(i) && i(t), r(t)) }, { "timeout": 2e3 }) : (t.latitude = o.LBS_CODE.others, t.longitude = o.LBS_CODE.others, t.tag = s, getLocationFailModal(e), o.isFunction(i) && i(t), r(t)) })] }) }) } function getLocationFailModal(e) { var t = (e || {}).modalType, r = void 0 === t ? 0 : t; if (r) { var n = function showModalFunc() { i.showModal({ "title": "温馨提示", "content": "为保障您的账户和资金安全，请授权获取地理位置信息，谢谢合作！", "showCancel": !1, "confirmText": "知道了" }), i.setStorage({ "key": "getLocationFailModalTime", "data": Date.now() }) }; if (1 === r) { var o = i.getStorageSync("getLocationFailModalTime") || 0, a = Math.floor((Date.now() - o) / 36e5); (!o || a >= 48) && n() } 2 === r && n() } } function setNavigationBarTitleInNativeH5(e) { void 0 === e && (e = {}); var t = o.shouleBeObject(e); if (!t.res) { var r = { "errMsg": "setNavigationBarTitle" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var n = e.title, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "setNavigationBarTitle:ok" }; if (!n || "string" != typeof n) return c.errMsg = o.getParameterError({ "name": "setNavigationBarTitle", "para": "title", "correct": "String", "wrong": n }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c); if (document.title = n, o.isIOS) { var u = document.createElement("iframe"); u.setAttribute("src", "/favicon.ico"), u.style.display = "none", u.addEventListener("load", function onLoad() { setTimeout(function () { u.removeEventListener("load", onLoad), u.parentNode && u.parentNode.removeChild(u) }, 0) }), document.body.appendChild(u) } return "function" == typeof i && i(c), "function" == typeof s && s(c), Promise.resolve(c) } var a = function () { function NativeH5Bridge() { } return NativeH5Bridge.prototype.chooseImage = function (e) { return o.temporarilyNotSupport("chooseImage") }, NativeH5Bridge.prototype.chooseVideo = function (e) { return o.temporarilyNotSupport("chooseVideo") }, NativeH5Bridge.prototype.getLocation = function (e) { return getLocationInNativeH5(e) }, NativeH5Bridge.prototype.closeWebView = function () { return o.temporarilyNotSupport("closeWebView") }, NativeH5Bridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), setNavigationBarTitleInNativeH5(e) }, NativeH5Bridge.prototype.uploadImage = function (e) { return o.temporarilyNotSupport("uploadImage") }, NativeH5Bridge.prototype.onMenuShare = function (e) { return o.temporarilyNotSupport("onMenuShare") }, NativeH5Bridge }(); t.default = a, t.getLocationFailModal = getLocationFailModal, t.getLocationInNativeH5 = getLocationInNativeH5, t.setNavigationBarTitleInNativeH5 = setNavigationBarTitleInNativeH5 }, function (e, t, r) { "use strict"; var n = r(6), o = r(1), i = r(0), a = r(36), s = r(35), c = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } var u = { "getEnv": n.e, "ENV_TYPE": n.a, "Events": n.b, "eventCenter": n.d, "render": n.j, "internal_safe_set": n.i, "internal_safe_get": n.h, "Children": o.a, "createElement": o.h, "cloneElement": o.f, "nextTick": o.s, "options": o.t, "findDOMNode": o.m, "isValidElement": o.q, "unmountComponentAtNode": o.u, "createPortal": o.j, "unstable_renderSubtreeIntoContainer": o.w, "hydrate": o.p, "createFactory": o.i, "unstable_batchedUpdates": o.v, "version": o.G, "PropTypes": o.d, "createRef": o.k, "forwardRef": o.n, "memo": o.r, "createContext": o.g, "useEffect": o.z, "useLayoutEffect": o.B, "useReducer": o.D, "useState": o.F, "useRef": o.E, "useCallback": o.x, "useMemo": o.C, "useImperativeHandle": o.A, "useContext": o.y }, l = function (e) { function Component() { return _classCallCheck(this, Component), _possibleConstructorReturn(this, (Component.__proto__ || Object.getPrototypeOf(Component)).apply(this, arguments)) } return _inherits(Component, o["l"].Component), c(Component, [{ "key": "$router", "get": function get() { return h() }, "set": function set(e) { console.warn('Property "$router" is read-only.') } }, { "key": "$app", "get": function get() { return u.getApp() }, "set": function set(e) { console.warn('Property "$app" is read-only.') } }, { "key": "$component", "get": function get() { return this }, "set": function set(e) { console.warn('Property "$component" is read-only.') } }]), Component }(), f = function (e) { function PureComponent() { return _classCallCheck(this, PureComponent), _possibleConstructorReturn(this, (PureComponent.__proto__ || Object.getPrototypeOf(PureComponent)).apply(this, arguments)) } return _inherits(PureComponent, o["l"].PureComponent), c(PureComponent, [{ "key": "$router", "get": function get() { return h() }, "set": function set(e) { console.warn('Property "$router" is read-only.') } }, { "key": "$app", "get": function get() { return u.getApp() }, "set": function set(e) { console.warn('Property "$app" is read-only.') } }, { "key": "$component", "get": function get() { return this }, "set": function set(e) { console.warn('Property "$component" is read-only.') } }]), PureComponent }(), d = n.f.bind(u), p = Object(i.k)("requirePlugin"), h = function getRouter() { var e = u._$router; return { "path": e.path, "scene": 1e3, "params": e.params, "shareTicket": "", "referrerInfo": {} } }; function usePageLifecycle(e, t) { var r = Object(o.o)(o.c.index++), n = void 0; r.component = o.c.current, r.marked || (r.marked = !0, n = r.component[t]), r.component[t] = function () { var t; n && (t = n).call.apply(t, [r.component].concat(Array.prototype.slice.call(arguments))), e && e.call.apply(e, [r.component].concat(Array.prototype.slice.call(arguments))) } } function useSpecialPageLifecycle(e, t, r) { var n = Object(o.o)(o.c.index++), i = void 0; if (n.component = o.c.current, n.marked) n.component._offFn && n.component._offFn(), n.component._offFn = r({ "callback": function callback() { var t; i && (t = i).call.apply(t, [n.component].concat(Array.prototype.slice.call(arguments))), e && e.call.apply(e, [n.component].concat(Array.prototype.slice.call(arguments))) }, "ctx": n.component }); else { n.marked = !0, i = n.component[t]; var a = n.component.componentDidShow, s = n.component.componentDidHide; n.component.componentDidShow = function () { a && a.call.apply(a, [n.component].concat(Array.prototype.slice.call(arguments))), n.component._offFn = r({ "callback": function callback() { var t; i && (t = i).call.apply(t, [n.component].concat(Array.prototype.slice.call(arguments))), e && e.call.apply(e, [n.component].concat(Array.prototype.slice.call(arguments))) }, "ctx": n.component }) }, n.component.componentDidHide = function () { s && s.call.apply(s, [n.component].concat(Array.prototype.slice.call(arguments))), n.component._offFn && n.component._offFn() } } } u.Component = l, u.PureComponent = f, u.initPxTransform = d, u.requirePlugin = p, u.getApp = function getApp() { return u._$app }, u.pxTransform = function pxTransform(e) { var t = u.config.designWidth; return Math.ceil(parseInt(e, 10) / 40 * 640 / t * 1e4) / 1e4 + "rem" }, u.canIUseWebp = function canIUseWebp() { return 0 === document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp") }, u.interceptors = n.g, u.useDidShow = function useDidShow(e) { usePageLifecycle(e, "componentDidShow") }, u.useDidHide = function useDidHide(e) { usePageLifecycle(e, "componentDidHide") }, u.usePullDownRefresh = function usePullDownRefresh(e) { usePageLifecycle(e, "onPullDownRefresh") }, u.useReachBottom = function useReachBottom(e) { useSpecialPageLifecycle(e, "onReachBottom", s.a) }, u.usePageScroll = function usePageScroll(e) { useSpecialPageLifecycle(e, "onPageScroll", a.a) }, u.useRouter = function useRouter() { var e = Object(o.o)(o.c.index++); return e.router || (e.component = o.c.current, e.router = e.component.$router), e.router }, t.a = u }, function (e, t, r) { "use strict"; var n = r(1), o = r(3), i = r(48), a = r(4), s = r(22), c = r(5), u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, l = function extendStatics(e, t) { return (l = Object.setPrototypeOf || { "__proto__": [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) })(e, t) }; function __extends(e, t) { function __() { this.constructor = e } l(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __) } var f = function __assign() { return (f = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; function __awaiter(e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) } function __generator(e, t) { var r, n, o, i, a = { "label": 0, "sent": function sent() { if (1 & o[0]) throw o[1]; return o[1] }, "trys": [], "ops": [] }; return i = { "next": verb(0), "throw": verb(1), "return": verb(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function verb(i) { return function (s) { return function step(i) { if (r) throw new TypeError("Generator is already executing."); for (; a;)try { if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o; switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return a.label++, { "value": i[1], "done": !1 }; case 5: a.label++, n = i[1], i = [0]; continue; case 7: i = a.ops.pop(), a.trys.pop(); continue; default: if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) { a = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { a.label = i[1]; break } if (6 === i[0] && a.label < o[1]) { a.label = o[1], o = i; break } if (o && a.label < o[2]) { a.label = o[2], a.ops.push(i); break } o[2] && a.ops.pop(), a.trys.pop(); continue }i = t.call(e, a) } catch (e) { i = [6, e], n = 0 } finally { r = o = 0 } if (5 & i[0]) throw i[1]; return { "value": i[0] ? i[1] : void 0, "done": !0 } }([i, s]) } } } function __spreadArrays() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), o = 0; for (t = 0; t < r; t++)for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++)n[o] = i[a]; return n } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === u(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : u(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : u(e) })(e) } var d = function () { return function Storage() { } }(), p = function (e) { function MemoryStorage() { var t = null !== e && e.apply(this, arguments) || this; return t.cache = {}, t } return __extends(MemoryStorage, e), MemoryStorage.prototype.set = function (e, t) { this.cache[e] = t }, MemoryStorage.prototype.get = function (e) { return this.cache[e] || "" }, MemoryStorage.isSupport = !0, MemoryStorage }(d), h = function (e) { function SessionStorage() { return null !== e && e.apply(this, arguments) || this } return __extends(SessionStorage, e), SessionStorage.prototype.set = function (e, t) { "undefined" != typeof window && window.sessionStorage.setItem(e, t) }, SessionStorage.prototype.get = function (e) { return "undefined" != typeof window && window.sessionStorage.getItem(e) || "" }, SessionStorage.isSupport = "undefined" != typeof window && "sessionStorage" in window, SessionStorage }(d), m = function () { function StrongStorage() { var e = this; this.adapters = [], [p, h].forEach(function (t) { t.isSupport && e.adapters.push(new t) }) } return StrongStorage.prototype.set = function (e, t) { this.adapters.forEach(function (r) { return r.set(e, t) }) }, StrongStorage.prototype.get = function (e) { var t = this.adapters.map(function (t) { return t.get(e) }).filter(function (e) { return !!e })[0]; return this.set(e, t), t }, StrongStorage }(), g = function getPlatform() { var e = a.default.getEnv(); return e === a.default.ENV_TYPE.RN ? "rn" : e === a.default.ENV_TYPE.WEB ? "h5" : "miniapp" }, v = function getDomain() { var e = "undefined" != typeof window && window.location.hostname || ""; if (!0 === /^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e) || "localhost" === e) return e; var t = e.match(/([^]*).*/); if (null != t && (e = t[1]), null != e) { var r = e.split("."); r.length > 1 && (e = r[r.length - 2] + "." + r[r.length - 1]) } return "." + e }, y = function setCookie(e, t, r) { var n = v(), o = new Date; o.setDate(o.getDate() + r), document.cookie = e + "=" + encodeURI(t) + ";path=/;domain=" + n + (r ? ";expires=" + o.toUTCString() : "") }, b = function getCookie(e) { var t = ""; if ("h5" === g()) { var r, n = new RegExp("(^| )" + e + "=([^;]*)(;|$)"); (r = document.cookie.match(n)) && (t = unescape(r[2])) } return t }, S = function getUrlVars(e) { void 0 === e && (e = Object(c.getCurrentPageUrlWithArgs)()); var t = {}; return e.replace(/[?&]+([^=#&]+)=([^#&]*)/gi, function (e, r, n) { t[r] = n }), t }, _ = function getQueryVal(e) { return void 0 === e && (e = ""), S()[e] }, w = function setStorageExpire(e, t) { if (e && t) { Object(a.setStorage)({ "key": e, "data": t }); var r = e + "_save_date", n = (new Date).getTime(); Object(a.setStorage)({ "key": r, "data": n.toString() }) } }, A = function getStorageExpire(e, t) { if (void 0 === t && (t = 7), e) { var r = e + "_save_date", n = Object(a.getStorageSync)(r); if (!n) return Object(a.getStorageSync)(e); var o = parseInt(n); if (!function checkDateExpire(e, t, r) { return (e - t) / 1e3 / 60 / 60 / 24 >= r }((new Date).getTime(), o, t)) return Object(a.getStorageSync)(e); Object(a.removeStorage)({ "key": e }), Object(a.removeStorage)({ "key": r }) } return null }, C = function getMapCode() { var e = S(); return k(e.mapCode) ? Object(a.getStorageSync)("mapCode", "SESSION") || "" : e.mapCode }, T = function generateUUID() { var e = (new Date).getTime(); return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var r = (e + 16 * Math.random()) % 16 | 0; return e = Math.floor(e / 16), ("x" === t ? r : 3 & r | 8).toString(16) }) }, P = Object.prototype.hasOwnProperty, k = function isEmpty(e) { if (null == e) return !0; if (e.length > 0) return !1; if (0 === e.length) return !0; for (var t in e) if (P.call(e, t)) return !1; return !0 }, E = function checkExistWsb() { return "undefined" != typeof wsbtr && "function" == typeof wsbtr }, x = function setUrlAdvertisement() { var e = g(), t = new Date; t.setDate(t.getDate() + 1); var r = _("clickid"), n = _("bd_vid"), o = _("callback"), i = _("qz_gdt"), s = _("gdt_vid"), c = _("contid") || _("creativeid"), u = function getAdvParam() { var e = S() || {}, t = {}; for (var r in e) /^adv_./g.test(r) && (t[r] = e[r]); return t }(), l = _("adid"), f = _("creativetype"), d = _("weixinadinfo"), p = _("wx_aid"); if ("h5" === e) { var h = v(); if (r && (document.cookie = "top_clickid=" + r + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), n && (document.cookie = "bd_vid=" + n + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), o && (document.cookie = "ks_vid=" + o + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), i && (document.cookie = "tx_gdt_qz_gdt=" + i + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), s && (document.cookie = "tx_gdt_gdt_vid=" + s + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), c && (document.cookie = 'utmo={"contid":"' + c + '"};path=/;domain=' + h + ";expires=" + t.toUTCString()), Object.keys(u).length) for (var m in u) document.cookie = m + "=" + u[m] + ";path=/;domain=" + h + ";expires=" + t.toUTCString(); l && (document.cookie = "adv_adid=" + l + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), f && (document.cookie = "adv_creativetype=" + f + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), d && (document.cookie = "adv_weixinadinfo=" + d + ";path=/;domain=" + h + ";expires=" + t.toUTCString()), p && (document.cookie = "adv_wx_aid=" + p + ";path=/;domain=" + h + ";expires=" + t.toUTCString()) } else if ("miniapp" === e) { h = ".api.xll.com"; if (r && Object(a.setMiniCookies)("top_clickid=" + r, h), n && Object(a.setMiniCookies)("bd_vid=" + n, h), o && Object(a.setMiniCookies)("ks_vid=" + o, h), i && Object(a.setMiniCookies)("tx_gdt_qz_gdt=" + i, h), s && Object(a.setMiniCookies)("tx_gdt_gdt_vid=" + s, h), c && Object(a.setMiniCookies)('utmo={"contid":"' + c + '"}', h), Object.keys(u).length) for (var m in u) Object(a.setMiniCookies)(m + "=" + u[m], h); l && Object(a.setMiniCookies)("adv_adid=" + l, h), f && Object(a.setMiniCookies)("adv_creativetype=" + f, h), d && Object(a.setMiniCookies)("adv_weixinadinfo=" + d, h), p && Object(a.setMiniCookies)("adv_wx_aid=" + p, h) } }, O = function addTimes(e) { Object(a.getStorage)({ "key": "beaconList", "success": function success(t) { var r = t.data || [], n = []; r.map(function (t) { var r = t.uuid; e.indexOf(r) >= 0 ? (t.times++, t.times < 3 && n.push(t)) : n.push(t) }), Object(a.setStorage)({ "key": "beaconList", "data": n }) } }) }, I = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : "", R = function isMuapp() { return /muapp\//i.test(I) }, M = "MUID", B = "uuid"; function generateID() { var e = (new Date).getTime().toString(), t = "2"; if (t.length < 10) { for (var r = 0; r < 32 - t.length; r++)t += Math.floor(16 * Math.random()).toString(16); t += e } return encodeURIComponent(t) } function setUUID(e) { var t = e || generateID(); return Object(a.setStorage)({ "key": B, "data": t }), t } function getUUID() { var e = Object(a.getStorageSync)(B); if (k(e)) if (Object(a.getCurrentEnv)() === a.CUR_ENV_TYPE.WEB) { var t = function getMUID() { if (document.cookie.match(/(MUID=)([^;]*);?/)) return document.cookie.match(/(MUID=)([^;]*);?/)[2]; try { return window.localStorage.getItem(M) } catch (e) { } try { return window.sessionStorage.getItem(M) } catch (e) { } return null }(); k(t) ? setUUID(t = function setMUID(e) { var t = e || generateID(); try { window.localStorage.setItem(M, t) } catch (e) { } try { window.sessionStorage.setItem(M, t) } catch (e) { } var r = (new Date).getTime(); return document.cookie = M + "=" + t + "; expires=" + new Date(r + 31536e7).toGMTString() + "; path=/; domain=xll.com", t }()) : setUUID(t), e = t } else e = setUUID(); return e } var D = new (function () { function BeaUpload() { this.isPreload = 0, this.platform = "", this.list = [], this.uuidList = [], this.lastPageID = "", this.applyParam = {}, this.running = !1, this.timer = null, this.env = "", this.ss = new m, this.uuid = getUUID(), this.mapCode = C(), this.mtago = "", this.mtagi = "", this.mtagc = "", this.utmId = "", this.pageIdObj = {}, this.moduleId = "", this.moduleVersion = "" } return BeaUpload.prototype.config = function (e) { return __awaiter(this, void 0, void 0, function () { var e, t, r, n, o, i, u = this; return __generator(this, function (l) { return e = Object(a.getStorageSync)("beaconList") || [], Object(a.setStorage)({ "key": "beaconList", "data": e }), this.mtago = A("mtago") || "", this.mtagi = A("mtagi") || "", this.mtagc = A("mtagc") || "", this.utmId = A("utmId", 1) || "", this.pageIdObj = A("pageIdObj", 1 / 144) || { "currentPageId": "", "prePageId": "" }, this.platform = g(), "miniapp" === this.platform ? (void 0, this.env = "prod") : (this.env = function getRunnigEnv() { if ("h5" === g()) return Object(c.getEnv)() }(), R() && (t = Number(_("isPreload") || 0), this.isPreload = t, window.windowDidShow && (this.isPreload = 0), window.viewDidShow = function () { if (u.isPreload) { u.isPreload = 0; var e = Object(a.getStorageSync)("beaconListSession", "SESSION") || [], t = (Object(a.getStorageSync)("beaconList") || []).concat(e); Object(a.setStorageSync)("beaconList", t, "LOCAL"), Object(a.removeStorageSync)("beaconListSession", "SESSION") } })), r = function interceptor(e) { return __awaiter(u, void 0, void 0, function () { var t, r, n, o, i, a, s, c, u, l, d, p, h, m, g, v, y, b, S, _; return __generator(this, function (w) { switch (w.label) { case 0: if (t = e.requestParams, n = (r = void 0 === t ? {} : t).data, o = void 0 === n ? {} : n, i = r.invokeApiType, "pureRequest" === (void 0 === i ? "" : i)) return [2, e.proceed(r)]; if (s = {}, (a = "undefined" != typeof FormData && o instanceof FormData ? o.get("reqEnvParams") : o.reqEnvParams) && "object" === _typeof(a)) s = f({}, a); else if (a && "string" == typeof a) try { s = JSON.parse(a) } catch (e) { s = {} } c = {}, w.label = 1; case 1: return w.trys.push([1, 3, , 4]), [4, this.getReqEnvParam()]; case 2: return c = w.sent(), [3, 4]; case 3: return w.sent(), c = {}, [3, 4]; case 4: u = c.mtago, l = c.mtagi, d = c.mtagc, p = c.clientTime, h = c.flowId, m = c.actId, g = c.page, v = c.uuid, y = function __rest(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var o = 0; for (n = Object.getOwnPropertySymbols(e); o < n.length; o++)t.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[o]) && (r[n[o]] = e[n[o]]) } return r }(c, ["mtago", "mtagi", "mtagc", "clientTime", "flowId", "actId", "page", "uuid"]), b = f(f(f({}, y), s), { "mtago": u, "mtagi": l, "mtagc": d, "clientTime": p, "flowId": h, "actId": m, "page": g, "uuid": v }); try { S = JSON.stringify(b), "undefined" != typeof FormData && o instanceof FormData ? o.set("reqEnvParams", S) : o.reqEnvParams = S } catch (e) { } return _ = f(f({}, r), { "data": o }), [2, e.proceed(_)] } }) }) }, a.addInterceptor && Object(a.addInterceptor)(r), n = Object(a.getChannel)(), o = (new Date).getTime(), i = setInterval(function () { return __awaiter(this, void 0, void 0, function () { return __generator(this, function (e) { switch (e.label) { case 0: return "MOCK" == n ? [3, 2] : (clearInterval(i), [4, Object(s.getToken)(!0, n)]); case 1: return e.sent(), [2]; case 2: return (new Date).getTime() - o > 1e3 ? (clearInterval(i), [4, Object(s.getToken)(!0, n)]) : [3, 4]; case 3: return e.sent(), [2]; case 4: return n = Object(a.getChannel)(), [2] } }) }) }, 10), [2] }) }) }, BeaUpload.prototype.setApplyParam = function (e) { this.applyParam = e }, BeaUpload.prototype.getEnv = function () { return this.env }, BeaUpload.prototype.getCacheCopy = function (e) { return __spreadArrays(0 == e ? this.list : this.uuidList) }, BeaUpload.prototype.clearCache = function () { this.list = [], this.uuidList = [] }, BeaUpload.prototype.tryToSendUSEvent = function () { var e = this.ss.get("lpoek"), t = {}; try { t = JSON.parse(e) } catch (e) { t = {} } if (!k(t)) { var r = t.ta, n = void 0 === r ? "" : r, o = t.tm, i = void 0 === o ? 0 : o, a = (t.business, t.route), s = void 0 === a ? "" : a, u = t.moduleVersion, l = void 0 === u ? "" : u, f = (new Date).getTime(), d = f - i, p = Object(c.getCurrentPageUrlWithArgs)(), h = { "tm": f, "ac": "US", "stayDur": d.toString(), "tg": { "cus": { "pageUrl": p } }, "uiType": "page", "ta": n, "route": s, "moduleVersion": l, "pageUrl": p }; this.add(h) } }, BeaUpload.prototype.run = function () { var e = this; !0 !== this.running && (this.timer = setInterval(function () { (Object(a.getCurrentEnv)() !== a.CUR_ENV_TYPE.WEB || E()) && Object(a.getStorage)({ "key": "beaconList", "success": function success(t) { var r = t.data || [], n = [], o = []; k(r) || r.map(function (e) { delete e.data.moduleVersion, n.push(e.uuid), o.push(e.data) }), k(o) || e.upload(o, n) } }) }, 2e3), this.running = !0) }, BeaUpload.prototype.stop = function () { clearInterval(this.timer), this.timer = null, this.running = !1 }, BeaUpload.prototype.getAppType = function () { var e = g(); return "h5" === e && R() ? function isIOS() { return /(iPhone|iPad|iPod|iOS)/i.test(I) }() ? "iOS" : function isAndroid() { return /(Android)/i.test(I) }() ? "Android" : "H5" : "H5" }, BeaUpload.prototype.getReqEnvParam = function () { return __awaiter(this, void 0, void 0, function () { var e, t, r, n, o, i, u, l, d, p, h, m, v, _, A, C, T, P, E; return __generator(this, function (x) { switch (x.label) { case 0: e = {}, t = S(), r = new Date, n = r.getTime(), e.clientTime = n.toString(), o = this.lastPageID, k(o) || (e.page = o), i = Object(a.getChannel)(), k(i) || (e.channel = i), u = this.applyParam.sc, k(u) || (e.sceneCode = u), l = this.applyParam.ss, k(l) || (e.sceneSource = l), d = this.applyParam.ct, k(d) || (e.custType = d), p = this.applyParam.mi, k(p) || (e.merchantId = p), h = function getMTagO() { var e = S().mtago; if (e && e.length > 0) return w("mtago", e), "h5" === g() && y("mtago", e, 7), e; var t = b("mtago"); return t || "" }(), k(h) ? k(this.mtago) || (e.mtago = this.mtago) : (this.mtago = h, e.mtago = h), m = function getMTagC() { var e = S().mtagc; if (e && e.length > 0) return w("mtagc", e), "h5" === g() && y("mtagc", e, 7), e; var t = b("mtagc"); return t || "" }(), k(m) ? k(this.mtagc) || (e.mtagc = this.mtagc) : (this.mtagc = m, e.mtagc = m), v = function getMTagI() { var e = S().mtagi; if (e && e.length > 0) return w("mtagi", e), "h5" === g() && y("mtagi", e, 7), e; var t = b("mtagi"); return t || "" }(), k(v) ? k(this.mtagi) || (e.mtagi = this.mtagi) : (this.mtagi = v, e.mtagi = v), _ = function getUtmId() { var e = S().utmId; if (e && e.length > 0) { if (w("utmId", e), "h5" === g()) y("utmId", e, 1); else { var t = Object(c.getEnv)(), r = "prod" === t || "prd" === t ? ".api.xll.com" : ".api.xll.cn", n = new Date; n.setDate(n.getDate() + 1), Object(a.setMiniCookies)("utmId=" + e + ";expires=" + n.toUTCString() + ";", r) } return e } var o = b("utmId"); return o || "" }(), k(_) ? k(this.utmId) || (e.utmId = this.utmId) : (this.mtagi = v, e.utmId = _), A = this.getAppType(), k(A) || (e.appType = A), C = this.uuid, k(C) || (e.uuid = C), k(t.bd_vid) || (e.bd_vid = t.bd_vid), k(t.ks_vid) || (e.ks_vid = t.ks_vid), k(t.tx_gdt_qz_gdt) || (e.tx_gdt_qz_gdt = t.tx_gdt_qz_gdt), k(t.tx_gdt_gdt_vid) || (e.tx_gdt_gdt_vid = t.tx_gdt_gdt_vid), k(t.top_clickid) || (e.top_clickid = t.top_clickid), T = this.mapCode, k(T) || (e.mapCode = T), e.prePageId = this.pageIdObj.prePageId, e.currentPageId = this.pageIdObj.currentPageId, e.moduleVersion = this.moduleVersion, x.label = 1; case 1: return x.trys.push([1, 3, , 4]), P = Object(a.getChannel)(), [4, Object(s.getToken)(!0, P)]; case 2: return E = x.sent(), k(E) || (e.token = E), [3, 4]; case 3: return x.sent(), [3, 4]; case 4: return [2, f({}, e)] } }) }) }, BeaUpload.prototype.add = function (e) { var t = this; if (this.isPreload) { var r = Object(a.getStorageSync)("beaconListSession", "SESSION") || [], n = { "uuid": T(), "data": e, "times": 0 }; return r.push(n), void Object(a.setStorageSync)("beaconListSession", r, "SESSION") } Object(a.getStorage)({ "key": "beaconList", "success": function success(r) { t.addUpload(e, r.data || []) }, "fail": function fail() { t.addUpload(e, []) } }) }, BeaUpload.prototype.addUpload = function (e, t) { var r = t, n = T(), o = { "uuid": n, "data": e, "times": 0 }; r.push(o), Object(a.setStorage)({ "key": "beaconList", "data": r }); var i = e.ac, s = void 0 === i ? "" : i, c = e.ta, u = void 0 === c ? "" : c, l = e.moduleVersion, f = void 0 === l ? "" : l; if ("BC" === s || "PO" === s || "EV" === s) { if ("PO" === s) { x(), this.tryToSendUSEvent(), this.ss.set("lpoek", JSON.stringify(e)), this.mapCode = C(); var d = u.match(/[^.]*\./) ? u.match(/[^.]*\./)[0] : ""; this.moduleId !== d && (this.moduleId = d, this.moduleVersion = f); var p = u.match(/[^.]*\.[^.]*/) ? u.match(/[^.]*\.[^.]*/)[0] : "", h = this.pageIdObj.currentPageId; h !== p && (this.pageIdObj.prePageId = h, this.pageIdObj.currentPageId = p), w("pageIdObj", this.pageIdObj) } if (Object(a.getCurrentEnv)() === a.CUR_ENV_TYPE.WEB && !E()) return; delete e.moduleVersion; var m = [e], g = [n]; this.upload(m, g) } }, BeaUpload.prototype.upload = function (e, t) { return __awaiter(this, void 0, void 0, function () { var r, n, o = this; return __generator(this, function (i) { return e && 0 === e.length ? [2] : (r = { "ca": e }, n = function getBeaconURL(e) { switch (e) { case "prd": case "prod": return "https://das.api.xll.com/fls/trackingEvent"; default: return "https://das-st1.api.xll.cn/fls/trackingEvent" } }(this.env), Object(a.request)({ "url": n, "method": "post", "data": { "data": JSON.stringify(r) } }).then(function (r) { r.ok ? function deleteBeaData(e) { Object(a.getStorage)({ "key": "beaconList", "success": function success(t) { var r = t.data || [], n = []; r.map(function (t) { var r = t.uuid; e.indexOf(r) < 0 && n.push(t) }), Object(a.setStorage)({ "key": "beaconList", "data": n }) } }) }(t) : ("prd" != o.env && "prod" != o.env && (console.log("发送失败list:", e), console.error("error:", r)), O(t)) }).catch(function (r) { "prd" != o.env && "prod" != o.env && (console.log("发送失败list:", e), console.error("error:", r)), O(t) }), [2]) }) }) }, BeaUpload }()), j = function () { function DasBeacon() { } return DasBeacon.Config = function (e) { D.config(e), D.run(), this.curEnv = D.getEnv(), this.isInitial = !0 }, DasBeacon.SetApplyParam = function (e) { D.setApplyParam(f({}, e)) }, DasBeacon.SendEvent = function (e) { if (this.isInitial || this.Config(), function checkBeacon(e) { var t = e.beaconId; return !!(t && "string" == typeof t && t.length > 0) }(e)) { var t = function convertBeacon(e) { var t = e.beaconContent || e.content || {}, r = Object(c.getCurrentPageUrlWithArgs)(); t.cus = f(f({}, t.cus), { "pageUrl": r }); var n = e.beaconId, o = e.event, i = e.uiType, a = e.business, s = e.stayDur, u = e.moduleVersion, l = void 0 === u ? "" : u, d = o, p = i, h = "", m = n.split("."); if (m && 2 === m.length && (void 0 !== o && 0 !== o.length || (d = "PO", h = Object(c.getRoutePath)()), void 0 !== i && 0 !== o.length || (p = "page")), o && "PO" === o) try { h = Object(c.getRoutePath)() } catch (e) { } var g = { "tm": (new Date).getTime(), "ta": n, "ac": d, "tg": t, "uiType": p, "business": a, "route": h, "moduleVersion": l, "pageUrl": r }; return s ? f(f({}, g), { "stayDur": s }) : g }(e); D.add(t) } else "prd" != this.curEnv && "prod" != this.curEnv && (console.warn("DasBeacon send failure with payload: "), console.warn(e)) }, DasBeacon.isInitial = !1, DasBeacon.curEnv = "st1", DasBeacon }(); r.d(t, "a", function () { return te }), r.d(t, "b", function () { return dispatchTrackEvent }), r.d(t, "c", function () { return hoc }); var F = function extendStatics(e, t) { return (F = Object.setPrototypeOf || { "__proto__": [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) })(e, t) }; var L = function __assign() { return (L = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; var N = { "childContextTypes": !0, "contextTypes": !0, "defaultProps": !0, "displayName": !0, "getDefaultProps": !0, "getDerivedStateFromProps": !0, "mixins": !0, "propTypes": !0, "type": !0 }, H = { "name": !0, "length": !0, "prototype": !0, "caller": !0, "callee": !0, "arguments": !0, "arity": !0 }, U = Object.defineProperty, W = Object.getOwnPropertyNames, G = Object.getOwnPropertySymbols, V = Object.getOwnPropertyDescriptor, q = Object.getPrototypeOf, z = q && q(Object); var X = function hoistNonReactStatics(e, t, r) { if ("string" != typeof t) { if (z) { var n = q(t); n && n !== z && hoistNonReactStatics(e, n, r) } var o = W(t); G && (o = o.concat(G(t))); for (var i = 0; i < o.length; ++i) { var a = o[i]; if (!(N[a] || H[a] || r && r[a])) { var s = V(t, a); try { U(e, a, s) } catch (e) { } } } return e } return e }; j.Config(); var Q = function beacon(e) { return o.default.eventCenter.trigger("muBeacon", e), j.SendEvent(e) }, K = !0; var Y, J = "", Z = "$nullBeaconId$", $ = "0.1.0", ee = ""; function track(e, t) { return function (r) { var o = "function" == typeof e && e(r.defaultProps || {}); r.properties && o && Object.keys(o).forEach(function (e) { delete r.properties[e] }); var a = r.displayName || r.name || "Component", s = function (o) { function Track(r, n) { void 0 === r && (r = {}); var s = o.call(this, r, n) || this; return s.validateIds = function () { var e = s.getTrackDataBeaconId(); t && t.pageId || (t && t.customAlert ? !e && s.props.onClick && s.showAlert(a + " beaconId未定义") : e || s.showAlert(a + " beaconId未定义")) }, s.getDefaultTrackData = function () { var t = ("function" == typeof e ? e(s.props) : e) || {}; return ee || t.beaconId || (t.beaconId = Z), t }, s.getModuleId = function () { return J }, s.getPageId = function () { return ee }, s.setPageId = function (e) { ee = e }, s.getTrackDataBeaconId = function () { return s.getDefaultTrackData().beaconId }, s.showAlert = function (e) { "prod" !== (Object(c.getEnv)() || "prod") && function isAlertEnabled() { return K }() && Object(i.e)({ "content": e, "showCancel": !1 }) }, s.connectBeaconId = function () { var e = s.getModuleId(), t = ee; if (e && t) { var r = s.props.parentId, n = s.getTrackDataBeaconId(); return r && n ? r + "." + n : r || (!r && n ? e + "." + t + "." + n : e + "." + t) } var o = e ? "当前页面Id 未定义" : "模块Id未定义"; s.showAlert(o) }, s.dispatchTrackEvent = function (e) { var t = Object.assign({}, s.getDefaultTrackData()), r = s.track.trackedBeaconId || "", n = s.track.moduleVersion || "", o = s.track.userOptions; if (o && !o.overrideDefaultEvent) { var i = e || t; !function defaultTrackHandler(e) { e && (e.beaconId = r, e.moduleVersion = n), e.beaconId.includes(Z) || Q(e) }(i), o.dispatch && o.dispatch(i) } else o && o.overrideDefaultEvent && o.dispatch && o.dispatch(e) }, s.handleTrackData(), s } return function index_esm_extends(e, t) { function __() { this.constructor = e } F(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __) }(Track, o), Track.prototype.handleTrackData = function () { t && t.pageId && (ee = t.pageId); var e = Object.assign({}, t); this.validateIds(), this.track = { "getTrackData": this.getDefaultTrackData, "dispatchTrackEvent": this.dispatchTrackEvent, "pageId": this.getPageId(), "moduleId": this.getModuleId(), "moduleVersion": $, "setPageId": this.setPageId, "trackedBeaconId": this.connectBeaconId(), "userOptions": e }, this.props.track = this.track, this.props.trackedBeaconId = this.track.trackedBeaconId }, Track.prototype.beforeRouteLeave = function (e, t, n) { for (var o, i = [], a = 3; a < arguments.length; a++)i[a - 3] = arguments[a]; "function" == typeof r.prototype.beforeRouteLeave ? (o = r.prototype.beforeRouteLeave).call.apply(o, function index_esm_spreadArrays() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), o = 0; for (t = 0; t < r; t++)for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++)n[o] = i[a]; return n }([this.wrappedInstance, e, t, n], i)) : n(!0) }, Track.prototype.componentWillReceiveProps = function (e) { 0 }, Track.prototype.componentWillMount = function () { }, Track.prototype.componentDidMount = function () { }, Track.prototype.componentDidShow = function () { t && t.pageId && (ee = t.pageId, this.dispatchTrackEvent()), "function" == typeof r.prototype.componentDidShow && r.prototype.componentDidShow.call(this.wrappedInstance) }, Track.prototype.componentDidHide = function () { "function" == typeof r.prototype.componentDidHide && r.prototype.componentDidHide.call(this.wrappedInstance) }, Track.prototype.setWrappedInstance = function (e, t) { this.wrappedInstance = e, "function" == typeof t ? t(this.wrappedInstance) : "[object Object]" === Object.prototype.toString.call(t) && (t.current = e) }, Track.prototype.render = function () { var e = this, t = this.props, o = t.customRef, i = function index_esm_rest(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var o = 0; for (n = Object.getOwnPropertySymbols(e); o < n.length; o++)t.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[o]) && (r[n[o]] = e[n[o]]) } return r }(t, ["customRef"]); return n.l.createElement(r, L({ "ref": function ref(t) { e.setWrappedInstance(t, o) } }, i, { "track": this.track })) }, Track.displayName = "Track(" + a + ")", Track }(r); return X(s, r) } } !function (e) { e.AO = "AO", e.PO = "PO", e.BC = "BC", e.SO = "SO", e.TE = "TE", e.FC = "FC", e.DF = "DF", e.US = "US", e.EV = "EV", e.SD = "SD", e.CL = "CL", e.SC = "SC", e.FS = "FS", e.FE = "FF", e.PS = "PS" }(Y || (Y = {})); var te = Y, re = Object(c.logger)("trackMethod"); function MethodDecorator(e) { return function applyDecorator(e) { return function decorateClassMember(t, r, n) { var o = n.configurable, i = n.enumerable, a = n.value, s = n.get, c = n.initializer; if (a) return { "configurable": o, "enumerable": i, "value": e(a) }; if (s || c) return { "configurable": o, "enumerable": i, "get": function get() { if (this === t) return null; var n = Function.prototype.apply, a = c ? n.call(c, this, []) : n.call(s, this, []), u = e(a).bind(this); return Object.defineProperty(this, r, { "configurable": o, "enumerable": i, "value": u }), u } }; throw new Error("call applyDecorator on unsupport descriptor function") } }(function (t) { return function decorateMethod() { for (var r = this, n = [], o = 0; o < arguments.length; o++)n[o] = arguments[o]; var i = function trackEvent() { for (var t, o = [], i = 0; i < arguments.length; i++)o[i] = arguments[i]; r.track && r.props && !r.props.track && (r.props.track = r.track); var a = { "route": Object(c.getRoutePath)() }; if (r.props && r.props.track && "function" == typeof r.props.track.dispatchTrackEvent) { var s = r.props.track.getTrackData(); if ("function" == typeof e) { var u = e(r.props, r.state, n, o), l = (d = L(L({}, s), u)).event, f = void 0 === l ? "" : l; t = f && f === te.PO ? L(L({}, d), a) : d, re("burry point for track function return ", r.props.track.trackedBeaconId) } else if (e) { var d, p = (d = L(L({}, s), e)).event, h = void 0 === p ? "" : p; t = h && h === te.PO ? L(L({}, d), a) : d, re("burry point for track data return ", r.props.track.trackedBeaconId) } else { var m = s.event, g = void 0 === m ? "" : m; t = g && g === te.PO ? L(L({}, s), a) : s, re("no custom dispatchEvent defined on method, ", r.props.track.trackedBeaconId) } var v = t.trace, y = void 0 !== v && v, b = t.event; if ((void 0 === b ? "" : b) === te.TE && !y) return; var S = L(L({}, r.props.beaconContent), t.beaconContent); t.beaconContent = S, r.props.track.dispatchTrackEvent(t) } }, a = Function.prototype.apply.call(t, this, n); return Promise && Promise.resolve(a) === a ? a.then(i.bind(this)).catch(function (e) { throw i(null, e), e }) : (i(), a) } }) } function hoc(e, t) { return function decorator() { for (var r = [], n = 0; n < arguments.length; n++)r[n] = arguments[n]; return 1 === r.length ? track(e, t).apply(void 0, r) : MethodDecorator(e).apply(void 0, r) } } var ne = Object(c.logger)("invokeDirectTrack"); function dispatchTrackEvent(e, t) { if (e) { var r = e.target, n = e; if (delete e.target, r && r.props && r.props.track) { var o = r.props.track; (n = Object.assign({}, e)).event = n.event || te.EV, n.moduleVersion = o.moduleVersion, n.beaconId = n.beaconId ? "".concat(o.trackedBeaconId, ".").concat(n.beaconId) : o.trackedBeaconId; var i = o.getTrackData(); if (i) { var a = L(L(L({}, i.beaconContent), r.props.beaconContent), n.beaconContent); n.beaconContent = a } else { a = L(L({}, r.props.beaconContent), n.beaconContent); n.beaconContent = a } } ne("dispatchTrackEvent with options data", JSON.stringify(n)); var s = function dispatch(e) { return Q(e) }, c = !1; t && (s = t.dispatch, c = t.overrideDefaultEvent || !1), s && c ? (ne("override default track event, and use dispatch options..."), s(n)) : c || (ne("dispatch default track event..."), s && s(n)) } } }, function (e, t, r) { "use strict"; (function (e, n) { r.d(t, "a", function () { return ee }), r.d(t, "i", function () { return untracked }), r.d(t, "e", function () { return isObservableObject }), r.d(t, "c", function () { return isObservableArray }), r.d(t, "d", function () { return B }), r.d(t, "h", function () { return transaction }), r.d(t, "f", function () { return x }), r.d(t, "b", function () { return l }), r.d(t, "g", function () { return runInAction }); var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, i = Object.setPrototypeOf || { "__proto__": [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) }; function __extends(e, t) { function __() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __) } var a = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }; function __read(e, t) { var r = "function" == typeof Symbol && e[Symbol.iterator]; if (!r) return e; var n, o, i = r.call(e), a = []; try { for (; (void 0 === t || t-- > 0) && !(n = i.next()).done;)a.push(n.value) } catch (e) { o = { "error": e } } finally { try { n && !n.done && (r = i.return) && r.call(i) } finally { if (o) throw o.error } } return a } function __spread() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(__read(arguments[t])); return e } var s = {}, c = {}; function initializeInstance(e) { if (!0 !== e.__mobxDidRunLazyInitializers) { var t = e.__mobxDecorators; if (t) for (var r in addHiddenProp(e, "__mobxDidRunLazyInitializers", !0), t) { var n = t[r]; n.propertyCreator(e, n.prop, n.descriptor, n.decoratorTarget, n.decoratorArguments) } } } function createPropDecorator(e, t) { return function decoratorFactory() { var r, n = function decorate(n, o, i, u) { if (!0 === u) return t(n, o, i, n, r), null; if (!Object.prototype.hasOwnProperty.call(n, "__mobxDecorators")) { var l = n.__mobxDecorators; addHiddenProp(n, "__mobxDecorators", a({}, l)) } return n.__mobxDecorators[o] = { "prop": o, "propertyCreator": t, "descriptor": i, "decoratorTarget": n, "decoratorArguments": r }, function createPropertyInitializerDescriptor(e, t) { var r = t ? s : c; return r[e] || (r[e] = { "configurable": !0, "enumerable": t, "get": function get() { return initializeInstance(this), this[e] }, "set": function set(t) { initializeInstance(this), this[e] = t } }) }(o, e) }; return function quacksLikeADecorator(e) { return (2 === e.length || 3 === e.length) && "string" == typeof e[1] || 4 === e.length && !0 === e[3] }(arguments) ? (r = q, n.apply(null, arguments)) : (r = Array.prototype.slice.call(arguments), n) } } function isSpyEnabled() { return !!Z.spyListeners.length } function spyReport(e) { if (Z.spyListeners.length) for (var t = Z.spyListeners, r = 0, n = t.length; r < n; r++)t[r](e) } function spyReportStart(e) { spyReport(a({}, e, { "spyReportStart": !0 })) } var u = { "spyReportEnd": !0 }; function spyReportEnd(e) { spyReport(e ? a({}, e, { "spyReportEnd": !0 }) : u) } function createAction(e, t) { var r = function res() { return executeAction(e, t, this, arguments) }; return r.isMobxAction = !0, r } function executeAction(e, t, r, n) { var o = function startAction(e, t, r, n) { var o = isSpyEnabled() && !!e, i = 0; if (o) { i = Date.now(); var a = n && n.length || 0, s = new Array(a); if (a > 0) for (var c = 0; c < a; c++)s[c] = n[c]; spyReportStart({ "type": "action", "name": e, "object": r, "arguments": s }) } var u = untrackedStart(); startBatch(); var l = allowStateChangesStart(!0); return { "prevDerivation": u, "prevAllowStateChanges": l, "notifySpy": o, "startTime": i } }(e, 0, r, n); try { return t.apply(r, n) } finally { !function endAction(e) { allowStateChangesEnd(e.prevAllowStateChanges), endBatch(), untrackedEnd(e.prevDerivation), e.notifySpy && spyReportEnd({ "time": Date.now() - e.startTime }) }(o) } } function allowStateChangesStart(e) { var t = Z.allowStateChanges; return Z.allowStateChanges = e, t } function allowStateChangesEnd(e) { Z.allowStateChanges = e } function dontReassignFields() { fail$1(!1) } function namedActionDecorator(e) { return function (t, r, n) { if (n) { if (n.value) return { "value": createAction(e, n.value), "enumerable": !1, "configurable": !0, "writable": !0 }; var o = n.initializer; return { "enumerable": !1, "configurable": !0, "writable": !0, "initializer": function initializer() { return createAction(e, o.call(this)) } } } return function actionFieldDecorator(e) { return function (t, r, n) { Object.defineProperty(t, r, { "configurable": !0, "enumerable": !1, "get": function get() { }, "set": function set(t) { addHiddenProp(this, r, l(e, t)) } }) } }(e).apply(this, arguments) } } var l = function action(e, t, r, n) { return 1 === arguments.length && "function" == typeof e ? createAction(e.name || "<unnamed action>", e) : 2 === arguments.length && "function" == typeof t ? createAction(e, t) : 1 === arguments.length && "string" == typeof e ? namedActionDecorator(e) : !0 !== n ? namedActionDecorator(t).apply(null, arguments) : void (e[t] = createAction(e.name || t, r.value)) }; function runInAction(e, t) { return executeAction("string" == typeof e ? e : e.name || "<unnamed action>", "function" == typeof e ? e : t, this, void 0) } function defineBoundAction(e, t, r) { addHiddenProp(e, t, createAction(t, r.bind(e))) } l.bound = function boundActionDecorator(e, t, r, n) { return !0 === n ? (defineBoundAction(e, t, r.value), null) : r ? { "configurable": !0, "enumerable": !1, "get": function get() { return defineBoundAction(this, t, r.value || r.initializer.call(this)), this[t] }, "set": dontReassignFields } : { "enumerable": !1, "configurable": !0, "set": function set(e) { defineBoundAction(this, t, e) }, "get": function get() { } } }; var f = Object.prototype.toString; function deepEqual(e, t) { return eq(e, t) } function eq(e, t, r, n) { if (e === t) return 0 !== e || 1 / e == 1 / t; if (null == e || null == t) return !1; if (e != e) return t != t; var i = void 0 === e ? "undefined" : o(e); return ("function" === i || "object" === i || "object" == (void 0 === t ? "undefined" : o(t))) && function deepEq(e, t, r, n) { e = unwrap(e), t = unwrap(t); var i = f.call(e); if (i !== f.call(t)) return !1; switch (i) { case "[object RegExp]": case "[object String]": return "" + e == "" + t; case "[object Number]": return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t; case "[object Date]": case "[object Boolean]": return +e == +t; case "[object Symbol]": return "undefined" != typeof Symbol && Symbol.valueOf.call(e) === Symbol.valueOf.call(t) }var a = "[object Array]" === i; if (!a) { if ("object" != (void 0 === e ? "undefined" : o(e)) || "object" != (void 0 === t ? "undefined" : o(t))) return !1; var s = e.constructor, c = t.constructor; if (s !== c && !("function" == typeof s && s instanceof s && "function" == typeof c && c instanceof c) && "constructor" in e && "constructor" in t) return !1 } n = n || []; var u = (r = r || []).length; for (; u--;)if (r[u] === e) return n[u] === t; if (r.push(e), n.push(t), a) { if ((u = e.length) !== t.length) return !1; for (; u--;)if (!eq(e[u], t[u], r, n)) return !1 } else { var l, d = Object.keys(e); if (u = d.length, Object.keys(t).length !== u) return !1; for (; u--;)if (l = d[u], !has$$1(t, l) || !eq(e[l], t[l], r, n)) return !1 } return r.pop(), n.pop(), !0 }(e, t, r, n) } function unwrap(e) { return isObservableArray(e) ? e.peek() : isES6Map(e) || B(e) ? iteratorToArray(e.entries()) : e } function has$$1(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function identityComparer(e, t) { return e === t } var d = { "identity": identityComparer, "structural": function structuralComparer(e, t) { return deepEqual(e, t) }, "default": function defaultComparer(e, t) { return function areBothNaN(e, t) { return "number" == typeof e && "number" == typeof t && isNaN(e) && isNaN(t) }(e, t) || identityComparer(e, t) } }; function autorun(e, t) { void 0 === t && (t = z); var r, n = t && t.name || e.name || "Autorun@" + getNextId(); if (!t.scheduler && !t.delay) r = new ee(n, function () { this.track(reactionRunner) }, t.onError); else { var o = createSchedulerFromOptions(t), i = !1; r = new ee(n, function () { i || (i = !0, o(function () { i = !1, r.isDisposed || r.track(reactionRunner) })) }, t.onError) } function reactionRunner() { e(r) } return r.schedule(), r.getDisposer() } var p = function run(e) { return e() }; function createSchedulerFromOptions(e) { return e.scheduler ? e.scheduler : e.delay ? function (t) { return setTimeout(t, e.delay) } : p } var h = function () { function ComputedValue(e) { this.dependenciesState = X.NOT_TRACKING, this.observing = [], this.newObserving = null, this.isBeingObserved = !1, this.isPendingUnobservation = !1, this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.runId = 0, this.lastAccessedBy = 0, this.lowestObserverState = X.UP_TO_DATE, this.unboundDepsCount = 0, this.__mapid = "#" + getNextId(), this.value = new $(null), this.isComputing = !1, this.isRunningSetter = !1, this.isTracing = Q.NONE, this.derivation = e.get, this.name = e.name || "ComputedValue@" + getNextId(), e.set && (this.setter = createAction(this.name + "-setter", e.set)), this.equals = e.equals || (e.compareStructural || e.struct ? d.structural : d.default), this.scope = e.context, this.requiresReaction = !!e.requiresReaction, this.keepAlive = !!e.keepAlive } return ComputedValue.prototype.onBecomeStale = function () { !function propagateMaybeChanged(e) { if (e.lowestObserverState !== X.UP_TO_DATE) return; e.lowestObserverState = X.POSSIBLY_STALE; var t = e.observers, r = t.length; for (; r--;) { var n = t[r]; n.dependenciesState === X.UP_TO_DATE && (n.dependenciesState = X.POSSIBLY_STALE, n.isTracing !== Q.NONE && logTraceInfo(n, e), n.onBecomeStale()) } }(this) }, ComputedValue.prototype.onBecomeUnobserved = function () { }, ComputedValue.prototype.onBecomeObserved = function () { }, ComputedValue.prototype.get = function () { this.isComputing && fail$1("Cycle detected in computation " + this.name + ": " + this.derivation), 0 !== Z.inBatch || 0 !== this.observers.length || this.keepAlive ? (reportObserved(this), shouldCompute(this) && this.trackAndCompute() && function propagateChangeConfirmed(e) { if (e.lowestObserverState === X.STALE) return; e.lowestObserverState = X.STALE; var t = e.observers, r = t.length; for (; r--;) { var n = t[r]; n.dependenciesState === X.POSSIBLY_STALE ? n.dependenciesState = X.STALE : n.dependenciesState === X.UP_TO_DATE && (e.lowestObserverState = X.UP_TO_DATE) } }(this)) : shouldCompute(this) && (this.warnAboutUntrackedRead(), startBatch(), this.value = this.computeValue(!1), endBatch()); var e = this.value; if (isCaughtException(e)) throw e.cause; return e }, ComputedValue.prototype.peek = function () { var e = this.computeValue(!1); if (isCaughtException(e)) throw e.cause; return e }, ComputedValue.prototype.set = function (e) { if (this.setter) { invariant(!this.isRunningSetter, "The setter of computed value '" + this.name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"), this.isRunningSetter = !0; try { this.setter.call(this.scope, e) } finally { this.isRunningSetter = !1 } } else invariant(!1, !1) }, ComputedValue.prototype.trackAndCompute = function () { isSpyEnabled() && spyReport({ "object": this.scope, "type": "compute", "name": this.name }); var e = this.value, t = this.dependenciesState === X.NOT_TRACKING, r = this.computeValue(!0), n = t || isCaughtException(e) || isCaughtException(r) || !this.equals(e, r); return n && (this.value = r), n }, ComputedValue.prototype.computeValue = function (e) { var t; if (this.isComputing = !0, Z.computationDepth++, e) t = trackDerivedFunction(this, this.derivation, this.scope); else if (!0 === Z.disableErrorBoundaries) t = this.derivation.call(this.scope); else try { t = this.derivation.call(this.scope) } catch (e) { t = new $(e) } return Z.computationDepth--, this.isComputing = !1, t }, ComputedValue.prototype.suspend = function () { this.keepAlive || (clearObserving(this), this.value = void 0) }, ComputedValue.prototype.observe = function (e, t) { var r = this, n = !0, o = void 0; return autorun(function () { var i = r.get(); if (!n || t) { var a = untrackedStart(); e({ "type": "update", "object": r, "newValue": i, "oldValue": o }), untrackedEnd(a) } n = !1, o = i }) }, ComputedValue.prototype.warnAboutUntrackedRead = function () { }, ComputedValue.prototype.toJSON = function () { return this.get() }, ComputedValue.prototype.toString = function () { return this.name + "[" + this.derivation.toString() + "]" }, ComputedValue.prototype.valueOf = function () { return toPrimitive(this.get()) }, ComputedValue }(); h.prototype[primitiveSymbol()] = h.prototype.valueOf; var m = createInstanceofPredicate("ComputedValue", h); function hasInterceptors(e) { return void 0 !== e.interceptors && e.interceptors.length > 0 } function registerInterceptor(e, t) { var r = e.interceptors || (e.interceptors = []); return r.push(t), once(function () { var e = r.indexOf(t); -1 !== e && r.splice(e, 1) }) } function interceptChange(e, t) { var r = untrackedStart(); try { var n = e.interceptors; if (n) for (var o = 0, i = n.length; o < i && (invariant(!(t = n[o](t)) || t.type, "Intercept handlers should return nothing or a change object"), t); o++); return t } finally { untrackedEnd(r) } } function hasListeners(e) { return void 0 !== e.changeListeners && e.changeListeners.length > 0 } function registerListener(e, t) { var r = e.changeListeners || (e.changeListeners = []); return r.push(t), once(function () { var e = r.indexOf(t); -1 !== e && r.splice(e, 1) }) } function notifyListeners(e, t) { var r = untrackedStart(), n = e.changeListeners; if (n) { for (var o = 0, i = (n = n.slice()).length; o < i; o++)n[o](t); untrackedEnd(r) } } !function declareAtom() { if (R) return; R = function () { function AtomImpl(e) { void 0 === e && (e = "Atom@" + getNextId()), this.name = e, this.isPendingUnobservation = !1, this.isBeingObserved = !1, this.observers = [], this.observersIndexes = {}, this.diffValue = 0, this.lastAccessedBy = 0, this.lowestObserverState = X.NOT_TRACKING } return AtomImpl.prototype.onBecomeUnobserved = function () { }, AtomImpl.prototype.onBecomeObserved = function () { }, AtomImpl.prototype.reportObserved = function () { return reportObserved(this) }, AtomImpl.prototype.reportChanged = function () { startBatch(), function propagateChanged(e) { if (e.lowestObserverState === X.STALE) return; e.lowestObserverState = X.STALE; var t = e.observers, r = t.length; for (; r--;) { var n = t[r]; n.dependenciesState === X.UP_TO_DATE && (n.isTracing !== Q.NONE && logTraceInfo(n, e), n.onBecomeStale()), n.dependenciesState = X.STALE } }(this), endBatch() }, AtomImpl.prototype.toString = function () { return this.name }, AtomImpl }(), M = createInstanceofPredicate("Atom", R) }(); var g = function (e) { function ObservableValue(t, r, n, o) { void 0 === n && (n = "ObservableValue@" + getNextId()), void 0 === o && (o = !0); var i = e.call(this, n) || this; return i.enhancer = r, i.hasUnreportedChange = !1, i.value = r(t, void 0, n), o && isSpyEnabled() && spyReport({ "type": "create", "name": i.name, "newValue": "" + i.value }), i } return __extends(ObservableValue, e), ObservableValue.prototype.dehanceValue = function (e) { return void 0 !== this.dehancer ? this.dehancer(e) : e }, ObservableValue.prototype.set = function (e) { var t = this.value; if ((e = this.prepareNewValue(e)) !== Z.UNCHANGED) { var r = isSpyEnabled(); r && spyReportStart({ "type": "update", "name": this.name, "newValue": e, "oldValue": t }), this.setNewValue(e), r && spyReportEnd() } }, ObservableValue.prototype.prepareNewValue = function (e) { if (checkIfStateModificationsAreAllowed(this), hasInterceptors(this)) { var t = interceptChange(this, { "object": this, "type": "update", "newValue": e }); if (!t) return Z.UNCHANGED; e = t.newValue } return e = this.enhancer(e, this.value, this.name), this.value !== e ? e : Z.UNCHANGED }, ObservableValue.prototype.setNewValue = function (e) { var t = this.value; this.value = e, this.reportChanged(), hasListeners(this) && notifyListeners(this, { "type": "update", "object": this, "newValue": e, "oldValue": t }) }, ObservableValue.prototype.get = function () { return this.reportObserved(), this.dehanceValue(this.value) }, ObservableValue.prototype.intercept = function (e) { return registerInterceptor(this, e) }, ObservableValue.prototype.observe = function (e, t) { return t && e({ "object": this, "type": "update", "newValue": this.value, "oldValue": void 0 }), registerListener(this, e) }, ObservableValue.prototype.toJSON = function () { return this.get() }, ObservableValue.prototype.toString = function () { return this.name + "[" + this.value + "]" }, ObservableValue.prototype.valueOf = function () { return toPrimitive(this.get()) }, ObservableValue }(R); g.prototype[primitiveSymbol()] = g.prototype.valueOf; createInstanceofPredicate("ObservableValue", g); var v = function () { function ObservableObjectAdministration(e, t, r) { this.target = e, this.name = t, this.defaultEnhancer = r, this.values = {} } return ObservableObjectAdministration.prototype.read = function (e, t) { if (this.target === e || (this.illegalAccess(e, t), this.values[t])) return this.values[t].get() }, ObservableObjectAdministration.prototype.write = function (e, t, r) { var n = this.target; n !== e && this.illegalAccess(e, t); var o = this.values[t]; if (o instanceof h) o.set(r); else { if (hasInterceptors(this)) { if (!(c = interceptChange(this, { "type": "update", "object": n, "name": t, "newValue": r }))) return; r = c.newValue } if ((r = o.prepareNewValue(r)) !== Z.UNCHANGED) { var i = hasListeners(this), s = isSpyEnabled(), c = i || s ? { "type": "update", "object": n, "oldValue": o.value, "name": t, "newValue": r } : null; s && spyReportStart(a({}, c, { "name": this.name, "key": t })), o.setNewValue(r), i && notifyListeners(this, c), s && spyReportEnd() } } }, ObservableObjectAdministration.prototype.remove = function (e) { if (this.values[e]) { var t = this.target; if (hasInterceptors(this)) if (!(i = interceptChange(this, { "object": t, "name": e, "type": "remove" }))) return; try { startBatch(); var r = hasListeners(this), n = isSpyEnabled(), o = this.values[e].get(); this.keys && this.keys.remove(e), delete this.values[e], delete this.target[e]; var i = r || n ? { "type": "remove", "object": t, "oldValue": o, "name": e } : null; n && spyReportStart(a({}, i, { "name": this.name, "key": e })), r && notifyListeners(this, i), n && spyReportEnd() } finally { endBatch() } } }, ObservableObjectAdministration.prototype.illegalAccess = function (e, t) { console.warn("Property '" + t + "' of '" + e + "' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner") }, ObservableObjectAdministration.prototype.observe = function (e, t) { return registerListener(this, e) }, ObservableObjectAdministration.prototype.intercept = function (e) { return registerInterceptor(this, e) }, ObservableObjectAdministration.prototype.getKeys = function () { var e = this; return void 0 === this.keys && (this.keys = new U(Object.keys(this.values).filter(function (t) { return e.values[t] instanceof g }), referenceEnhancer, "keys(" + this.name + ")", !0)), this.keys.slice() }, ObservableObjectAdministration }(); function asObservableObject(e, t, r) { void 0 === t && (t = ""), void 0 === r && (r = deepEnhancer); var n = e.$mobx; return n || (isPlainObject(e) || (t = (e.constructor.name || "ObservableObject") + "@" + getNextId()), t || (t = "ObservableObject@" + getNextId()), addHiddenFinalProp(e, "$mobx", n = new v(e, t, r)), n) } function defineObservableProperty(e, t, r, n) { var o = asObservableObject(e); if (function assertPropertyConfigurable(e, t) { 0 }(), hasInterceptors(o)) { var i = interceptChange(o, { "object": e, "name": t, "type": "add", "newValue": r }); if (!i) return; r = i.newValue } r = (o.values[t] = new g(r, n, o.name + "." + t, !1)).value, Object.defineProperty(e, t, function generateObservablePropConfig(e) { return y[e] || (y[e] = { "configurable": !0, "enumerable": !0, "get": function get() { return this.$mobx.read(this, e) }, "set": function set(t) { this.$mobx.write(this, e, t) } }) }(t)), o.keys && o.keys.push(t), function notifyPropertyAddition(e, t, r, n) { var o = hasListeners(e), i = isSpyEnabled(), s = o || i ? { "type": "add", "object": t, "name": r, "newValue": n } : null; i && spyReportStart(a({}, s, { "name": e.name, "key": r })); o && notifyListeners(e, s); i && spyReportEnd() }(o, e, t, r) } function defineComputedProperty(e, t, r) { var n = asObservableObject(e); r.name = n.name + "." + t, r.context = e, n.values[t] = new h(r), Object.defineProperty(e, t, function generateComputedPropConfig(e) { return b[e] || (b[e] = { "configurable": !0, "enumerable": !1, "get": function get() { return getAdministrationForComputedPropOwner(this).read(this, e) }, "set": function set(t) { getAdministrationForComputedPropOwner(this).write(this, e, t) } }) }(t)) } var y = Object.create(null), b = Object.create(null); function getAdministrationForComputedPropOwner(e) { var t = e.$mobx; return t || (initializeInstance(e), e.$mobx) } var S = createInstanceofPredicate("ObservableObjectAdministration", v); function isObservableObject(e) { return !!isObject(e) && (initializeInstance(e), S(e.$mobx)) } function createDecoratorForEnhancer(t) { var r = createPropDecorator(!0, function (e, r, n, o, i) { defineObservableProperty(e, r, n ? n.initializer ? n.initializer.call(e) : n.value : void 0, t) }), n = (void 0 !== e && e.env, r); return n.enhancer = t, n } function _isObservable(e, t) { if (null == e) return !1; if (void 0 !== t) { if (isObservableObject(e)) { var r = e.$mobx; return r.values && !!r.values[t] } return !1 } return isObservableObject(e) || !!e.$mobx || M(e) || ne(e) || m(e) } function isObservable(e) { return 1 !== arguments.length && fail$1(!1), _isObservable(e) } var _ = createPropDecorator(!1, function (e, t, r, n, o) { var i = r.get, s = r.set, c = o[0] || {}; defineComputedProperty(e, t, a({ "get": i, "set": s }, c)) }); _({ "equals": d.structural }); function extendObservable(e, t, r, n) { var o = (n = asCreateObservableOptions(n)).defaultDecorator || (!1 === n.deep ? P : C); initializeInstance(e), asObservableObject(e, n.name, o.enhancer), startBatch(); try { for (var i in t) { var a = Object.getOwnPropertyDescriptor(t, i); 0; var s = (r && i in r ? r[i] : a.get ? _ : o)(e, i, a, !0); s && Object.defineProperty(e, i, s) } } finally { endBatch() } return e } var w = { "deep": !0, "name": void 0, "defaultDecorator": void 0 }, A = { "deep": !1, "name": void 0, "defaultDecorator": void 0 }; function asCreateObservableOptions(e) { return null == e ? w : "string" == typeof e ? { "name": e, "deep": !0 } : e } function getEnhancerFromOptions(e) { return e.defaultDecorator ? e.defaultDecorator.enhancer : !1 === e.deep ? referenceEnhancer : deepEnhancer } Object.freeze(w), Object.freeze(A); var C = createDecoratorForEnhancer(deepEnhancer), T = createDecoratorForEnhancer(function shallowEnhancer(e, t, r) { return null == e ? e : isObservableObject(e) || isObservableArray(e) || B(e) ? e : Array.isArray(e) ? x.array(e, { "name": r, "deep": !1 }) : isPlainObject(e) ? x.object(e, void 0, { "name": r, "deep": !1 }) : isES6Map(e) ? x.map(e, { "name": r, "deep": !1 }) : fail$1(!1) }), P = createDecoratorForEnhancer(referenceEnhancer), k = createDecoratorForEnhancer(function refStructEnhancer(e, t, r) { 0; return deepEqual(e, t) ? t : e }); var E = { "box": function box(e, t) { arguments.length > 2 && incorrectlyUsedAsDecorator("box"); var r = asCreateObservableOptions(t); return new g(e, getEnhancerFromOptions(r), r.name) }, "shallowBox": function shallowBox(e, t) { return arguments.length > 2 && incorrectlyUsedAsDecorator("shallowBox"), deprecated("observable.shallowBox", "observable.box(value, { deep: false })"), x.box(e, { "name": t, "deep": !1 }) }, "array": function array(e, t) { arguments.length > 2 && incorrectlyUsedAsDecorator("array"); var r = asCreateObservableOptions(t); return new U(e, getEnhancerFromOptions(r), r.name) }, "shallowArray": function shallowArray(e, t) { return arguments.length > 2 && incorrectlyUsedAsDecorator("shallowArray"), deprecated("observable.shallowArray", "observable.array(values, { deep: false })"), x.array(e, { "name": t, "deep": !1 }) }, "map": function map(e, t) { arguments.length > 2 && incorrectlyUsedAsDecorator("map"); var r = asCreateObservableOptions(t); return new I(e, getEnhancerFromOptions(r), r.name) }, "shallowMap": function shallowMap(e, t) { return arguments.length > 2 && incorrectlyUsedAsDecorator("shallowMap"), deprecated("observable.shallowMap", "observable.map(values, { deep: false })"), x.map(e, { "name": t, "deep": !1 }) }, "object": function object(e, t, r) { return "string" == typeof arguments[1] && incorrectlyUsedAsDecorator("object"), extendObservable({}, e, t, asCreateObservableOptions(r)) }, "shallowObject": function shallowObject(e, t) { return "string" == typeof arguments[1] && incorrectlyUsedAsDecorator("shallowObject"), deprecated("observable.shallowObject", "observable.object(values, {}, { deep: false })"), x.object(e, {}, { "name": t, "deep": !1 }) }, "ref": P, "shallow": T, "deep": C, "struct": k }, x = function createObservable(e, t, r) { if ("string" == typeof arguments[1]) return C.apply(null, arguments); if (isObservable(e)) return e; var n = isPlainObject(e) ? x.object(e, t, r) : Array.isArray(e) ? x.array(e, t) : isES6Map(e) ? x.map(e, t) : e; if (n !== e) return n; fail$1(!1) }; function incorrectlyUsedAsDecorator(e) { fail$1("Expected one or two arguments to observable." + e + ". Did you accidentally try to use observable." + e + " as decorator?") } function deepEnhancer(e, t, r) { return isObservable(e) ? e : Array.isArray(e) ? x.array(e, { "name": r }) : isPlainObject(e) ? x.object(e, void 0, { "name": r }) : isES6Map(e) ? x.map(e, { "name": r }) : e } function referenceEnhancer(e) { return e } function iteratorSymbol() { return "function" == typeof Symbol && Symbol.iterator || "@@iterator" } function declareIterator(e, t) { addHiddenFinalProp(e, iteratorSymbol(), t) } function makeIterable(e) { return e[iteratorSymbol()] = self, e } function self() { return this } function transaction(e, t) { void 0 === t && (t = void 0), startBatch(); try { return e.apply(t) } finally { endBatch() } } Object.keys(E).forEach(function (e) { return x[e] = E[e] }); var O = {}, I = function () { function ObservableMap(e, t, r) { if (void 0 === t && (t = deepEnhancer), void 0 === r && (r = "ObservableMap@" + getNextId()), this.enhancer = t, this.name = r, this.$mobx = O, this._keys = new U(void 0, referenceEnhancer, this.name + ".keys()", !0), "function" != typeof Map) throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js"); this._data = new Map, this._hasMap = new Map, this.merge(e) } return ObservableMap.prototype._has = function (e) { return this._data.has(e) }, ObservableMap.prototype.has = function (e) { return this._hasMap.has(e) ? this._hasMap.get(e).get() : this._updateHasMapEntry(e, !1).get() }, ObservableMap.prototype.set = function (e, t) { var r = this._has(e); if (hasInterceptors(this)) { var n = interceptChange(this, { "type": r ? "update" : "add", "object": this, "newValue": t, "name": e }); if (!n) return this; t = n.newValue } return r ? this._updateValue(e, t) : this._addValue(e, t), this }, ObservableMap.prototype.delete = function (e) { var t = this; if (hasInterceptors(this) && !(o = interceptChange(this, { "type": "delete", "object": this, "name": e }))) return !1; if (this._has(e)) { var r = isSpyEnabled(), n = hasListeners(this), o = n || r ? { "type": "delete", "object": this, "oldValue": this._data.get(e).value, "name": e } : null; return r && spyReportStart(a({}, o, { "name": this.name, "key": e })), transaction(function () { t._keys.remove(e), t._updateHasMapEntry(e, !1), t._data.get(e).setNewValue(void 0), t._data.delete(e) }), n && notifyListeners(this, o), r && spyReportEnd(), !0 } return !1 }, ObservableMap.prototype._updateHasMapEntry = function (e, t) { var r = this._hasMap.get(e); return r ? r.setNewValue(t) : (r = new g(t, referenceEnhancer, this.name + "." + e + "?", !1), this._hasMap.set(e, r)), r }, ObservableMap.prototype._updateValue = function (e, t) { var r = this._data.get(e); if ((t = r.prepareNewValue(t)) !== Z.UNCHANGED) { var n = isSpyEnabled(), o = hasListeners(this), i = o || n ? { "type": "update", "object": this, "oldValue": r.value, "name": e, "newValue": t } : null; n && spyReportStart(a({}, i, { "name": this.name, "key": e })), r.setNewValue(t), o && notifyListeners(this, i), n && spyReportEnd() } }, ObservableMap.prototype._addValue = function (e, t) { var r = this; transaction(function () { var n = new g(t, r.enhancer, r.name + "." + e, !1); r._data.set(e, n), t = n.value, r._updateHasMapEntry(e, !0), r._keys.push(e) }); var n = isSpyEnabled(), o = hasListeners(this), i = o || n ? { "type": "add", "object": this, "name": e, "newValue": t } : null; n && spyReportStart(a({}, i, { "name": this.name, "key": e })), o && notifyListeners(this, i), n && spyReportEnd() }, ObservableMap.prototype.get = function (e) { return this.has(e) ? this.dehanceValue(this._data.get(e).get()) : this.dehanceValue(void 0) }, ObservableMap.prototype.dehanceValue = function (e) { return void 0 !== this.dehancer ? this.dehancer(e) : e }, ObservableMap.prototype.keys = function () { return this._keys[iteratorSymbol()]() }, ObservableMap.prototype.values = function () { var e = this, t = 0; return makeIterable({ "next": function next() { return t < e._keys.length ? { "value": e.get(e._keys[t++]), "done": !1 } : { "value": void 0, "done": !0 } } }) }, ObservableMap.prototype.entries = function () { var e = this, t = 0; return makeIterable({ "next": function next() { if (t < e._keys.length) { var r = e._keys[t++]; return { "value": [r, e.get(r)], "done": !1 } } return { "done": !0 } } }) }, ObservableMap.prototype.forEach = function (e, t) { var r = this; this._keys.forEach(function (n) { return e.call(t, r.get(n), n, r) }) }, ObservableMap.prototype.merge = function (e) { var t = this; return B(e) && (e = e.toJS()), transaction(function () { isPlainObject(e) ? Object.keys(e).forEach(function (r) { return t.set(r, e[r]) }) : Array.isArray(e) ? e.forEach(function (e) { var r = __read(e, 2), n = r[0], o = r[1]; return t.set(n, o) }) : isES6Map(e) ? e.forEach(function (e, r) { return t.set(r, e) }) : null != e && fail$1("Cannot initialize map from " + e) }), this }, ObservableMap.prototype.clear = function () { var e = this; transaction(function () { untracked(function () { e._keys.slice().forEach(function (t) { return e.delete(t) }) }) }) }, ObservableMap.prototype.replace = function (e) { var t = this; return transaction(function () { var r = function getMapLikeKeys(e) { return isPlainObject(e) ? Object.keys(e) : Array.isArray(e) ? e.map(function (e) { return __read(e, 1)[0] }) : isES6Map(e) || B(e) ? iteratorToArray(e.keys()) : fail$1("Cannot get keys from '" + e + "'") }(e); t._keys.filter(function (e) { return -1 === r.indexOf(e) }).forEach(function (e) { return t.delete(e) }), t.merge(e) }), this }, Object.defineProperty(ObservableMap.prototype, "size", { "get": function get() { return this._keys.length }, "enumerable": !0, "configurable": !0 }), ObservableMap.prototype.toPOJO = function () { var e = this, t = {}; return this._keys.forEach(function (r) { return t["" + r] = e.get(r) }), t }, ObservableMap.prototype.toJS = function () { var e = this, t = new Map; return this._keys.forEach(function (r) { return t.set(r, e.get(r)) }), t }, ObservableMap.prototype.toJSON = function () { return this.toPOJO() }, ObservableMap.prototype.toString = function () { var e = this; return this.name + "[{ " + this._keys.map(function (t) { return t + ": " + e.get(t) }).join(", ") + " }]" }, ObservableMap.prototype.observe = function (e, t) { return registerListener(this, e) }, ObservableMap.prototype.intercept = function (e) { return registerInterceptor(this, e) }, ObservableMap }(); declareIterator(I.prototype, function () { return this.entries() }), addHiddenFinalProp(I.prototype, "undefined" != typeof Symbol ? Symbol.toStringTag : "@@toStringTag", "Map"); var R, M, B = createInstanceofPredicate("ObservableMap", I); function getAtom(e, t) { if ("object" === (void 0 === e ? "undefined" : o(e)) && null !== e) { if (isObservableArray(e)) return void 0 !== t && fail$1(!1), e.$mobx.atom; if (B(e)) { var r = e; return void 0 === t ? getAtom(r._keys) : ((n = r._data.get(t) || r._hasMap.get(t)) || fail$1(!1), n) } var n; if (initializeInstance(e), t && !e.$mobx && e[t], isObservableObject(e)) return t ? ((n = e.$mobx.values[t]) || fail$1(!1), n) : fail$1(!1); if (M(e) || m(e) || ne(e)) return e } else if ("function" == typeof e && ne(e.$mobx)) return e.$mobx; return fail$1(!1) } function getAdministration(e, t) { return e || fail$1("Expecting some object"), void 0 !== t ? getAdministration(getAtom(e, t)) : M(e) || m(e) || ne(e) ? e : B(e) ? e : (initializeInstance(e), e.$mobx ? e.$mobx : void fail$1(!1)) } var D, j, F = (D = !1, j = {}, Object.defineProperty(j, "0", { "set": function set() { D = !0 } }), Object.create(j)[0] = 1, !1 === D), L = 0, N = function () { return function StubArray() { } }(); !function inherit(e, t) { void 0 !== Object.setPrototypeOf ? Object.setPrototypeOf(e.prototype, t) : void 0 !== e.prototype.__proto__ ? e.prototype.__proto__ = t : e.prototype = t }(N, Array.prototype), Object.isFrozen(Array) && ["constructor", "push", "shift", "concat", "pop", "unshift", "replace", "find", "findIndex", "splice", "reverse", "sort"].forEach(function (e) { Object.defineProperty(N.prototype, e, { "configurable": !0, "writable": !0, "value": Array.prototype[e] }) }); var H = function () { function ObservableArrayAdministration(e, t, r, n) { this.array = r, this.owned = n, this.values = [], this.lastKnownLength = 0, this.atom = new R(e || "ObservableArray@" + getNextId()), this.enhancer = function (r, n) { return t(r, n, e + "[..]") } } return ObservableArrayAdministration.prototype.dehanceValue = function (e) { return void 0 !== this.dehancer ? this.dehancer(e) : e }, ObservableArrayAdministration.prototype.dehanceValues = function (e) { return void 0 !== this.dehancer && e.length > 0 ? e.map(this.dehancer) : e }, ObservableArrayAdministration.prototype.intercept = function (e) { return registerInterceptor(this, e) }, ObservableArrayAdministration.prototype.observe = function (e, t) { return void 0 === t && (t = !1), t && e({ "object": this.array, "type": "splice", "index": 0, "added": this.values.slice(), "addedCount": this.values.length, "removed": [], "removedCount": 0 }), registerListener(this, e) }, ObservableArrayAdministration.prototype.getArrayLength = function () { return this.atom.reportObserved(), this.values.length }, ObservableArrayAdministration.prototype.setArrayLength = function (e) { if ("number" != typeof e || e < 0) throw new Error("[mobx.array] Out of range: " + e); var t = this.values.length; if (e !== t) if (e > t) { for (var r = new Array(e - t), n = 0; n < e - t; n++)r[n] = void 0; this.spliceWithArray(t, 0, r) } else this.spliceWithArray(e, t - e) }, ObservableArrayAdministration.prototype.updateArrayLength = function (e, t) { if (e !== this.lastKnownLength) throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?"); this.lastKnownLength += t, t > 0 && e + t + 1 > L && reserveArrayBuffer(e + t + 1) }, ObservableArrayAdministration.prototype.spliceWithArray = function (e, t, r) { var n = this; checkIfStateModificationsAreAllowed(this.atom); var o = this.values.length; if (void 0 === e ? e = 0 : e > o ? e = o : e < 0 && (e = Math.max(0, o + e)), t = 1 === arguments.length ? o - e : null == t ? 0 : Math.max(0, Math.min(t, o - e)), void 0 === r && (r = q), hasInterceptors(this)) { var i = interceptChange(this, { "object": this.array, "type": "splice", "index": e, "removedCount": t, "added": r }); if (!i) return q; t = i.removedCount, r = i.added } var a = (r = 0 === r.length ? r : r.map(function (e) { return n.enhancer(e, void 0) })).length - t; this.updateArrayLength(o, a); var s = this.spliceItemsIntoValues(e, t, r); return 0 === t && 0 === r.length || this.notifyArraySplice(e, r, s), this.dehanceValues(s) }, ObservableArrayAdministration.prototype.spliceItemsIntoValues = function (e, t, r) { var n; if (r.length < 1e4) return (n = this.values).splice.apply(n, __spread([e, t], r)); var o = this.values.slice(e, e + t); return this.values = this.values.slice(0, e).concat(r, this.values.slice(e + t)), o }, ObservableArrayAdministration.prototype.notifyArrayChildUpdate = function (e, t, r) { var n = !this.owned && isSpyEnabled(), o = hasListeners(this), i = o || n ? { "object": this.array, "type": "update", "index": e, "newValue": t, "oldValue": r } : null; n && spyReportStart(a({}, i, { "name": this.atom.name })), this.atom.reportChanged(), o && notifyListeners(this, i), n && spyReportEnd() }, ObservableArrayAdministration.prototype.notifyArraySplice = function (e, t, r) { var n = !this.owned && isSpyEnabled(), o = hasListeners(this), i = o || n ? { "object": this.array, "type": "splice", "index": e, "removed": r, "added": t, "removedCount": r.length, "addedCount": t.length } : null; n && spyReportStart(a({}, i, { "name": this.atom.name })), this.atom.reportChanged(), o && notifyListeners(this, i), n && spyReportEnd() }, ObservableArrayAdministration }(), U = function (e) { function ObservableArray(t, r, n, o) { void 0 === n && (n = "ObservableArray@" + getNextId()), void 0 === o && (o = !1); var i = e.call(this) || this, a = new H(n, r, i, o); if (addHiddenFinalProp(i, "$mobx", a), t && t.length) { var s = allowStateChangesStart(!0); i.spliceWithArray(0, 0, t), allowStateChangesEnd(s) } return F && Object.defineProperty(a.array, "0", W), i } return __extends(ObservableArray, e), ObservableArray.prototype.intercept = function (e) { return this.$mobx.intercept(e) }, ObservableArray.prototype.observe = function (e, t) { return void 0 === t && (t = !1), this.$mobx.observe(e, t) }, ObservableArray.prototype.clear = function () { return this.splice(0) }, ObservableArray.prototype.concat = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return this.$mobx.atom.reportObserved(), Array.prototype.concat.apply(this.peek(), e.map(function (e) { return isObservableArray(e) ? e.peek() : e })) }, ObservableArray.prototype.replace = function (e) { return this.$mobx.spliceWithArray(0, this.$mobx.values.length, e) }, ObservableArray.prototype.toJS = function () { return this.slice() }, ObservableArray.prototype.toJSON = function () { return this.toJS() }, ObservableArray.prototype.peek = function () { return this.$mobx.atom.reportObserved(), this.$mobx.dehanceValues(this.$mobx.values) }, ObservableArray.prototype.find = function (e, t, r) { void 0 === r && (r = 0), 3 === arguments.length && deprecated("The array.find fromIndex argument to find will not be supported anymore in the next major"); var n = this.findIndex.apply(this, arguments); return -1 === n ? void 0 : this.get(n) }, ObservableArray.prototype.findIndex = function (e, t, r) { void 0 === r && (r = 0), 3 === arguments.length && deprecated("The array.findIndex fromIndex argument to find will not be supported anymore in the next major"); for (var n = this.peek(), o = n.length, i = r; i < o; i++)if (e.call(t, n[i], i, this)) return i; return -1 }, ObservableArray.prototype.splice = function (e, t) { for (var r = [], n = 2; n < arguments.length; n++)r[n - 2] = arguments[n]; switch (arguments.length) { case 0: return []; case 1: return this.$mobx.spliceWithArray(e); case 2: return this.$mobx.spliceWithArray(e, t) }return this.$mobx.spliceWithArray(e, t, r) }, ObservableArray.prototype.spliceWithArray = function (e, t, r) { return this.$mobx.spliceWithArray(e, t, r) }, ObservableArray.prototype.push = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var r = this.$mobx; return r.spliceWithArray(r.values.length, 0, e), r.values.length }, ObservableArray.prototype.pop = function () { return this.splice(Math.max(this.$mobx.values.length - 1, 0), 1)[0] }, ObservableArray.prototype.shift = function () { return this.splice(0, 1)[0] }, ObservableArray.prototype.unshift = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var r = this.$mobx; return r.spliceWithArray(0, 0, e), r.values.length }, ObservableArray.prototype.reverse = function () { var e = this.slice(); return e.reverse.apply(e, arguments) }, ObservableArray.prototype.sort = function (e) { var t = this.slice(); return t.sort.apply(t, arguments) }, ObservableArray.prototype.remove = function (e) { var t = this.$mobx.dehanceValues(this.$mobx.values).indexOf(e); return t > -1 && (this.splice(t, 1), !0) }, ObservableArray.prototype.move = function (e, t) { function checkIndex(e) { if (e < 0) throw new Error("[mobx.array] Index out of bounds: " + e + " is negative"); var t = this.$mobx.values.length; if (e >= t) throw new Error("[mobx.array] Index out of bounds: " + e + " is not smaller than " + t) } if (deprecated("observableArray.move is deprecated, use .slice() & .replace() instead"), checkIndex.call(this, e), checkIndex.call(this, t), e !== t) { var r, n = this.$mobx.values; r = e < t ? __spread(n.slice(0, e), n.slice(e + 1, t + 1), [n[e]], n.slice(t + 1)) : __spread(n.slice(0, t), [n[e]], n.slice(t, e), n.slice(e + 1)), this.replace(r) } }, ObservableArray.prototype.get = function (e) { var t = this.$mobx; if (t) { if (e < t.values.length) return t.atom.reportObserved(), t.dehanceValue(t.values[e]); console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + t.values.length + "). Please check length first. Out of bound indices will not be tracked by MobX") } }, ObservableArray.prototype.set = function (e, t) { var r = this.$mobx, n = r.values; if (e < n.length) { checkIfStateModificationsAreAllowed(r.atom); var o = n[e]; if (hasInterceptors(r)) { var i = interceptChange(r, { "type": "update", "object": this, "index": e, "newValue": t }); if (!i) return; t = i.newValue } (t = r.enhancer(t, o)) !== o && (n[e] = t, r.notifyArrayChildUpdate(e, t, o)) } else { if (e !== n.length) throw new Error("[mobx.array] Index out of bounds, " + e + " is larger than " + n.length); r.spliceWithArray(e, 0, [t]) } }, ObservableArray }(N); declareIterator(U.prototype, function () { this.$mobx.atom.reportObserved(); var e = this, t = 0; return makeIterable({ "next": function next() { return t < e.length ? { "value": e[t++], "done": !1 } : { "done": !0, "value": void 0 } } }) }), Object.defineProperty(U.prototype, "length", { "enumerable": !1, "configurable": !0, "get": function get() { return this.$mobx.getArrayLength() }, "set": function set(e) { this.$mobx.setArrayLength(e) } }), "undefined" != typeof Symbol && Symbol.toStringTag && addHiddenProp(U.prototype, "undefined" != typeof Symbol ? Symbol.toStringTag : "@@toStringTag", "Array"), ["every", "filter", "forEach", "indexOf", "join", "lastIndexOf", "map", "reduce", "reduceRight", "slice", "some", "toString", "toLocaleString"].forEach(function (e) { var t = Array.prototype[e]; invariant("function" == typeof t, "Base function not defined on Array prototype: '" + e + "'"), addHiddenProp(U.prototype, e, function () { return t.apply(this.peek(), arguments) }) }), function makeNonEnumerable(e, t) { for (var r = 0; r < t.length; r++)addHiddenProp(e, t[r], e[t[r]]) }(U.prototype, ["constructor", "intercept", "observe", "clear", "concat", "get", "replace", "toJS", "toJSON", "peek", "find", "findIndex", "splice", "spliceWithArray", "push", "pop", "set", "shift", "unshift", "reverse", "sort", "remove", "move", "toString", "toLocaleString"]); var W = createArrayEntryDescriptor(0); function createArrayEntryDescriptor(e) { return { "enumerable": !1, "configurable": !1, "get": function get() { return this.get(e) }, "set": function set(t) { this.set(e, t) } } } function createArrayBufferItem(e) { Object.defineProperty(U.prototype, "" + e, createArrayEntryDescriptor(e)) } function reserveArrayBuffer(e) { for (var t = L; t < e; t++)createArrayBufferItem(t); L = e } reserveArrayBuffer(1e3); var G = createInstanceofPredicate("ObservableArrayAdministration", H); function isObservableArray(e) { return isObject(e) && G(e.$mobx) } var V = "An invariant failed, however the error is obfuscated because this is an production build.", q = []; Object.freeze(q); var z = {}; function getGlobal() { return "undefined" != typeof window ? window : n } function getNextId() { return ++Z.mobxGuid } function fail$1(e) { throw invariant(!1, e), "X" } function invariant(e, t) { if (!e) throw new Error("[mobx] " + (t || V)) } Object.freeze(z); function deprecated(e, t) { return !1 } function once(e) { var t = !1; return function () { if (!t) return t = !0, e.apply(this, arguments) } } function isObject(e) { return null !== e && "object" === (void 0 === e ? "undefined" : o(e)) } function isPlainObject(e) { if (null === e || "object" !== (void 0 === e ? "undefined" : o(e))) return !1; var t = Object.getPrototypeOf(e); return t === Object.prototype || null === t } function addHiddenProp(e, t, r) { Object.defineProperty(e, t, { "enumerable": !1, "writable": !0, "configurable": !0, "value": r }) } function addHiddenFinalProp(e, t, r) { Object.defineProperty(e, t, { "enumerable": !1, "writable": !1, "configurable": !0, "value": r }) } function createInstanceofPredicate(e, t) { var r = "isMobX" + e; return t.prototype[r] = !0, function (e) { return isObject(e) && !0 === e[r] } } function isES6Map(e) { return void 0 !== getGlobal().Map && e instanceof getGlobal().Map } function iteratorToArray(e) { for (var t = []; ;) { var r = e.next(); if (r.done) break; t.push(r.value) } return t } function primitiveSymbol() { return "function" == typeof Symbol && Symbol.toPrimitive || "@@toPrimitive" } function toPrimitive(e) { return null === e ? null : "object" === (void 0 === e ? "undefined" : o(e)) ? "" + e : e } var X, Q, K = function () { return function MobXGlobals() { this.version = 5, this.UNCHANGED = {}, this.trackingDerivation = null, this.computationDepth = 0, this.runId = 0, this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], this.pendingReactions = [], this.isRunningReactions = !1, this.allowStateChanges = !0, this.enforceActions = !1, this.spyListeners = [], this.globalReactionErrorHandlers = [], this.computedRequiresReaction = !1, this.disableErrorBoundaries = !1 } }(), Y = !0, J = !1, Z = function () { var e = getGlobal(); return e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (Y = !1), e.__mobxGlobals && e.__mobxGlobals.version !== (new K).version && (Y = !1), Y ? e.__mobxGlobals ? (e.__mobxInstanceCount += 1, e.__mobxGlobals.UNCHANGED || (e.__mobxGlobals.UNCHANGED = {}), e.__mobxGlobals) : (e.__mobxInstanceCount = 1, e.__mobxGlobals = new K) : (setTimeout(function () { J || fail$1("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`") }, 1), new K) }(); function nodeToDependencyTree(e) { var t = { "name": e.name }; return e.observing && e.observing.length > 0 && (t.dependencies = function unique(e) { var t = []; return e.forEach(function (e) { -1 === t.indexOf(e) && t.push(e) }), t }(e.observing).map(nodeToDependencyTree)), t } function addObserver(e, t) { var r = e.observers.length; r && (e.observersIndexes[t.__mapid] = r), e.observers[r] = t, e.lowestObserverState > t.dependenciesState && (e.lowestObserverState = t.dependenciesState) } function removeObserver(e, t) { if (1 === e.observers.length) e.observers.length = 0, queueForUnobservation(e); else { var r = e.observers, n = e.observersIndexes, o = r.pop(); if (o !== t) { var i = n[t.__mapid] || 0; i ? n[o.__mapid] = i : delete n[o.__mapid], r[i] = o } delete n[t.__mapid] } } function queueForUnobservation(e) { !1 === e.isPendingUnobservation && (e.isPendingUnobservation = !0, Z.pendingUnobservations.push(e)) } function startBatch() { Z.inBatch++ } function endBatch() { if (0 == --Z.inBatch) { runReactions(); for (var e = Z.pendingUnobservations, t = 0; t < e.length; t++) { var r = e[t]; r.isPendingUnobservation = !1, 0 === r.observers.length && (r.isBeingObserved && (r.isBeingObserved = !1, r.onBecomeUnobserved()), r instanceof h && r.suspend()) } Z.pendingUnobservations = [] } } function reportObserved(e) { var t = Z.trackingDerivation; return null !== t ? (t.runId !== e.lastAccessedBy && (e.lastAccessedBy = t.runId, t.newObserving[t.unboundDepsCount++] = e, e.isBeingObserved || (e.isBeingObserved = !0, e.onBecomeObserved())), !0) : (0 === e.observers.length && Z.inBatch > 0 && queueForUnobservation(e), !1) } function logTraceInfo(e, t) { if (console.log("[mobx.trace] '" + e.name + "' is invalidated due to a change in: '" + t.name + "'"), e.isTracing === Q.BREAK) { var r = []; !function printDepTree(e, t, r) { if (t.length >= 1e3) return void t.push("(and many more)"); t.push("" + new Array(r).join("\t") + e.name); e.dependencies && e.dependencies.forEach(function (e) { return printDepTree(e, t, r + 1) }) }(function getDependencyTree(e, t) { return nodeToDependencyTree(getAtom(e, t)) }(e), r, 1), new Function("debugger;\n/*\nTracing '" + e.name + "'\n\nYou are entering this break point because derivation '" + e.name + "' is being traced and '" + t.name + "' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n" + (e instanceof h ? e.derivation.toString() : "") + "\n\nThe dependencies for this derivation are:\n\n" + r.join("\n") + "\n*/\n    ")() } } !function (e) { e[e.NOT_TRACKING = -1] = "NOT_TRACKING", e[e.UP_TO_DATE = 0] = "UP_TO_DATE", e[e.POSSIBLY_STALE = 1] = "POSSIBLY_STALE", e[e.STALE = 2] = "STALE" }(X || (X = {})), function (e) { e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK" }(Q || (Q = {})); var $ = function () { return function CaughtException(e) { this.cause = e } }(); function isCaughtException(e) { return e instanceof $ } function shouldCompute(e) { switch (e.dependenciesState) { case X.UP_TO_DATE: return !1; case X.NOT_TRACKING: case X.STALE: return !0; case X.POSSIBLY_STALE: for (var t = untrackedStart(), r = e.observing, n = r.length, o = 0; o < n; o++) { var i = r[o]; if (m(i)) { if (Z.disableErrorBoundaries) i.get(); else try { i.get() } catch (e) { return untrackedEnd(t), !0 } if (e.dependenciesState === X.STALE) return untrackedEnd(t), !0 } } return changeDependenciesStateTo0(e), untrackedEnd(t), !1 } } function checkIfStateModificationsAreAllowed(e) { var t = e.observers.length > 0; Z.computationDepth > 0 && t && fail$1(!1), Z.allowStateChanges || !t && "strict" !== Z.enforceActions || fail$1(!1) } function trackDerivedFunction(e, t, r) { changeDependenciesStateTo0(e), e.newObserving = new Array(e.observing.length + 100), e.unboundDepsCount = 0, e.runId = ++Z.runId; var n, o = Z.trackingDerivation; if (Z.trackingDerivation = e, !0 === Z.disableErrorBoundaries) n = t.call(r); else try { n = t.call(r) } catch (e) { n = new $(e) } return Z.trackingDerivation = o, function bindDependencies(e) { for (var t = e.observing, r = e.observing = e.newObserving, n = X.UP_TO_DATE, o = 0, i = e.unboundDepsCount, a = 0; a < i; a++) { var s = r[a]; 0 === s.diffValue && (s.diffValue = 1, o !== a && (r[o] = s), o++), s.dependenciesState > n && (n = s.dependenciesState) } r.length = o, e.newObserving = null, i = t.length; for (; i--;) { var s = t[i]; 0 === s.diffValue && removeObserver(s, e), s.diffValue = 0 } for (; o--;) { var s = r[o]; 1 === s.diffValue && (s.diffValue = 0, addObserver(s, e)) } n !== X.UP_TO_DATE && (e.dependenciesState = n, e.onBecomeStale()) }(e), n } function clearObserving(e) { var t = e.observing; e.observing = []; for (var r = t.length; r--;)removeObserver(t[r], e); e.dependenciesState = X.NOT_TRACKING } function untracked(e) { var t = untrackedStart(), r = e(); return untrackedEnd(t), r } function untrackedStart() { var e = Z.trackingDerivation; return Z.trackingDerivation = null, e } function untrackedEnd(e) { Z.trackingDerivation = e } function changeDependenciesStateTo0(e) { if (e.dependenciesState !== X.UP_TO_DATE) { e.dependenciesState = X.UP_TO_DATE; for (var t = e.observing, r = t.length; r--;)t[r].lowestObserverState = X.UP_TO_DATE } } function trace() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var r = !1; "boolean" == typeof e[e.length - 1] && (r = e.pop()); var n = function getAtomFromArgs(e) { switch (e.length) { case 0: return Z.trackingDerivation; case 1: return getAtom(e[0]); case 2: return getAtom(e[0], e[1]) } }(e); if (!n) return fail$1(!1); n.isTracing === Q.NONE && console.log("[mobx.trace] '" + n.name + "' tracing enabled"), n.isTracing = r ? Q.BREAK : Q.LOG } var ee = function () { function Reaction(e, t, r) { void 0 === e && (e = "Reaction@" + getNextId()), this.name = e, this.onInvalidate = t, this.errorHandler = r, this.observing = [], this.newObserving = [], this.dependenciesState = X.NOT_TRACKING, this.diffValue = 0, this.runId = 0, this.unboundDepsCount = 0, this.__mapid = "#" + getNextId(), this.isDisposed = !1, this._isScheduled = !1, this._isTrackPending = !1, this._isRunning = !1, this.isTracing = Q.NONE } return Reaction.prototype.onBecomeStale = function () { this.schedule() }, Reaction.prototype.schedule = function () { this._isScheduled || (this._isScheduled = !0, Z.pendingReactions.push(this), runReactions()) }, Reaction.prototype.isScheduled = function () { return this._isScheduled }, Reaction.prototype.runReaction = function () { if (!this.isDisposed) { if (startBatch(), this._isScheduled = !1, shouldCompute(this)) { this._isTrackPending = !0; try { this.onInvalidate(), this._isTrackPending && isSpyEnabled() && spyReport({ "name": this.name, "type": "scheduled-reaction" }) } catch (e) { this.reportExceptionInDerivation(e) } } endBatch() } }, Reaction.prototype.track = function (e) { startBatch(); var t, r = isSpyEnabled(); r && (t = Date.now(), spyReportStart({ "name": this.name, "type": "reaction" })), this._isRunning = !0; var n = trackDerivedFunction(this, e, void 0); this._isRunning = !1, this._isTrackPending = !1, this.isDisposed && clearObserving(this), isCaughtException(n) && this.reportExceptionInDerivation(n.cause), r && spyReportEnd({ "time": Date.now() - t }), endBatch() }, Reaction.prototype.reportExceptionInDerivation = function (e) { var t = this; if (this.errorHandler) this.errorHandler(e, this); else { if (Z.disableErrorBoundaries) throw e; var r = "[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '" + this; console.error(r, e), isSpyEnabled() && spyReport({ "type": "error", "name": this.name, "message": r, "error": "" + e }), Z.globalReactionErrorHandlers.forEach(function (r) { return r(e, t) }) } }, Reaction.prototype.dispose = function () { this.isDisposed || (this.isDisposed = !0, this._isRunning || (startBatch(), clearObserving(this), endBatch())) }, Reaction.prototype.getDisposer = function () { var e = this.dispose.bind(this); return e.$mobx = this, e }, Reaction.prototype.toString = function () { return "Reaction[" + this.name + "]" }, Reaction.prototype.trace = function (e) { void 0 === e && (e = !1), trace(this, e) }, Reaction }(); var te = 100, re = function reactionScheduler(e) { return e() }; function runReactions() { Z.inBatch > 0 || Z.isRunningReactions || re(runReactionsHelper) } function runReactionsHelper() { Z.isRunningReactions = !0; for (var e = Z.pendingReactions, t = 0; e.length > 0;) { ++t === te && (console.error("Reaction doesn't converge to a stable state after " + te + " iterations. Probably there is a cycle in the reactive function: " + e[0]), e.splice(0)); for (var r = e.splice(0), n = 0, o = r.length; n < o; n++)r[n].runReaction() } Z.isRunningReactions = !1 } var ne = createInstanceofPredicate("Reaction", ee); "object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : o(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({ "spy": function spy(e) { return Z.spyListeners.push(e), once(function () { Z.spyListeners = Z.spyListeners.filter(function (t) { return t !== e }) }) }, "extras": { "getDebugName": function getDebugName(e, t) { return (void 0 !== t ? getAtom(e, t) : isObservableObject(e) || B(e) ? getAdministration(e) : getAtom(e)).name } } }) }).call(this, r(32), r(14)) }, function (e, t) { var r, n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; r = function () { return this }(); try { r = r || new Function("return this")() } catch (e) { "object" === ("undefined" == typeof window ? "undefined" : n(window)) && (r = window) } e.exports = r }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; Date.now = Date.now || function () { return (new Date).getTime() }; var n = Date.now(), o = function noop() { }, i = { "noop": o, "warn": function getCwarn() { var e = "object" == ("undefined" == typeof console ? "undefined" : r(console)) ? console.warn : o; try { var t = { "warn": e }; t.warn.call(t) } catch (e) { return o } return e }(), "key": "__bl", "selfErrKey": "ARMS_SDK_ERROR", "selfErrPage": "ARMSSDK", "win": "object" == ("undefined" == typeof window ? "undefined" : r(window)) && window.document ? window : void 0, "regionMap": { "cn": "https://arms-retcode.aliyuncs.com/r.png?", "sg": "https://arms-retcode-sg.aliyuncs.com/r.png?", "sg_2": "https://retcode-sg-lazada.arms.aliyuncs.com/r.png?", "daily": "http://arms-retcode-daily.alibaba.net/r.png?", "daily_2": "https://arms-retcode-daily.alibaba.net/r.png?", "us": "https://retcode-us-west-1.arms.aliyuncs.com/r.png?", "tw": "https://arms-retcode.orientalgame.com.tw/r.png?", "tw_sg": "https://arms-retcode-sg.orientalgame.com.tw/r.png?", "hz_finance": "https://arms-retcode-hz-finance.aliyuncs.com/r.png?" }, "defaultImgUrl": "https://arms-retcode.aliyuncs.com/r.png?", "createObject": function createObject(e) { if (Object.create) return Object.create(e); var t = function t() { }; return t.prototype = e, new t }, "each": function each(e, t) { var r = 0, n = e.length; if (this.T(e, "Array")) for (; r < n && !1 !== t.call(e[r], e[r], r); r++); else for (r in e) if (!1 === t.call(e[r], e[r], r)) break; return e }, "safetyCall": function safetyCall(e, t, r) { if ("function" != typeof e) return r; try { return e.apply(this, t) } catch (e) { return r } }, "T": function T(e, t) { var r = Object.prototype.toString.call(e).substring(8).replace("]", ""); return t ? r === t : r }, "filterByRule": function filterByRule(e, t) { if (!e) return ""; if (!t) return e; var r = this, n = r.T(t); return "Function" === n ? r.safetyCall(t, [e], e) : "Array" === n ? (this.each(t, function (t) { e = r.filterByRule(e, t) }), e) : "Object" === n ? e.replace(t.rule, t.target || "") : e.replace(t, "") }, "ignoreByRule": function ignoreByRule(e, t) { if (!e || !t) return !1; if ((this.isString(t) || t.source || "Function" === this.T(t)) && (t = [t]), !this.isArray(t)) return this.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"), !1; for (var r, n = [], o = 0, i = t.length; o < i; o++)if (r = t[o], this.isString(r)) n.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")); else if (r && r.source) n.push(r.source); else if (r && "Function" === this.T(r) && !0 === this.safetyCall(r, [e], !1)) return !0; var a = new RegExp(n.join("|"), "i"); return !!(n.length && a.test && a.test(e)) }, "J": function J(e) { if (!e || "string" != typeof e) return e; var t = null; try { t = JSON.parse(e) } catch (e) { } return t }, "pick": function pick(e) { return 1 === e || 1 === Math.ceil(Math.random() * e) }, "verifyConfig": function verifyConfig(e) { if ("sample" in e) { var t = e.sample, r = t; t && /^\d+(\.\d+)?%$/.test(t) && (r = parseInt(100 / parseFloat(t))), 0 < r && 1 > r && (r = parseInt(1 / r)), r >= 1 && r <= 100 ? e.sample = r : delete e.sample } return e }, "on": function on(e, t, r, n, o) { return e.addEventListener ? (o = o || !1, e.addEventListener(t, function i(a) { n && e.removeEventListener(t, i, o), r.call(this, a) }, o)) : e.attachEvent && e.attachEvent("on" + t, function a(o) { n && e.detachEvent("on" + t, a), r.call(this, o) }), this }, "off": function off(e, t, r) { return r ? (e.removeEventListener ? e.removeEventListener(t, r) : e.detachEvent && e.detachEvent(t, r), this) : this }, "delay": function delay(e, t) { return -1 === t ? (e(), null) : setTimeout(e, t || 0) }, "ext": function ext(e) { for (var t = 1, r = arguments.length; t < r; t++) { var n = arguments[t]; for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]) } return e }, "sub": function sub(e, t) { var r = {}; return this.each(e, function (e, n) { -1 !== t.indexOf(n) && (r[n] = e) }), r }, "uu": function uu() { for (var e, t, r = 20, n = new Array(r), o = Date.now().toString(36).split(""); r-- > 0;)t = (e = 36 * Math.random() | 0).toString(36), n[r] = e % 3 ? t : t.toUpperCase(); for (var i = 0; i < 8; i++)n.splice(3 * i + 2, 0, o[i]); return n.join("") }, "seq": function seq() { return (n++).toString(36) }, "decode": function decode(e) { try { e = decodeURIComponent(e) } catch (e) { } return e }, "encode": function encode(e, t) { try { e = t ? encodeURIComponent(e).replace(/\(/g, "%28").replace(/\)/g, "%29") : encodeURIComponent(e) } catch (e) { } return e }, "serialize": function serialize(e) { e = e || {}; var t = []; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && void 0 !== e[r] && t.push(r + "=" + this.encode(e[r], "msg" === r)); return t.join("&") }, "checkAPI": function checkAPI(e, t) { if (!e || "string" != typeof e) return !1; var r = /arms-retcode[\w-]*\.aliyuncs/.test(e); return !r && t && (r = /(\.png)|(\.gif)|(alicdn\.com)|(mmstat\.com)/.test(e)), !r }, "checkAutoError": function checkAutoError(e) { return !(!e || !e.message || /failed[\w\s]+fetch/i.test(e.message)) }, "cutUrlSearch": function cutUrlSearch(e) { return e && "string" == typeof e ? e.replace(/^(https?:)?\/\//, "").replace(/\?.*$/, "") : "" }, "removeUrlSearch": function removeUrlSearch(e) { return e && "string" == typeof e ? e.replace(/\?.*$/, "") : "" }, "createFakeToString": function createFakeToString(e) { return function () { return e + "() { [native code] }" } }, "checkSameOrigin": function checkSameOrigin(e, t) { if (!t || !e) return !1; var r = "//" + t.split("/")[2]; return e === t || e.slice(0, t.length + 1) === t + "/" || e === r || e.slice(0, r.length + 1) === r + "/" || !/^(\/\/|http:|https:).*/.test(e) }, "getRandIP": function getRandIP() { for (var e = [], t = 0; t < 4; t++) { var r = Math.floor(256 * Math.random()); e[t] = (r > 15 ? "" : "0") + r.toString(16) } return e.join("").replace(/^0/, "1") }, "getSortNum": function getSortNum(e) { return e ? (e += 1) >= 1e3 && e <= 9999 ? e : e < 1e3 ? e + 1e3 : e % 1e4 + 1e3 : 1e3 }, "getRandNum": function getRandNum(e) { return e && "string" == typeof e ? e.length < 5 ? this.getNum(5) : e.substring(e.length - 5) : this.getNum(5) }, "getNum": function getNum(e) { for (var t = [], r = 0; r < e; r++) { var n = Math.floor(16 * Math.random()); t[r] = n.toString(16) } return t.join("") }, "getCurDomain": function getCurDomain() { return location && location.hostname || "" }, "parseFetchHeaders": function parseFetchHeaders(e) { if (!e) return {}; var t = {}; try { if ("function" == typeof e.keys) for (var r = e.keys(), n = r.next(); !n.done;) { var o = n.value; t[o] = e.get(o), n = r.next() } else t = e } catch (e) { t = {} } return t }, "parseXhrHeaders": function parseXhrHeaders(e) { if (!e && "string" != typeof e) return {}; var t = {}; try { t = e.split("\r\n").reduce(function (e, t) { var r = t.split(": "); return e[r[0]] = r[1], e }, {}) } catch (e) { t = {} } return t }, "getQuerys": function getQuerys(e) { if (!e) return ""; var t = {}, r = [], n = "", o = ""; try { var i = []; if (e.indexOf("?") >= 0 && (i = e.substring(e.indexOf("?") + 1, e.length).split("&")), i.length > 0) for (var a in i) n = (r = i[a].split("="))[0], o = r[1], t[n] = o } catch (e) { t = {} } return t }, "getFetchSnapshot": function getFetchSnapshot(e, t, r) { var n, o; try { var i = (e && "string" != typeof e[0] ? e[0].url : e[0]) || "", a = (e && "string" != typeof e[0] ? e[0] : e[1]) || {}, s = "POST" === a.method.toUpperCase() ? a.body : this.getQuerys(i); n = { "originApi": i, "method": a.method || "unknown", "params": s, "response": t || "", "reqHeaders": this.parseFetchHeaders(a.headers || null), "resHeaders": this.parseFetchHeaders(r) }, o = "function" == typeof encodeURIComponent && JSON && encodeURIComponent(JSON.stringify(n)) || "{}" } catch (e) { o = "{}" } return o }, "getXhrSnapshot": function getXhrSnapshot(e, t, r) { if (!e || !t || !r) return {}; var n, o; try { var i = ""; "" === r.responseType || "text" === r.responseType ? i = r.responseText : "document" === r.responseType && (i = r.responseXML), n = { "originApi": e, "method": t, "params": this.getQuerys(e), "response": i, "reqHeaders": {}, "resHeaders": this.parseXhrHeaders("function" == typeof r.getAllResponseHeaders && r.getAllResponseHeaders() || "") }, o = "function" == typeof encodeURIComponent && JSON && encodeURIComponent(JSON.stringify(n)) || "{}" } catch (e) { o = "{}" } return o }, "isRobot": function isRobot() { var e = ["nuhk", "googlebot/", "googlebot-image", "yammybot", "openbot", "slurp", "msnbot", "ask jeeves/teoma", "ia_archiver", "baiduspider", "bingbot/", "adsbot"]; if (!navigator || "string" != typeof navigator.userAgent) return !1; try { for (var t = navigator.userAgent.toLowerCase(), r = 0; r < e.length; r++) { var n = e[r]; if (t.lastIndexOf(n) >= 0) return !0 } } catch (e) { this.warn("[arms] useragent parse error") } return !1 }, "isFunction": function isFunction(e) { return "function" == typeof e }, "isPlainObject": function isPlainObject(e) { return "[object Object]" === Object.prototype.toString.call(e) }, "isString": function isString(e) { return "[object String]" === Object.prototype.toString.call(e) }, "isArray": function isArray(e) { return "[object Array]" === Object.prototype.toString.call(e) }, "joinRegExp": function joinRegExp(e) { for (var t, r = [], n = 0, o = e.length; n < o; n++)t = e[n], this.isString(t) ? r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : t && t.source && r.push(t.source); return new RegExp(r.join("|"), "i") }, "reWriteMethod": function reWriteMethod(e, t, r) { if (null !== e) { var n = e[t]; e[t] = r(n) } }, "checkSDKError": function checkSDKError(e, t) { return !(!e && !t) && (!!new RegExp(this.selfErrKey, "i").test(e) || !!this.ignoreByRule(t, [/retcode.alicdn.com\/retcode\/bl.js/, /g.alicdn.com\/retcode\/cloud-sdk\/bl.js/, /laz-g-cdn.alicdn.com\/retcode\/cloud-sdk\/bl.js/, /local.taobao.com:8880\/build\/bl/])) }, "sdkError": function sdkError(e) { return { "msg": e, "message": this.selfErrKey } }, "dealParam": function dealParam(e, t, r) { var n = {}; try { n = this.isPlainObject(e) ? this.ext({ "key": e.key || "default", "val": e.val || e.value || r }, e, { "begin": Date.now() }) : { "key": e || "default", "val": t || r, "begin": Date.now() } } catch (e) { this.warn("[retcode] baseLog error: " + e) } return n } }; e.exports = i }, function (e, t, r) { e.exports = r(119).default, e.exports.default = e.exports }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return s }); var n = r(3), o = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(), i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; var a = function objectToString(e) { if (e && "object" === (void 0 === e ? "undefined" : i(e))) { var t = ""; return Object.keys(e).forEach(function (r) { var n = r.replace(/([A-Z])/g, "-$1").toLowerCase(); t += n + ":" + e[r] + ";" }), t } return e && "string" == typeof e ? e : "" }, s = function (e) { function MUComponent() { return function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUComponent), function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUComponent.__proto__ || Object.getPrototypeOf(MUComponent)).apply(this, arguments)) } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUComponent, n["default"].Component), o(MUComponent, [{ "key": "mergeStyle", "value": function mergeStyle(e, t) { return e && "object" === (void 0 === e ? "undefined" : i(e)) && t && "object" === (void 0 === t ? "undefined" : i(t)) ? Object.assign({}, e, t) : a(e) + a(t) } }]), MUComponent }(); s.options = { "addGlobalClass": !0 } }, function (module, exports, __webpack_require__) { (function (Buffer, process, global, module) { var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__, _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !function webpackUniversalModuleDefinition(e, t) { "object" === _typeof2(exports) && "object" === _typeof2(module) ? module.exports = t() : (__WEBPACK_AMD_DEFINE_ARRAY__ = [], void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = t) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) }(0, function () { return function () { var __webpack_modules__ = [, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.StatTimer = t.RenderingCancelledException = t.PixelsPerInch = t.PageViewport = t.PDFDateString = t.LinkTarget = t.DOMStandardFontDataFactory = t.DOMSVGFactory = t.DOMCanvasFactory = t.DOMCMapReaderFactory = void 0, t.addLinkAttributes = function addLinkAttributes(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = t.url, n = t.target, i = t.rel, s = t.enabled, c = void 0 === s || s; (0, o.assert)(r && "string" == typeof r, 'addLinkAttributes: A valid "url" parameter must provided.'); var u = (0, o.removeNullCharacters)(r); c ? e.href = e.title = u : (e.href = "", e.title = "Disabled: ".concat(u), e.onclick = function () { return !1 }); var l = ""; switch (n) { case h.NONE: break; case h.SELF: l = "_self"; break; case h.BLANK: l = "_blank"; break; case h.PARENT: l = "_parent"; break; case h.TOP: l = "_top" }e.target = l, e.rel = "string" == typeof i ? i : a }, t.deprecated = function deprecated(e) { console.log("Deprecated API usage: " + e) }, t.getFilenameFromUrl = function getFilenameFromUrl(e) { var t = e.indexOf("#"), r = e.indexOf("?"), n = Math.min(t > 0 ? t : e.length, r > 0 ? r : e.length); return e.substring(e.lastIndexOf("/", n) + 1, n) }, t.getPdfFilenameFromUrl = function getPdfFilenameFromUrl(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "document.pdf"; if ("string" != typeof e) return t; if (isDataScheme(e)) return (0, o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'), t; var r = /[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i, n = /^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e), i = r.exec(n[1]) || r.exec(n[2]) || r.exec(n[3]); if (i && (i = i[0]).includes("%")) try { i = r.exec(decodeURIComponent(i))[0] } catch (e) { } return i || t }, t.getXfaPageViewport = function getXfaPageViewport(e, t) { var r = t.scale, n = void 0 === r ? 1 : r, o = t.rotation, i = void 0 === o ? 0 : o, a = e.attributes.style, s = a.width, c = a.height, u = [0, 0, parseInt(s), parseInt(c)]; return new d({ "viewBox": u, "scale": n, "rotation": i }) }, t.isDataScheme = isDataScheme, t.isPdfFile = function isPdfFile(e) { return "string" == typeof e && /\.pdf$/i.test(e) }, t.isValidFetchUrl = isValidFetchUrl, t.loadScript = function loadScript(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return new Promise(function (r, n) { var o = document.createElement("script"); o.src = e, o.onload = function (e) { t && o.remove(), r(e) }, o.onerror = function () { n(new Error("Cannot load script at: ".concat(o.src))) }, (document.head || document.documentElement).appendChild(o) }) }; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4), i = r(135); function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } var a = "noopener noreferrer nofollow", s = { "CSS": 96, "PDF": 72, get "PDF_TO_CSS_UNITS"() { return (0, o.shadow)(this, "PDF_TO_CSS_UNITS", this.CSS / this.PDF) } }; t.PixelsPerInch = s; var c = function (e) { _inherits(DOMCanvasFactory, i.BaseCanvasFactory); var t = _createSuper(DOMCanvasFactory); function DOMCanvasFactory() { var e, r = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).ownerDocument, n = void 0 === r ? globalThis.document : r; return _classCallCheck(this, DOMCanvasFactory), (e = t.call(this))._document = n, e } return _createClass(DOMCanvasFactory, [{ "key": "_createCanvas", "value": function _createCanvas(e, t) { var r = this._document.createElement("canvas"); return r.width = e, r.height = t, r } }]), DOMCanvasFactory }(); function fetchData(e) { return _fetchData.apply(this, arguments) } function _fetchData() { return (_fetchData = function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } }(n.default.mark(function _callee(e) { var t, r, i = arguments; return n.default.wrap(function _callee$(n) { for (; ;)switch (n.prev = n.next) { case 0: if (t = i.length > 1 && void 0 !== i[1] && i[1], !isValidFetchUrl(e, document.baseURI)) { n.next = 21; break } return n.next = 4, fetch(e); case 4: if ((r = n.sent).ok) { n.next = 7; break } throw new Error(r.statusText); case 7: if (!t) { n.next = 15; break } return n.t1 = Uint8Array, n.next = 11, r.arrayBuffer(); case 11: n.t2 = n.sent, n.t0 = new n.t1(n.t2), n.next = 20; break; case 15: return n.t3 = o.stringToBytes, n.next = 18, r.text(); case 18: n.t4 = n.sent, n.t0 = (0, n.t3)(n.t4); case 20: return n.abrupt("return", n.t0); case 21: return n.abrupt("return", new Promise(function (r, n) { var i = new XMLHttpRequest; i.open("GET", e, !0), t && (i.responseType = "arraybuffer"), i.onreadystatechange = function () { if (i.readyState === XMLHttpRequest.DONE) { var e; if (200 === i.status || 0 === i.status) if (t && i.response ? e = new Uint8Array(i.response) : !t && i.responseText && (e = (0, o.stringToBytes)(i.responseText)), e) return void r(e); n(new Error(i.statusText)) } }, i.send(null) })); case 22: case "end": return n.stop() } }, _callee) }))).apply(this, arguments) } t.DOMCanvasFactory = c; var u = function (e) { _inherits(DOMCMapReaderFactory, i.BaseCMapReaderFactory); var t = _createSuper(DOMCMapReaderFactory); function DOMCMapReaderFactory() { return _classCallCheck(this, DOMCMapReaderFactory), t.apply(this, arguments) } return _createClass(DOMCMapReaderFactory, [{ "key": "_fetchData", "value": function _fetchData(e, t) { return fetchData(e, this.isCompressed).then(function (e) { return { "cMapData": e, "compressionType": t } }) } }]), DOMCMapReaderFactory }(); t.DOMCMapReaderFactory = u; var l = function (e) { _inherits(DOMStandardFontDataFactory, i.BaseStandardFontDataFactory); var t = _createSuper(DOMStandardFontDataFactory); function DOMStandardFontDataFactory() { return _classCallCheck(this, DOMStandardFontDataFactory), t.apply(this, arguments) } return _createClass(DOMStandardFontDataFactory, [{ "key": "_fetchData", "value": function _fetchData(e) { return fetchData(e, !0) } }]), DOMStandardFontDataFactory }(); t.DOMStandardFontDataFactory = l; var f = function (e) { _inherits(DOMSVGFactory, i.BaseSVGFactory); var t = _createSuper(DOMSVGFactory); function DOMSVGFactory() { return _classCallCheck(this, DOMSVGFactory), t.apply(this, arguments) } return _createClass(DOMSVGFactory, [{ "key": "_createSVG", "value": function _createSVG(e) { return document.createElementNS("http://www.w3.org/2000/svg", e) } }]), DOMSVGFactory }(); t.DOMSVGFactory = f; var d = function () { function PageViewport(e) { var t = e.viewBox, r = e.scale, n = e.rotation, o = e.offsetX, i = void 0 === o ? 0 : o, a = e.offsetY, s = void 0 === a ? 0 : a, c = e.dontFlip, u = void 0 !== c && c; _classCallCheck(this, PageViewport), this.viewBox = t, this.scale = r, this.rotation = n, this.offsetX = i, this.offsetY = s; var l, f, d, p, h, m, g, v, y = (t[2] + t[0]) / 2, b = (t[3] + t[1]) / 2; switch ((n %= 360) < 0 && (n += 360), n) { case 180: l = -1, f = 0, d = 0, p = 1; break; case 90: l = 0, f = 1, d = 1, p = 0; break; case 270: l = 0, f = -1, d = -1, p = 0; break; case 0: l = 1, f = 0, d = 0, p = -1; break; default: throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.") }u && (d = -d, p = -p), 0 === l ? (h = Math.abs(b - t[1]) * r + i, m = Math.abs(y - t[0]) * r + s, g = Math.abs(t[3] - t[1]) * r, v = Math.abs(t[2] - t[0]) * r) : (h = Math.abs(y - t[0]) * r + i, m = Math.abs(b - t[1]) * r + s, g = Math.abs(t[2] - t[0]) * r, v = Math.abs(t[3] - t[1]) * r), this.transform = [l * r, f * r, d * r, p * r, h - l * r * y - d * r * b, m - f * r * y - p * r * b], this.width = g, this.height = v } return _createClass(PageViewport, [{ "key": "clone", "value": function clone() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.scale, r = void 0 === t ? this.scale : t, n = e.rotation, o = void 0 === n ? this.rotation : n, i = e.offsetX, a = void 0 === i ? this.offsetX : i, s = e.offsetY, c = void 0 === s ? this.offsetY : s, u = e.dontFlip, l = void 0 !== u && u; return new PageViewport({ "viewBox": this.viewBox.slice(), "scale": r, "rotation": o, "offsetX": a, "offsetY": c, "dontFlip": l }) } }, { "key": "convertToViewportPoint", "value": function convertToViewportPoint(e, t) { return o.Util.applyTransform([e, t], this.transform) } }, { "key": "convertToViewportRectangle", "value": function convertToViewportRectangle(e) { var t = o.Util.applyTransform([e[0], e[1]], this.transform), r = o.Util.applyTransform([e[2], e[3]], this.transform); return [t[0], t[1], r[0], r[1]] } }, { "key": "convertToPdfPoint", "value": function convertToPdfPoint(e, t) { return o.Util.applyInverseTransform([e, t], this.transform) } }]), PageViewport }(); t.PageViewport = d; var p = function (e) { _inherits(RenderingCancelledException, o.BaseException); var t = _createSuper(RenderingCancelledException); function RenderingCancelledException(e, r) { var n; return _classCallCheck(this, RenderingCancelledException), (n = t.call(this, e, "RenderingCancelledException")).type = r, n } return RenderingCancelledException }(); t.RenderingCancelledException = p; var h = { "NONE": 0, "SELF": 1, "BLANK": 2, "PARENT": 3, "TOP": 4 }; function isDataScheme(e) { for (var t = e.length, r = 0; r < t && "" === e[r].trim();)r++; return "data:" === e.substring(r, r + 5).toLowerCase() } t.LinkTarget = h; var m, g = function () { function StatTimer() { _classCallCheck(this, StatTimer), this.started = Object.create(null), this.times = [] } return _createClass(StatTimer, [{ "key": "time", "value": function time(e) { e in this.started && (0, o.warn)("Timer is already running for ".concat(e)), this.started[e] = Date.now() } }, { "key": "timeEnd", "value": function timeEnd(e) { e in this.started || (0, o.warn)("Timer has not been started for ".concat(e)), this.times.push({ "name": e, "start": this.started[e], "end": Date.now() }), delete this.started[e] } }, { "key": "toString", "value": function toString() { var e, t = [], r = 0, n = _createForOfIteratorHelper(this.times); try { for (n.s(); !(e = n.n()).done;) { var o = e.value.name; o.length > r && (r = o.length) } } catch (e) { n.e(e) } finally { n.f() } var i, a = _createForOfIteratorHelper(this.times); try { for (a.s(); !(i = a.n()).done;) { var s = i.value, c = s.end - s.start; t.push("".concat(s.name.padEnd(r), " ").concat(c, "ms\n")) } } catch (e) { a.e(e) } finally { a.f() } return t.join("") } }]), StatTimer }(); function isValidFetchUrl(e, t) { try { var r = (t ? new URL(e, t) : new URL(e)).protocol; return "http:" === r || "https:" === r } catch (e) { return !1 } } t.StatTimer = g; var v = function () { function PDFDateString() { _classCallCheck(this, PDFDateString) } return _createClass(PDFDateString, null, [{ "key": "toDateObject", "value": function toDateObject(e) { if (!e || !(0, o.isString)(e)) return null; m || (m = new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")); var t = m.exec(e); if (!t) return null; var r = parseInt(t[1], 10), n = parseInt(t[2], 10); n = n >= 1 && n <= 12 ? n - 1 : 0; var i = parseInt(t[3], 10); i = i >= 1 && i <= 31 ? i : 1; var a = parseInt(t[4], 10); a = a >= 0 && a <= 23 ? a : 0; var s = parseInt(t[5], 10); s = s >= 0 && s <= 59 ? s : 0; var c = parseInt(t[6], 10); c = c >= 0 && c <= 59 ? c : 0; var u = t[7] || "Z", l = parseInt(t[8], 10); l = l >= 0 && l <= 23 ? l : 0; var f = parseInt(t[9], 10) || 0; return f = f >= 0 && f <= 59 ? f : 0, "-" === u ? (a += l, s += f) : "+" === u && (a -= l, s -= f), new Date(Date.UTC(r, n, i, a, s, c)) } }]), PDFDateString }(); t.PDFDateString = v }, function (e, t, r) { "use strict"; e.exports = r(3) }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } var n = function (e) { var t, r = Object.prototype, n = r.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", s = o.toStringTag || "@@toStringTag"; function define(e, t, r) { return Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }), e[t] } try { define({}, "") } catch (e) { define = function define(e, t, r) { return e[t] = r } } function wrap(e, t, r, n) { var o = t && t.prototype instanceof Generator ? t : Generator, i = Object.create(o.prototype), a = new Context(n || []); return i._invoke = function makeInvokeMethod(e, t, r) { var n = c; return function invoke(o, i) { if (n === l) throw new Error("Generator is already running"); if (n === f) { if ("throw" === o) throw i; return doneResult() } for (r.method = o, r.arg = i; ;) { var a = r.delegate; if (a) { var s = maybeInvokeDelegate(a, r); if (s) { if (s === d) continue; return s } } if ("next" === r.method) r.sent = r._sent = r.arg; else if ("throw" === r.method) { if (n === c) throw n = f, r.arg; r.dispatchException(r.arg) } else "return" === r.method && r.abrupt("return", r.arg); n = l; var p = tryCatch(e, t, r); if ("normal" === p.type) { if (n = r.done ? f : u, p.arg === d) continue; return { "value": p.arg, "done": r.done } } "throw" === p.type && (n = f, r.method = "throw", r.arg = p.arg) } } }(e, r, a), i } function tryCatch(e, t, r) { try { return { "type": "normal", "arg": e.call(t, r) } } catch (e) { return { "type": "throw", "arg": e } } } e.wrap = wrap; var c = "suspendedStart", u = "suspendedYield", l = "executing", f = "completed", d = {}; function Generator() { } function GeneratorFunction() { } function GeneratorFunctionPrototype() { } var p = {}; define(p, i, function () { return this }); var h = Object.getPrototypeOf, m = h && h(h(values([]))); m && m !== r && n.call(m, i) && (p = m); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(e) { ["next", "throw", "return"].forEach(function (t) { define(e, t, function (e) { return this._invoke(t, e) }) }) } function AsyncIterator(e, t) { var r; this._invoke = function enqueue(o, i) { function callInvokeWithMethodAndArg() { return new t(function (r, a) { !function invoke(r, o, i, a) { var s = tryCatch(e[r], e, o); if ("throw" !== s.type) { var c = s.arg, u = c.value; return u && "object" === _typeof(u) && n.call(u, "__await") ? t.resolve(u.__await).then(function (e) { invoke("next", e, i, a) }, function (e) { invoke("throw", e, i, a) }) : t.resolve(u).then(function (e) { c.value = e, i(c) }, function (e) { return invoke("throw", e, i, a) }) } a(s.arg) }(o, i, r, a) }) } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg() } } function maybeInvokeDelegate(e, r) { var n = e.iterator[r.method]; if (n === t) { if (r.delegate = null, "throw" === r.method) { if (e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method)) return d; r.method = "throw", r.arg = new TypeError("The iterator does not provide a 'throw' method") } return d } var o = tryCatch(n, e.iterator, r.arg); if ("throw" === o.type) return r.method = "throw", r.arg = o.arg, r.delegate = null, d; var i = o.arg; return i ? i.done ? (r[e.resultName] = i.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, d) : i : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, d) } function pushTryEntry(e) { var t = { "tryLoc": e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function resetTryEntry(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function Context(e) { this.tryEntries = [{ "tryLoc": "root" }], e.forEach(pushTryEntry, this), this.reset(!0) } function values(e) { if (e) { var r = e[i]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, a = function next() { for (; ++o < e.length;)if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next }; return a.next = a } } return { "next": doneResult } } function doneResult() { return { "value": t, "done": !0 } } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(g, "constructor", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, s, "GeneratorFunction"), e.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === GeneratorFunction || "GeneratorFunction" === (t.displayName || t.name)) }, e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, define(e, s, "GeneratorFunction")), e.prototype = Object.create(g), e }, e.awrap = function (e) { return { "__await": e } }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, a, function () { return this }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (e) { return e.done ? e.value : a.next() }) }, defineIteratorMethods(g), define(g, s, "Generator"), define(g, i, function () { return this }), define(g, "toString", function () { return "[object Generator]" }), e.keys = function (e) { var t = []; for (var r in e) t.push(r); return t.reverse(), function next() { for (; t.length;) { var r = t.pop(); if (r in e) return next.value = r, next.done = !1, next } return next.done = !0, next } }, e.values = values, Context.prototype = { "constructor": Context, "reset": function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t) }, "stop": function stop() { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, "dispatchException": function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc"); if (s && c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc) } else if (s) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0) } else { if (!c) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc) } } } }, "abrupt": function abrupt(e, t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break } } i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, d) : this.complete(a) }, "complete": function complete(e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), d }, "finish": function finish(e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), d } }, "catch": function _catch(e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.tryLoc === e) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r) } return o } } throw new Error("illegal catch attempt") }, "delegateYield": function delegateYield(e, r, n) { return this.delegate = { "iterator": values(e), "resultName": r, "nextLoc": n }, "next" === this.method && (this.arg = t), d } }, e }("object" === _typeof(e = r.nmd(e)) ? e.exports : {}); try { regeneratorRuntime = n } catch (e) { "object" === ("undefined" == typeof globalThis ? "undefined" : _typeof(globalThis)) ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n) } }, function (e, t, r) { "use strict"; function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _toConsumableArray(e) { return function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) }(e) || function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.VerbosityLevel = t.Util = t.UnknownErrorException = t.UnexpectedResponseException = t.UNSUPPORTED_FEATURES = t.TextRenderingMode = t.StreamType = t.RenderingIntentFlag = t.PermissionFlag = t.PasswordResponses = t.PasswordException = t.PageActionEventType = t.OPS = t.MissingPDFException = t.IsLittleEndianCached = t.IsEvalSupportedCached = t.InvalidPDFException = t.ImageKind = t.IDENTITY_MATRIX = t.FormatError = t.FontType = t.FONT_IDENTITY_MATRIX = t.DocumentActionEventType = t.CMapCompressionType = t.BaseException = t.AnnotationType = t.AnnotationStateModelType = t.AnnotationReviewState = t.AnnotationReplyType = t.AnnotationMode = t.AnnotationMarkedState = t.AnnotationFlag = t.AnnotationFieldFlag = t.AnnotationBorderStyleType = t.AnnotationActionEventType = t.AbortException = void 0, t.arrayByteLength = arrayByteLength, t.arraysToBytes = function arraysToBytes(e) { var t = e.length; if (1 === t && e[0] instanceof Uint8Array) return e[0]; for (var r = 0, n = 0; n < t; n++)r += arrayByteLength(e[n]); for (var o = 0, i = new Uint8Array(r), a = 0; a < t; a++) { var s = e[a]; s instanceof Uint8Array || (s = "string" == typeof s ? stringToBytes(s) : new Uint8Array(s)); var c = s.byteLength; i.set(s, o), o += c } return i }, t.assert = assert, t.bytesToString = function bytesToString(e) { assert(null !== e && "object" === _typeof(e) && void 0 !== e.length, "Invalid argument for bytesToString"); var t = e.length; if (t < 8192) return String.fromCharCode.apply(null, e); for (var r = [], n = 0; n < t; n += 8192) { var o = Math.min(n + 8192, t), i = e.subarray(n, o); r.push(String.fromCharCode.apply(null, i)) } return r.join("") }, t.createObjectURL = function createObjectURL(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; if (URL.createObjectURL && "undefined" != typeof Blob && !r) return URL.createObjectURL(new Blob([e], { "type": t })); for (var n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", o = "data:".concat(t, ";base64,"), i = 0, a = e.length; i < a; i += 3) { var s = 255 & e[i], c = 255 & e[i + 1], u = 255 & e[i + 2], l = s >> 2, f = (3 & s) << 4 | c >> 4, d = i + 1 < a ? (15 & c) << 2 | u >> 6 : 64, p = i + 2 < a ? 63 & u : 64; o += n[l] + n[f] + n[d] + n[p] } return o }, t.createPromiseCapability = function createPromiseCapability() { var e = Object.create(null), t = !1; return Object.defineProperty(e, "settled", { "get": function get() { return t } }), e.promise = new Promise(function (r, n) { e.resolve = function (e) { t = !0, r(e) }, e.reject = function (e) { t = !0, n(e) } }), e }, t.createValidAbsoluteUrl = function createValidAbsoluteUrl(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; if (!e) return null; try { if (r && "string" == typeof e) { if (r.addDefaultProtocol && e.startsWith("www.")) { var n = e.match(/\./g); n && n.length >= 2 && (e = "http://".concat(e)) } if (r.tryConvertEncoding) try { e = stringToUTF8String(e) } catch (e) { } } var o = t ? new URL(e, t) : new URL(e); if (function _isValidProtocol(e) { if (!e) return !1; switch (e.protocol) { case "http:": case "https:": case "ftp:": case "mailto:": case "tel:": return !0; default: return !1 } }(o)) return o } catch (e) { } return null }, t.escapeString = function escapeString(e) { return e.replace(/([()\\\n\r])/g, function (e) { return "\n" === e ? "\\n" : "\r" === e ? "\\r" : "\\".concat(e) }) }, t.getModificationDate = function getModificationDate() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date; return [e.getUTCFullYear().toString(), (e.getUTCMonth() + 1).toString().padStart(2, "0"), e.getUTCDate().toString().padStart(2, "0"), e.getUTCHours().toString().padStart(2, "0"), e.getUTCMinutes().toString().padStart(2, "0"), e.getUTCSeconds().toString().padStart(2, "0")].join("") }, t.getVerbosityLevel = function getVerbosityLevel() { return o }, t.info = function info(e) { o >= n.INFOS && console.log("Info: ".concat(e)) }, t.isArrayBuffer = function isArrayBuffer(e) { return "object" === _typeof(e) && null !== e && void 0 !== e.byteLength }, t.isArrayEqual = function isArrayEqual(e, t) { if (e.length !== t.length) return !1; for (var r = 0, n = e.length; r < n; r++)if (e[r] !== t[r]) return !1; return !0 }, t.isAscii = function isAscii(e) { return /^[\x00-\x7F]*$/.test(e) }, t.isBool = function isBool(e) { return "boolean" == typeof e }, t.isNum = function isNum(e) { return "number" == typeof e }, t.isSameOrigin = function isSameOrigin(e, t) { var r; try { if (!(r = new URL(e)).origin || "null" === r.origin) return !1 } catch (e) { return !1 } var n = new URL(t, r); return r.origin === n.origin }, t.isString = function isString(e) { return "string" == typeof e }, t.objectFromMap = function objectFromMap(e) { var t, r = Object.create(null), n = function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } }(e); try { for (n.s(); !(t = n.n()).done;) { var o = (s = t.value, c = 2, function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(s) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(s, c) || _unsupportedIterableToArray(s, c) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }()), i = o[0], a = o[1]; r[i] = a } } catch (e) { n.e(e) } finally { n.f() } var s, c; return r }, t.objectSize = function objectSize(e) { return Object.keys(e).length }, t.removeNullCharacters = function removeNullCharacters(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if ("string" != typeof e) return warn("The argument for removeNullCharacters must be a string."), e; t && (e = e.replace(h, " ")); return e.replace(p, "") }, t.setVerbosityLevel = function setVerbosityLevel(e) { Number.isInteger(e) && (o = e) }, t.shadow = shadow, t.string32 = function string32(e) { return String.fromCharCode(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e) }, t.stringToBytes = stringToBytes, t.stringToPDFString = function stringToPDFString(e) { var t = e.length, r = []; if ("þ" === e[0] && "ÿ" === e[1]) for (var n = 2; n < t; n += 2)r.push(String.fromCharCode(e.charCodeAt(n) << 8 | e.charCodeAt(n + 1))); else if ("ÿ" === e[0] && "þ" === e[1]) for (var o = 2; o < t; o += 2)r.push(String.fromCharCode(e.charCodeAt(o + 1) << 8 | e.charCodeAt(o))); else for (var i = 0; i < t; ++i) { var a = b[e.charCodeAt(i)]; r.push(a ? String.fromCharCode(a) : e.charAt(i)) } return r.join("") }, t.stringToUTF16BEString = function stringToUTF16BEString(e) { for (var t = ["þÿ"], r = 0, n = e.length; r < n; r++) { var o = e.charCodeAt(r); t.push(String.fromCharCode(o >> 8 & 255), String.fromCharCode(255 & o)) } return t.join("") }, t.stringToUTF8String = stringToUTF8String, t.unreachable = unreachable, t.utf8StringToString = function utf8StringToString(e) { return unescape(encodeURIComponent(e)) }, t.warn = warn, r(5); t.IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0]; t.FONT_IDENTITY_MATRIX = [.001, 0, 0, .001, 0, 0]; t.RenderingIntentFlag = { "ANY": 1, "DISPLAY": 2, "PRINT": 4, "ANNOTATIONS_FORMS": 16, "ANNOTATIONS_STORAGE": 32, "ANNOTATIONS_DISABLE": 64, "OPLIST": 256 }; t.AnnotationMode = { "DISABLE": 0, "ENABLE": 1, "ENABLE_FORMS": 2, "ENABLE_STORAGE": 3 }; t.PermissionFlag = { "PRINT": 4, "MODIFY_CONTENTS": 8, "COPY": 16, "MODIFY_ANNOTATIONS": 32, "FILL_INTERACTIVE_FORMS": 256, "COPY_FOR_ACCESSIBILITY": 512, "ASSEMBLE": 1024, "PRINT_HIGH_QUALITY": 2048 }; t.TextRenderingMode = { "FILL": 0, "STROKE": 1, "FILL_STROKE": 2, "INVISIBLE": 3, "FILL_ADD_TO_PATH": 4, "STROKE_ADD_TO_PATH": 5, "FILL_STROKE_ADD_TO_PATH": 6, "ADD_TO_PATH": 7, "FILL_STROKE_MASK": 3, "ADD_TO_PATH_FLAG": 4 }; t.ImageKind = { "GRAYSCALE_1BPP": 1, "RGB_24BPP": 2, "RGBA_32BPP": 3 }; t.AnnotationType = { "TEXT": 1, "LINK": 2, "FREETEXT": 3, "LINE": 4, "SQUARE": 5, "CIRCLE": 6, "POLYGON": 7, "POLYLINE": 8, "HIGHLIGHT": 9, "UNDERLINE": 10, "SQUIGGLY": 11, "STRIKEOUT": 12, "STAMP": 13, "CARET": 14, "INK": 15, "POPUP": 16, "FILEATTACHMENT": 17, "SOUND": 18, "MOVIE": 19, "WIDGET": 20, "SCREEN": 21, "PRINTERMARK": 22, "TRAPNET": 23, "WATERMARK": 24, "THREED": 25, "REDACT": 26 }; t.AnnotationStateModelType = { "MARKED": "Marked", "REVIEW": "Review" }; t.AnnotationMarkedState = { "MARKED": "Marked", "UNMARKED": "Unmarked" }; t.AnnotationReviewState = { "ACCEPTED": "Accepted", "REJECTED": "Rejected", "CANCELLED": "Cancelled", "COMPLETED": "Completed", "NONE": "None" }; t.AnnotationReplyType = { "GROUP": "Group", "REPLY": "R" }; t.AnnotationFlag = { "INVISIBLE": 1, "HIDDEN": 2, "PRINT": 4, "NOZOOM": 8, "NOROTATE": 16, "NOVIEW": 32, "READONLY": 64, "LOCKED": 128, "TOGGLENOVIEW": 256, "LOCKEDCONTENTS": 512 }; t.AnnotationFieldFlag = { "READONLY": 1, "REQUIRED": 2, "NOEXPORT": 4, "MULTILINE": 4096, "PASSWORD": 8192, "NOTOGGLETOOFF": 16384, "RADIO": 32768, "PUSHBUTTON": 65536, "COMBO": 131072, "EDIT": 262144, "SORT": 524288, "FILESELECT": 1048576, "MULTISELECT": 2097152, "DONOTSPELLCHECK": 4194304, "DONOTSCROLL": 8388608, "COMB": 16777216, "RICHTEXT": 33554432, "RADIOSINUNISON": 33554432, "COMMITONSELCHANGE": 67108864 }; t.AnnotationBorderStyleType = { "SOLID": 1, "DASHED": 2, "BEVELED": 3, "INSET": 4, "UNDERLINE": 5 }; t.AnnotationActionEventType = { "E": "Mouse Enter", "X": "Mouse Exit", "D": "Mouse Down", "U": "Mouse Up", "Fo": "Focus", "Bl": "Blur", "PO": "PageOpen", "PC": "PageClose", "PV": "PageVisible", "PI": "PageInvisible", "K": "Keystroke", "F": "Format", "V": "Validate", "C": "Calculate" }; t.DocumentActionEventType = { "WC": "WillClose", "WS": "WillSave", "DS": "DidSave", "WP": "WillPrint", "DP": "DidPrint" }; t.PageActionEventType = { "O": "PageOpen", "C": "PageClose" }; t.StreamType = { "UNKNOWN": "UNKNOWN", "FLATE": "FLATE", "LZW": "LZW", "DCT": "DCT", "JPX": "JPX", "JBIG": "JBIG", "A85": "A85", "AHX": "AHX", "CCF": "CCF", "RLX": "RLX" }; t.FontType = { "UNKNOWN": "UNKNOWN", "TYPE1": "TYPE1", "TYPE1STANDARD": "TYPE1STANDARD", "TYPE1C": "TYPE1C", "CIDFONTTYPE0": "CIDFONTTYPE0", "CIDFONTTYPE0C": "CIDFONTTYPE0C", "TRUETYPE": "TRUETYPE", "CIDFONTTYPE2": "CIDFONTTYPE2", "TYPE3": "TYPE3", "OPENTYPE": "OPENTYPE", "TYPE0": "TYPE0", "MMTYPE1": "MMTYPE1" }; var n = { "ERRORS": 0, "WARNINGS": 1, "INFOS": 5 }; t.VerbosityLevel = n; t.CMapCompressionType = { "NONE": 0, "BINARY": 1, "STREAM": 2 }; t.OPS = { "dependency": 1, "setLineWidth": 2, "setLineCap": 3, "setLineJoin": 4, "setMiterLimit": 5, "setDash": 6, "setRenderingIntent": 7, "setFlatness": 8, "setGState": 9, "save": 10, "restore": 11, "transform": 12, "moveTo": 13, "lineTo": 14, "curveTo": 15, "curveTo2": 16, "curveTo3": 17, "closePath": 18, "rectangle": 19, "stroke": 20, "closeStroke": 21, "fill": 22, "eoFill": 23, "fillStroke": 24, "eoFillStroke": 25, "closeFillStroke": 26, "closeEOFillStroke": 27, "endPath": 28, "clip": 29, "eoClip": 30, "beginText": 31, "endText": 32, "setCharSpacing": 33, "setWordSpacing": 34, "setHScale": 35, "setLeading": 36, "setFont": 37, "setTextRenderingMode": 38, "setTextRise": 39, "moveText": 40, "setLeadingMoveText": 41, "setTextMatrix": 42, "nextLine": 43, "showText": 44, "showSpacedText": 45, "nextLineShowText": 46, "nextLineSetSpacingShowText": 47, "setCharWidth": 48, "setCharWidthAndBounds": 49, "setStrokeColorSpace": 50, "setFillColorSpace": 51, "setStrokeColor": 52, "setStrokeColorN": 53, "setFillColor": 54, "setFillColorN": 55, "setStrokeGray": 56, "setFillGray": 57, "setStrokeRGBColor": 58, "setFillRGBColor": 59, "setStrokeCMYKColor": 60, "setFillCMYKColor": 61, "shadingFill": 62, "beginInlineImage": 63, "beginImageData": 64, "endInlineImage": 65, "paintXObject": 66, "markPoint": 67, "markPointProps": 68, "beginMarkedContent": 69, "beginMarkedContentProps": 70, "endMarkedContent": 71, "beginCompat": 72, "endCompat": 73, "paintFormXObjectBegin": 74, "paintFormXObjectEnd": 75, "beginGroup": 76, "endGroup": 77, "beginAnnotations": 78, "endAnnotations": 79, "beginAnnotation": 80, "endAnnotation": 81, "paintJpegXObject": 82, "paintImageMaskXObject": 83, "paintImageMaskXObjectGroup": 84, "paintImageXObject": 85, "paintInlineImageXObject": 86, "paintInlineImageXObjectGroup": 87, "paintImageXObjectRepeat": 88, "paintImageMaskXObjectRepeat": 89, "paintSolidColorImageMask": 90, "constructPath": 91 }; t.UNSUPPORTED_FEATURES = { "unknown": "unknown", "forms": "forms", "javaScript": "javaScript", "signatures": "signatures", "smask": "smask", "shadingPattern": "shadingPattern", "font": "font", "errorTilingPattern": "errorTilingPattern", "errorExtGState": "errorExtGState", "errorXObject": "errorXObject", "errorFontLoadType3": "errorFontLoadType3", "errorFontState": "errorFontState", "errorFontMissing": "errorFontMissing", "errorFontTranslate": "errorFontTranslate", "errorColorSpace": "errorColorSpace", "errorOperatorList": "errorOperatorList", "errorFontToUnicode": "errorFontToUnicode", "errorFontLoadNative": "errorFontLoadNative", "errorFontBuildPath": "errorFontBuildPath", "errorFontGetPath": "errorFontGetPath", "errorMarkedContent": "errorMarkedContent", "errorContentSubStream": "errorContentSubStream" }; t.PasswordResponses = { "NEED_PASSWORD": 1, "INCORRECT_PASSWORD": 2 }; var o = n.WARNINGS; function warn(e) { o >= n.WARNINGS && console.log("Warning: ".concat(e)) } function unreachable(e) { throw new Error(e) } function assert(e, t) { e || unreachable(t) } function shadow(e, t, r) { return Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !1 }), r } var i = function BaseExceptionClosure() { function BaseException(e, t) { this.constructor === BaseException && unreachable("Cannot initialize BaseException."), this.message = e, this.name = t } return BaseException.prototype = new Error, BaseException.constructor = BaseException, BaseException }(); t.BaseException = i; var a = function (e) { _inherits(PasswordException, i); var t = _createSuper(PasswordException); function PasswordException(e, r) { var n; return _classCallCheck(this, PasswordException), (n = t.call(this, e, "PasswordException")).code = r, n } return PasswordException }(); t.PasswordException = a; var s = function (e) { _inherits(UnknownErrorException, i); var t = _createSuper(UnknownErrorException); function UnknownErrorException(e, r) { var n; return _classCallCheck(this, UnknownErrorException), (n = t.call(this, e, "UnknownErrorException")).details = r, n } return UnknownErrorException }(); t.UnknownErrorException = s; var c = function (e) { _inherits(InvalidPDFException, i); var t = _createSuper(InvalidPDFException); function InvalidPDFException(e) { return _classCallCheck(this, InvalidPDFException), t.call(this, e, "InvalidPDFException") } return InvalidPDFException }(); t.InvalidPDFException = c; var u = function (e) { _inherits(MissingPDFException, i); var t = _createSuper(MissingPDFException); function MissingPDFException(e) { return _classCallCheck(this, MissingPDFException), t.call(this, e, "MissingPDFException") } return MissingPDFException }(); t.MissingPDFException = u; var l = function (e) { _inherits(UnexpectedResponseException, i); var t = _createSuper(UnexpectedResponseException); function UnexpectedResponseException(e, r) { var n; return _classCallCheck(this, UnexpectedResponseException), (n = t.call(this, e, "UnexpectedResponseException")).status = r, n } return UnexpectedResponseException }(); t.UnexpectedResponseException = l; var f = function (e) { _inherits(FormatError, i); var t = _createSuper(FormatError); function FormatError(e) { return _classCallCheck(this, FormatError), t.call(this, e, "FormatError") } return FormatError }(); t.FormatError = f; var d = function (e) { _inherits(AbortException, i); var t = _createSuper(AbortException); function AbortException(e) { return _classCallCheck(this, AbortException), t.call(this, e, "AbortException") } return AbortException }(); t.AbortException = d; var p = /\x00+/g, h = /[\x01-\x1F]/g; function stringToBytes(e) { assert("string" == typeof e, "Invalid argument for stringToBytes"); for (var t = e.length, r = new Uint8Array(t), n = 0; n < t; ++n)r[n] = 255 & e.charCodeAt(n); return r } function arrayByteLength(e) { return void 0 !== e.length ? e.length : (assert(void 0 !== e.byteLength, "arrayByteLength - invalid argument."), e.byteLength) } var m = { get "value"() { return shadow(this, "value", function isLittleEndian() { var e = new Uint8Array(4); return e[0] = 1, 1 === new Uint32Array(e.buffer, 0, 1)[0] }()) } }; t.IsLittleEndianCached = m; var g = { get "value"() { return shadow(this, "value", function isEvalSupported() { try { return new Function(""), !0 } catch (e) { return !1 } }()) } }; t.IsEvalSupportedCached = g; var v = _toConsumableArray(Array(256).keys()).map(function (e) { return e.toString(16).padStart(2, "0") }), y = function () { function Util() { _classCallCheck(this, Util) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(Util, null, [{ "key": "makeHexColor", "value": function makeHexColor(e, t, r) { return "#".concat(v[e]).concat(v[t]).concat(v[r]) } }, { "key": "transform", "value": function transform(e, t) { return [e[0] * t[0] + e[2] * t[1], e[1] * t[0] + e[3] * t[1], e[0] * t[2] + e[2] * t[3], e[1] * t[2] + e[3] * t[3], e[0] * t[4] + e[2] * t[5] + e[4], e[1] * t[4] + e[3] * t[5] + e[5]] } }, { "key": "applyTransform", "value": function applyTransform(e, t) { return [e[0] * t[0] + e[1] * t[2] + t[4], e[0] * t[1] + e[1] * t[3] + t[5]] } }, { "key": "applyInverseTransform", "value": function applyInverseTransform(e, t) { var r = t[0] * t[3] - t[1] * t[2]; return [(e[0] * t[3] - e[1] * t[2] + t[2] * t[5] - t[4] * t[3]) / r, (-e[0] * t[1] + e[1] * t[0] + t[4] * t[1] - t[5] * t[0]) / r] } }, { "key": "getAxialAlignedBoundingBox", "value": function getAxialAlignedBoundingBox(e, t) { var r = Util.applyTransform(e, t), n = Util.applyTransform(e.slice(2, 4), t), o = Util.applyTransform([e[0], e[3]], t), i = Util.applyTransform([e[2], e[1]], t); return [Math.min(r[0], n[0], o[0], i[0]), Math.min(r[1], n[1], o[1], i[1]), Math.max(r[0], n[0], o[0], i[0]), Math.max(r[1], n[1], o[1], i[1])] } }, { "key": "inverseTransform", "value": function inverseTransform(e) { var t = e[0] * e[3] - e[1] * e[2]; return [e[3] / t, -e[1] / t, -e[2] / t, e[0] / t, (e[2] * e[5] - e[4] * e[3]) / t, (e[4] * e[1] - e[5] * e[0]) / t] } }, { "key": "apply3dTransform", "value": function apply3dTransform(e, t) { return [e[0] * t[0] + e[1] * t[1] + e[2] * t[2], e[3] * t[0] + e[4] * t[1] + e[5] * t[2], e[6] * t[0] + e[7] * t[1] + e[8] * t[2]] } }, { "key": "singularValueDecompose2dScale", "value": function singularValueDecompose2dScale(e) { var t = [e[0], e[2], e[1], e[3]], r = e[0] * t[0] + e[1] * t[2], n = e[0] * t[1] + e[1] * t[3], o = e[2] * t[0] + e[3] * t[2], i = e[2] * t[1] + e[3] * t[3], a = (r + i) / 2, s = Math.sqrt(Math.pow(r + i, 2) - 4 * (r * i - o * n)) / 2, c = a + s || 1, u = a - s || 1; return [Math.sqrt(c), Math.sqrt(u)] } }, { "key": "normalizeRect", "value": function normalizeRect(e) { var t = e.slice(0); return e[0] > e[2] && (t[0] = e[2], t[2] = e[0]), e[1] > e[3] && (t[1] = e[3], t[3] = e[1]), t } }, { "key": "intersect", "value": function intersect(e, t) { function compare(e, t) { return e - t } var r = [e[0], e[2], t[0], t[2]].sort(compare), n = [e[1], e[3], t[1], t[3]].sort(compare), o = []; return e = Util.normalizeRect(e), t = Util.normalizeRect(t), r[0] === e[0] && r[1] === t[0] || r[0] === t[0] && r[1] === e[0] ? (o[0] = r[1], o[2] = r[2], n[0] === e[1] && n[1] === t[1] || n[0] === t[1] && n[1] === e[1] ? (o[1] = n[1], o[3] = n[2], o) : null) : null } }, { "key": "bezierBoundingBox", "value": function bezierBoundingBox(e, t, r, n, o, i, a, s) { for (var c, u, l, f, d, p, h, m, g = [], v = [[], []], y = 0; y < 2; ++y)if (0 === y ? (u = 6 * e - 12 * r + 6 * o, c = -3 * e + 9 * r - 9 * o + 3 * a, l = 3 * r - 3 * e) : (u = 6 * t - 12 * n + 6 * i, c = -3 * t + 9 * n - 9 * i + 3 * s, l = 3 * n - 3 * t), Math.abs(c) < 1e-12) { if (Math.abs(u) < 1e-12) continue; 0 < (f = -l / u) && f < 1 && g.push(f) } else h = u * u - 4 * l * c, m = Math.sqrt(h), h < 0 || (0 < (d = (-u + m) / (2 * c)) && d < 1 && g.push(d), 0 < (p = (-u - m) / (2 * c)) && p < 1 && g.push(p)); for (var b, S = g.length, _ = S; S--;)b = 1 - (f = g[S]), v[0][S] = b * b * b * e + 3 * b * b * f * r + 3 * b * f * f * o + f * f * f * a, v[1][S] = b * b * b * t + 3 * b * b * f * n + 3 * b * f * f * i + f * f * f * s; return v[0][_] = e, v[1][_] = t, v[0][_ + 1] = a, v[1][_ + 1] = s, v[0].length = v[1].length = _ + 2, [Math.min.apply(Math, _toConsumableArray(v[0])), Math.min.apply(Math, _toConsumableArray(v[1])), Math.max.apply(Math, _toConsumableArray(v[0])), Math.max.apply(Math, _toConsumableArray(v[1]))] } }]), Util }(); t.Util = y; var b = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 728, 711, 710, 729, 733, 731, 730, 732, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8226, 8224, 8225, 8230, 8212, 8211, 402, 8260, 8249, 8250, 8722, 8240, 8222, 8220, 8221, 8216, 8217, 8218, 8482, 64257, 64258, 321, 338, 352, 376, 381, 305, 322, 339, 353, 382, 0, 8364]; function stringToUTF8String(e) { return decodeURIComponent(escape(e)) } }, function (e, t, r) { "use strict"; var n = r(6); "undefined" != typeof globalThis && globalThis._pdfjsCompatibilityChecked || ("undefined" != typeof globalThis && globalThis.Math === Math || (globalThis = r(7)), globalThis._pdfjsCompatibilityChecked = !0, function checkNodeBtoa() { !globalThis.btoa && n.isNodeJS && (globalThis.btoa = function (e) { return Buffer.from(e, "binary").toString("base64") }) }(), function checkNodeAtob() { !globalThis.atob && n.isNodeJS && (globalThis.atob = function (e) { return Buffer.from(e, "base64").toString("binary") }) }(), function checkDOMMatrix() { !globalThis.DOMMatrix && n.isNodeJS && (globalThis.DOMMatrix = r(69)) }(), function checkObjectFromEntries() { Object.fromEntries || r(70) }(), function checkPromise() { globalThis.Promise.allSettled || (globalThis.Promise = r(97)) }(), function checkReadableStream() { !globalThis.ReadableStream && n.isNodeJS && (globalThis.ReadableStream = r(134).ReadableStream) }()) }, function (e, t) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.isNodeJS = void 0; var r = !("object" !== (void 0 === process ? "undefined" : _typeof(process)) || process + "" != "[object process]" || process.versions.nw || process.versions.electron && process.type && "browser" !== process.type); t.isNodeJS = r }, function (e, t, r) { r(8), e.exports = r(10) }, function (e, t, r) { r(9)({ "global": !0 }, { "globalThis": r(10) }) }, function (e, t, r) { var n = r(10), o = r(11).f, i = r(47), a = r(50), s = r(41), c = r(57), u = r(68); e.exports = function (e, t) { var r, l, f, d, p, h = e.target, m = e.global, g = e.stat; if (r = m ? n : g ? n[h] || s(h, {}) : (n[h] || {}).prototype) for (l in t) { if (d = t[l], f = e.noTargetGet ? (p = o(r, l)) && p.value : r[l], !u(m ? l : h + (g ? "." : "#") + l, e.forced) && void 0 !== f) { if ((void 0 === d ? "undefined" : _typeof2(d)) == (void 0 === f ? "undefined" : _typeof2(f))) continue; c(d, f) } (e.sham || f && f.sham) && i(d, "sham", !0), a(r, l, d, e) } } }, function (e) { var t = function check(e) { return e && e.Math == Math && e }; e.exports = t("object" == ("undefined" == typeof globalThis ? "undefined" : _typeof2(globalThis)) && globalThis) || t("object" == ("undefined" == typeof window ? "undefined" : _typeof2(window)) && window) || t("object" == ("undefined" == typeof self ? "undefined" : _typeof2(self)) && self) || t("object" == (void 0 === global ? "undefined" : _typeof2(global)) && global) || function () { return this }() || Function("return this")() }, function (e, t, r) { var n = r(12), o = r(14), i = r(15), a = r(16), s = r(17), c = r(22), u = r(42), l = r(45), f = Object.getOwnPropertyDescriptor; t.f = n ? f : function getOwnPropertyDescriptor(e, t) { if (e = s(e), t = c(t), l) try { return f(e, t) } catch (e) { } if (u(e, t)) return a(!o(i.f, e, t), e[t]) } }, function (e, t, r) { var n = r(13); e.exports = !n(function () { return 7 != Object.defineProperty({}, 1, { "get": function get() { return 7 } })[1] }) }, function (e) { e.exports = function (e) { try { return !!e() } catch (e) { return !0 } } }, function (e) { var t = Function.prototype.call; e.exports = t.bind ? t.bind(t) : function () { return t.apply(t, arguments) } }, function (e, t) { "use strict"; var r = {}.propertyIsEnumerable, n = Object.getOwnPropertyDescriptor, o = n && !r.call({ "1": 2 }, 1); t.f = o ? function propertyIsEnumerable(e) { var t = n(this, e); return !!t && t.enumerable } : r }, function (e) { e.exports = function (e, t) { return { "enumerable": !(1 & e), "configurable": !(2 & e), "writable": !(4 & e), "value": t } } }, function (e, t, r) { var n = r(18), o = r(21); e.exports = function (e) { return n(o(e)) } }, function (e, t, r) { var n = r(10), o = r(19), i = r(13), a = r(20), s = n.Object, c = o("".split); e.exports = i(function () { return !s("z").propertyIsEnumerable(0) }) ? function (e) { return "String" == a(e) ? c(e, "") : s(e) } : s }, function (e) { var t = Function.prototype, r = t.bind, n = t.call, o = r && r.bind(n); e.exports = r ? function (e) { return e && o(n, e) } : function (e) { return e && function () { return n.apply(e, arguments) } } }, function (e, t, r) { var n = r(19), o = n({}.toString), i = n("".slice); e.exports = function (e) { return i(o(e), 8, -1) } }, function (e, t, r) { var n = r(10).TypeError; e.exports = function (e) { if (null == e) throw n("Can't call method on " + e); return e } }, function (e, t, r) { var n = r(23), o = r(26); e.exports = function (e) { var t = n(e, "string"); return o(t) ? t : t + "" } }, function (e, t, r) { var n = r(10), o = r(14), i = r(24), a = r(26), s = r(33), c = r(36), u = r(37), l = n.TypeError, f = u("toPrimitive"); e.exports = function (e, t) { if (!i(e) || a(e)) return e; var r, n = s(e, f); if (n) { if (void 0 === t && (t = "default"), r = o(n, e, t), !i(r) || a(r)) return r; throw l("Can't convert object to primitive value") } return void 0 === t && (t = "number"), c(e, t) } }, function (e, t, r) { var n = r(25); e.exports = function (e) { return "object" == (void 0 === e ? "undefined" : _typeof2(e)) ? null !== e : n(e) } }, function (e) { e.exports = function (e) { return "function" == typeof e } }, function (e, t, r) { var n = r(10), o = r(27), i = r(25), a = r(28), s = r(29), c = n.Object; e.exports = s ? function (e) { return "symbol" == (void 0 === e ? "undefined" : _typeof2(e)) } : function (e) { var t = o("Symbol"); return i(t) && a(t.prototype, c(e)) } }, function (e, t, r) { var n = r(10), o = r(25); e.exports = function (e, t) { return arguments.length < 2 ? function aFunction(e) { return o(e) ? e : void 0 }(n[e]) : n[e] && n[e][t] } }, function (e, t, r) { var n = r(19); e.exports = n({}.isPrototypeOf) }, function (e, t, r) { var n = r(30); e.exports = n && !Symbol.sham && "symbol" == _typeof2(Symbol.iterator) }, function (e, t, r) { var n = r(31), o = r(13); e.exports = !!Object.getOwnPropertySymbols && !o(function () { var e = Symbol(); return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && n && n < 41 }) }, function (e, t, r) { var n, o, i = r(10), a = r(32), s = i.process, c = i.Deno, u = s && s.versions || c && c.version, l = u && u.v8; l && (o = (n = l.split("."))[0] > 0 && n[0] < 4 ? 1 : +(n[0] + n[1])), !o && a && (!(n = a.match(/Edge\/(\d+)/)) || n[1] >= 74) && (n = a.match(/Chrome\/(\d+)/)) && (o = +n[1]), e.exports = o }, function (e, t, r) { var n = r(27); e.exports = n("navigator", "userAgent") || "" }, function (e, t, r) { var n = r(34); e.exports = function (e, t) { var r = e[t]; return null == r ? void 0 : n(r) } }, function (e, t, r) { var n = r(10), o = r(25), i = r(35), a = n.TypeError; e.exports = function (e) { if (o(e)) return e; throw a(i(e) + " is not a function") } }, function (e, t, r) { var n = r(10).String; e.exports = function (e) { try { return n(e) } catch (e) { return "Object" } } }, function (e, t, r) { var n = r(10), o = r(14), i = r(25), a = r(24), s = n.TypeError; e.exports = function (e, t) { var r, n; if ("string" === t && i(r = e.toString) && !a(n = o(r, e))) return n; if (i(r = e.valueOf) && !a(n = o(r, e))) return n; if ("string" !== t && i(r = e.toString) && !a(n = o(r, e))) return n; throw s("Can't convert object to primitive value") } }, function (e, t, r) { var n = r(10), o = r(38), i = r(42), a = r(44), s = r(30), c = r(29), u = o("wks"), l = n.Symbol, f = l && l.for, d = c ? l : l && l.withoutSetter || a; e.exports = function (e) { if (!i(u, e) || !s && "string" != typeof u[e]) { var t = "Symbol." + e; s && i(l, e) ? u[e] = l[e] : u[e] = c && f ? f(t) : d(t) } return u[e] } }, function (e, t, r) { var n = r(39), o = r(40); (e.exports = function (e, t) { return o[e] || (o[e] = void 0 !== t ? t : {}) })("versions", []).push({ "version": "3.19.3", "mode": n ? "pure" : "global", "copyright": "© 2021 Denis Pushkarev (zloirock.ru)" }) }, function (e) { e.exports = !1 }, function (e, t, r) { var n = r(10), o = r(41), i = n["__core-js_shared__"] || o("__core-js_shared__", {}); e.exports = i }, function (e, t, r) { var n = r(10), o = Object.defineProperty; e.exports = function (e, t) { try { o(n, e, { "value": t, "configurable": !0, "writable": !0 }) } catch (r) { n[e] = t } return t } }, function (e, t, r) { var n = r(19), o = r(43), i = n({}.hasOwnProperty); e.exports = Object.hasOwn || function hasOwn(e, t) { return i(o(e), t) } }, function (e, t, r) { var n = r(10), o = r(21), i = n.Object; e.exports = function (e) { return i(o(e)) } }, function (e, t, r) { var n = r(19), o = 0, i = Math.random(), a = n(1..toString); e.exports = function (e) { return "Symbol(" + (void 0 === e ? "" : e) + ")_" + a(++o + i, 36) } }, function (e, t, r) { var n = r(12), o = r(13), i = r(46); e.exports = !n && !o(function () { return 7 != Object.defineProperty(i("div"), "a", { "get": function get() { return 7 } }).a }) }, function (e, t, r) { var n = r(10), o = r(24), i = n.document, a = o(i) && o(i.createElement); e.exports = function (e) { return a ? i.createElement(e) : {} } }, function (e, t, r) { var n = r(12), o = r(48), i = r(16); e.exports = n ? function (e, t, r) { return o.f(e, t, i(1, r)) } : function (e, t, r) { return e[t] = r, e } }, function (e, t, r) { var n = r(10), o = r(12), i = r(45), a = r(49), s = r(22), c = n.TypeError, u = Object.defineProperty; t.f = o ? u : function defineProperty(e, t, r) { if (a(e), t = s(t), a(r), i) try { return u(e, t, r) } catch (e) { } if ("get" in r || "set" in r) throw c("Accessors not supported"); return "value" in r && (e[t] = r.value), e } }, function (e, t, r) { var n = r(10), o = r(24), i = n.String, a = n.TypeError; e.exports = function (e) { if (o(e)) return e; throw a(i(e) + " is not an object") } }, function (e, t, r) { var n = r(10), o = r(25), i = r(42), a = r(47), s = r(41), c = r(51), u = r(52), l = r(56).CONFIGURABLE, f = u.get, d = u.enforce, p = String(String).split("String"); (e.exports = function (e, t, r, c) { var u, f = !!c && !!c.unsafe, h = !!c && !!c.enumerable, m = !!c && !!c.noTargetGet, g = c && void 0 !== c.name ? c.name : t; o(r) && ("Symbol(" === String(g).slice(0, 7) && (g = "[" + String(g).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!i(r, "name") || l && r.name !== g) && a(r, "name", g), (u = d(r)).source || (u.source = p.join("string" == typeof g ? g : ""))), e !== n ? (f ? !m && e[t] && (h = !0) : delete e[t], h ? e[t] = r : a(e, t, r)) : h ? e[t] = r : s(t, r) })(Function.prototype, "toString", function toString() { return o(this) && f(this).source || c(this) }) }, function (e, t, r) { var n = r(19), o = r(25), i = r(40), a = n(Function.toString); o(i.inspectSource) || (i.inspectSource = function (e) { return a(e) }), e.exports = i.inspectSource }, function (e, t, r) { var n, o, i, a = r(53), s = r(10), c = r(19), u = r(24), l = r(47), f = r(42), d = r(40), p = r(54), h = r(55), m = s.TypeError, g = s.WeakMap; if (a || d.state) { var v = d.state || (d.state = new g), y = c(v.get), b = c(v.has), S = c(v.set); n = function set(e, t) { if (b(v, e)) throw new m("Object already initialized"); return t.facade = e, S(v, e, t), t }, o = function get(e) { return y(v, e) || {} }, i = function has(e) { return b(v, e) } } else { var _ = p("state"); h[_] = !0, n = function set(e, t) { if (f(e, _)) throw new m("Object already initialized"); return t.facade = e, l(e, _, t), t }, o = function get(e) { return f(e, _) ? e[_] : {} }, i = function has(e) { return f(e, _) } } e.exports = { "set": n, "get": o, "has": i, "enforce": function enforce(e) { return i(e) ? o(e) : n(e, {}) }, "getterFor": function getterFor(e) { return function (t) { var r; if (!u(t) || (r = o(t)).type !== e) throw m("Incompatible receiver, " + e + " required"); return r } } } }, function (e, t, r) { var n = r(10), o = r(25), i = r(51), a = n.WeakMap; e.exports = o(a) && /native code/.test(i(a)) }, function (e, t, r) { var n = r(38), o = r(44), i = n("keys"); e.exports = function (e) { return i[e] || (i[e] = o(e)) } }, function (e) { e.exports = {} }, function (e, t, r) { var n = r(12), o = r(42), i = Function.prototype, a = n && Object.getOwnPropertyDescriptor, s = o(i, "name"), c = s && "something" === function something() { }.name, u = s && (!n || n && a(i, "name").configurable); e.exports = { "EXISTS": s, "PROPER": c, "CONFIGURABLE": u } }, function (e, t, r) { var n = r(42), o = r(58), i = r(11), a = r(48); e.exports = function (e, t) { for (var r = o(t), s = a.f, c = i.f, u = 0; u < r.length; u++) { var l = r[u]; n(e, l) || s(e, l, c(t, l)) } } }, function (e, t, r) { var n = r(27), o = r(19), i = r(59), a = r(67), s = r(49), c = o([].concat); e.exports = n("Reflect", "ownKeys") || function ownKeys(e) { var t = i.f(s(e)), r = a.f; return r ? c(t, r(e)) : t } }, function (e, t, r) { var n = r(60), o = r(66).concat("length", "prototype"); t.f = Object.getOwnPropertyNames || function getOwnPropertyNames(e) { return n(e, o) } }, function (e, t, r) { var n = r(19), o = r(42), i = r(17), a = r(61).indexOf, s = r(55), c = n([].push); e.exports = function (e, t) { var r, n = i(e), u = 0, l = []; for (r in n) !o(s, r) && o(n, r) && c(l, r); for (; t.length > u;)o(n, r = t[u++]) && (~a(l, r) || c(l, r)); return l } }, function (e, t, r) { var n = r(17), o = r(62), i = r(64), a = function createMethod(e) { return function (t, r, a) { var s, c = n(t), u = i(c), l = o(a, u); if (e && r != r) { for (; u > l;)if ((s = c[l++]) != s) return !0 } else for (; u > l; l++)if ((e || l in c) && c[l] === r) return e || l || 0; return !e && -1 } }; e.exports = { "includes": a(!0), "indexOf": a(!1) } }, function (e, t, r) { var n = r(63), o = Math.max, i = Math.min; e.exports = function (e, t) { var r = n(e); return r < 0 ? o(r + t, 0) : i(r, t) } }, function (e) { var t = Math.ceil, r = Math.floor; e.exports = function (e) { var n = +e; return n != n || 0 === n ? 0 : (n > 0 ? r : t)(n) } }, function (e, t, r) { var n = r(65); e.exports = function (e) { return n(e.length) } }, function (e, t, r) { var n = r(63), o = Math.min; e.exports = function (e) { return e > 0 ? o(n(e), 9007199254740991) : 0 } }, function (e) { e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"] }, function (e, t) { t.f = Object.getOwnPropertySymbols }, function (e, t, r) { var n = r(13), o = r(25), i = /#|\.prototype\./, a = function isForced(e, t) { var r = c[s(e)]; return r == l || r != u && (o(t) ? n(t) : !!t) }, s = a.normalize = function (e) { return String(e).replace(i, ".").toLowerCase() }, c = a.data = {}, u = a.NATIVE = "N", l = a.POLYFILL = "P"; e.exports = a }, function (e, t, r) { "use strict"; var n, o, i; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } i = function () { function fromArray(t) { var r = new e, n = Array.from(t); if (!n.every(function (e) { return !Number.isNaN(e) })) throw TypeError('CSSMatrix: "' + t + '" must only have numbers.'); if (16 === n.length) { var o = n[0], i = n[1], a = n[2], s = n[3], c = n[4], u = n[5], l = n[6], f = n[7], d = n[8], p = n[9], h = n[10], m = n[11], g = n[12], v = n[13], y = n[14], b = n[15]; r.m11 = o, r.a = o, r.m21 = c, r.c = c, r.m31 = d, r.m41 = g, r.e = g, r.m12 = i, r.b = i, r.m22 = u, r.d = u, r.m32 = p, r.m42 = v, r.f = v, r.m13 = a, r.m23 = l, r.m33 = h, r.m43 = y, r.m14 = s, r.m24 = f, r.m34 = m, r.m44 = b } else { if (6 !== n.length) throw new TypeError("CSSMatrix: expecting an Array of 6/16 values."); var S = n[0], _ = n[1], w = n[2], A = n[3], C = n[4], T = n[5]; r.m11 = S, r.a = S, r.m12 = _, r.b = _, r.m21 = w, r.c = w, r.m22 = A, r.d = A, r.m41 = C, r.e = C, r.m42 = T, r.f = T } return r } function fromMatrix(t) { var r = Object.keys(new e); if ("object" === _typeof(t) && r.every(function (e) { return e in t })) return fromArray([t.m11, t.m12, t.m13, t.m14, t.m21, t.m22, t.m23, t.m24, t.m31, t.m32, t.m33, t.m34, t.m41, t.m42, t.m43, t.m44]); throw TypeError('CSSMatrix: "' + t + '" is not a DOMMatrix / CSSMatrix / JSON compatible object.') } function fromString(t) { if ("string" != typeof t) throw TypeError('CSSMatrix: "' + t + '" is not a string.'); var r = String(t).replace(/\s/g, ""), n = new e, o = 'CSSMatrix: invalid transform string "' + t + '"'; return r.split(")").filter(function (e) { return e }).forEach(function (e) { var t = e.split("("), r = t[0], i = t[1]; if (!i) throw TypeError(o); var a = i.split(",").map(function (e) { return e.includes("rad") ? parseFloat(e) * (180 / Math.PI) : parseFloat(e) }), s = a[0], c = a[1], u = a[2], l = a[3], f = [s, c, u], d = [s, c, u, l]; if ("perspective" === r && s && [c, u].every(function (e) { return void 0 === e })) n.m34 = -1 / s; else if (r.includes("matrix") && [6, 16].includes(a.length) && a.every(function (e) { return !Number.isNaN(+e) })) { var p = a.map(function (e) { return Math.abs(e) < 1e-6 ? 0 : e }); n = n.multiply(fromArray(p)) } else if ("translate3d" === r && f.every(function (e) { return !Number.isNaN(+e) })) n = n.translate(s, c, u); else if ("translate" === r && s && void 0 === u) n = n.translate(s, c || 0, 0); else if ("rotate3d" === r && d.every(function (e) { return !Number.isNaN(+e) }) && l) n = n.rotateAxisAngle(s, c, u, l); else if ("rotate" === r && s && [c, u].every(function (e) { return void 0 === e })) n = n.rotate(0, 0, s); else if ("scale3d" === r && f.every(function (e) { return !Number.isNaN(+e) }) && f.some(function (e) { return 1 !== e })) n = n.scale(s, c, u); else if ("scale" !== r || Number.isNaN(s) || 1 === s || void 0 !== u) if ("skew" === r && s && void 0 === u) n = n.skewX(s), n = c ? n.skewY(c) : n; else { if (!(/[XYZ]/.test(r) && s && [c, u].every(function (e) { return void 0 === e }) && ["translate", "rotate", "scale", "skew"].some(function (e) { return r.includes(e) }))) throw TypeError(o); if (["skewX", "skewY"].includes(r)) n = n[r](s); else { var h = r.replace(/[XYZ]/, ""), m = r.replace(h, ""), g = ["X", "Y", "Z"].indexOf(m), v = [0 === g ? s : 0, 1 === g ? s : 0, 2 === g ? s : 0]; n = n[h].apply(n, v) } } else { var y = Number.isNaN(+c) ? s : c; n = n.scale(s, y, 1) } }), n } function Translate(t, r, n) { var o = new e; return o.m41 = t, o.e = t, o.m42 = r, o.f = r, o.m43 = n, o } function Rotate(t, r, n) { var o = new e, i = Math.PI / 180, a = t * i, s = r * i, c = n * i, u = Math.cos(a), l = -Math.sin(a), f = Math.cos(s), d = -Math.sin(s), p = Math.cos(c), h = -Math.sin(c), m = f * p, g = -f * h; o.m11 = m, o.a = m, o.m12 = g, o.b = g, o.m13 = d; var v = l * d * p + u * h; o.m21 = v, o.c = v; var y = u * p - l * d * h; return o.m22 = y, o.d = y, o.m23 = -l * f, o.m31 = l * h - u * d * p, o.m32 = l * p + u * d * h, o.m33 = u * f, o } function RotateAxisAngle(t, r, n, o) { var i = new e, a = o * (Math.PI / 360), s = Math.sin(a), c = Math.cos(a), u = s * s, l = Math.sqrt(t * t + r * r + n * n), f = t, d = r, p = n; 0 === l ? (f = 0, d = 0, p = 1) : (f /= l, d /= l, p /= l); var h = f * f, m = d * d, g = p * p, v = 1 - 2 * (m + g) * u; i.m11 = v, i.a = v; var y = 2 * (f * d * u + p * s * c); i.m12 = y, i.b = y, i.m13 = 2 * (f * p * u - d * s * c); var b = 2 * (d * f * u - p * s * c); i.m21 = b, i.c = b; var S = 1 - 2 * (g + h) * u; return i.m22 = S, i.d = S, i.m23 = 2 * (d * p * u + f * s * c), i.m31 = 2 * (p * f * u + d * s * c), i.m32 = 2 * (p * d * u - f * s * c), i.m33 = 1 - 2 * (h + m) * u, i } function Scale(t, r, n) { var o = new e; return o.m11 = t, o.a = t, o.m22 = r, o.d = r, o.m33 = n, o } function SkewX(t) { var r = new e, n = t * Math.PI / 180, o = Math.tan(n); return r.m21 = o, r.c = o, r } function SkewY(t) { var r = new e, n = t * Math.PI / 180, o = Math.tan(n); return r.m12 = o, r.b = o, r } function Multiply(e, t) { return fromArray([t.m11 * e.m11 + t.m12 * e.m21 + t.m13 * e.m31 + t.m14 * e.m41, t.m11 * e.m12 + t.m12 * e.m22 + t.m13 * e.m32 + t.m14 * e.m42, t.m11 * e.m13 + t.m12 * e.m23 + t.m13 * e.m33 + t.m14 * e.m43, t.m11 * e.m14 + t.m12 * e.m24 + t.m13 * e.m34 + t.m14 * e.m44, t.m21 * e.m11 + t.m22 * e.m21 + t.m23 * e.m31 + t.m24 * e.m41, t.m21 * e.m12 + t.m22 * e.m22 + t.m23 * e.m32 + t.m24 * e.m42, t.m21 * e.m13 + t.m22 * e.m23 + t.m23 * e.m33 + t.m24 * e.m43, t.m21 * e.m14 + t.m22 * e.m24 + t.m23 * e.m34 + t.m24 * e.m44, t.m31 * e.m11 + t.m32 * e.m21 + t.m33 * e.m31 + t.m34 * e.m41, t.m31 * e.m12 + t.m32 * e.m22 + t.m33 * e.m32 + t.m34 * e.m42, t.m31 * e.m13 + t.m32 * e.m23 + t.m33 * e.m33 + t.m34 * e.m43, t.m31 * e.m14 + t.m32 * e.m24 + t.m33 * e.m34 + t.m34 * e.m44, t.m41 * e.m11 + t.m42 * e.m21 + t.m43 * e.m31 + t.m44 * e.m41, t.m41 * e.m12 + t.m42 * e.m22 + t.m43 * e.m32 + t.m44 * e.m42, t.m41 * e.m13 + t.m42 * e.m23 + t.m43 * e.m33 + t.m44 * e.m43, t.m41 * e.m14 + t.m42 * e.m24 + t.m43 * e.m34 + t.m44 * e.m44]) } var e = function CSSMatrix() { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; var r = this; if (r.a = 1, r.b = 0, r.c = 0, r.d = 1, r.e = 0, r.f = 0, r.m11 = 1, r.m12 = 0, r.m13 = 0, r.m14 = 0, r.m21 = 0, r.m22 = 1, r.m23 = 0, r.m24 = 0, r.m31 = 0, r.m32 = 0, r.m33 = 1, r.m34 = 0, r.m41 = 0, r.m42 = 0, r.m43 = 0, r.m44 = 1, e && e.length) { var n = [16, 6].some(function (t) { return t === e.length }) ? e : e[0]; return r.setMatrixValue(n) } return r }, t = { "isIdentity": { "configurable": !0 }, "is2D": { "configurable": !0 } }; t.isIdentity.set = function (e) { this.isIdentity = e }, t.isIdentity.get = function () { var e = this; return 1 === e.m11 && 0 === e.m12 && 0 === e.m13 && 0 === e.m14 && 0 === e.m21 && 1 === e.m22 && 0 === e.m23 && 0 === e.m24 && 0 === e.m31 && 0 === e.m32 && 1 === e.m33 && 0 === e.m34 && 0 === e.m41 && 0 === e.m42 && 0 === e.m43 && 1 === e.m44 }, t.is2D.get = function () { var e = this; return 0 === e.m31 && 0 === e.m32 && 1 === e.m33 && 0 === e.m34 && 0 === e.m43 && 1 === e.m44 }, t.is2D.set = function (e) { this.is2D = e }, e.prototype.setMatrixValue = function setMatrixValue(e) { return [Array, Float64Array, Float32Array].some(function (t) { return e instanceof t }) ? fromArray(e) : "string" == typeof e && e.length && "none" !== e ? fromString(e) : "object" === _typeof(e) ? fromMatrix(e) : this }, e.prototype.toArray = function toArray() { var e = this, t = Math.pow(10, 6); return (e.is2D ? [e.a, e.b, e.c, e.d, e.e, e.f] : [e.m11, e.m12, e.m13, e.m14, e.m21, e.m22, e.m23, e.m24, e.m31, e.m32, e.m33, e.m34, e.m41, e.m42, e.m43, e.m44]).map(function (e) { return Math.abs(e) < 1e-6 ? 0 : (e * t >> 0) / t }) }, e.prototype.toString = function toString() { var e = this.toArray(); return (this.is2D ? "matrix" : "matrix3d") + "(" + e + ")" }, e.prototype.toJSON = function toJSON() { var e = this, t = e.is2D, r = e.isIdentity; return Object.assign({}, e, { "is2D": t, "isIdentity": r }) }, e.prototype.multiply = function multiply(e) { return Multiply(this, e) }, e.prototype.translate = function translate(e, t, r) { var n = t, o = r; return void 0 === o && (o = 0), void 0 === n && (n = 0), Multiply(this, Translate(e, n, o)) }, e.prototype.scale = function scale(e, t, r) { var n = t, o = r; return void 0 === n && (n = e), void 0 === o && (o = 1), Multiply(this, Scale(e, n, o)) }, e.prototype.rotate = function rotate(e, t, r) { var n = e, o = t, i = r; return void 0 === o && (o = 0), void 0 === i && (i = n, n = 0), Multiply(this, Rotate(n, o, i)) }, e.prototype.rotateAxisAngle = function rotateAxisAngle(e, t, r, n) { if ([e, t, r, n].some(function (e) { return Number.isNaN(e) })) throw new TypeError("CSSMatrix: expecting 4 values"); return Multiply(this, RotateAxisAngle(e, t, r, n)) }, e.prototype.skewX = function skewX(e) { return Multiply(this, SkewX(e)) }, e.prototype.skewY = function skewY(e) { return Multiply(this, SkewY(e)) }, e.prototype.transformPoint = function transformPoint(e) { var t = Translate(e.x, e.y, e.z); return t.m44 = e.w || 1, { "x": (t = this.multiply(t)).m41, "y": t.m42, "z": t.m43, "w": t.m44 } }, e.prototype.transform = function transform(e) { var t = this, r = t.m11 * e.x + t.m12 * e.y + t.m13 * e.z + t.m14 * e.w, n = t.m21 * e.x + t.m22 * e.y + t.m23 * e.z + t.m24 * e.w, o = t.m31 * e.x + t.m32 * e.y + t.m33 * e.z + t.m34 * e.w, i = t.m41 * e.x + t.m42 * e.y + t.m43 * e.z + t.m44 * e.w; return { "x": r / i, "y": n / i, "z": o / i, "w": i } }, Object.defineProperties(e.prototype, t), Object.assign(e, { "Translate": Translate, "Rotate": Rotate, "RotateAxisAngle": RotateAxisAngle, "Scale": Scale, "SkewX": SkewX, "SkewY": SkewY, "Multiply": Multiply, "fromArray": fromArray, "fromMatrix": fromMatrix, "fromString": fromString }); return Object.assign(e, { "Version": "0.0.24" }), e }, "object" === _typeof(t) ? e.exports = i() : void 0 === (o = "function" == typeof (n = i) ? n.call(t, r, t, e) : n) || (e.exports = o) }, function (e, t, r) { r(71), r(86); var n = r(96); e.exports = n.Object.fromEntries }, function (e, t, r) { "use strict"; var n = r(17), o = r(72), i = r(77), a = r(52), s = r(78), c = a.set, u = a.getterFor("Array Iterator"); e.exports = s(Array, "Array", function (e, t) { c(this, { "type": "Array Iterator", "target": n(e), "index": 0, "kind": t }) }, function () { var e = u(this), t = e.target, r = e.kind, n = e.index++; return !t || n >= t.length ? (e.target = void 0, { "value": void 0, "done": !0 }) : "keys" == r ? { "value": n, "done": !1 } : "values" == r ? { "value": t[n], "done": !1 } : { "value": [n, t[n]], "done": !1 } }, "values"), i.Arguments = i.Array, o("keys"), o("values"), o("entries") }, function (e, t, r) { var n = r(37), o = r(73), i = r(48), a = n("unscopables"), s = Array.prototype; null == s[a] && i.f(s, a, { "configurable": !0, "value": o(null) }), e.exports = function (e) { s[a][e] = !0 } }, function (e, t, r) { var n, o = r(49), i = r(74), a = r(66), s = r(55), c = r(76), u = r(46), l = r(54), f = l("IE_PROTO"), d = function EmptyConstructor() { }, p = function scriptTag(e) { return "<script>" + e + "<\/script>" }, h = function NullProtoObjectViaActiveX(e) { e.write(p("")), e.close(); var t = e.parentWindow.Object; return e = null, t }, m = function NullProtoObject() { try { n = new ActiveXObject("htmlfile") } catch (e) { } m = "undefined" != typeof document ? document.domain && n ? h(n) : function NullProtoObjectViaIFrame() { var e, t = u("iframe"); return t.style.display = "none", c.appendChild(t), t.src = String("javascript:"), (e = t.contentWindow.document).open(), e.write(p("document.F=Object")), e.close(), e.F }() : h(n); for (var e = a.length; e--;)delete m.prototype[a[e]]; return m() }; s[f] = !0, e.exports = Object.create || function create(e, t) { var r; return null !== e ? (d.prototype = o(e), r = new d, d.prototype = null, r[f] = e) : r = m(), void 0 === t ? r : i(r, t) } }, function (e, t, r) { var n = r(12), o = r(48), i = r(49), a = r(17), s = r(75); e.exports = n ? Object.defineProperties : function defineProperties(e, t) { i(e); for (var r, n = a(t), c = s(t), u = c.length, l = 0; u > l;)o.f(e, r = c[l++], n[r]); return e } }, function (e, t, r) { var n = r(60), o = r(66); e.exports = Object.keys || function keys(e) { return n(e, o) } }, function (e, t, r) { var n = r(27); e.exports = n("document", "documentElement") }, function (e) { e.exports = {} }, function (e, t, r) { "use strict"; var n = r(9), o = r(14), i = r(39), a = r(56), s = r(25), c = r(79), u = r(81), l = r(84), f = r(83), d = r(47), p = r(50), h = r(37), m = r(77), g = r(80), v = a.PROPER, y = a.CONFIGURABLE, b = g.IteratorPrototype, S = g.BUGGY_SAFARI_ITERATORS, _ = h("iterator"), w = function returnThis() { return this }; e.exports = function (e, t, r, a, h, g, A) { c(r, t, a); var C, T, P, k = function getIterationMethod(e) { if (e === h && R) return R; if (!S && e in O) return O[e]; switch (e) { case "keys": return function keys() { return new r(this, e) }; case "values": return function values() { return new r(this, e) }; case "entries": return function entries() { return new r(this, e) } }return function () { return new r(this) } }, E = t + " Iterator", x = !1, O = e.prototype, I = O[_] || O["@@iterator"] || h && O[h], R = !S && I || k(h), M = "Array" == t && O.entries || I; if (M && (C = u(M.call(new e))) !== Object.prototype && C.next && (i || u(C) === b || (l ? l(C, b) : s(C[_]) || p(C, _, w)), f(C, E, !0, !0), i && (m[E] = w)), v && "values" == h && I && "values" !== I.name && (!i && y ? d(O, "name", "values") : (x = !0, R = function values() { return o(I, this) })), h) if (T = { "values": k("values"), "keys": g ? R : k("keys"), "entries": k("entries") }, A) for (P in T) !S && !x && P in O || p(O, P, T[P]); else n({ "target": t, "proto": !0, "forced": S || x }, T); return i && !A || O[_] === R || p(O, _, R, { "name": h }), m[t] = R, T } }, function (e, t, r) { "use strict"; var n = r(80).IteratorPrototype, o = r(73), i = r(16), a = r(83), s = r(77), c = function returnThis() { return this }; e.exports = function (e, t, r, u) { var l = t + " Iterator"; return e.prototype = o(n, { "next": i(+!u, r) }), a(e, l, !1, !0), s[l] = c, e } }, function (e, t, r) { "use strict"; var n, o, i, a = r(13), s = r(25), c = r(73), u = r(81), l = r(50), f = r(37), d = r(39), p = f("iterator"), h = !1;[].keys && ("next" in (i = [].keys()) ? (o = u(u(i))) !== Object.prototype && (n = o) : h = !0), null == n || a(function () { var e = {}; return n[p].call(e) !== e }) ? n = {} : d && (n = c(n)), s(n[p]) || l(n, p, function () { return this }), e.exports = { "IteratorPrototype": n, "BUGGY_SAFARI_ITERATORS": h } }, function (e, t, r) { var n = r(10), o = r(42), i = r(25), a = r(43), s = r(54), c = r(82), u = s("IE_PROTO"), l = n.Object, f = l.prototype; e.exports = c ? l.getPrototypeOf : function (e) { var t = a(e); if (o(t, u)) return t[u]; var r = t.constructor; return i(r) && t instanceof r ? r.prototype : t instanceof l ? f : null } }, function (e, t, r) { var n = r(13); e.exports = !n(function () { function F() { } return F.prototype.constructor = null, Object.getPrototypeOf(new F) !== F.prototype }) }, function (e, t, r) { var n = r(48).f, o = r(42), i = r(37)("toStringTag"); e.exports = function (e, t, r) { e && !o(e = r ? e : e.prototype, i) && n(e, i, { "configurable": !0, "value": t }) } }, function (e, t, r) { var n = r(19), o = r(49), i = r(85); e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () { var e, t = !1, r = {}; try { (e = n(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set))(r, []), t = r instanceof Array } catch (e) { } return function setPrototypeOf(r, n) { return o(r), i(n), t ? e(r, n) : r.__proto__ = n, r } }() : void 0) }, function (e, t, r) { var n = r(10), o = r(25), i = n.String, a = n.TypeError; e.exports = function (e) { if ("object" == (void 0 === e ? "undefined" : _typeof2(e)) || o(e)) return e; throw a("Can't set " + i(e) + " as a prototype") } }, function (e, t, r) { var n = r(9), o = r(87), i = r(95); n({ "target": "Object", "stat": !0 }, { "fromEntries": function fromEntries(e) { var t = {}; return o(e, function (e, r) { i(t, e, r) }, { "AS_ENTRIES": !0 }), t } }) }, function (e, t, r) { var n = r(10), o = r(88), i = r(14), a = r(49), s = r(35), c = r(89), u = r(64), l = r(28), f = r(90), d = r(91), p = r(94), h = n.TypeError, m = function Result(e, t) { this.stopped = e, this.result = t }, g = m.prototype; e.exports = function (e, t, r) { var n, v, y, b, S, _, w, A = r && r.that, C = !(!r || !r.AS_ENTRIES), T = !(!r || !r.IS_ITERATOR), P = !(!r || !r.INTERRUPTED), k = o(t, A), E = function stop(e) { return n && p(n, "normal", e), new m(!0, e) }, x = function callFn(e) { return C ? (a(e), P ? k(e[0], e[1], E) : k(e[0], e[1])) : P ? k(e, E) : k(e) }; if (T) n = e; else { if (!(v = d(e))) throw h(s(e) + " is not iterable"); if (c(v)) { for (y = 0, b = u(e); b > y; y++)if ((S = x(e[y])) && l(g, S)) return S; return new m(!1) } n = f(e, v) } for (_ = n.next; !(w = i(_, n)).done;) { try { S = x(w.value) } catch (e) { p(n, "throw", e) } if ("object" == (void 0 === S ? "undefined" : _typeof2(S)) && S && l(g, S)) return S } return new m(!1) } }, function (e, t, r) { var n = r(19), o = r(34), i = n(n.bind); e.exports = function (e, t) { return o(e), void 0 === t ? e : i ? i(e, t) : function () { return e.apply(t, arguments) } } }, function (e, t, r) { var n = r(37), o = r(77), i = n("iterator"), a = Array.prototype; e.exports = function (e) { return void 0 !== e && (o.Array === e || a[i] === e) } }, function (e, t, r) { var n = r(10), o = r(14), i = r(34), a = r(49), s = r(35), c = r(91), u = n.TypeError; e.exports = function (e, t) { var r = arguments.length < 2 ? c(e) : t; if (i(r)) return a(o(r, e)); throw u(s(e) + " is not iterable") } }, function (e, t, r) { var n = r(92), o = r(33), i = r(77), a = r(37)("iterator"); e.exports = function (e) { if (null != e) return o(e, a) || o(e, "@@iterator") || i[n(e)] } }, function (e, t, r) { var n = r(10), o = r(93), i = r(25), a = r(20), s = r(37)("toStringTag"), c = n.Object, u = "Arguments" == a(function () { return arguments }()); e.exports = o ? a : function (e) { var t, r, n; return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (r = function tryGet(e, t) { try { return e[t] } catch (e) { } }(t = c(e), s)) ? r : u ? a(t) : "Object" == (n = a(t)) && i(t.callee) ? "Arguments" : n } }, function (e, t, r) { var n = {}; n[r(37)("toStringTag")] = "z", e.exports = "[object z]" === String(n) }, function (e, t, r) { var n = r(14), o = r(49), i = r(33); e.exports = function (e, t, r) { var a, s; o(e); try { if (!(a = i(e, "return"))) { if ("throw" === t) throw r; return r } a = n(a, e) } catch (e) { s = !0, a = e } if ("throw" === t) throw r; if (s) throw a; return o(a), r } }, function (e, t, r) { "use strict"; var n = r(22), o = r(48), i = r(16); e.exports = function (e, t, r) { var a = n(t); a in e ? o.f(e, a, i(0, r)) : e[a] = r } }, function (e, t, r) { var n = r(10); e.exports = n }, function (e, t, r) { r(98), r(71), r(105), r(107), r(129), r(130), r(131), r(132); var n = r(96); e.exports = n.Promise }, function (e, t, r) { "use strict"; var n = r(9), o = r(10), i = r(28), a = r(81), s = r(84), c = r(57), u = r(73), l = r(47), f = r(16), d = r(99), p = r(101), h = r(87), m = r(102), g = r(37), v = r(104), y = g("toStringTag"), b = o.Error, S = [].push, _ = function AggregateError(e, t) { var r, n = arguments.length > 2 ? arguments[2] : void 0, o = i(w, this); s ? r = s(new b(void 0), o ? a(this) : w) : (r = o ? this : u(w), l(r, y, "Error")), l(r, "message", m(t, "")), v && l(r, "stack", d(r.stack, 1)), p(r, n); var c = []; return h(e, S, { "that": c }), l(r, "errors", c), r }; s ? s(_, b) : c(_, b); var w = _.prototype = u(b.prototype, { "constructor": f(1, _), "message": f(1, ""), "name": f(1, "AggregateError") }); n({ "global": !0 }, { "AggregateError": _ }) }, function (e, t, r) { var n = r(19), o = r(100), i = n("".replace), a = n("".split), s = n([].join), c = String(Error("zxcasd").stack), u = /\n\s*at [^:]*:[^\n]*/, l = u.test(c), f = /@[^\n]*\n/.test(c) && !/zxcasd/.test(c); e.exports = function (e, t) { if ("string" != typeof e) return e; if (l) for (; t--;)e = i(e, u, ""); else if (f) return s(o(a(e, "\n"), t), "\n"); return e } }, function (e, t, r) { var n = r(10), o = r(62), i = r(64), a = r(95), s = n.Array, c = Math.max; e.exports = function (e, t, r) { for (var n = i(e), u = o(t, n), l = o(void 0 === r ? n : r, n), f = s(c(l - u, 0)), d = 0; u < l; u++, d++)a(f, d, e[u]); return f.length = d, f } }, function (e, t, r) { var n = r(24), o = r(47); e.exports = function (e, t) { n(t) && "cause" in t && o(e, "cause", t.cause) } }, function (e, t, r) { var n = r(103); e.exports = function (e, t) { return void 0 === e ? arguments.length < 2 ? "" : t : n(e) } }, function (e, t, r) { var n = r(10), o = r(92), i = n.String; e.exports = function (e) { if ("Symbol" === o(e)) throw TypeError("Cannot convert a Symbol value to a string"); return i(e) } }, function (e, t, r) { var n = r(13), o = r(16); e.exports = !n(function () { var e = Error("a"); return !("stack" in e) || (Object.defineProperty(e, "stack", o(1, 7)), 7 !== e.stack) }) }, function (e, t, r) { var n = r(93), o = r(50), i = r(106); n || o(Object.prototype, "toString", i, { "unsafe": !0 }) }, function (e, t, r) { "use strict"; var n = r(93), o = r(92); e.exports = n ? {}.toString : function toString() { return "[object " + o(this) + "]" } }, function (e, t, r) { "use strict"; var n, o, i, a, s = r(9), c = r(39), u = r(10), l = r(27), f = r(14), d = r(108), p = r(50), h = r(109), m = r(84), g = r(83), v = r(110), y = r(34), b = r(25), S = r(24), _ = r(111), w = r(51), A = r(87), C = r(112), T = r(113), P = r(116).set, k = r(121), E = r(124), x = r(126), O = r(125), I = r(127), R = r(52), M = r(68), B = r(37), D = r(128), j = r(120), F = r(31), L = B("species"), N = "Promise", H = R.getterFor(N), U = R.set, W = R.getterFor(N), G = d && d.prototype, V = d, q = G, z = u.TypeError, X = u.document, Q = u.process, K = O.f, Y = K, J = !!(X && X.createEvent && u.dispatchEvent), Z = b(u.PromiseRejectionEvent), $ = !1, ee = M(N, function () { var e = w(V), t = e !== String(V); if (!t && 66 === F) return !0; if (c && !q.finally) return !0; if (F >= 51 && /native code/.test(e)) return !1; var r = new V(function (e) { e(1) }), n = function FakePromise(e) { e(function () { }, function () { }) }; return (r.constructor = {})[L] = n, !($ = r.then(function () { }) instanceof n) || !t && D && !Z }), te = ee || !C(function (e) { V.all(e).catch(function () { }) }), re = function isThenable(e) { var t; return !(!S(e) || !b(t = e.then)) && t }, ne = function notify(e, t) { if (!e.notified) { e.notified = !0; var r = e.reactions; k(function () { for (var n = e.value, o = 1 == e.state, i = 0; r.length > i;) { var a, s, c, u = r[i++], l = o ? u.ok : u.fail, d = u.resolve, p = u.reject, h = u.domain; try { l ? (o || (2 === e.rejection && se(e), e.rejection = 1), !0 === l ? a = n : (h && h.enter(), a = l(n), h && (h.exit(), c = !0)), a === u.promise ? p(z("Promise-chain cycle")) : (s = re(a)) ? f(s, a, d, p) : d(a)) : p(n) } catch (e) { h && !c && h.exit(), p(e) } } e.reactions = [], e.notified = !1, t && !e.rejection && ie(e) }) } }, oe = function dispatchEvent(e, t, r) { var n, o; J ? ((n = X.createEvent("Event")).promise = t, n.reason = r, n.initEvent(e, !1, !0), u.dispatchEvent(n)) : n = { "promise": t, "reason": r }, !Z && (o = u["on" + e]) ? o(n) : "unhandledrejection" === e && x("Unhandled promise rejection", r) }, ie = function onUnhandled(e) { f(P, u, function () { var t, r = e.facade, n = e.value; if (ae(e) && (t = I(function () { j ? Q.emit("unhandledRejection", n, r) : oe("unhandledrejection", r, n) }), e.rejection = j || ae(e) ? 2 : 1, t.error)) throw t.value }) }, ae = function isUnhandled(e) { return 1 !== e.rejection && !e.parent }, se = function onHandleUnhandled(e) { f(P, u, function () { var t = e.facade; j ? Q.emit("rejectionHandled", t) : oe("rejectionhandled", t, e.value) }) }, ce = function bind(e, t, r) { return function (n) { e(t, n, r) } }, ue = function internalReject(e, t, r) { e.done || (e.done = !0, r && (e = r), e.value = t, e.state = 2, ne(e, !0)) }, le = function internalResolve(e, t, r) { if (!e.done) { e.done = !0, r && (e = r); try { if (e.facade === t) throw z("Promise can't be resolved itself"); var n = re(t); n ? k(function () { var r = { "done": !1 }; try { f(n, t, ce(internalResolve, r, e), ce(ue, r, e)) } catch (t) { ue(r, t, e) } }) : (e.value = t, e.state = 1, ne(e, !1)) } catch (t) { ue({ "done": !1 }, t, e) } } }; if (ee && (q = (V = function Promise(e) { _(this, q), y(e), f(n, this); var t = H(this); try { e(ce(le, t), ce(ue, t)) } catch (e) { ue(t, e) } }).prototype, (n = function Promise(e) { U(this, { "type": N, "done": !1, "notified": !1, "parent": !1, "reactions": [], "rejection": !1, "state": 0, "value": void 0 }) }).prototype = h(q, { "then": function then(e, t) { var r = W(this), n = r.reactions, o = K(T(this, V)); return o.ok = !b(e) || e, o.fail = b(t) && t, o.domain = j ? Q.domain : void 0, r.parent = !0, n[n.length] = o, 0 != r.state && ne(r, !1), o.promise }, "catch": function _catch(e) { return this.then(void 0, e) } }), o = function OwnPromiseCapability() { var e = new n, t = H(e); this.promise = e, this.resolve = ce(le, t), this.reject = ce(ue, t) }, O.f = K = function newPromiseCapability(e) { return e === V || e === i ? new o(e) : Y(e) }, !c && b(d) && G !== Object.prototype)) { a = G.then, $ || (p(G, "then", function then(e, t) { var r = this; return new V(function (e, t) { f(a, r, e, t) }).then(e, t) }, { "unsafe": !0 }), p(G, "catch", q.catch, { "unsafe": !0 })); try { delete G.constructor } catch (e) { } m && m(G, q) } s({ "global": !0, "wrap": !0, "forced": ee }, { "Promise": V }), g(V, N, !1, !0), v(N), i = l(N), s({ "target": N, "stat": !0, "forced": ee }, { "reject": function reject(e) { var t = K(this); return f(t.reject, void 0, e), t.promise } }), s({ "target": N, "stat": !0, "forced": c || ee }, { "resolve": function resolve(e) { return E(c && this === i ? V : this, e) } }), s({ "target": N, "stat": !0, "forced": te }, { "all": function all(e) { var t = this, r = K(t), n = r.resolve, o = r.reject, i = I(function () { var r = y(t.resolve), i = [], a = 0, s = 1; A(e, function (e) { var c = a++, u = !1; s++, f(r, t, e).then(function (e) { u || (u = !0, i[c] = e, --s || n(i)) }, o) }), --s || n(i) }); return i.error && o(i.value), r.promise }, "race": function race(e) { var t = this, r = K(t), n = r.reject, o = I(function () { var o = y(t.resolve); A(e, function (e) { f(o, t, e).then(r.resolve, n) }) }); return o.error && n(o.value), r.promise } }) }, function (e, t, r) { var n = r(10); e.exports = n.Promise }, function (e, t, r) { var n = r(50); e.exports = function (e, t, r) { for (var o in t) n(e, o, t[o], r); return e } }, function (e, t, r) { "use strict"; var n = r(27), o = r(48), i = r(37), a = r(12), s = i("species"); e.exports = function (e) { var t = n(e), r = o.f; a && t && !t[s] && r(t, s, { "configurable": !0, "get": function get() { return this } }) } }, function (e, t, r) { var n = r(10), o = r(28), i = n.TypeError; e.exports = function (e, t) { if (o(t, e)) return e; throw i("Incorrect invocation") } }, function (e, t, r) { var n = r(37)("iterator"), o = !1; try { var i = 0, a = { "next": function next() { return { "done": !!i++ } }, "return": function _return() { o = !0 } }; a[n] = function () { return this }, Array.from(a, function () { throw 2 }) } catch (e) { } e.exports = function (e, t) { if (!t && !o) return !1; var r = !1; try { var i = {}; i[n] = function () { return { "next": function next() { return { "done": r = !0 } } } }, e(i) } catch (e) { } return r } }, function (e, t, r) { var n = r(49), o = r(114), i = r(37)("species"); e.exports = function (e, t) { var r, a = n(e).constructor; return void 0 === a || null == (r = n(a)[i]) ? t : o(r) } }, function (e, t, r) { var n = r(10), o = r(115), i = r(35), a = n.TypeError; e.exports = function (e) { if (o(e)) return e; throw a(i(e) + " is not a constructor") } }, function (e, t, r) { var n = r(19), o = r(13), i = r(25), a = r(92), s = r(27), c = r(51), u = function noop() { }, l = [], f = s("Reflect", "construct"), d = /^\s*(?:class|function)\b/, p = n(d.exec), h = !d.exec(u), m = function isConstructorModern(e) { if (!i(e)) return !1; try { return f(u, l, e), !0 } catch (e) { return !1 } }; e.exports = !f || o(function () { var e; return m(m.call) || !m(Object) || !m(function () { e = !0 }) || e }) ? function isConstructorLegacy(e) { if (!i(e)) return !1; switch (a(e)) { case "AsyncFunction": case "GeneratorFunction": case "AsyncGeneratorFunction": return !1 }return h || !!p(d, c(e)) } : m }, function (e, t, r) { var n, o, i, a, s = r(10), c = r(117), u = r(88), l = r(25), f = r(42), d = r(13), p = r(76), h = r(118), m = r(46), g = r(119), v = r(120), y = s.setImmediate, b = s.clearImmediate, S = s.process, _ = s.Dispatch, w = s.Function, A = s.MessageChannel, C = s.String, T = 0, P = {}; try { n = s.location } catch (e) { } var k = function run(e) { if (f(P, e)) { var t = P[e]; delete P[e], t() } }, E = function runner(e) { return function () { k(e) } }, x = function listener(e) { k(e.data) }, O = function post(e) { s.postMessage(C(e), n.protocol + "//" + n.host) }; y && b || (y = function setImmediate(e) { var t = h(arguments, 1); return P[++T] = function () { c(l(e) ? e : w(e), void 0, t) }, o(T), T }, b = function clearImmediate(e) { delete P[e] }, v ? o = function defer(e) { S.nextTick(E(e)) } : _ && _.now ? o = function defer(e) { _.now(E(e)) } : A && !g ? (a = (i = new A).port2, i.port1.onmessage = x, o = u(a.postMessage, a)) : s.addEventListener && l(s.postMessage) && !s.importScripts && n && "file:" !== n.protocol && !d(O) ? (o = O, s.addEventListener("message", x, !1)) : o = "onreadystatechange" in m("script") ? function defer(e) { p.appendChild(m("script")).onreadystatechange = function () { p.removeChild(this), k(e) } } : function defer(e) { setTimeout(E(e), 0) }), e.exports = { "set": y, "clear": b } }, function (e) { var t = Function.prototype, r = t.apply, n = t.bind, o = t.call; e.exports = "object" == ("undefined" == typeof Reflect ? "undefined" : _typeof2(Reflect)) && Reflect.apply || (n ? o.bind(r) : function () { return o.apply(r, arguments) }) }, function (e, t, r) { var n = r(19); e.exports = n([].slice) }, function (e, t, r) { var n = r(32); e.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(n) }, function (e, t, r) { var n = r(20), o = r(10); e.exports = "process" == n(o.process) }, function (e, t, r) { var n, o, i, a, s, c, u, l, f = r(10), d = r(88), p = r(11).f, h = r(116).set, m = r(119), g = r(122), v = r(123), y = r(120), b = f.MutationObserver || f.WebKitMutationObserver, S = f.document, _ = f.process, w = f.Promise, A = p(f, "queueMicrotask"), C = A && A.value; C || (n = function flush() { var e, t; for (y && (e = _.domain) && e.exit(); o;) { t = o.fn, o = o.next; try { t() } catch (e) { throw o ? a() : i = void 0, e } } i = void 0, e && e.enter() }, m || y || v || !b || !S ? !g && w && w.resolve ? ((u = w.resolve(void 0)).constructor = w, l = d(u.then, u), a = function notify() { l(n) }) : y ? a = function notify() { _.nextTick(n) } : (h = d(h, f), a = function notify() { h(n) }) : (s = !0, c = S.createTextNode(""), new b(n).observe(c, { "characterData": !0 }), a = function notify() { c.data = s = !s })), e.exports = C || function (e) { var t = { "fn": e, "next": void 0 }; i && (i.next = t), o || (o = t, a()), i = t } }, function (e, t, r) { var n = r(32), o = r(10); e.exports = /ipad|iphone|ipod/i.test(n) && void 0 !== o.Pebble }, function (e, t, r) { var n = r(32); e.exports = /web0s(?!.*chrome)/i.test(n) }, function (e, t, r) { var n = r(49), o = r(24), i = r(125); e.exports = function (e, t) { if (n(e), o(t) && t.constructor === e) return t; var r = i.f(e); return (0, r.resolve)(t), r.promise } }, function (e, t, r) { "use strict"; var n = r(34); e.exports.f = function (e) { return new function PromiseCapability(e) { var t, r; this.promise = new e(function (e, n) { if (void 0 !== t || void 0 !== r) throw TypeError("Bad Promise constructor"); t = e, r = n }), this.resolve = n(t), this.reject = n(r) }(e) } }, function (e, t, r) { var n = r(10); e.exports = function (e, t) { var r = n.console; r && r.error && (1 == arguments.length ? r.error(e) : r.error(e, t)) } }, function (e) { e.exports = function (e) { try { return { "error": !1, "value": e() } } catch (e) { return { "error": !0, "value": e } } } }, function (e) { e.exports = "object" == ("undefined" == typeof window ? "undefined" : _typeof2(window)) }, function (e, t, r) { "use strict"; var n = r(9), o = r(14), i = r(34), a = r(125), s = r(127), c = r(87); n({ "target": "Promise", "stat": !0 }, { "allSettled": function allSettled(e) { var t = this, r = a.f(t), n = r.resolve, u = r.reject, l = s(function () { var r = i(t.resolve), a = [], s = 0, u = 1; c(e, function (e) { var i = s++, c = !1; u++, o(r, t, e).then(function (e) { c || (c = !0, a[i] = { "status": "fulfilled", "value": e }, --u || n(a)) }, function (e) { c || (c = !0, a[i] = { "status": "rejected", "reason": e }, --u || n(a)) }) }), --u || n(a) }); return l.error && u(l.value), r.promise } }) }, function (e, t, r) { "use strict"; var n = r(9), o = r(34), i = r(27), a = r(14), s = r(125), c = r(127), u = r(87); n({ "target": "Promise", "stat": !0 }, { "any": function any(e) { var t = this, r = i("AggregateError"), n = s.f(t), l = n.resolve, f = n.reject, d = c(function () { var n = o(t.resolve), i = [], s = 0, c = 1, d = !1; u(e, function (e) { var o = s++, u = !1; c++, a(n, t, e).then(function (e) { u || d || (d = !0, l(e)) }, function (e) { u || d || (u = !0, i[o] = e, --c || f(new r(i, "No one promise resolved"))) }) }), --c || f(new r(i, "No one promise resolved")) }); return d.error && f(d.value), n.promise } }) }, function (e, t, r) { "use strict"; var n = r(9), o = r(39), i = r(108), a = r(13), s = r(27), c = r(25), u = r(113), l = r(124), f = r(50); if (n({ "target": "Promise", "proto": !0, "real": !0, "forced": !!i && a(function () { i.prototype.finally.call({ "then": function then() { } }, function () { }) }) }, { "finally": function _finally(e) { var t = u(this, s("Promise")), r = c(e); return this.then(r ? function (r) { return l(t, e()).then(function () { return r }) } : e, r ? function (r) { return l(t, e()).then(function () { throw r }) } : e) } }), !o && c(i)) { var d = s("Promise").prototype.finally; i.prototype.finally !== d && f(i.prototype, "finally", d, { "unsafe": !0 }) } }, function (e, t, r) { "use strict"; var n = r(133).charAt, o = r(103), i = r(52), a = r(78), s = i.set, c = i.getterFor("String Iterator"); a(String, "String", function (e) { s(this, { "type": "String Iterator", "string": o(e), "index": 0 }) }, function next() { var e, t = c(this), r = t.string, o = t.index; return o >= r.length ? { "value": void 0, "done": !0 } : (e = n(r, o), t.index += e.length, { "value": e, "done": !1 }) }) }, function (e, t, r) { var n = r(19), o = r(63), i = r(103), a = r(21), s = n("".charAt), c = n("".charCodeAt), u = n("".slice), l = function createMethod(e) { return function (t, r) { var n, l, f = i(a(t)), d = o(r), p = f.length; return d < 0 || d >= p ? e ? "" : void 0 : (n = c(f, d)) < 55296 || n > 56319 || d + 1 === p || (l = c(f, d + 1)) < 56320 || l > 57343 ? e ? s(f, d) : n : e ? u(f, d, d + 2) : l - 56320 + (n - 55296 << 10) + 65536 } }; e.exports = { "codeAt": l(!1), "charAt": l(!0) } }, function (e, t) { (function (e) { "use strict"; var t = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? Symbol : function (e) { return "Symbol(" + e + ")" }; function noop() { } var r = function getGlobals() { return "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== global ? global : void 0 }(); function typeIsObject(e) { return "object" === (void 0 === e ? "undefined" : _typeof2(e)) && null !== e || "function" == typeof e } var n = noop, o = Promise, i = Promise.prototype.then, a = Promise.resolve.bind(o), s = Promise.reject.bind(o); function newPromise(e) { return new o(e) } function promiseResolvedWith(e) { return a(e) } function promiseRejectedWith(e) { return s(e) } function PerformPromiseThen(e, t, r) { return i.call(e, t, r) } function uponPromise(e, t, r) { PerformPromiseThen(PerformPromiseThen(e, t, r), void 0, n) } function uponFulfillment(e, t) { uponPromise(e, t) } function uponRejection(e, t) { uponPromise(e, void 0, t) } function transformPromiseWith(e, t, r) { return PerformPromiseThen(e, t, r) } function setPromiseIsHandledToTrue(e) { PerformPromiseThen(e, void 0, n) } var c = function () { var e = r && r.queueMicrotask; if ("function" == typeof e) return e; var t = promiseResolvedWith(void 0); return function (e) { return PerformPromiseThen(t, e) } }(); function reflectCall(e, t, r) { if ("function" != typeof e) throw new TypeError("Argument is not a function"); return Function.prototype.apply.call(e, t, r) } function promiseCall(e, t, r) { try { return promiseResolvedWith(reflectCall(e, t, r)) } catch (e) { return promiseRejectedWith(e) } } var u = function () { function SimpleQueue() { this._cursor = 0, this._size = 0, this._front = { "_elements": [], "_next": void 0 }, this._back = this._front, this._cursor = 0, this._size = 0 } return Object.defineProperty(SimpleQueue.prototype, "length", { "get": function get() { return this._size }, "enumerable": !1, "configurable": !0 }), SimpleQueue.prototype.push = function (e) { var t = this._back, r = t; 16383 === t._elements.length && (r = { "_elements": [], "_next": void 0 }), t._elements.push(e), r !== t && (this._back = r, t._next = r), ++this._size }, SimpleQueue.prototype.shift = function () { var e = this._front, t = e, r = this._cursor, n = r + 1, o = e._elements, i = o[r]; return 16384 === n && (t = e._next, n = 0), --this._size, this._cursor = n, e !== t && (this._front = t), o[r] = void 0, i }, SimpleQueue.prototype.forEach = function (e) { for (var t = this._cursor, r = this._front, n = r._elements; !(t === n.length && void 0 === r._next || t === n.length && (t = 0, 0 === (n = (r = r._next)._elements).length));)e(n[t]), ++t }, SimpleQueue.prototype.peek = function () { var e = this._front, t = this._cursor; return e._elements[t] }, SimpleQueue }(); function ReadableStreamReaderGenericInitialize(e, t) { e._ownerReadableStream = t, t._reader = e, "readable" === t._state ? defaultReaderClosedPromiseInitialize(e) : "closed" === t._state ? function defaultReaderClosedPromiseInitializeAsResolved(e) { defaultReaderClosedPromiseInitialize(e), defaultReaderClosedPromiseResolve(e) }(e) : defaultReaderClosedPromiseInitializeAsRejected(e, t._storedError) } function ReadableStreamReaderGenericCancel(e, t) { return ReadableStreamCancel(e._ownerReadableStream, t) } function ReadableStreamReaderGenericRelease(e) { "readable" === e._ownerReadableStream._state ? defaultReaderClosedPromiseReject(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")) : function defaultReaderClosedPromiseResetToRejected(e, t) { defaultReaderClosedPromiseInitializeAsRejected(e, t) }(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")), e._ownerReadableStream._reader = void 0, e._ownerReadableStream = void 0 } function readerLockException(e) { return new TypeError("Cannot " + e + " a stream using a released reader") } function defaultReaderClosedPromiseInitialize(e) { e._closedPromise = newPromise(function (t, r) { e._closedPromise_resolve = t, e._closedPromise_reject = r }) } function defaultReaderClosedPromiseInitializeAsRejected(e, t) { defaultReaderClosedPromiseInitialize(e), defaultReaderClosedPromiseReject(e, t) } function defaultReaderClosedPromiseReject(e, t) { void 0 !== e._closedPromise_reject && (setPromiseIsHandledToTrue(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0) } function defaultReaderClosedPromiseResolve(e) { void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0) } var l = t("[[AbortSteps]]"), f = t("[[ErrorSteps]]"), d = t("[[CancelSteps]]"), p = t("[[PullSteps]]"), h = Number.isFinite || function (e) { return "number" == typeof e && isFinite(e) }, m = Math.trunc || function (e) { return e < 0 ? Math.ceil(e) : Math.floor(e) }; function assertDictionary(e, t) { if (void 0 !== e && !function isDictionary(e) { return "object" === (void 0 === e ? "undefined" : _typeof2(e)) || "function" == typeof e }(e)) throw new TypeError(t + " is not an object.") } function assertFunction(e, t) { if ("function" != typeof e) throw new TypeError(t + " is not a function.") } function assertObject(e, t) { if (!function isObject(e) { return "object" === (void 0 === e ? "undefined" : _typeof2(e)) && null !== e || "function" == typeof e }(e)) throw new TypeError(t + " is not an object.") } function assertRequiredArgument(e, t, r) { if (void 0 === e) throw new TypeError("Parameter " + t + " is required in '" + r + "'.") } function assertRequiredField(e, t, r) { if (void 0 === e) throw new TypeError(t + " is required in '" + r + "'.") } function convertUnrestrictedDouble(e) { return Number(e) } function censorNegativeZero(e) { return 0 === e ? 0 : e } function convertUnsignedLongLongWithEnforceRange(e, t) { var r = Number.MAX_SAFE_INTEGER, n = Number(e); if (n = censorNegativeZero(n), !h(n)) throw new TypeError(t + " is not a finite number"); if ((n = function integerPart(e) { return censorNegativeZero(m(e)) }(n)) < 0 || n > r) throw new TypeError(t + " is outside the accepted range of 0 to " + r + ", inclusive"); return h(n) && 0 !== n ? n : 0 } function assertReadableStream(e, t) { if (!IsReadableStream(e)) throw new TypeError(t + " is not a ReadableStream.") } function AcquireReadableStreamDefaultReader(e) { return new y(e) } function ReadableStreamAddReadRequest(e, t) { e._reader._readRequests.push(t) } function ReadableStreamFulfillReadRequest(e, t, r) { var n = e._reader._readRequests.shift(); r ? n._closeSteps() : n._chunkSteps(t) } function ReadableStreamGetNumReadRequests(e) { return e._reader._readRequests.length } function ReadableStreamHasDefaultReader(e) { var t = e._reader; return void 0 !== t && !!IsReadableStreamDefaultReader(t) } var g, v, y = function () { function ReadableStreamDefaultReader(e) { if (assertRequiredArgument(e, 1, "ReadableStreamDefaultReader"), assertReadableStream(e, "First parameter"), IsReadableStreamLocked(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader"); ReadableStreamReaderGenericInitialize(this, e), this._readRequests = new u } return Object.defineProperty(ReadableStreamDefaultReader.prototype, "closed", { "get": function get() { return IsReadableStreamDefaultReader(this) ? this._closedPromise : promiseRejectedWith(defaultReaderBrandCheckException("closed")) }, "enumerable": !1, "configurable": !0 }), ReadableStreamDefaultReader.prototype.cancel = function (e) { return void 0 === e && (e = void 0), IsReadableStreamDefaultReader(this) ? void 0 === this._ownerReadableStream ? promiseRejectedWith(readerLockException("cancel")) : ReadableStreamReaderGenericCancel(this, e) : promiseRejectedWith(defaultReaderBrandCheckException("cancel")) }, ReadableStreamDefaultReader.prototype.read = function () { if (!IsReadableStreamDefaultReader(this)) return promiseRejectedWith(defaultReaderBrandCheckException("read")); if (void 0 === this._ownerReadableStream) return promiseRejectedWith(readerLockException("read from")); var e, t, r = newPromise(function (r, n) { e = r, t = n }); return ReadableStreamDefaultReaderRead(this, { "_chunkSteps": function _chunkSteps(t) { return e({ "value": t, "done": !1 }) }, "_closeSteps": function _closeSteps() { return e({ "value": void 0, "done": !0 }) }, "_errorSteps": function _errorSteps(e) { return t(e) } }), r }, ReadableStreamDefaultReader.prototype.releaseLock = function () { if (!IsReadableStreamDefaultReader(this)) throw defaultReaderBrandCheckException("releaseLock"); if (void 0 !== this._ownerReadableStream) { if (this._readRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"); ReadableStreamReaderGenericRelease(this) } }, ReadableStreamDefaultReader }(); function IsReadableStreamDefaultReader(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_readRequests") && e instanceof y) } function ReadableStreamDefaultReaderRead(e, t) { var r = e._ownerReadableStream; r._disturbed = !0, "closed" === r._state ? t._closeSteps() : "errored" === r._state ? t._errorSteps(r._storedError) : r._readableStreamController[p](t) } function defaultReaderBrandCheckException(e) { return new TypeError("ReadableStreamDefaultReader.prototype." + e + " can only be used on a ReadableStreamDefaultReader") } Object.defineProperties(y.prototype, { "cancel": { "enumerable": !0 }, "read": { "enumerable": !0 }, "releaseLock": { "enumerable": !0 }, "closed": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(y.prototype, t.toStringTag, { "value": "ReadableStreamDefaultReader", "configurable": !0 }), "symbol" === _typeof2(t.asyncIterator) && ((g = {})[t.asyncIterator] = function () { return this }, v = g, Object.defineProperty(v, t.asyncIterator, { "enumerable": !1 })); var b = function () { function ReadableStreamAsyncIteratorImpl(e, t) { this._ongoingPromise = void 0, this._isFinished = !1, this._reader = e, this._preventCancel = t } return ReadableStreamAsyncIteratorImpl.prototype.next = function () { var e = this, t = function nextSteps() { return e._nextSteps() }; return this._ongoingPromise = this._ongoingPromise ? transformPromiseWith(this._ongoingPromise, t, t) : t(), this._ongoingPromise }, ReadableStreamAsyncIteratorImpl.prototype.return = function (e) { var t = this, r = function returnSteps() { return t._returnSteps(e) }; return this._ongoingPromise ? transformPromiseWith(this._ongoingPromise, r, r) : r() }, ReadableStreamAsyncIteratorImpl.prototype._nextSteps = function () { var e = this; if (this._isFinished) return Promise.resolve({ "value": void 0, "done": !0 }); var t, r, n = this._reader; if (void 0 === n._ownerReadableStream) return promiseRejectedWith(readerLockException("iterate")); var o = newPromise(function (e, n) { t = e, r = n }); return ReadableStreamDefaultReaderRead(n, { "_chunkSteps": function _chunkSteps(r) { e._ongoingPromise = void 0, c(function () { return t({ "value": r, "done": !1 }) }) }, "_closeSteps": function _closeSteps() { e._ongoingPromise = void 0, e._isFinished = !0, ReadableStreamReaderGenericRelease(n), t({ "value": void 0, "done": !0 }) }, "_errorSteps": function _errorSteps(t) { e._ongoingPromise = void 0, e._isFinished = !0, ReadableStreamReaderGenericRelease(n), r(t) } }), o }, ReadableStreamAsyncIteratorImpl.prototype._returnSteps = function (e) { if (this._isFinished) return Promise.resolve({ "value": e, "done": !0 }); this._isFinished = !0; var t = this._reader; if (void 0 === t._ownerReadableStream) return promiseRejectedWith(readerLockException("finish iterating")); if (!this._preventCancel) { var r = ReadableStreamReaderGenericCancel(t, e); return ReadableStreamReaderGenericRelease(t), transformPromiseWith(r, function () { return { "value": e, "done": !0 } }) } return ReadableStreamReaderGenericRelease(t), promiseResolvedWith({ "value": e, "done": !0 }) }, ReadableStreamAsyncIteratorImpl }(), S = { "next": function next() { return IsReadableStreamAsyncIterator(this) ? this._asyncIteratorImpl.next() : promiseRejectedWith(streamAsyncIteratorBrandCheckException("next")) }, "return": function _return(e) { return IsReadableStreamAsyncIterator(this) ? this._asyncIteratorImpl.return(e) : promiseRejectedWith(streamAsyncIteratorBrandCheckException("return")) } }; function IsReadableStreamAsyncIterator(e) { if (!typeIsObject(e)) return !1; if (!Object.prototype.hasOwnProperty.call(e, "_asyncIteratorImpl")) return !1; try { return e._asyncIteratorImpl instanceof b } catch (e) { return !1 } } function streamAsyncIteratorBrandCheckException(e) { return new TypeError("ReadableStreamAsyncIterator." + e + " can only be used on a ReadableSteamAsyncIterator") } void 0 !== v && Object.setPrototypeOf(S, v); var _ = Number.isNaN || function (e) { return e != e }; function CreateArrayFromList(e) { return e.slice() } function CopyDataBlockBytes(e, t, r, n, o) { new Uint8Array(e).set(new Uint8Array(r, n, o), t) } function TransferArrayBuffer(e) { return e } function ArrayBufferSlice(e, t, r) { if (e.slice) return e.slice(t, r); var n = r - t, o = new ArrayBuffer(n); return CopyDataBlockBytes(o, 0, e, t, n), o } function CloneAsUint8Array(e) { var t = ArrayBufferSlice(e.buffer, e.byteOffset, e.byteOffset + e.byteLength); return new Uint8Array(t) } function DequeueValue(e) { var t = e._queue.shift(); return e._queueTotalSize -= t.size, e._queueTotalSize < 0 && (e._queueTotalSize = 0), t.value } function EnqueueValueWithSize(e, t, r) { if (!function IsNonNegativeNumber(e) { return !("number" != typeof e || _(e) || e < 0) }(r) || r === 1 / 0) throw new RangeError("Size must be a finite, non-NaN, non-negative number."); e._queue.push({ "value": t, "size": r }), e._queueTotalSize += r } function ResetQueue(e) { e._queue = new u, e._queueTotalSize = 0 } var w = function () { function ReadableStreamBYOBRequest() { throw new TypeError("Illegal constructor") } return Object.defineProperty(ReadableStreamBYOBRequest.prototype, "view", { "get": function get() { if (!IsReadableStreamBYOBRequest(this)) throw byobRequestBrandCheckException("view"); return this._view }, "enumerable": !1, "configurable": !0 }), ReadableStreamBYOBRequest.prototype.respond = function (e) { if (!IsReadableStreamBYOBRequest(this)) throw byobRequestBrandCheckException("respond"); if (assertRequiredArgument(e, 1, "respond"), e = convertUnsignedLongLongWithEnforceRange(e, "First parameter"), void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated"); this._view.buffer, ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, e) }, ReadableStreamBYOBRequest.prototype.respondWithNewView = function (e) { if (!IsReadableStreamBYOBRequest(this)) throw byobRequestBrandCheckException("respondWithNewView"); if (assertRequiredArgument(e, 1, "respondWithNewView"), !ArrayBuffer.isView(e)) throw new TypeError("You can only respond with array buffer views"); if (void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated"); e.buffer, ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, e) }, ReadableStreamBYOBRequest }(); Object.defineProperties(w.prototype, { "respond": { "enumerable": !0 }, "respondWithNewView": { "enumerable": !0 }, "view": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(w.prototype, t.toStringTag, { "value": "ReadableStreamBYOBRequest", "configurable": !0 }); var A = function () { function ReadableByteStreamController() { throw new TypeError("Illegal constructor") } return Object.defineProperty(ReadableByteStreamController.prototype, "byobRequest", { "get": function get() { if (!IsReadableByteStreamController(this)) throw byteStreamControllerBrandCheckException("byobRequest"); return ReadableByteStreamControllerGetBYOBRequest(this) }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(ReadableByteStreamController.prototype, "desiredSize", { "get": function get() { if (!IsReadableByteStreamController(this)) throw byteStreamControllerBrandCheckException("desiredSize"); return ReadableByteStreamControllerGetDesiredSize(this) }, "enumerable": !1, "configurable": !0 }), ReadableByteStreamController.prototype.close = function () { if (!IsReadableByteStreamController(this)) throw byteStreamControllerBrandCheckException("close"); if (this._closeRequested) throw new TypeError("The stream has already been closed; do not close it again!"); var e = this._controlledReadableByteStream._state; if ("readable" !== e) throw new TypeError("The stream (in " + e + " state) is not in the readable state and cannot be closed"); ReadableByteStreamControllerClose(this) }, ReadableByteStreamController.prototype.enqueue = function (e) { if (!IsReadableByteStreamController(this)) throw byteStreamControllerBrandCheckException("enqueue"); if (assertRequiredArgument(e, 1, "enqueue"), !ArrayBuffer.isView(e)) throw new TypeError("chunk must be an array buffer view"); if (0 === e.byteLength) throw new TypeError("chunk must have non-zero byteLength"); if (0 === e.buffer.byteLength) throw new TypeError("chunk's buffer must have non-zero byteLength"); if (this._closeRequested) throw new TypeError("stream is closed or draining"); var t = this._controlledReadableByteStream._state; if ("readable" !== t) throw new TypeError("The stream (in " + t + " state) is not in the readable state and cannot be enqueued to"); ReadableByteStreamControllerEnqueue(this, e) }, ReadableByteStreamController.prototype.error = function (e) { if (void 0 === e && (e = void 0), !IsReadableByteStreamController(this)) throw byteStreamControllerBrandCheckException("error"); ReadableByteStreamControllerError(this, e) }, ReadableByteStreamController.prototype[d] = function (e) { ReadableByteStreamControllerClearPendingPullIntos(this), ResetQueue(this); var t = this._cancelAlgorithm(e); return ReadableByteStreamControllerClearAlgorithms(this), t }, ReadableByteStreamController.prototype[p] = function (e) { var t = this._controlledReadableByteStream; if (this._queueTotalSize > 0) { var r = this._queue.shift(); this._queueTotalSize -= r.byteLength, ReadableByteStreamControllerHandleQueueDrain(this); var n = new Uint8Array(r.buffer, r.byteOffset, r.byteLength); e._chunkSteps(n) } else { var o = this._autoAllocateChunkSize; if (void 0 !== o) { var i = void 0; try { i = new ArrayBuffer(o) } catch (t) { return void e._errorSteps(t) } var a = { "buffer": i, "bufferByteLength": o, "byteOffset": 0, "byteLength": o, "bytesFilled": 0, "elementSize": 1, "viewConstructor": Uint8Array, "readerType": "default" }; this._pendingPullIntos.push(a) } ReadableStreamAddReadRequest(t, e), ReadableByteStreamControllerCallPullIfNeeded(this) } }, ReadableByteStreamController }(); function IsReadableByteStreamController(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_controlledReadableByteStream") && e instanceof A) } function IsReadableStreamBYOBRequest(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_associatedReadableByteStreamController") && e instanceof w) } function ReadableByteStreamControllerCallPullIfNeeded(e) { (function ReadableByteStreamControllerShouldCallPull(e) { var t = e._controlledReadableByteStream; if ("readable" !== t._state) return !1; if (e._closeRequested) return !1; if (!e._started) return !1; if (ReadableStreamHasDefaultReader(t) && ReadableStreamGetNumReadRequests(t) > 0) return !0; if (ReadableStreamHasBYOBReader(t) && ReadableStreamGetNumReadIntoRequests(t) > 0) return !0; if (ReadableByteStreamControllerGetDesiredSize(e) > 0) return !0; return !1 })(e) && (e._pulling ? e._pullAgain = !0 : (e._pulling = !0, uponPromise(e._pullAlgorithm(), function () { e._pulling = !1, e._pullAgain && (e._pullAgain = !1, ReadableByteStreamControllerCallPullIfNeeded(e)) }, function (t) { ReadableByteStreamControllerError(e, t) }))) } function ReadableByteStreamControllerClearPendingPullIntos(e) { ReadableByteStreamControllerInvalidateBYOBRequest(e), e._pendingPullIntos = new u } function ReadableByteStreamControllerCommitPullIntoDescriptor(e, t) { var r = !1; "closed" === e._state && (r = !0); var n = ReadableByteStreamControllerConvertPullIntoDescriptor(t); "default" === t.readerType ? ReadableStreamFulfillReadRequest(e, n, r) : function ReadableStreamFulfillReadIntoRequest(e, t, r) { var n = e._reader._readIntoRequests.shift(); r ? n._closeSteps(t) : n._chunkSteps(t) }(e, n, r) } function ReadableByteStreamControllerConvertPullIntoDescriptor(e) { var t = e.bytesFilled, r = e.elementSize; return new e.viewConstructor(e.buffer, e.byteOffset, t / r) } function ReadableByteStreamControllerEnqueueChunkToQueue(e, t, r, n) { e._queue.push({ "buffer": t, "byteOffset": r, "byteLength": n }), e._queueTotalSize += n } function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e, t) { var r = t.elementSize, n = t.bytesFilled - t.bytesFilled % r, o = Math.min(e._queueTotalSize, t.byteLength - t.bytesFilled), i = t.bytesFilled + o, a = i - i % r, s = o, c = !1; a > n && (s = a - t.bytesFilled, c = !0); for (var u = e._queue; s > 0;) { var l = u.peek(), f = Math.min(s, l.byteLength), d = t.byteOffset + t.bytesFilled; CopyDataBlockBytes(t.buffer, d, l.buffer, l.byteOffset, f), l.byteLength === f ? u.shift() : (l.byteOffset += f, l.byteLength -= f), e._queueTotalSize -= f, ReadableByteStreamControllerFillHeadPullIntoDescriptor(e, f, t), s -= f } return c } function ReadableByteStreamControllerFillHeadPullIntoDescriptor(e, t, r) { r.bytesFilled += t } function ReadableByteStreamControllerHandleQueueDrain(e) { 0 === e._queueTotalSize && e._closeRequested ? (ReadableByteStreamControllerClearAlgorithms(e), ReadableStreamClose(e._controlledReadableByteStream)) : ReadableByteStreamControllerCallPullIfNeeded(e) } function ReadableByteStreamControllerInvalidateBYOBRequest(e) { null !== e._byobRequest && (e._byobRequest._associatedReadableByteStreamController = void 0, e._byobRequest._view = null, e._byobRequest = null) } function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e) { for (; e._pendingPullIntos.length > 0;) { if (0 === e._queueTotalSize) return; var t = e._pendingPullIntos.peek(); ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e, t) && (ReadableByteStreamControllerShiftPendingPullInto(e), ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream, t)) } } function ReadableByteStreamControllerRespondInternal(e, t) { var r = e._pendingPullIntos.peek(); ReadableByteStreamControllerInvalidateBYOBRequest(e), "closed" === e._controlledReadableByteStream._state ? function ReadableByteStreamControllerRespondInClosedState(e, t) { var r = e._controlledReadableByteStream; if (ReadableStreamHasBYOBReader(r)) for (; ReadableStreamGetNumReadIntoRequests(r) > 0;)ReadableByteStreamControllerCommitPullIntoDescriptor(r, ReadableByteStreamControllerShiftPendingPullInto(e)) }(e) : function ReadableByteStreamControllerRespondInReadableState(e, t, r) { if (ReadableByteStreamControllerFillHeadPullIntoDescriptor(0, t, r), !(r.bytesFilled < r.elementSize)) { ReadableByteStreamControllerShiftPendingPullInto(e); var n = r.bytesFilled % r.elementSize; if (n > 0) { var o = r.byteOffset + r.bytesFilled, i = ArrayBufferSlice(r.buffer, o - n, o); ReadableByteStreamControllerEnqueueChunkToQueue(e, i, 0, i.byteLength) } r.bytesFilled -= n, ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream, r), ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e) } }(e, t, r), ReadableByteStreamControllerCallPullIfNeeded(e) } function ReadableByteStreamControllerShiftPendingPullInto(e) { return e._pendingPullIntos.shift() } function ReadableByteStreamControllerClearAlgorithms(e) { e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0 } function ReadableByteStreamControllerClose(e) { var t = e._controlledReadableByteStream; if (!e._closeRequested && "readable" === t._state) if (e._queueTotalSize > 0) e._closeRequested = !0; else { if (e._pendingPullIntos.length > 0) if (e._pendingPullIntos.peek().bytesFilled > 0) { var r = new TypeError("Insufficient bytes to fill elements in the given buffer"); throw ReadableByteStreamControllerError(e, r), r } ReadableByteStreamControllerClearAlgorithms(e), ReadableStreamClose(t) } } function ReadableByteStreamControllerEnqueue(e, t) { var r = e._controlledReadableByteStream; if (!e._closeRequested && "readable" === r._state) { var n = t.buffer, o = t.byteOffset, i = t.byteLength, a = TransferArrayBuffer(n); if (e._pendingPullIntos.length > 0) { var s = e._pendingPullIntos.peek(); s.buffer, !1, s.buffer = TransferArrayBuffer(s.buffer) } if (ReadableByteStreamControllerInvalidateBYOBRequest(e), ReadableStreamHasDefaultReader(r)) if (0 === ReadableStreamGetNumReadRequests(r)) ReadableByteStreamControllerEnqueueChunkToQueue(e, a, o, i); else e._pendingPullIntos.length > 0 && ReadableByteStreamControllerShiftPendingPullInto(e), ReadableStreamFulfillReadRequest(r, new Uint8Array(a, o, i), !1); else ReadableStreamHasBYOBReader(r) ? (ReadableByteStreamControllerEnqueueChunkToQueue(e, a, o, i), ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)) : ReadableByteStreamControllerEnqueueChunkToQueue(e, a, o, i); ReadableByteStreamControllerCallPullIfNeeded(e) } } function ReadableByteStreamControllerError(e, t) { var r = e._controlledReadableByteStream; "readable" === r._state && (ReadableByteStreamControllerClearPendingPullIntos(e), ResetQueue(e), ReadableByteStreamControllerClearAlgorithms(e), ReadableStreamError(r, t)) } function ReadableByteStreamControllerGetBYOBRequest(e) { if (null === e._byobRequest && e._pendingPullIntos.length > 0) { var t = e._pendingPullIntos.peek(), r = new Uint8Array(t.buffer, t.byteOffset + t.bytesFilled, t.byteLength - t.bytesFilled), n = Object.create(w.prototype); !function SetUpReadableStreamBYOBRequest(e, t, r) { e._associatedReadableByteStreamController = t, e._view = r }(n, e, r), e._byobRequest = n } return e._byobRequest } function ReadableByteStreamControllerGetDesiredSize(e) { var t = e._controlledReadableByteStream._state; return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize } function ReadableByteStreamControllerRespond(e, t) { var r = e._pendingPullIntos.peek(); if ("closed" === e._controlledReadableByteStream._state) { if (0 !== t) throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream") } else { if (0 === t) throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream"); if (r.bytesFilled + t > r.byteLength) throw new RangeError("bytesWritten out of range") } r.buffer = TransferArrayBuffer(r.buffer), ReadableByteStreamControllerRespondInternal(e, t) } function ReadableByteStreamControllerRespondWithNewView(e, t) { var r = e._pendingPullIntos.peek(); if ("closed" === e._controlledReadableByteStream._state) { if (0 !== t.byteLength) throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream") } else if (0 === t.byteLength) throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream"); if (r.byteOffset + r.bytesFilled !== t.byteOffset) throw new RangeError("The region specified by view does not match byobRequest"); if (r.bufferByteLength !== t.buffer.byteLength) throw new RangeError("The buffer of view has different capacity than byobRequest"); if (r.bytesFilled + t.byteLength > r.byteLength) throw new RangeError("The region specified by view is larger than byobRequest"); var n = t.byteLength; r.buffer = TransferArrayBuffer(t.buffer), ReadableByteStreamControllerRespondInternal(e, n) } function SetUpReadableByteStreamController(e, t, r, n, o, i, a) { t._controlledReadableByteStream = e, t._pullAgain = !1, t._pulling = !1, t._byobRequest = null, t._queue = t._queueTotalSize = void 0, ResetQueue(t), t._closeRequested = !1, t._started = !1, t._strategyHWM = i, t._pullAlgorithm = n, t._cancelAlgorithm = o, t._autoAllocateChunkSize = a, t._pendingPullIntos = new u, e._readableStreamController = t, uponPromise(promiseResolvedWith(r()), function () { t._started = !0, ReadableByteStreamControllerCallPullIfNeeded(t) }, function (e) { ReadableByteStreamControllerError(t, e) }) } function byobRequestBrandCheckException(e) { return new TypeError("ReadableStreamBYOBRequest.prototype." + e + " can only be used on a ReadableStreamBYOBRequest") } function byteStreamControllerBrandCheckException(e) { return new TypeError("ReadableByteStreamController.prototype." + e + " can only be used on a ReadableByteStreamController") } function AcquireReadableStreamBYOBReader(e) { return new C(e) } function ReadableStreamAddReadIntoRequest(e, t) { e._reader._readIntoRequests.push(t) } function ReadableStreamGetNumReadIntoRequests(e) { return e._reader._readIntoRequests.length } function ReadableStreamHasBYOBReader(e) { var t = e._reader; return void 0 !== t && !!IsReadableStreamBYOBReader(t) } Object.defineProperties(A.prototype, { "close": { "enumerable": !0 }, "enqueue": { "enumerable": !0 }, "error": { "enumerable": !0 }, "byobRequest": { "enumerable": !0 }, "desiredSize": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(A.prototype, t.toStringTag, { "value": "ReadableByteStreamController", "configurable": !0 }); var C = function () { function ReadableStreamBYOBReader(e) { if (assertRequiredArgument(e, 1, "ReadableStreamBYOBReader"), assertReadableStream(e, "First parameter"), IsReadableStreamLocked(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader"); if (!IsReadableByteStreamController(e._readableStreamController)) throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source"); ReadableStreamReaderGenericInitialize(this, e), this._readIntoRequests = new u } return Object.defineProperty(ReadableStreamBYOBReader.prototype, "closed", { "get": function get() { return IsReadableStreamBYOBReader(this) ? this._closedPromise : promiseRejectedWith(byobReaderBrandCheckException("closed")) }, "enumerable": !1, "configurable": !0 }), ReadableStreamBYOBReader.prototype.cancel = function (e) { return void 0 === e && (e = void 0), IsReadableStreamBYOBReader(this) ? void 0 === this._ownerReadableStream ? promiseRejectedWith(readerLockException("cancel")) : ReadableStreamReaderGenericCancel(this, e) : promiseRejectedWith(byobReaderBrandCheckException("cancel")) }, ReadableStreamBYOBReader.prototype.read = function (e) { if (!IsReadableStreamBYOBReader(this)) return promiseRejectedWith(byobReaderBrandCheckException("read")); if (!ArrayBuffer.isView(e)) return promiseRejectedWith(new TypeError("view must be an array buffer view")); if (0 === e.byteLength) return promiseRejectedWith(new TypeError("view must have non-zero byteLength")); if (0 === e.buffer.byteLength) return promiseRejectedWith(new TypeError("view's buffer must have non-zero byteLength")); if (e.buffer, void 0 === this._ownerReadableStream) return promiseRejectedWith(readerLockException("read from")); var t, r, n = newPromise(function (e, n) { t = e, r = n }); return ReadableStreamBYOBReaderRead(this, e, { "_chunkSteps": function _chunkSteps(e) { return t({ "value": e, "done": !1 }) }, "_closeSteps": function _closeSteps(e) { return t({ "value": e, "done": !0 }) }, "_errorSteps": function _errorSteps(e) { return r(e) } }), n }, ReadableStreamBYOBReader.prototype.releaseLock = function () { if (!IsReadableStreamBYOBReader(this)) throw byobReaderBrandCheckException("releaseLock"); if (void 0 !== this._ownerReadableStream) { if (this._readIntoRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"); ReadableStreamReaderGenericRelease(this) } }, ReadableStreamBYOBReader }(); function IsReadableStreamBYOBReader(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_readIntoRequests") && e instanceof C) } function ReadableStreamBYOBReaderRead(e, t, r) { var n = e._ownerReadableStream; n._disturbed = !0, "errored" === n._state ? r._errorSteps(n._storedError) : function ReadableByteStreamControllerPullInto(e, t, r) { var n = e._controlledReadableByteStream, o = 1; t.constructor !== DataView && (o = t.constructor.BYTES_PER_ELEMENT); var i = t.constructor, a = TransferArrayBuffer(t.buffer), s = { "buffer": a, "bufferByteLength": a.byteLength, "byteOffset": t.byteOffset, "byteLength": t.byteLength, "bytesFilled": 0, "elementSize": o, "viewConstructor": i, "readerType": "byob" }; if (e._pendingPullIntos.length > 0) return e._pendingPullIntos.push(s), void ReadableStreamAddReadIntoRequest(n, r); if ("closed" !== n._state) { if (e._queueTotalSize > 0) { if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e, s)) { var c = ReadableByteStreamControllerConvertPullIntoDescriptor(s); return ReadableByteStreamControllerHandleQueueDrain(e), void r._chunkSteps(c) } if (e._closeRequested) { var u = new TypeError("Insufficient bytes to fill elements in the given buffer"); return ReadableByteStreamControllerError(e, u), void r._errorSteps(u) } } e._pendingPullIntos.push(s), ReadableStreamAddReadIntoRequest(n, r), ReadableByteStreamControllerCallPullIfNeeded(e) } else { var l = new i(s.buffer, s.byteOffset, 0); r._closeSteps(l) } }(n._readableStreamController, t, r) } function byobReaderBrandCheckException(e) { return new TypeError("ReadableStreamBYOBReader.prototype." + e + " can only be used on a ReadableStreamBYOBReader") } function ExtractHighWaterMark(e, t) { var r = e.highWaterMark; if (void 0 === r) return t; if (_(r) || r < 0) throw new RangeError("Invalid highWaterMark"); return r } function ExtractSizeAlgorithm(e) { var t = e.size; return t || function () { return 1 } } function convertQueuingStrategy(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.highWaterMark, n = null == e ? void 0 : e.size; return { "highWaterMark": void 0 === r ? void 0 : convertUnrestrictedDouble(r), "size": void 0 === n ? void 0 : function convertQueuingStrategySize(e, t) { return assertFunction(e, t), function (t) { return convertUnrestrictedDouble(e(t)) } }(n, t + " has member 'size' that") } } function convertUnderlyingSink(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.abort, n = null == e ? void 0 : e.close, o = null == e ? void 0 : e.start, i = null == e ? void 0 : e.type, a = null == e ? void 0 : e.write; return { "abort": void 0 === r ? void 0 : function convertUnderlyingSinkAbortCallback(e, t, r) { return assertFunction(e, r), function (r) { return promiseCall(e, t, [r]) } }(r, e, t + " has member 'abort' that"), "close": void 0 === n ? void 0 : function convertUnderlyingSinkCloseCallback(e, t, r) { return assertFunction(e, r), function () { return promiseCall(e, t, []) } }(n, e, t + " has member 'close' that"), "start": void 0 === o ? void 0 : function convertUnderlyingSinkStartCallback(e, t, r) { return assertFunction(e, r), function (r) { return reflectCall(e, t, [r]) } }(o, e, t + " has member 'start' that"), "write": void 0 === a ? void 0 : function convertUnderlyingSinkWriteCallback(e, t, r) { return assertFunction(e, r), function (r, n) { return promiseCall(e, t, [r, n]) } }(a, e, t + " has member 'write' that"), "type": i } } function assertWritableStream(e, t) { if (!IsWritableStream(e)) throw new TypeError(t + " is not a WritableStream.") } Object.defineProperties(C.prototype, { "cancel": { "enumerable": !0 }, "read": { "enumerable": !0 }, "releaseLock": { "enumerable": !0 }, "closed": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(C.prototype, t.toStringTag, { "value": "ReadableStreamBYOBReader", "configurable": !0 }); var T = "function" == typeof AbortController; var P = function () { function WritableStream(e, t) { void 0 === e && (e = {}), void 0 === t && (t = {}), void 0 === e ? e = null : assertObject(e, "First parameter"); var r = convertQueuingStrategy(t, "Second parameter"), n = convertUnderlyingSink(e, "First parameter"); if (InitializeWritableStream(this), void 0 !== n.type) throw new RangeError("Invalid type is specified"); var o = ExtractSizeAlgorithm(r); !function SetUpWritableStreamDefaultControllerFromUnderlyingSink(e, t, r, n) { var o = Object.create(x.prototype), i = function startAlgorithm() { }, a = function writeAlgorithm() { return promiseResolvedWith(void 0) }, s = function closeAlgorithm() { return promiseResolvedWith(void 0) }, c = function abortAlgorithm() { return promiseResolvedWith(void 0) }; void 0 !== t.start && (i = function startAlgorithm() { return t.start(o) }); void 0 !== t.write && (a = function writeAlgorithm(e) { return t.write(e, o) }); void 0 !== t.close && (s = function closeAlgorithm() { return t.close() }); void 0 !== t.abort && (c = function abortAlgorithm(e) { return t.abort(e) }); SetUpWritableStreamDefaultController(e, o, i, a, s, c, r, n) }(this, n, ExtractHighWaterMark(r, 1), o) } return Object.defineProperty(WritableStream.prototype, "locked", { "get": function get() { if (!IsWritableStream(this)) throw streamBrandCheckException$2("locked"); return IsWritableStreamLocked(this) }, "enumerable": !1, "configurable": !0 }), WritableStream.prototype.abort = function (e) { return void 0 === e && (e = void 0), IsWritableStream(this) ? IsWritableStreamLocked(this) ? promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer")) : WritableStreamAbort(this, e) : promiseRejectedWith(streamBrandCheckException$2("abort")) }, WritableStream.prototype.close = function () { return IsWritableStream(this) ? IsWritableStreamLocked(this) ? promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer")) : WritableStreamCloseQueuedOrInFlight(this) ? promiseRejectedWith(new TypeError("Cannot close an already-closing stream")) : WritableStreamClose(this) : promiseRejectedWith(streamBrandCheckException$2("close")) }, WritableStream.prototype.getWriter = function () { if (!IsWritableStream(this)) throw streamBrandCheckException$2("getWriter"); return AcquireWritableStreamDefaultWriter(this) }, WritableStream }(); function AcquireWritableStreamDefaultWriter(e) { return new k(e) } function InitializeWritableStream(e) { e._state = "writable", e._storedError = void 0, e._writer = void 0, e._writableStreamController = void 0, e._writeRequests = new u, e._inFlightWriteRequest = void 0, e._closeRequest = void 0, e._inFlightCloseRequest = void 0, e._pendingAbortRequest = void 0, e._backpressure = !1 } function IsWritableStream(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_writableStreamController") && e instanceof P) } function IsWritableStreamLocked(e) { return void 0 !== e._writer } function WritableStreamAbort(e, t) { var r; if ("closed" === e._state || "errored" === e._state) return promiseResolvedWith(void 0); e._writableStreamController._abortReason = t, null === (r = e._writableStreamController._abortController) || void 0 === r || r.abort(); var n = e._state; if ("closed" === n || "errored" === n) return promiseResolvedWith(void 0); if (void 0 !== e._pendingAbortRequest) return e._pendingAbortRequest._promise; var o = !1; "erroring" === n && (o = !0, t = void 0); var i = newPromise(function (r, n) { e._pendingAbortRequest = { "_promise": void 0, "_resolve": r, "_reject": n, "_reason": t, "_wasAlreadyErroring": o } }); return e._pendingAbortRequest._promise = i, o || WritableStreamStartErroring(e, t), i } function WritableStreamClose(e) { var t = e._state; if ("closed" === t || "errored" === t) return promiseRejectedWith(new TypeError("The stream (in " + t + " state) is not in the writable state and cannot be closed")); var r = newPromise(function (t, r) { var n = { "_resolve": t, "_reject": r }; e._closeRequest = n }), n = e._writer; return void 0 !== n && e._backpressure && "writable" === t && defaultWriterReadyPromiseResolve(n), function WritableStreamDefaultControllerClose(e) { EnqueueValueWithSize(e, E, 0), WritableStreamDefaultControllerAdvanceQueueIfNeeded(e) }(e._writableStreamController), r } function WritableStreamDealWithRejection(e, t) { "writable" !== e._state ? WritableStreamFinishErroring(e) : WritableStreamStartErroring(e, t) } function WritableStreamStartErroring(e, t) { var r = e._writableStreamController; e._state = "erroring", e._storedError = t; var n = e._writer; void 0 !== n && WritableStreamDefaultWriterEnsureReadyPromiseRejected(n, t), !function WritableStreamHasOperationMarkedInFlight(e) { if (void 0 === e._inFlightWriteRequest && void 0 === e._inFlightCloseRequest) return !1; return !0 }(e) && r._started && WritableStreamFinishErroring(e) } function WritableStreamFinishErroring(e) { e._state = "errored", e._writableStreamController[f](); var t = e._storedError; if (e._writeRequests.forEach(function (e) { e._reject(t) }), e._writeRequests = new u, void 0 !== e._pendingAbortRequest) { var r = e._pendingAbortRequest; if (e._pendingAbortRequest = void 0, r._wasAlreadyErroring) return r._reject(t), void WritableStreamRejectCloseAndClosedPromiseIfNeeded(e); uponPromise(e._writableStreamController[l](r._reason), function () { r._resolve(), WritableStreamRejectCloseAndClosedPromiseIfNeeded(e) }, function (t) { r._reject(t), WritableStreamRejectCloseAndClosedPromiseIfNeeded(e) }) } else WritableStreamRejectCloseAndClosedPromiseIfNeeded(e) } function WritableStreamCloseQueuedOrInFlight(e) { return void 0 !== e._closeRequest || void 0 !== e._inFlightCloseRequest } function WritableStreamRejectCloseAndClosedPromiseIfNeeded(e) { void 0 !== e._closeRequest && (e._closeRequest._reject(e._storedError), e._closeRequest = void 0); var t = e._writer; void 0 !== t && defaultWriterClosedPromiseReject(t, e._storedError) } function WritableStreamUpdateBackpressure(e, t) { var r = e._writer; void 0 !== r && t !== e._backpressure && (t ? function defaultWriterReadyPromiseReset(e) { defaultWriterReadyPromiseInitialize(e) }(r) : defaultWriterReadyPromiseResolve(r)), e._backpressure = t } Object.defineProperties(P.prototype, { "abort": { "enumerable": !0 }, "close": { "enumerable": !0 }, "getWriter": { "enumerable": !0 }, "locked": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(P.prototype, t.toStringTag, { "value": "WritableStream", "configurable": !0 }); var k = function () { function WritableStreamDefaultWriter(e) { if (assertRequiredArgument(e, 1, "WritableStreamDefaultWriter"), assertWritableStream(e, "First parameter"), IsWritableStreamLocked(e)) throw new TypeError("This stream has already been locked for exclusive writing by another writer"); this._ownerWritableStream = e, e._writer = this; var t = e._state; if ("writable" === t) !WritableStreamCloseQueuedOrInFlight(e) && e._backpressure ? defaultWriterReadyPromiseInitialize(this) : defaultWriterReadyPromiseInitializeAsResolved(this), defaultWriterClosedPromiseInitialize(this); else if ("erroring" === t) defaultWriterReadyPromiseInitializeAsRejected(this, e._storedError), defaultWriterClosedPromiseInitialize(this); else if ("closed" === t) defaultWriterReadyPromiseInitializeAsResolved(this), function defaultWriterClosedPromiseInitializeAsResolved(e) { defaultWriterClosedPromiseInitialize(e), defaultWriterClosedPromiseResolve(e) }(this); else { var r = e._storedError; defaultWriterReadyPromiseInitializeAsRejected(this, r), defaultWriterClosedPromiseInitializeAsRejected(this, r) } } return Object.defineProperty(WritableStreamDefaultWriter.prototype, "closed", { "get": function get() { return IsWritableStreamDefaultWriter(this) ? this._closedPromise : promiseRejectedWith(defaultWriterBrandCheckException("closed")) }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(WritableStreamDefaultWriter.prototype, "desiredSize", { "get": function get() { if (!IsWritableStreamDefaultWriter(this)) throw defaultWriterBrandCheckException("desiredSize"); if (void 0 === this._ownerWritableStream) throw defaultWriterLockException("desiredSize"); return function WritableStreamDefaultWriterGetDesiredSize(e) { var t = e._ownerWritableStream, r = t._state; if ("errored" === r || "erroring" === r) return null; if ("closed" === r) return 0; return WritableStreamDefaultControllerGetDesiredSize(t._writableStreamController) }(this) }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(WritableStreamDefaultWriter.prototype, "ready", { "get": function get() { return IsWritableStreamDefaultWriter(this) ? this._readyPromise : promiseRejectedWith(defaultWriterBrandCheckException("ready")) }, "enumerable": !1, "configurable": !0 }), WritableStreamDefaultWriter.prototype.abort = function (e) { return void 0 === e && (e = void 0), IsWritableStreamDefaultWriter(this) ? void 0 === this._ownerWritableStream ? promiseRejectedWith(defaultWriterLockException("abort")) : function WritableStreamDefaultWriterAbort(e, t) { return WritableStreamAbort(e._ownerWritableStream, t) }(this, e) : promiseRejectedWith(defaultWriterBrandCheckException("abort")) }, WritableStreamDefaultWriter.prototype.close = function () { if (!IsWritableStreamDefaultWriter(this)) return promiseRejectedWith(defaultWriterBrandCheckException("close")); var e = this._ownerWritableStream; return void 0 === e ? promiseRejectedWith(defaultWriterLockException("close")) : WritableStreamCloseQueuedOrInFlight(e) ? promiseRejectedWith(new TypeError("Cannot close an already-closing stream")) : WritableStreamDefaultWriterClose(this) }, WritableStreamDefaultWriter.prototype.releaseLock = function () { if (!IsWritableStreamDefaultWriter(this)) throw defaultWriterBrandCheckException("releaseLock"); void 0 !== this._ownerWritableStream && WritableStreamDefaultWriterRelease(this) }, WritableStreamDefaultWriter.prototype.write = function (e) { return void 0 === e && (e = void 0), IsWritableStreamDefaultWriter(this) ? void 0 === this._ownerWritableStream ? promiseRejectedWith(defaultWriterLockException("write to")) : WritableStreamDefaultWriterWrite(this, e) : promiseRejectedWith(defaultWriterBrandCheckException("write")) }, WritableStreamDefaultWriter }(); function IsWritableStreamDefaultWriter(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_ownerWritableStream") && e instanceof k) } function WritableStreamDefaultWriterClose(e) { return WritableStreamClose(e._ownerWritableStream) } function WritableStreamDefaultWriterEnsureClosedPromiseRejected(e, t) { "pending" === e._closedPromiseState ? defaultWriterClosedPromiseReject(e, t) : function defaultWriterClosedPromiseResetToRejected(e, t) { defaultWriterClosedPromiseInitializeAsRejected(e, t) }(e, t) } function WritableStreamDefaultWriterEnsureReadyPromiseRejected(e, t) { "pending" === e._readyPromiseState ? defaultWriterReadyPromiseReject(e, t) : function defaultWriterReadyPromiseResetToRejected(e, t) { defaultWriterReadyPromiseInitializeAsRejected(e, t) }(e, t) } function WritableStreamDefaultWriterRelease(e) { var t = e._ownerWritableStream, r = new TypeError("Writer was released and can no longer be used to monitor the stream's closedness"); WritableStreamDefaultWriterEnsureReadyPromiseRejected(e, r), WritableStreamDefaultWriterEnsureClosedPromiseRejected(e, r), t._writer = void 0, e._ownerWritableStream = void 0 } function WritableStreamDefaultWriterWrite(e, t) { var r = e._ownerWritableStream, n = r._writableStreamController, o = function WritableStreamDefaultControllerGetChunkSize(e, t) { try { return e._strategySizeAlgorithm(t) } catch (t) { return WritableStreamDefaultControllerErrorIfNeeded(e, t), 1 } }(n, t); if (r !== e._ownerWritableStream) return promiseRejectedWith(defaultWriterLockException("write to")); var i = r._state; if ("errored" === i) return promiseRejectedWith(r._storedError); if (WritableStreamCloseQueuedOrInFlight(r) || "closed" === i) return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to")); if ("erroring" === i) return promiseRejectedWith(r._storedError); var a = function WritableStreamAddWriteRequest(e) { return newPromise(function (t, r) { var n = { "_resolve": t, "_reject": r }; e._writeRequests.push(n) }) }(r); return function WritableStreamDefaultControllerWrite(e, t, r) { try { EnqueueValueWithSize(e, t, r) } catch (t) { return void WritableStreamDefaultControllerErrorIfNeeded(e, t) } var n = e._controlledWritableStream; if (!WritableStreamCloseQueuedOrInFlight(n) && "writable" === n._state) { var o = WritableStreamDefaultControllerGetBackpressure(e); WritableStreamUpdateBackpressure(n, o) } WritableStreamDefaultControllerAdvanceQueueIfNeeded(e) }(n, t, o), a } Object.defineProperties(k.prototype, { "abort": { "enumerable": !0 }, "close": { "enumerable": !0 }, "releaseLock": { "enumerable": !0 }, "write": { "enumerable": !0 }, "closed": { "enumerable": !0 }, "desiredSize": { "enumerable": !0 }, "ready": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(k.prototype, t.toStringTag, { "value": "WritableStreamDefaultWriter", "configurable": !0 }); var E = {}, x = function () { function WritableStreamDefaultController() { throw new TypeError("Illegal constructor") } return Object.defineProperty(WritableStreamDefaultController.prototype, "abortReason", { "get": function get() { if (!IsWritableStreamDefaultController(this)) throw defaultControllerBrandCheckException$2("abortReason"); return this._abortReason }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(WritableStreamDefaultController.prototype, "signal", { "get": function get() { if (!IsWritableStreamDefaultController(this)) throw defaultControllerBrandCheckException$2("signal"); if (void 0 === this._abortController) throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported"); return this._abortController.signal }, "enumerable": !1, "configurable": !0 }), WritableStreamDefaultController.prototype.error = function (e) { if (void 0 === e && (e = void 0), !IsWritableStreamDefaultController(this)) throw defaultControllerBrandCheckException$2("error"); "writable" === this._controlledWritableStream._state && WritableStreamDefaultControllerError(this, e) }, WritableStreamDefaultController.prototype[l] = function (e) { var t = this._abortAlgorithm(e); return WritableStreamDefaultControllerClearAlgorithms(this), t }, WritableStreamDefaultController.prototype[f] = function () { ResetQueue(this) }, WritableStreamDefaultController }(); function IsWritableStreamDefaultController(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_controlledWritableStream") && e instanceof x) } function SetUpWritableStreamDefaultController(e, t, r, n, o, i, a, s) { t._controlledWritableStream = e, e._writableStreamController = t, t._queue = void 0, t._queueTotalSize = void 0, ResetQueue(t), t._abortReason = void 0, t._abortController = function createAbortController() { if (T) return new AbortController }(), t._started = !1, t._strategySizeAlgorithm = s, t._strategyHWM = a, t._writeAlgorithm = n, t._closeAlgorithm = o, t._abortAlgorithm = i; var c = WritableStreamDefaultControllerGetBackpressure(t); WritableStreamUpdateBackpressure(e, c), uponPromise(promiseResolvedWith(r()), function () { t._started = !0, WritableStreamDefaultControllerAdvanceQueueIfNeeded(t) }, function (r) { t._started = !0, WritableStreamDealWithRejection(e, r) }) } function WritableStreamDefaultControllerClearAlgorithms(e) { e._writeAlgorithm = void 0, e._closeAlgorithm = void 0, e._abortAlgorithm = void 0, e._strategySizeAlgorithm = void 0 } function WritableStreamDefaultControllerGetDesiredSize(e) { return e._strategyHWM - e._queueTotalSize } function WritableStreamDefaultControllerAdvanceQueueIfNeeded(e) { var t = e._controlledWritableStream; if (e._started && void 0 === t._inFlightWriteRequest) if ("erroring" !== t._state) { if (0 !== e._queue.length) { var r = function PeekQueueValue(e) { return e._queue.peek().value }(e); r === E ? function WritableStreamDefaultControllerProcessClose(e) { var t = e._controlledWritableStream; (function WritableStreamMarkCloseRequestInFlight(e) { e._inFlightCloseRequest = e._closeRequest, e._closeRequest = void 0 })(t), DequeueValue(e); var r = e._closeAlgorithm(); WritableStreamDefaultControllerClearAlgorithms(e), uponPromise(r, function () { !function WritableStreamFinishInFlightClose(e) { e._inFlightCloseRequest._resolve(void 0), e._inFlightCloseRequest = void 0, "erroring" === e._state && (e._storedError = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._resolve(), e._pendingAbortRequest = void 0)), e._state = "closed"; var t = e._writer; void 0 !== t && defaultWriterClosedPromiseResolve(t) }(t) }, function (e) { !function WritableStreamFinishInFlightCloseWithError(e, t) { e._inFlightCloseRequest._reject(t), e._inFlightCloseRequest = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._reject(t), e._pendingAbortRequest = void 0), WritableStreamDealWithRejection(e, t) }(t, e) }) }(e) : function WritableStreamDefaultControllerProcessWrite(e, t) { var r = e._controlledWritableStream; (function WritableStreamMarkFirstWriteRequestInFlight(e) { e._inFlightWriteRequest = e._writeRequests.shift() })(r), uponPromise(e._writeAlgorithm(t), function () { !function WritableStreamFinishInFlightWrite(e) { e._inFlightWriteRequest._resolve(void 0), e._inFlightWriteRequest = void 0 }(r); var t = r._state; if (DequeueValue(e), !WritableStreamCloseQueuedOrInFlight(r) && "writable" === t) { var n = WritableStreamDefaultControllerGetBackpressure(e); WritableStreamUpdateBackpressure(r, n) } WritableStreamDefaultControllerAdvanceQueueIfNeeded(e) }, function (t) { "writable" === r._state && WritableStreamDefaultControllerClearAlgorithms(e), function WritableStreamFinishInFlightWriteWithError(e, t) { e._inFlightWriteRequest._reject(t), e._inFlightWriteRequest = void 0, WritableStreamDealWithRejection(e, t) }(r, t) }) }(e, r) } } else WritableStreamFinishErroring(t) } function WritableStreamDefaultControllerErrorIfNeeded(e, t) { "writable" === e._controlledWritableStream._state && WritableStreamDefaultControllerError(e, t) } function WritableStreamDefaultControllerGetBackpressure(e) { return WritableStreamDefaultControllerGetDesiredSize(e) <= 0 } function WritableStreamDefaultControllerError(e, t) { var r = e._controlledWritableStream; WritableStreamDefaultControllerClearAlgorithms(e), WritableStreamStartErroring(r, t) } function streamBrandCheckException$2(e) { return new TypeError("WritableStream.prototype." + e + " can only be used on a WritableStream") } function defaultControllerBrandCheckException$2(e) { return new TypeError("WritableStreamDefaultController.prototype." + e + " can only be used on a WritableStreamDefaultController") } function defaultWriterBrandCheckException(e) { return new TypeError("WritableStreamDefaultWriter.prototype." + e + " can only be used on a WritableStreamDefaultWriter") } function defaultWriterLockException(e) { return new TypeError("Cannot " + e + " a stream using a released writer") } function defaultWriterClosedPromiseInitialize(e) { e._closedPromise = newPromise(function (t, r) { e._closedPromise_resolve = t, e._closedPromise_reject = r, e._closedPromiseState = "pending" }) } function defaultWriterClosedPromiseInitializeAsRejected(e, t) { defaultWriterClosedPromiseInitialize(e), defaultWriterClosedPromiseReject(e, t) } function defaultWriterClosedPromiseReject(e, t) { void 0 !== e._closedPromise_reject && (setPromiseIsHandledToTrue(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "rejected") } function defaultWriterClosedPromiseResolve(e) { void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "resolved") } function defaultWriterReadyPromiseInitialize(e) { e._readyPromise = newPromise(function (t, r) { e._readyPromise_resolve = t, e._readyPromise_reject = r }), e._readyPromiseState = "pending" } function defaultWriterReadyPromiseInitializeAsRejected(e, t) { defaultWriterReadyPromiseInitialize(e), defaultWriterReadyPromiseReject(e, t) } function defaultWriterReadyPromiseInitializeAsResolved(e) { defaultWriterReadyPromiseInitialize(e), defaultWriterReadyPromiseResolve(e) } function defaultWriterReadyPromiseReject(e, t) { void 0 !== e._readyPromise_reject && (setPromiseIsHandledToTrue(e._readyPromise), e._readyPromise_reject(t), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "rejected") } function defaultWriterReadyPromiseResolve(e) { void 0 !== e._readyPromise_resolve && (e._readyPromise_resolve(void 0), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "fulfilled") } Object.defineProperties(x.prototype, { "abortReason": { "enumerable": !0 }, "signal": { "enumerable": !0 }, "error": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(x.prototype, t.toStringTag, { "value": "WritableStreamDefaultController", "configurable": !0 }); var O = "undefined" != typeof DOMException ? DOMException : void 0; var I = function isDOMExceptionConstructor(e) { if ("function" != typeof e && "object" !== (void 0 === e ? "undefined" : _typeof2(e))) return !1; try { return new e, !0 } catch (e) { return !1 } }(O) ? O : function createDOMExceptionPolyfill() { var e = function DOMException(e, t) { this.message = e || "", this.name = t || "Error", Error.captureStackTrace && Error.captureStackTrace(this, this.constructor) }; return e.prototype = Object.create(Error.prototype), Object.defineProperty(e.prototype, "constructor", { "value": e, "writable": !0, "configurable": !0 }), e }(); function ReadableStreamPipeTo(e, t, r, n, o, i) { var a = AcquireReadableStreamDefaultReader(e), s = AcquireWritableStreamDefaultWriter(t); e._disturbed = !0; var c = !1, u = promiseResolvedWith(void 0); return newPromise(function (l, f) { var d; if (void 0 !== i) { if (d = function abortAlgorithm() { var r = new I("Aborted", "AbortError"), i = []; n || i.push(function () { return "writable" === t._state ? WritableStreamAbort(t, r) : promiseResolvedWith(void 0) }), o || i.push(function () { return "readable" === e._state ? ReadableStreamCancel(e, r) : promiseResolvedWith(void 0) }), shutdownWithAction(function () { return Promise.all(i.map(function (e) { return e() })) }, !0, r) }, i.aborted) return void d(); i.addEventListener("abort", d) } if (isOrBecomesErrored(e, a._closedPromise, function (e) { n ? shutdown(!0, e) : shutdownWithAction(function () { return WritableStreamAbort(t, e) }, !0, e) }), isOrBecomesErrored(t, s._closedPromise, function (t) { o ? shutdown(!0, t) : shutdownWithAction(function () { return ReadableStreamCancel(e, t) }, !0, t) }), function isOrBecomesClosed(e, t, r) { "closed" === e._state ? r() : uponFulfillment(t, r) }(e, a._closedPromise, function () { r ? shutdown() : shutdownWithAction(function () { return function WritableStreamDefaultWriterCloseWithErrorPropagation(e) { var t = e._ownerWritableStream, r = t._state; return WritableStreamCloseQueuedOrInFlight(t) || "closed" === r ? promiseResolvedWith(void 0) : "errored" === r ? promiseRejectedWith(t._storedError) : WritableStreamDefaultWriterClose(e) }(s) }) }), WritableStreamCloseQueuedOrInFlight(t) || "closed" === t._state) { var p = new TypeError("the destination writable stream closed before all data could be piped to it"); o ? shutdown(!0, p) : shutdownWithAction(function () { return ReadableStreamCancel(e, p) }, !0, p) } function waitForWritesToFinish() { var e = u; return PerformPromiseThen(u, function () { return e !== u ? waitForWritesToFinish() : void 0 }) } function isOrBecomesErrored(e, t, r) { "errored" === e._state ? r(e._storedError) : uponRejection(t, r) } function shutdownWithAction(e, r, n) { function doTheRest() { uponPromise(e(), function () { return finalize(r, n) }, function (e) { return finalize(!0, e) }) } c || (c = !0, "writable" !== t._state || WritableStreamCloseQueuedOrInFlight(t) ? doTheRest() : uponFulfillment(waitForWritesToFinish(), doTheRest)) } function shutdown(e, r) { c || (c = !0, "writable" !== t._state || WritableStreamCloseQueuedOrInFlight(t) ? finalize(e, r) : uponFulfillment(waitForWritesToFinish(), function () { return finalize(e, r) })) } function finalize(e, t) { WritableStreamDefaultWriterRelease(s), ReadableStreamReaderGenericRelease(a), void 0 !== i && i.removeEventListener("abort", d), e ? f(t) : l(void 0) } setPromiseIsHandledToTrue(function pipeLoop() { return newPromise(function (e, t) { !function next(r) { r ? e() : PerformPromiseThen(function pipeStep() { return c ? promiseResolvedWith(!0) : PerformPromiseThen(s._readyPromise, function () { return newPromise(function (e, t) { ReadableStreamDefaultReaderRead(a, { "_chunkSteps": function _chunkSteps(t) { u = PerformPromiseThen(WritableStreamDefaultWriterWrite(s, t), void 0, noop), e(!1) }, "_closeSteps": function _closeSteps() { return e(!0) }, "_errorSteps": t }) }) }) }(), next, t) }(!1) }) }()) }) } var R = function () { function ReadableStreamDefaultController() { throw new TypeError("Illegal constructor") } return Object.defineProperty(ReadableStreamDefaultController.prototype, "desiredSize", { "get": function get() { if (!IsReadableStreamDefaultController(this)) throw defaultControllerBrandCheckException$1("desiredSize"); return ReadableStreamDefaultControllerGetDesiredSize(this) }, "enumerable": !1, "configurable": !0 }), ReadableStreamDefaultController.prototype.close = function () { if (!IsReadableStreamDefaultController(this)) throw defaultControllerBrandCheckException$1("close"); if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) throw new TypeError("The stream is not in a state that permits close"); ReadableStreamDefaultControllerClose(this) }, ReadableStreamDefaultController.prototype.enqueue = function (e) { if (void 0 === e && (e = void 0), !IsReadableStreamDefaultController(this)) throw defaultControllerBrandCheckException$1("enqueue"); if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) throw new TypeError("The stream is not in a state that permits enqueue"); return ReadableStreamDefaultControllerEnqueue(this, e) }, ReadableStreamDefaultController.prototype.error = function (e) { if (void 0 === e && (e = void 0), !IsReadableStreamDefaultController(this)) throw defaultControllerBrandCheckException$1("error"); ReadableStreamDefaultControllerError(this, e) }, ReadableStreamDefaultController.prototype[d] = function (e) { ResetQueue(this); var t = this._cancelAlgorithm(e); return ReadableStreamDefaultControllerClearAlgorithms(this), t }, ReadableStreamDefaultController.prototype[p] = function (e) { var t = this._controlledReadableStream; if (this._queue.length > 0) { var r = DequeueValue(this); this._closeRequested && 0 === this._queue.length ? (ReadableStreamDefaultControllerClearAlgorithms(this), ReadableStreamClose(t)) : ReadableStreamDefaultControllerCallPullIfNeeded(this), e._chunkSteps(r) } else ReadableStreamAddReadRequest(t, e), ReadableStreamDefaultControllerCallPullIfNeeded(this) }, ReadableStreamDefaultController }(); function IsReadableStreamDefaultController(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_controlledReadableStream") && e instanceof R) } function ReadableStreamDefaultControllerCallPullIfNeeded(e) { ReadableStreamDefaultControllerShouldCallPull(e) && (e._pulling ? e._pullAgain = !0 : (e._pulling = !0, uponPromise(e._pullAlgorithm(), function () { e._pulling = !1, e._pullAgain && (e._pullAgain = !1, ReadableStreamDefaultControllerCallPullIfNeeded(e)) }, function (t) { ReadableStreamDefaultControllerError(e, t) }))) } function ReadableStreamDefaultControllerShouldCallPull(e) { var t = e._controlledReadableStream; return !!ReadableStreamDefaultControllerCanCloseOrEnqueue(e) && (!!e._started && (!!(IsReadableStreamLocked(t) && ReadableStreamGetNumReadRequests(t) > 0) || ReadableStreamDefaultControllerGetDesiredSize(e) > 0)) } function ReadableStreamDefaultControllerClearAlgorithms(e) { e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0, e._strategySizeAlgorithm = void 0 } function ReadableStreamDefaultControllerClose(e) { if (ReadableStreamDefaultControllerCanCloseOrEnqueue(e)) { var t = e._controlledReadableStream; e._closeRequested = !0, 0 === e._queue.length && (ReadableStreamDefaultControllerClearAlgorithms(e), ReadableStreamClose(t)) } } function ReadableStreamDefaultControllerEnqueue(e, t) { if (ReadableStreamDefaultControllerCanCloseOrEnqueue(e)) { var r = e._controlledReadableStream; if (IsReadableStreamLocked(r) && ReadableStreamGetNumReadRequests(r) > 0) ReadableStreamFulfillReadRequest(r, t, !1); else { var n = void 0; try { n = e._strategySizeAlgorithm(t) } catch (t) { throw ReadableStreamDefaultControllerError(e, t), t } try { EnqueueValueWithSize(e, t, n) } catch (t) { throw ReadableStreamDefaultControllerError(e, t), t } } ReadableStreamDefaultControllerCallPullIfNeeded(e) } } function ReadableStreamDefaultControllerError(e, t) { var r = e._controlledReadableStream; "readable" === r._state && (ResetQueue(e), ReadableStreamDefaultControllerClearAlgorithms(e), ReadableStreamError(r, t)) } function ReadableStreamDefaultControllerGetDesiredSize(e) { var t = e._controlledReadableStream._state; return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize } function ReadableStreamDefaultControllerCanCloseOrEnqueue(e) { var t = e._controlledReadableStream._state; return !e._closeRequested && "readable" === t } function SetUpReadableStreamDefaultController(e, t, r, n, o, i, a) { t._controlledReadableStream = e, t._queue = void 0, t._queueTotalSize = void 0, ResetQueue(t), t._started = !1, t._closeRequested = !1, t._pullAgain = !1, t._pulling = !1, t._strategySizeAlgorithm = a, t._strategyHWM = i, t._pullAlgorithm = n, t._cancelAlgorithm = o, e._readableStreamController = t, uponPromise(promiseResolvedWith(r()), function () { t._started = !0, ReadableStreamDefaultControllerCallPullIfNeeded(t) }, function (e) { ReadableStreamDefaultControllerError(t, e) }) } function defaultControllerBrandCheckException$1(e) { return new TypeError("ReadableStreamDefaultController.prototype." + e + " can only be used on a ReadableStreamDefaultController") } function ReadableStreamTee(e, t) { return IsReadableByteStreamController(e._readableStreamController) ? function ReadableByteStreamTee(e) { var t, r, n, o, i, a = AcquireReadableStreamDefaultReader(e), s = !1, u = !1, l = !1, f = !1, d = !1, p = newPromise(function (e) { i = e }); function forwardReaderError(e) { uponRejection(e._closedPromise, function (t) { e === a && (ReadableByteStreamControllerError(n._readableStreamController, t), ReadableByteStreamControllerError(o._readableStreamController, t), f && d || i(void 0)) }) } function pullWithDefaultReader() { IsReadableStreamBYOBReader(a) && (ReadableStreamReaderGenericRelease(a), forwardReaderError(a = AcquireReadableStreamDefaultReader(e))); var t = { "_chunkSteps": function _chunkSteps(t) { c(function () { u = !1, l = !1; var r = t, a = t; if (!f && !d) try { a = CloneAsUint8Array(t) } catch (t) { return ReadableByteStreamControllerError(n._readableStreamController, t), ReadableByteStreamControllerError(o._readableStreamController, t), void i(ReadableStreamCancel(e, t)) } f || ReadableByteStreamControllerEnqueue(n._readableStreamController, r), d || ReadableByteStreamControllerEnqueue(o._readableStreamController, a), s = !1, u ? pull1Algorithm() : l && pull2Algorithm() }) }, "_closeSteps": function _closeSteps() { s = !1, f || ReadableByteStreamControllerClose(n._readableStreamController), d || ReadableByteStreamControllerClose(o._readableStreamController), n._readableStreamController._pendingPullIntos.length > 0 && ReadableByteStreamControllerRespond(n._readableStreamController, 0), o._readableStreamController._pendingPullIntos.length > 0 && ReadableByteStreamControllerRespond(o._readableStreamController, 0), f && d || i(void 0) }, "_errorSteps": function _errorSteps() { s = !1 } }; ReadableStreamDefaultReaderRead(a, t) } function pullWithBYOBReader(t, r) { IsReadableStreamDefaultReader(a) && (ReadableStreamReaderGenericRelease(a), forwardReaderError(a = AcquireReadableStreamBYOBReader(e))); var p = r ? o : n, h = r ? n : o, m = { "_chunkSteps": function _chunkSteps(t) { c(function () { u = !1, l = !1; var n = r ? d : f, o = r ? f : d; if (o) n || ReadableByteStreamControllerRespondWithNewView(p._readableStreamController, t); else { var a = void 0; try { a = CloneAsUint8Array(t) } catch (t) { return ReadableByteStreamControllerError(p._readableStreamController, t), ReadableByteStreamControllerError(h._readableStreamController, t), void i(ReadableStreamCancel(e, t)) } n || ReadableByteStreamControllerRespondWithNewView(p._readableStreamController, t), ReadableByteStreamControllerEnqueue(h._readableStreamController, a) } s = !1, u ? pull1Algorithm() : l && pull2Algorithm() }) }, "_closeSteps": function _closeSteps(e) { s = !1; var t = r ? d : f, n = r ? f : d; t || ReadableByteStreamControllerClose(p._readableStreamController), n || ReadableByteStreamControllerClose(h._readableStreamController), void 0 !== e && (t || ReadableByteStreamControllerRespondWithNewView(p._readableStreamController, e), !n && h._readableStreamController._pendingPullIntos.length > 0 && ReadableByteStreamControllerRespond(h._readableStreamController, 0)), t && n || i(void 0) }, "_errorSteps": function _errorSteps() { s = !1 } }; ReadableStreamBYOBReaderRead(a, t, m) } function pull1Algorithm() { if (s) return u = !0, promiseResolvedWith(void 0); s = !0; var e = ReadableByteStreamControllerGetBYOBRequest(n._readableStreamController); return null === e ? pullWithDefaultReader() : pullWithBYOBReader(e._view, !1), promiseResolvedWith(void 0) } function pull2Algorithm() { if (s) return l = !0, promiseResolvedWith(void 0); s = !0; var e = ReadableByteStreamControllerGetBYOBRequest(o._readableStreamController); return null === e ? pullWithDefaultReader() : pullWithBYOBReader(e._view, !0), promiseResolvedWith(void 0) } function startAlgorithm() { } return n = CreateReadableByteStream(startAlgorithm, pull1Algorithm, function cancel1Algorithm(n) { if (f = !0, t = n, d) { var o = CreateArrayFromList([t, r]), a = ReadableStreamCancel(e, o); i(a) } return p }), o = CreateReadableByteStream(startAlgorithm, pull2Algorithm, function cancel2Algorithm(n) { if (d = !0, r = n, f) { var o = CreateArrayFromList([t, r]), a = ReadableStreamCancel(e, o); i(a) } return p }), forwardReaderError(a), [n, o] }(e) : function ReadableStreamDefaultTee(e, t) { var r, n, o, i, a, s = AcquireReadableStreamDefaultReader(e), u = !1, l = !1, f = !1, d = !1, p = newPromise(function (e) { a = e }); function pullAlgorithm() { if (u) return l = !0, promiseResolvedWith(void 0); u = !0; var e = { "_chunkSteps": function _chunkSteps(e) { c(function () { l = !1; var t = e, r = e; f || ReadableStreamDefaultControllerEnqueue(o._readableStreamController, t), d || ReadableStreamDefaultControllerEnqueue(i._readableStreamController, r), u = !1, l && pullAlgorithm() }) }, "_closeSteps": function _closeSteps() { u = !1, f || ReadableStreamDefaultControllerClose(o._readableStreamController), d || ReadableStreamDefaultControllerClose(i._readableStreamController), f && d || a(void 0) }, "_errorSteps": function _errorSteps() { u = !1 } }; return ReadableStreamDefaultReaderRead(s, e), promiseResolvedWith(void 0) } function startAlgorithm() { } return o = CreateReadableStream(startAlgorithm, pullAlgorithm, function cancel1Algorithm(t) { if (f = !0, r = t, d) { var o = CreateArrayFromList([r, n]), i = ReadableStreamCancel(e, o); a(i) } return p }), i = CreateReadableStream(startAlgorithm, pullAlgorithm, function cancel2Algorithm(t) { if (d = !0, n = t, f) { var o = CreateArrayFromList([r, n]), i = ReadableStreamCancel(e, o); a(i) } return p }), uponRejection(s._closedPromise, function (e) { ReadableStreamDefaultControllerError(o._readableStreamController, e), ReadableStreamDefaultControllerError(i._readableStreamController, e), f && d || a(void 0) }), [o, i] }(e) } function convertUnderlyingDefaultOrByteSource(e, t) { assertDictionary(e, t); var r = e, n = null == r ? void 0 : r.autoAllocateChunkSize, o = null == r ? void 0 : r.cancel, i = null == r ? void 0 : r.pull, a = null == r ? void 0 : r.start, s = null == r ? void 0 : r.type; return { "autoAllocateChunkSize": void 0 === n ? void 0 : convertUnsignedLongLongWithEnforceRange(n, t + " has member 'autoAllocateChunkSize' that"), "cancel": void 0 === o ? void 0 : function convertUnderlyingSourceCancelCallback(e, t, r) { return assertFunction(e, r), function (r) { return promiseCall(e, t, [r]) } }(o, r, t + " has member 'cancel' that"), "pull": void 0 === i ? void 0 : function convertUnderlyingSourcePullCallback(e, t, r) { return assertFunction(e, r), function (r) { return promiseCall(e, t, [r]) } }(i, r, t + " has member 'pull' that"), "start": void 0 === a ? void 0 : function convertUnderlyingSourceStartCallback(e, t, r) { return assertFunction(e, r), function (r) { return reflectCall(e, t, [r]) } }(a, r, t + " has member 'start' that"), "type": void 0 === s ? void 0 : function convertReadableStreamType(e, t) { if ("bytes" != (e = "" + e)) throw new TypeError(t + " '" + e + "' is not a valid enumeration value for ReadableStreamType"); return e }(s, t + " has member 'type' that") } } function convertReaderOptions(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.mode; return { "mode": void 0 === r ? void 0 : function convertReadableStreamReaderMode(e, t) { if ("byob" != (e = "" + e)) throw new TypeError(t + " '" + e + "' is not a valid enumeration value for ReadableStreamReaderMode"); return e }(r, t + " has member 'mode' that") } } function convertPipeOptions(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.preventAbort, n = null == e ? void 0 : e.preventCancel, o = null == e ? void 0 : e.preventClose, i = null == e ? void 0 : e.signal; return void 0 !== i && function assertAbortSignal(e, t) { if (!function isAbortSignal(e) { if ("object" !== (void 0 === e ? "undefined" : _typeof2(e)) || null === e) return !1; try { return "boolean" == typeof e.aborted } catch (e) { return !1 } }(e)) throw new TypeError(t + " is not an AbortSignal.") }(i, t + " has member 'signal' that"), { "preventAbort": Boolean(r), "preventCancel": Boolean(n), "preventClose": Boolean(o), "signal": i } } Object.defineProperties(R.prototype, { "close": { "enumerable": !0 }, "enqueue": { "enumerable": !0 }, "error": { "enumerable": !0 }, "desiredSize": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(R.prototype, t.toStringTag, { "value": "ReadableStreamDefaultController", "configurable": !0 }); var M = function () { function ReadableStream(e, t) { void 0 === e && (e = {}), void 0 === t && (t = {}), void 0 === e ? e = null : assertObject(e, "First parameter"); var r = convertQueuingStrategy(t, "Second parameter"), n = convertUnderlyingDefaultOrByteSource(e, "First parameter"); if (InitializeReadableStream(this), "bytes" === n.type) { if (void 0 !== r.size) throw new RangeError("The strategy for a byte stream cannot have a size function"); !function SetUpReadableByteStreamControllerFromUnderlyingSource(e, t, r) { var n = Object.create(A.prototype), o = function startAlgorithm() { }, i = function pullAlgorithm() { return promiseResolvedWith(void 0) }, a = function cancelAlgorithm() { return promiseResolvedWith(void 0) }; void 0 !== t.start && (o = function startAlgorithm() { return t.start(n) }), void 0 !== t.pull && (i = function pullAlgorithm() { return t.pull(n) }), void 0 !== t.cancel && (a = function cancelAlgorithm(e) { return t.cancel(e) }); var s = t.autoAllocateChunkSize; if (0 === s) throw new TypeError("autoAllocateChunkSize must be greater than 0"); SetUpReadableByteStreamController(e, n, o, i, a, r, s) }(this, n, ExtractHighWaterMark(r, 0)) } else { var o = ExtractSizeAlgorithm(r); !function SetUpReadableStreamDefaultControllerFromUnderlyingSource(e, t, r, n) { var o = Object.create(R.prototype), i = function startAlgorithm() { }, a = function pullAlgorithm() { return promiseResolvedWith(void 0) }, s = function cancelAlgorithm() { return promiseResolvedWith(void 0) }; void 0 !== t.start && (i = function startAlgorithm() { return t.start(o) }), void 0 !== t.pull && (a = function pullAlgorithm() { return t.pull(o) }), void 0 !== t.cancel && (s = function cancelAlgorithm(e) { return t.cancel(e) }), SetUpReadableStreamDefaultController(e, o, i, a, s, r, n) }(this, n, ExtractHighWaterMark(r, 1), o) } } return Object.defineProperty(ReadableStream.prototype, "locked", { "get": function get() { if (!IsReadableStream(this)) throw streamBrandCheckException$1("locked"); return IsReadableStreamLocked(this) }, "enumerable": !1, "configurable": !0 }), ReadableStream.prototype.cancel = function (e) { return void 0 === e && (e = void 0), IsReadableStream(this) ? IsReadableStreamLocked(this) ? promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader")) : ReadableStreamCancel(this, e) : promiseRejectedWith(streamBrandCheckException$1("cancel")) }, ReadableStream.prototype.getReader = function (e) { if (void 0 === e && (e = void 0), !IsReadableStream(this)) throw streamBrandCheckException$1("getReader"); return void 0 === convertReaderOptions(e, "First parameter").mode ? AcquireReadableStreamDefaultReader(this) : AcquireReadableStreamBYOBReader(this) }, ReadableStream.prototype.pipeThrough = function (e, t) { if (void 0 === t && (t = {}), !IsReadableStream(this)) throw streamBrandCheckException$1("pipeThrough"); assertRequiredArgument(e, 1, "pipeThrough"); var r = function convertReadableWritablePair(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.readable; assertRequiredField(r, "readable", "ReadableWritablePair"), assertReadableStream(r, t + " has member 'readable' that"); var n = null == e ? void 0 : e.writable; return assertRequiredField(n, "writable", "ReadableWritablePair"), assertWritableStream(n, t + " has member 'writable' that"), { "readable": r, "writable": n } }(e, "First parameter"), n = convertPipeOptions(t, "Second parameter"); if (IsReadableStreamLocked(this)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream"); if (IsWritableStreamLocked(r.writable)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream"); return setPromiseIsHandledToTrue(ReadableStreamPipeTo(this, r.writable, n.preventClose, n.preventAbort, n.preventCancel, n.signal)), r.readable }, ReadableStream.prototype.pipeTo = function (e, t) { if (void 0 === t && (t = {}), !IsReadableStream(this)) return promiseRejectedWith(streamBrandCheckException$1("pipeTo")); if (void 0 === e) return promiseRejectedWith("Parameter 1 is required in 'pipeTo'."); if (!IsWritableStream(e)) return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")); var r; try { r = convertPipeOptions(t, "Second parameter") } catch (e) { return promiseRejectedWith(e) } return IsReadableStreamLocked(this) ? promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")) : IsWritableStreamLocked(e) ? promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")) : ReadableStreamPipeTo(this, e, r.preventClose, r.preventAbort, r.preventCancel, r.signal) }, ReadableStream.prototype.tee = function () { if (!IsReadableStream(this)) throw streamBrandCheckException$1("tee"); return CreateArrayFromList(ReadableStreamTee(this)) }, ReadableStream.prototype.values = function (e) { if (void 0 === e && (e = void 0), !IsReadableStream(this)) throw streamBrandCheckException$1("values"); return function AcquireReadableStreamAsyncIterator(e, t) { var r = AcquireReadableStreamDefaultReader(e), n = new b(r, t), o = Object.create(S); return o._asyncIteratorImpl = n, o }(this, function convertIteratorOptions(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.preventCancel; return { "preventCancel": Boolean(r) } }(e, "First parameter").preventCancel) }, ReadableStream }(); function CreateReadableStream(e, t, r, n, o) { void 0 === n && (n = 1), void 0 === o && (o = function sizeAlgorithm() { return 1 }); var i = Object.create(M.prototype); return InitializeReadableStream(i), SetUpReadableStreamDefaultController(i, Object.create(R.prototype), e, t, r, n, o), i } function CreateReadableByteStream(e, t, r) { var n = Object.create(M.prototype); return InitializeReadableStream(n), SetUpReadableByteStreamController(n, Object.create(A.prototype), e, t, r, 0, void 0), n } function InitializeReadableStream(e) { e._state = "readable", e._reader = void 0, e._storedError = void 0, e._disturbed = !1 } function IsReadableStream(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_readableStreamController") && e instanceof M) } function IsReadableStreamLocked(e) { return void 0 !== e._reader } function ReadableStreamCancel(e, t) { if (e._disturbed = !0, "closed" === e._state) return promiseResolvedWith(void 0); if ("errored" === e._state) return promiseRejectedWith(e._storedError); ReadableStreamClose(e); var r = e._reader; return void 0 !== r && IsReadableStreamBYOBReader(r) && (r._readIntoRequests.forEach(function (e) { e._closeSteps(void 0) }), r._readIntoRequests = new u), transformPromiseWith(e._readableStreamController[d](t), noop) } function ReadableStreamClose(e) { e._state = "closed"; var t = e._reader; void 0 !== t && (defaultReaderClosedPromiseResolve(t), IsReadableStreamDefaultReader(t) && (t._readRequests.forEach(function (e) { e._closeSteps() }), t._readRequests = new u)) } function ReadableStreamError(e, t) { e._state = "errored", e._storedError = t; var r = e._reader; void 0 !== r && (defaultReaderClosedPromiseReject(r, t), IsReadableStreamDefaultReader(r) ? (r._readRequests.forEach(function (e) { e._errorSteps(t) }), r._readRequests = new u) : (r._readIntoRequests.forEach(function (e) { e._errorSteps(t) }), r._readIntoRequests = new u)) } function streamBrandCheckException$1(e) { return new TypeError("ReadableStream.prototype." + e + " can only be used on a ReadableStream") } function convertQueuingStrategyInit(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.highWaterMark; return assertRequiredField(r, "highWaterMark", "QueuingStrategyInit"), { "highWaterMark": convertUnrestrictedDouble(r) } } Object.defineProperties(M.prototype, { "cancel": { "enumerable": !0 }, "getReader": { "enumerable": !0 }, "pipeThrough": { "enumerable": !0 }, "pipeTo": { "enumerable": !0 }, "tee": { "enumerable": !0 }, "values": { "enumerable": !0 }, "locked": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(M.prototype, t.toStringTag, { "value": "ReadableStream", "configurable": !0 }), "symbol" === _typeof2(t.asyncIterator) && Object.defineProperty(M.prototype, t.asyncIterator, { "value": M.prototype.values, "writable": !0, "configurable": !0 }); var B = function byteLengthSizeFunction(e) { return e.byteLength }; Object.defineProperty(B, "name", { "value": "size", "configurable": !0 }); var D = function () { function ByteLengthQueuingStrategy(e) { assertRequiredArgument(e, 1, "ByteLengthQueuingStrategy"), e = convertQueuingStrategyInit(e, "First parameter"), this._byteLengthQueuingStrategyHighWaterMark = e.highWaterMark } return Object.defineProperty(ByteLengthQueuingStrategy.prototype, "highWaterMark", { "get": function get() { if (!IsByteLengthQueuingStrategy(this)) throw byteLengthBrandCheckException("highWaterMark"); return this._byteLengthQueuingStrategyHighWaterMark }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(ByteLengthQueuingStrategy.prototype, "size", { "get": function get() { if (!IsByteLengthQueuingStrategy(this)) throw byteLengthBrandCheckException("size"); return B }, "enumerable": !1, "configurable": !0 }), ByteLengthQueuingStrategy }(); function byteLengthBrandCheckException(e) { return new TypeError("ByteLengthQueuingStrategy.prototype." + e + " can only be used on a ByteLengthQueuingStrategy") } function IsByteLengthQueuingStrategy(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_byteLengthQueuingStrategyHighWaterMark") && e instanceof D) } Object.defineProperties(D.prototype, { "highWaterMark": { "enumerable": !0 }, "size": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(D.prototype, t.toStringTag, { "value": "ByteLengthQueuingStrategy", "configurable": !0 }); var j = function countSizeFunction() { return 1 }; Object.defineProperty(j, "name", { "value": "size", "configurable": !0 }); var F = function () { function CountQueuingStrategy(e) { assertRequiredArgument(e, 1, "CountQueuingStrategy"), e = convertQueuingStrategyInit(e, "First parameter"), this._countQueuingStrategyHighWaterMark = e.highWaterMark } return Object.defineProperty(CountQueuingStrategy.prototype, "highWaterMark", { "get": function get() { if (!IsCountQueuingStrategy(this)) throw countBrandCheckException("highWaterMark"); return this._countQueuingStrategyHighWaterMark }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(CountQueuingStrategy.prototype, "size", { "get": function get() { if (!IsCountQueuingStrategy(this)) throw countBrandCheckException("size"); return j }, "enumerable": !1, "configurable": !0 }), CountQueuingStrategy }(); function countBrandCheckException(e) { return new TypeError("CountQueuingStrategy.prototype." + e + " can only be used on a CountQueuingStrategy") } function IsCountQueuingStrategy(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_countQueuingStrategyHighWaterMark") && e instanceof F) } function convertTransformer(e, t) { assertDictionary(e, t); var r = null == e ? void 0 : e.flush, n = null == e ? void 0 : e.readableType, o = null == e ? void 0 : e.start, i = null == e ? void 0 : e.transform, a = null == e ? void 0 : e.writableType; return { "flush": void 0 === r ? void 0 : function convertTransformerFlushCallback(e, t, r) { return assertFunction(e, r), function (r) { return promiseCall(e, t, [r]) } }(r, e, t + " has member 'flush' that"), "readableType": n, "start": void 0 === o ? void 0 : function convertTransformerStartCallback(e, t, r) { return assertFunction(e, r), function (r) { return reflectCall(e, t, [r]) } }(o, e, t + " has member 'start' that"), "transform": void 0 === i ? void 0 : function convertTransformerTransformCallback(e, t, r) { return assertFunction(e, r), function (r, n) { return promiseCall(e, t, [r, n]) } }(i, e, t + " has member 'transform' that"), "writableType": a } } Object.defineProperties(F.prototype, { "highWaterMark": { "enumerable": !0 }, "size": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(F.prototype, t.toStringTag, { "value": "CountQueuingStrategy", "configurable": !0 }); var L = function () { function TransformStream(e, t, r) { void 0 === e && (e = {}), void 0 === t && (t = {}), void 0 === r && (r = {}), void 0 === e && (e = null); var n = convertQueuingStrategy(t, "Second parameter"), o = convertQueuingStrategy(r, "Third parameter"), i = convertTransformer(e, "First parameter"); if (void 0 !== i.readableType) throw new RangeError("Invalid readableType specified"); if (void 0 !== i.writableType) throw new RangeError("Invalid writableType specified"); var a, s = ExtractHighWaterMark(o, 0), c = ExtractSizeAlgorithm(o), u = ExtractHighWaterMark(n, 1), l = ExtractSizeAlgorithm(n); !function InitializeTransformStream(e, t, r, n, o, i) { function startAlgorithm() { return t } e._writable = function CreateWritableStream(e, t, r, n, o, i) { void 0 === o && (o = 1), void 0 === i && (i = function sizeAlgorithm() { return 1 }); var a = Object.create(P.prototype); return InitializeWritableStream(a), SetUpWritableStreamDefaultController(a, Object.create(x.prototype), e, t, r, n, o, i), a }(startAlgorithm, function writeAlgorithm(t) { return function TransformStreamDefaultSinkWriteAlgorithm(e, t) { var r = e._transformStreamController; if (e._backpressure) { var n = e._backpressureChangePromise; return transformPromiseWith(n, function () { var n = e._writable, o = n._state; if ("erroring" === o) throw n._storedError; return TransformStreamDefaultControllerPerformTransform(r, t) }) } return TransformStreamDefaultControllerPerformTransform(r, t) }(e, t) }, function closeAlgorithm() { return function TransformStreamDefaultSinkCloseAlgorithm(e) { var t = e._readable, r = e._transformStreamController, n = r._flushAlgorithm(); return TransformStreamDefaultControllerClearAlgorithms(r), transformPromiseWith(n, function () { if ("errored" === t._state) throw t._storedError; ReadableStreamDefaultControllerClose(t._readableStreamController) }, function (r) { throw TransformStreamError(e, r), t._storedError }) }(e) }, function abortAlgorithm(t) { return function TransformStreamDefaultSinkAbortAlgorithm(e, t) { return TransformStreamError(e, t), promiseResolvedWith(void 0) }(e, t) }, r, n), e._readable = CreateReadableStream(startAlgorithm, function pullAlgorithm() { return function TransformStreamDefaultSourcePullAlgorithm(e) { return TransformStreamSetBackpressure(e, !1), e._backpressureChangePromise }(e) }, function cancelAlgorithm(t) { return TransformStreamErrorWritableAndUnblockWrite(e, t), promiseResolvedWith(void 0) }, o, i), e._backpressure = void 0, e._backpressureChangePromise = void 0, e._backpressureChangePromise_resolve = void 0, TransformStreamSetBackpressure(e, !0), e._transformStreamController = void 0 }(this, newPromise(function (e) { a = e }), u, l, s, c), function SetUpTransformStreamDefaultControllerFromTransformer(e, t) { var r = Object.create(N.prototype), n = function transformAlgorithm(e) { try { return TransformStreamDefaultControllerEnqueue(r, e), promiseResolvedWith(void 0) } catch (e) { return promiseRejectedWith(e) } }, o = function flushAlgorithm() { return promiseResolvedWith(void 0) }; void 0 !== t.transform && (n = function transformAlgorithm(e) { return t.transform(e, r) }); void 0 !== t.flush && (o = function flushAlgorithm() { return t.flush(r) }); !function SetUpTransformStreamDefaultController(e, t, r, n) { t._controlledTransformStream = e, e._transformStreamController = t, t._transformAlgorithm = r, t._flushAlgorithm = n }(e, r, n, o) }(this, i), void 0 !== i.start ? a(i.start(this._transformStreamController)) : a(void 0) } return Object.defineProperty(TransformStream.prototype, "readable", { "get": function get() { if (!IsTransformStream(this)) throw streamBrandCheckException("readable"); return this._readable }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(TransformStream.prototype, "writable", { "get": function get() { if (!IsTransformStream(this)) throw streamBrandCheckException("writable"); return this._writable }, "enumerable": !1, "configurable": !0 }), TransformStream }(); function IsTransformStream(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_transformStreamController") && e instanceof L) } function TransformStreamError(e, t) { ReadableStreamDefaultControllerError(e._readable._readableStreamController, t), TransformStreamErrorWritableAndUnblockWrite(e, t) } function TransformStreamErrorWritableAndUnblockWrite(e, t) { TransformStreamDefaultControllerClearAlgorithms(e._transformStreamController), WritableStreamDefaultControllerErrorIfNeeded(e._writable._writableStreamController, t), e._backpressure && TransformStreamSetBackpressure(e, !1) } function TransformStreamSetBackpressure(e, t) { void 0 !== e._backpressureChangePromise && e._backpressureChangePromise_resolve(), e._backpressureChangePromise = newPromise(function (t) { e._backpressureChangePromise_resolve = t }), e._backpressure = t } Object.defineProperties(L.prototype, { "readable": { "enumerable": !0 }, "writable": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(L.prototype, t.toStringTag, { "value": "TransformStream", "configurable": !0 }); var N = function () { function TransformStreamDefaultController() { throw new TypeError("Illegal constructor") } return Object.defineProperty(TransformStreamDefaultController.prototype, "desiredSize", { "get": function get() { if (!IsTransformStreamDefaultController(this)) throw defaultControllerBrandCheckException("desiredSize"); return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController) }, "enumerable": !1, "configurable": !0 }), TransformStreamDefaultController.prototype.enqueue = function (e) { if (void 0 === e && (e = void 0), !IsTransformStreamDefaultController(this)) throw defaultControllerBrandCheckException("enqueue"); TransformStreamDefaultControllerEnqueue(this, e) }, TransformStreamDefaultController.prototype.error = function (e) { if (void 0 === e && (e = void 0), !IsTransformStreamDefaultController(this)) throw defaultControllerBrandCheckException("error"); !function TransformStreamDefaultControllerError(e, t) { TransformStreamError(e._controlledTransformStream, t) }(this, e) }, TransformStreamDefaultController.prototype.terminate = function () { if (!IsTransformStreamDefaultController(this)) throw defaultControllerBrandCheckException("terminate"); !function TransformStreamDefaultControllerTerminate(e) { var t = e._controlledTransformStream; ReadableStreamDefaultControllerClose(t._readable._readableStreamController); var r = new TypeError("TransformStream terminated"); TransformStreamErrorWritableAndUnblockWrite(t, r) }(this) }, TransformStreamDefaultController }(); function IsTransformStreamDefaultController(e) { return !!typeIsObject(e) && (!!Object.prototype.hasOwnProperty.call(e, "_controlledTransformStream") && e instanceof N) } function TransformStreamDefaultControllerClearAlgorithms(e) { e._transformAlgorithm = void 0, e._flushAlgorithm = void 0 } function TransformStreamDefaultControllerEnqueue(e, t) { var r = e._controlledTransformStream, n = r._readable._readableStreamController; if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(n)) throw new TypeError("Readable side is not in a state that permits enqueue"); try { ReadableStreamDefaultControllerEnqueue(n, t) } catch (e) { throw TransformStreamErrorWritableAndUnblockWrite(r, e), r._readable._storedError } (function ReadableStreamDefaultControllerHasBackpressure(e) { return !ReadableStreamDefaultControllerShouldCallPull(e) })(n) !== r._backpressure && TransformStreamSetBackpressure(r, !0) } function TransformStreamDefaultControllerPerformTransform(e, t) { return transformPromiseWith(e._transformAlgorithm(t), void 0, function (t) { throw TransformStreamError(e._controlledTransformStream, t), t }) } function defaultControllerBrandCheckException(e) { return new TypeError("TransformStreamDefaultController.prototype." + e + " can only be used on a TransformStreamDefaultController") } function streamBrandCheckException(e) { return new TypeError("TransformStream.prototype." + e + " can only be used on a TransformStream") } Object.defineProperties(N.prototype, { "enqueue": { "enumerable": !0 }, "error": { "enumerable": !0 }, "terminate": { "enumerable": !0 }, "desiredSize": { "enumerable": !0 } }), "symbol" === _typeof2(t.toStringTag) && Object.defineProperty(N.prototype, t.toStringTag, { "value": "TransformStreamDefaultController", "configurable": !0 }), e.ByteLengthQueuingStrategy = D, e.CountQueuingStrategy = F, e.ReadableByteStreamController = A, e.ReadableStream = M, e.ReadableStreamBYOBReader = C, e.ReadableStreamBYOBRequest = w, e.ReadableStreamDefaultController = R, e.ReadableStreamDefaultReader = y, e.TransformStream = L, e.TransformStreamDefaultController = N, e.WritableStream = P, e.WritableStreamDefaultController = x, e.WritableStreamDefaultWriter = k, Object.defineProperty(e, "__esModule", { "value": !0 }) })(t) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.BaseStandardFontDataFactory = t.BaseSVGFactory = t.BaseCanvasFactory = t.BaseCMapReaderFactory = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4); function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var i = function () { function BaseCanvasFactory() { _classCallCheck(this, BaseCanvasFactory), this.constructor === BaseCanvasFactory && (0, o.unreachable)("Cannot initialize BaseCanvasFactory.") } return _createClass(BaseCanvasFactory, [{ "key": "create", "value": function create(e, t) { if (e <= 0 || t <= 0) throw new Error("Invalid canvas size"); var r = this._createCanvas(e, t); return { "canvas": r, "context": r.getContext("2d") } } }, { "key": "reset", "value": function reset(e, t, r) { if (!e.canvas) throw new Error("Canvas is not specified"); if (t <= 0 || r <= 0) throw new Error("Invalid canvas size"); e.canvas.width = t, e.canvas.height = r } }, { "key": "destroy", "value": function destroy(e) { if (!e.canvas) throw new Error("Canvas is not specified"); e.canvas.width = 0, e.canvas.height = 0, e.canvas = null, e.context = null } }, { "key": "_createCanvas", "value": function _createCanvas(e, t) { (0, o.unreachable)("Abstract method `_createCanvas` called.") } }]), BaseCanvasFactory }(); t.BaseCanvasFactory = i; var a = function () { function BaseCMapReaderFactory(e) { var t = e.baseUrl, r = void 0 === t ? null : t, n = e.isCompressed, i = void 0 !== n && n; _classCallCheck(this, BaseCMapReaderFactory), this.constructor === BaseCMapReaderFactory && (0, o.unreachable)("Cannot initialize BaseCMapReaderFactory."), this.baseUrl = r, this.isCompressed = i } return _createClass(BaseCMapReaderFactory, [{ "key": "fetch", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee(e) { var t, r, i, a = this; return n.default.wrap(function _callee$(n) { for (; ;)switch (n.prev = n.next) { case 0: if (t = e.name, this.baseUrl) { n.next = 3; break } throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'); case 3: if (t) { n.next = 5; break } throw new Error("CMap name must be specified."); case 5: return r = this.baseUrl + t + (this.isCompressed ? ".bcmap" : ""), i = this.isCompressed ? o.CMapCompressionType.BINARY : o.CMapCompressionType.NONE, n.abrupt("return", this._fetchData(r, i).catch(function (e) { throw new Error("Unable to load ".concat(a.isCompressed ? "binary " : "", "CMap at: ").concat(r)) })); case 8: case "end": return n.stop() } }, _callee, this) })); return function fetch(t) { return e.apply(this, arguments) } }() }, { "key": "_fetchData", "value": function _fetchData(e, t) { (0, o.unreachable)("Abstract method `_fetchData` called.") } }]), BaseCMapReaderFactory }(); t.BaseCMapReaderFactory = a; var s = function () { function BaseStandardFontDataFactory(e) { var t = e.baseUrl, r = void 0 === t ? null : t; _classCallCheck(this, BaseStandardFontDataFactory), this.constructor === BaseStandardFontDataFactory && (0, o.unreachable)("Cannot initialize BaseStandardFontDataFactory."), this.baseUrl = r } return _createClass(BaseStandardFontDataFactory, [{ "key": "fetch", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee2(e) { var t, r; return n.default.wrap(function _callee2$(n) { for (; ;)switch (n.prev = n.next) { case 0: if (t = e.filename, this.baseUrl) { n.next = 3; break } throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.'); case 3: if (t) { n.next = 5; break } throw new Error("Font filename must be specified."); case 5: return r = "".concat(this.baseUrl).concat(t), n.abrupt("return", this._fetchData(r).catch(function (e) { throw new Error("Unable to load font data at: ".concat(r)) })); case 7: case "end": return n.stop() } }, _callee2, this) })); return function fetch(t) { return e.apply(this, arguments) } }() }, { "key": "_fetchData", "value": function _fetchData(e) { (0, o.unreachable)("Abstract method `_fetchData` called.") } }]), BaseStandardFontDataFactory }(); t.BaseStandardFontDataFactory = s; var c = function () { function BaseSVGFactory() { _classCallCheck(this, BaseSVGFactory), this.constructor === BaseSVGFactory && (0, o.unreachable)("Cannot initialize BaseSVGFactory.") } return _createClass(BaseSVGFactory, [{ "key": "create", "value": function create(e, t) { if (e <= 0 || t <= 0) throw new Error("Invalid SVG dimensions"); var r = this._createSVG("svg:svg"); return r.setAttribute("version", "1.1"), r.setAttribute("width", "".concat(e, "px")), r.setAttribute("height", "".concat(t, "px")), r.setAttribute("preserveAspectRatio", "none"), r.setAttribute("viewBox", "0 0 ".concat(e, " ").concat(t)), r } }, { "key": "createElement", "value": function createElement(e) { if ("string" != typeof e) throw new Error("Invalid SVG element type"); return this._createSVG(e) } }, { "key": "_createSVG", "value": function _createSVG(e) { (0, o.unreachable)("Abstract method `_createSVG` called.") } }]), BaseSVGFactory }(); t.BaseSVGFactory = c }, function (__unused_webpack_module, exports, __w_pdfjs_require__) { "use strict"; Object.defineProperty(exports, "__esModule", { "value": !0 }), exports.build = exports.RenderTask = exports.PDFWorker = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFDocumentLoadingTask = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.DefaultStandardFontDataFactory = exports.DefaultCanvasFactory = exports.DefaultCMapReaderFactory = void 0, exports.getDocument = getDocument, exports.setPDFNetworkStreamFactory = setPDFNetworkStreamFactory, exports.version = void 0; var _regenerator = _interopRequireDefault(__w_pdfjs_require__(2)), _util = __w_pdfjs_require__(4), _display_utils = __w_pdfjs_require__(1), _font_loader = __w_pdfjs_require__(137), _node_utils = __w_pdfjs_require__(138), _annotation_storage = __w_pdfjs_require__(139), _canvas = __w_pdfjs_require__(140), _worker_options = __w_pdfjs_require__(142), _is_node = __w_pdfjs_require__(6), _message_handler = __w_pdfjs_require__(143), _metadata = __w_pdfjs_require__(144), _optional_content_config = __w_pdfjs_require__(145), _transport_stream = __w_pdfjs_require__(146), _xfa_text = __w_pdfjs_require__(147); function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } } function _classPrivateFieldInitSpec(e, t, r) { _checkPrivateRedeclaration(e, t), t.set(e, r) } function _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object") } function _classPrivateFieldSet(e, t, r) { return _classApplyDescriptorSet(e, _classExtractFieldDescriptor(e, t, "set"), r), r } function _classApplyDescriptorSet(e, t, r) { if (t.set) t.set.call(e, r); else { if (!t.writable) throw new TypeError("attempted to set read only private field"); t.value = r } } function _classPrivateFieldGet(e, t) { return _classApplyDescriptorGet(e, _classExtractFieldDescriptor(e, t, "get")) } function _classExtractFieldDescriptor(e, t, r) { if (!t.has(e)) throw new TypeError("attempted to " + r + " private field on non-instance"); return t.get(e) } function _classApplyDescriptorGet(e, t) { return t.get ? t.get.call(e) : t.value } function _toConsumableArray(e) { return _arrayWithoutHoles(e) || _iterableToArray(e) || _unsupportedIterableToArray(e) || _nonIterableSpread() } function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) } function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _slicedToArray(e, t) { return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest() } function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != r) { var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i } } function _arrayWithHoles(e) { if (Array.isArray(e)) return e } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } var DEFAULT_RANGE_CHUNK_SIZE = 65536, RENDERING_CANCELLED_TIMEOUT = 100, DefaultCanvasFactory = _is_node.isNodeJS ? _node_utils.NodeCanvasFactory : _display_utils.DOMCanvasFactory; exports.DefaultCanvasFactory = DefaultCanvasFactory; var DefaultCMapReaderFactory = _is_node.isNodeJS ? _node_utils.NodeCMapReaderFactory : _display_utils.DOMCMapReaderFactory; exports.DefaultCMapReaderFactory = DefaultCMapReaderFactory; var DefaultStandardFontDataFactory = _is_node.isNodeJS ? _node_utils.NodeStandardFontDataFactory : _display_utils.DOMStandardFontDataFactory, createPDFNetworkStream; function setPDFNetworkStreamFactory(e) { createPDFNetworkStream = e } function getDocument(e) { var t, r = new PDFDocumentLoadingTask; if ("string" == typeof e || e instanceof URL) t = { "url": e }; else if ((0, _util.isArrayBuffer)(e)) t = { "data": e }; else if (e instanceof PDFDataRangeTransport) t = { "range": e }; else { if ("object" !== _typeof(e)) throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object."); if (!e.url && !e.data && !e.range) throw new Error("Invalid parameter object: need either .data, .range or .url"); t = e } var n = Object.create(null), o = null, i = null; for (var a in t) { var s = t[a]; switch (a) { case "url": if ("undefined" != typeof window) try { n[a] = new URL(s, window.location).href; continue } catch (e) { (0, _util.warn)('Cannot create valid URL: "'.concat(e, '".')) } else if ("string" == typeof s || s instanceof URL) { n[a] = s.toString(); continue } throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property."); case "range": o = s; continue; case "worker": i = s; continue; case "data": if (_is_node.isNodeJS && void 0 !== Buffer && s instanceof Buffer) n[a] = new Uint8Array(s); else { if (s instanceof Uint8Array) break; if ("string" == typeof s) n[a] = (0, _util.stringToBytes)(s); else if ("object" !== _typeof(s) || null === s || isNaN(s.length)) { if (!(0, _util.isArrayBuffer)(s)) throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property."); n[a] = new Uint8Array(s) } else n[a] = new Uint8Array(s) } continue }n[a] = s } if (n.rangeChunkSize = n.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE, n.CMapReaderFactory = n.CMapReaderFactory || DefaultCMapReaderFactory, n.StandardFontDataFactory = n.StandardFontDataFactory || DefaultStandardFontDataFactory, n.ignoreErrors = !0 !== n.stopAtErrors, n.fontExtraProperties = !0 === n.fontExtraProperties, n.pdfBug = !0 === n.pdfBug, n.enableXfa = !0 === n.enableXfa, ("string" != typeof n.docBaseUrl || (0, _display_utils.isDataScheme)(n.docBaseUrl)) && (n.docBaseUrl = null), Number.isInteger(n.maxImageSize) || (n.maxImageSize = -1), "boolean" != typeof n.useWorkerFetch && (n.useWorkerFetch = n.CMapReaderFactory === _display_utils.DOMCMapReaderFactory && n.StandardFontDataFactory === _display_utils.DOMStandardFontDataFactory), "boolean" != typeof n.isEvalSupported && (n.isEvalSupported = !0), "boolean" != typeof n.disableFontFace && (n.disableFontFace = _is_node.isNodeJS), "boolean" != typeof n.useSystemFonts && (n.useSystemFonts = !_is_node.isNodeJS && !n.disableFontFace), void 0 === n.ownerDocument && (n.ownerDocument = globalThis.document), "boolean" != typeof n.disableRange && (n.disableRange = !1), "boolean" != typeof n.disableStream && (n.disableStream = !1), "boolean" != typeof n.disableAutoFetch && (n.disableAutoFetch = !1), (0, _util.setVerbosityLevel)(n.verbosity), !i) { var c = { "verbosity": n.verbosity, "port": _worker_options.GlobalWorkerOptions.workerPort }; i = c.port ? PDFWorker.fromPort(c) : new PDFWorker(c), r._worker = i } var u = r.docId; return i.promise.then(function () { if (r.destroyed) throw new Error("Loading aborted"); var e = _fetchDocument(i, n, o, u), t = new Promise(function (e) { var t; o ? t = new _transport_stream.PDFDataTransportStream({ "length": n.length, "initialData": n.initialData, "progressiveDone": n.progressiveDone, "contentDispositionFilename": n.contentDispositionFilename, "disableRange": n.disableRange, "disableStream": n.disableStream }, o) : n.data || (t = createPDFNetworkStream({ "url": n.url, "length": n.length, "httpHeaders": n.httpHeaders, "withCredentials": n.withCredentials, "rangeChunkSize": n.rangeChunkSize, "disableRange": n.disableRange, "disableStream": n.disableStream })), e(t) }); return Promise.all([e, t]).then(function (e) { var t = _slicedToArray(e, 2), o = t[0], a = t[1]; if (r.destroyed) throw new Error("Loading aborted"); var s = new _message_handler.MessageHandler(u, o, i.port), c = new WorkerTransport(s, r, a, n); r._transport = c, s.send("Ready", null) }) }).catch(r._capability.reject), r } function _fetchDocument(e, t, r, n) { return _fetchDocument2.apply(this, arguments) } function _fetchDocument2() { return (_fetchDocument2 = _asyncToGenerator(_regenerator.default.mark(function _callee7(e, t, r, n) { var o; return _regenerator.default.wrap(function _callee7$(i) { for (; ;)switch (i.prev = i.next) { case 0: if (!e.destroyed) { i.next = 2; break } throw new Error("Worker was destroyed"); case 2: return r && (t.length = r.length, t.initialData = r.initialData, t.progressiveDone = r.progressiveDone, t.contentDispositionFilename = r.contentDispositionFilename), i.next = 5, e.messageHandler.sendWithPromise("GetDocRequest", { "docId": n, "apiVersion": "2.12.313", "source": { "data": t.data, "url": t.url, "password": t.password, "disableAutoFetch": t.disableAutoFetch, "rangeChunkSize": t.rangeChunkSize, "length": t.length }, "maxImageSize": t.maxImageSize, "disableFontFace": t.disableFontFace, "docBaseUrl": t.docBaseUrl, "ignoreErrors": t.ignoreErrors, "isEvalSupported": t.isEvalSupported, "fontExtraProperties": t.fontExtraProperties, "enableXfa": t.enableXfa, "useSystemFonts": t.useSystemFonts, "cMapUrl": t.useWorkerFetch ? t.cMapUrl : null, "standardFontDataUrl": t.useWorkerFetch ? t.standardFontDataUrl : null }); case 5: if (o = i.sent, !e.destroyed) { i.next = 8; break } throw new Error("Worker was destroyed"); case 8: return i.abrupt("return", o); case 9: case "end": return i.stop() } }, _callee7) }))).apply(this, arguments) } exports.DefaultStandardFontDataFactory = DefaultStandardFontDataFactory; var PDFDocumentLoadingTask = function () { function PDFDocumentLoadingTask() { _classCallCheck(this, PDFDocumentLoadingTask), this._capability = (0, _util.createPromiseCapability)(), this._transport = null, this._worker = null, this.docId = "d".concat(PDFDocumentLoadingTask.idCounters.doc++), this.destroyed = !1, this.onPassword = null, this.onProgress = null, this.onUnsupportedFeature = null } return _createClass(PDFDocumentLoadingTask, [{ "key": "promise", "get": function get() { return this._capability.promise } }, { "key": "destroy", "value": function () { var e = _asyncToGenerator(_regenerator.default.mark(function _callee() { var e; return _regenerator.default.wrap(function _callee$(t) { for (; ;)switch (t.prev = t.next) { case 0: return this.destroyed = !0, t.next = 3, null === (e = this._transport) || void 0 === e ? void 0 : e.destroy(); case 3: this._transport = null, this._worker && (this._worker.destroy(), this._worker = null); case 5: case "end": return t.stop() } }, _callee, this) })); return function destroy() { return e.apply(this, arguments) } }() }], [{ "key": "idCounters", "get": function get() { return (0, _util.shadow)(this, "idCounters", { "doc": 0 }) } }]), PDFDocumentLoadingTask }(); exports.PDFDocumentLoadingTask = PDFDocumentLoadingTask; var PDFDataRangeTransport = function () { function PDFDataRangeTransport(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null; _classCallCheck(this, PDFDataRangeTransport), this.length = e, this.initialData = t, this.progressiveDone = r, this.contentDispositionFilename = n, this._rangeListeners = [], this._progressListeners = [], this._progressiveReadListeners = [], this._progressiveDoneListeners = [], this._readyCapability = (0, _util.createPromiseCapability)() } return _createClass(PDFDataRangeTransport, [{ "key": "addRangeListener", "value": function addRangeListener(e) { this._rangeListeners.push(e) } }, { "key": "addProgressListener", "value": function addProgressListener(e) { this._progressListeners.push(e) } }, { "key": "addProgressiveReadListener", "value": function addProgressiveReadListener(e) { this._progressiveReadListeners.push(e) } }, { "key": "addProgressiveDoneListener", "value": function addProgressiveDoneListener(e) { this._progressiveDoneListeners.push(e) } }, { "key": "onDataRange", "value": function onDataRange(e, t) { var r, n = _createForOfIteratorHelper(this._rangeListeners); try { for (n.s(); !(r = n.n()).done;) { (0, r.value)(e, t) } } catch (e) { n.e(e) } finally { n.f() } } }, { "key": "onDataProgress", "value": function onDataProgress(e, t) { var r = this; this._readyCapability.promise.then(function () { var n, o = _createForOfIteratorHelper(r._progressListeners); try { for (o.s(); !(n = o.n()).done;) { (0, n.value)(e, t) } } catch (e) { o.e(e) } finally { o.f() } }) } }, { "key": "onDataProgressiveRead", "value": function onDataProgressiveRead(e) { var t = this; this._readyCapability.promise.then(function () { var r, n = _createForOfIteratorHelper(t._progressiveReadListeners); try { for (n.s(); !(r = n.n()).done;) { (0, r.value)(e) } } catch (e) { n.e(e) } finally { n.f() } }) } }, { "key": "onDataProgressiveDone", "value": function onDataProgressiveDone() { var e = this; this._readyCapability.promise.then(function () { var t, r = _createForOfIteratorHelper(e._progressiveDoneListeners); try { for (r.s(); !(t = r.n()).done;) { (0, t.value)() } } catch (e) { r.e(e) } finally { r.f() } }) } }, { "key": "transportReady", "value": function transportReady() { this._readyCapability.resolve() } }, { "key": "requestDataRange", "value": function requestDataRange(e, t) { (0, _util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange") } }, { "key": "abort", "value": function abort() { } }]), PDFDataRangeTransport }(); exports.PDFDataRangeTransport = PDFDataRangeTransport; var PDFDocumentProxy = function () { function PDFDocumentProxy(e, t) { var r = this; _classCallCheck(this, PDFDocumentProxy), this._pdfInfo = e, this._transport = t, Object.defineProperty(this, "fingerprint", { "get": function get() { return (0, _display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."), this.fingerprints[0] } }), Object.defineProperty(this, "getStats", { "value": function () { var e = _asyncToGenerator(_regenerator.default.mark(function _callee2() { return _regenerator.default.wrap(function _callee2$(e) { for (; ;)switch (e.prev = e.next) { case 0: return (0, _display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."), e.abrupt("return", r.stats || { "streamTypes": {}, "fontTypes": {} }); case 2: case "end": return e.stop() } }, _callee2) })); return function value() { return e.apply(this, arguments) } }() }) } return _createClass(PDFDocumentProxy, [{ "key": "annotationStorage", "get": function get() { return this._transport.annotationStorage } }, { "key": "numPages", "get": function get() { return this._pdfInfo.numPages } }, { "key": "fingerprints", "get": function get() { return this._pdfInfo.fingerprints } }, { "key": "stats", "get": function get() { return this._transport.stats } }, { "key": "isPureXfa", "get": function get() { return !!this._transport._htmlForXfa } }, { "key": "allXfaHtml", "get": function get() { return this._transport._htmlForXfa } }, { "key": "getPage", "value": function getPage(e) { return this._transport.getPage(e) } }, { "key": "getPageIndex", "value": function getPageIndex(e) { return this._transport.getPageIndex(e) } }, { "key": "getDestinations", "value": function getDestinations() { return this._transport.getDestinations() } }, { "key": "getDestination", "value": function getDestination(e) { return this._transport.getDestination(e) } }, { "key": "getPageLabels", "value": function getPageLabels() { return this._transport.getPageLabels() } }, { "key": "getPageLayout", "value": function getPageLayout() { return this._transport.getPageLayout() } }, { "key": "getPageMode", "value": function getPageMode() { return this._transport.getPageMode() } }, { "key": "getViewerPreferences", "value": function getViewerPreferences() { return this._transport.getViewerPreferences() } }, { "key": "getOpenAction", "value": function getOpenAction() { return this._transport.getOpenAction() } }, { "key": "getAttachments", "value": function getAttachments() { return this._transport.getAttachments() } }, { "key": "getJavaScript", "value": function getJavaScript() { return this._transport.getJavaScript() } }, { "key": "getJSActions", "value": function getJSActions() { return this._transport.getDocJSActions() } }, { "key": "getOutline", "value": function getOutline() { return this._transport.getOutline() } }, { "key": "getOptionalContentConfig", "value": function getOptionalContentConfig() { return this._transport.getOptionalContentConfig() } }, { "key": "getPermissions", "value": function getPermissions() { return this._transport.getPermissions() } }, { "key": "getMetadata", "value": function getMetadata() { return this._transport.getMetadata() } }, { "key": "getMarkInfo", "value": function getMarkInfo() { return this._transport.getMarkInfo() } }, { "key": "getData", "value": function getData() { return this._transport.getData() } }, { "key": "getDownloadInfo", "value": function getDownloadInfo() { return this._transport.downloadInfoCapability.promise } }, { "key": "cleanup", "value": function cleanup() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; return this._transport.startCleanup(e || this.isPureXfa) } }, { "key": "destroy", "value": function destroy() { return this.loadingTask.destroy() } }, { "key": "loadingParams", "get": function get() { return this._transport.loadingParams } }, { "key": "loadingTask", "get": function get() { return this._transport.loadingTask } }, { "key": "saveDocument", "value": function saveDocument() { return this._transport.annotationStorage.size <= 0 && (0, _display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."), this._transport.saveDocument() } }, { "key": "getFieldObjects", "value": function getFieldObjects() { return this._transport.getFieldObjects() } }, { "key": "hasJSActions", "value": function hasJSActions() { return this._transport.hasJSActions() } }, { "key": "getCalculationOrderIds", "value": function getCalculationOrderIds() { return this._transport.getCalculationOrderIds() } }]), PDFDocumentProxy }(); exports.PDFDocumentProxy = PDFDocumentProxy; var PDFPageProxy = function () { function PDFPageProxy(e, t, r, n) { var o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4]; _classCallCheck(this, PDFPageProxy), this._pageIndex = e, this._pageInfo = t, this._ownerDocument = n, this._transport = r, this._stats = o ? new _display_utils.StatTimer : null, this._pdfBug = o, this.commonObjs = r.commonObjs, this.objs = new PDFObjects, this.cleanupAfterRender = !1, this.pendingCleanup = !1, this._intentStates = new Map, this._annotationPromises = new Map, this.destroyed = !1 } return _createClass(PDFPageProxy, [{ "key": "pageNumber", "get": function get() { return this._pageIndex + 1 } }, { "key": "rotate", "get": function get() { return this._pageInfo.rotate } }, { "key": "ref", "get": function get() { return this._pageInfo.ref } }, { "key": "userUnit", "get": function get() { return this._pageInfo.userUnit } }, { "key": "view", "get": function get() { return this._pageInfo.view } }, { "key": "getViewport", "value": function getViewport() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.scale, r = e.rotation, n = void 0 === r ? this.rotate : r, o = e.offsetX, i = void 0 === o ? 0 : o, a = e.offsetY, s = void 0 === a ? 0 : a, c = e.dontFlip, u = void 0 !== c && c; return new _display_utils.PageViewport({ "viewBox": this.view, "scale": t, "rotation": n, "offsetX": i, "offsetY": s, "dontFlip": u }) } }, { "key": "getAnnotations", "value": function getAnnotations() { var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).intent, t = void 0 === e ? "display" : e, r = this._transport.getRenderingIntent(t), n = this._annotationPromises.get(r.cacheKey); return n || (n = this._transport.getAnnotations(this._pageIndex, r.renderingIntent), this._annotationPromises.set(r.cacheKey, n), n = n.then(function (e) { var t, r = _createForOfIteratorHelper(e); try { var n = function _loop() { var e = t.value; void 0 !== e.titleObj && Object.defineProperty(e, "title", { "get": function get() { return (0, _display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."), e.titleObj.str } }), void 0 !== e.contentsObj && Object.defineProperty(e, "contents", { "get": function get() { return (0, _display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."), e.contentsObj.str } }) }; for (r.s(); !(t = r.n()).done;)n() } catch (e) { r.e(e) } finally { r.f() } return e })), n } }, { "key": "getJSActions", "value": function getJSActions() { return this._jsActionsPromise || (this._jsActionsPromise = this._transport.getPageJSActions(this._pageIndex)) } }, { "key": "getXfa", "value": function () { var e = _asyncToGenerator(_regenerator.default.mark(function _callee3() { var e; return _regenerator.default.wrap(function _callee3$(t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", (null === (e = this._transport._htmlForXfa) || void 0 === e ? void 0 : e.children[this._pageIndex]) || null); case 1: case "end": return t.stop() } }, _callee3, this) })); return function getXfa() { return e.apply(this, arguments) } }() }, { "key": "render", "value": function render(e) { var t, r, n, o = this, i = e.canvasContext, a = e.viewport, s = e.intent, c = void 0 === s ? "display" : s, u = e.annotationMode, l = void 0 === u ? _util.AnnotationMode.ENABLE : u, f = e.transform, d = void 0 === f ? null : f, p = e.imageLayer, h = void 0 === p ? null : p, m = e.canvasFactory, g = void 0 === m ? null : m, v = e.background, y = void 0 === v ? null : v, b = e.optionalContentConfigPromise, S = void 0 === b ? null : b, _ = e.annotationCanvasMap, w = void 0 === _ ? null : _; void 0 !== (null === (t = arguments[0]) || void 0 === t ? void 0 : t.renderInteractiveForms) && ((0, _display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."), !0 === arguments[0].renderInteractiveForms && l === _util.AnnotationMode.ENABLE && (l = _util.AnnotationMode.ENABLE_FORMS)), void 0 !== (null === (r = arguments[0]) || void 0 === r ? void 0 : r.includeAnnotationStorage) && ((0, _display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."), !0 === arguments[0].includeAnnotationStorage && l === _util.AnnotationMode.ENABLE && (l = _util.AnnotationMode.ENABLE_STORAGE)), this._stats && this._stats.time("Overall"); var A = this._transport.getRenderingIntent(c, l); this.pendingCleanup = !1, S || (S = this._transport.getOptionalContentConfig()); var C = this._intentStates.get(A.cacheKey); C || (C = Object.create(null), this._intentStates.set(A.cacheKey, C)), C.streamReaderCancelTimeout && (clearTimeout(C.streamReaderCancelTimeout), C.streamReaderCancelTimeout = null); var T = g || new DefaultCanvasFactory({ "ownerDocument": this._ownerDocument }), P = !!(A.renderingIntent & _util.RenderingIntentFlag.PRINT); C.displayReadyCapability || (C.displayReadyCapability = (0, _util.createPromiseCapability)(), C.operatorList = { "fnArray": [], "argsArray": [], "lastChunk": !1 }, this._stats && this._stats.time("Page Request"), this._pumpOperatorList(A)); var k = function complete(e) { C.renderTasks.delete(E), (o.cleanupAfterRender || P) && (o.pendingCleanup = !0), o._tryCleanup(), e ? (E.capability.reject(e), o._abortOperatorList({ "intentState": C, "reason": e instanceof Error ? e : new Error(e) })) : E.capability.resolve(), o._stats && (o._stats.timeEnd("Rendering"), o._stats.timeEnd("Overall")) }, E = new InternalRenderTask({ "callback": k, "params": { "canvasContext": i, "viewport": a, "transform": d, "imageLayer": h, "background": y }, "objs": this.objs, "commonObjs": this.commonObjs, "annotationCanvasMap": w, "operatorList": C.operatorList, "pageIndex": this._pageIndex, "canvasFactory": T, "useRequestAnimationFrame": !P, "pdfBug": this._pdfBug }); ((n = C).renderTasks || (n.renderTasks = new Set)).add(E); var x = E.task; return Promise.all([C.displayReadyCapability.promise, S]).then(function (e) { var t = _slicedToArray(e, 2), r = t[0], n = t[1]; o.pendingCleanup ? k() : (o._stats && o._stats.time("Rendering"), E.initializeGraphics({ "transparency": r, "optionalContentConfig": n }), E.operatorListChanged()) }).catch(k), x } }, { "key": "getOperatorList", "value": function getOperatorList() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.intent, r = void 0 === t ? "display" : t, n = e.annotationMode, o = void 0 === n ? _util.AnnotationMode.ENABLE : n; var i, a, s = this._transport.getRenderingIntent(r, o, !0), c = this._intentStates.get(s.cacheKey); (c || (c = Object.create(null), this._intentStates.set(s.cacheKey, c)), c.opListReadCapability) || ((i = Object.create(null)).operatorListChanged = function operatorListChanged() { c.operatorList.lastChunk && (c.opListReadCapability.resolve(c.operatorList), c.renderTasks.delete(i)) }, c.opListReadCapability = (0, _util.createPromiseCapability)(), ((a = c).renderTasks || (a.renderTasks = new Set)).add(i), c.operatorList = { "fnArray": [], "argsArray": [], "lastChunk": !1 }, this._stats && this._stats.time("Page Request"), this._pumpOperatorList(s)); return c.opListReadCapability.promise } }, { "key": "streamTextContent", "value": function streamTextContent() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.normalizeWhitespace, r = void 0 !== t && t, n = e.disableCombineTextItems, o = void 0 !== n && n, i = e.includeMarkedContent, a = void 0 !== i && i; return this._transport.messageHandler.sendWithStream("GetTextContent", { "pageIndex": this._pageIndex, "normalizeWhitespace": !0 === r, "combineTextItems": !0 !== o, "includeMarkedContent": !0 === a }, { "highWaterMark": 100, "size": function size(e) { return e.items.length } }) } }, { "key": "getTextContent", "value": function getTextContent() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (this._transport._htmlForXfa) return this.getXfa().then(function (e) { return _xfa_text.XfaText.textContent(e) }); var t = this.streamTextContent(e); return new Promise(function (e, r) { var n = t.getReader(), o = { "items": [], "styles": Object.create(null) }; !function pump() { n.read().then(function (t) { var r, n = t.value; t.done ? e(o) : (Object.assign(o.styles, n.styles), (r = o.items).push.apply(r, _toConsumableArray(n.items)), pump()) }, r) }() }) } }, { "key": "getStructTree", "value": function getStructTree() { return this._structTreePromise || (this._structTreePromise = this._transport.getStructTree(this._pageIndex)) } }, { "key": "_destroy", "value": function _destroy() { this.destroyed = !0; var e, t = [], r = _createForOfIteratorHelper(this._intentStates.values()); try { for (r.s(); !(e = r.n()).done;) { var n = e.value; if (this._abortOperatorList({ "intentState": n, "reason": new Error("Page was destroyed."), "force": !0 }), !n.opListReadCapability) { var o, i = _createForOfIteratorHelper(n.renderTasks); try { for (i.s(); !(o = i.n()).done;) { var a = o.value; t.push(a.completed), a.cancel() } } catch (e) { i.e(e) } finally { i.f() } } } } catch (e) { r.e(e) } finally { r.f() } return this.objs.clear(), this._annotationPromises.clear(), this._jsActionsPromise = null, this._structTreePromise = null, this.pendingCleanup = !1, Promise.all(t) } }, { "key": "cleanup", "value": function cleanup() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; return this.pendingCleanup = !0, this._tryCleanup(e) } }, { "key": "_tryCleanup", "value": function _tryCleanup() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; if (!this.pendingCleanup) return !1; var t, r = _createForOfIteratorHelper(this._intentStates.values()); try { for (r.s(); !(t = r.n()).done;) { var n = t.value, o = n.renderTasks, i = n.operatorList; if (o.size > 0 || !i.lastChunk) return !1 } } catch (e) { r.e(e) } finally { r.f() } return this._intentStates.clear(), this.objs.clear(), this._annotationPromises.clear(), this._jsActionsPromise = null, this._structTreePromise = null, e && this._stats && (this._stats = new _display_utils.StatTimer), this.pendingCleanup = !1, !0 } }, { "key": "_startRenderPage", "value": function _startRenderPage(e, t) { var r = this._intentStates.get(t); r && (this._stats && this._stats.timeEnd("Page Request"), r.displayReadyCapability && r.displayReadyCapability.resolve(e)) } }, { "key": "_renderPageChunk", "value": function _renderPageChunk(e, t) { for (var r = 0, n = e.length; r < n; r++)t.operatorList.fnArray.push(e.fnArray[r]), t.operatorList.argsArray.push(e.argsArray[r]); t.operatorList.lastChunk = e.lastChunk; var o, i = _createForOfIteratorHelper(t.renderTasks); try { for (i.s(); !(o = i.n()).done;) { o.value.operatorListChanged() } } catch (e) { i.e(e) } finally { i.f() } e.lastChunk && this._tryCleanup() } }, { "key": "_pumpOperatorList", "value": function _pumpOperatorList(e) { var t = this, r = e.renderingIntent, n = e.cacheKey, o = this._transport.messageHandler.sendWithStream("GetOperatorList", { "pageIndex": this._pageIndex, "intent": r, "cacheKey": n, "annotationStorage": r & _util.RenderingIntentFlag.ANNOTATIONS_STORAGE ? this._transport.annotationStorage.serializable : null }).getReader(), i = this._intentStates.get(n); i.streamReader = o; !function pump() { o.read().then(function (e) { var r = e.value; e.done ? i.streamReader = null : t._transport.destroyed || (t._renderPageChunk(r, i), pump()) }, function (e) { if (i.streamReader = null, !t._transport.destroyed) { if (i.operatorList) { i.operatorList.lastChunk = !0; var r, n = _createForOfIteratorHelper(i.renderTasks); try { for (n.s(); !(r = n.n()).done;)r.value.operatorListChanged() } catch (e) { n.e(e) } finally { n.f() } t._tryCleanup() } if (i.displayReadyCapability) i.displayReadyCapability.reject(e); else { if (!i.opListReadCapability) throw e; i.opListReadCapability.reject(e) } } }) }() } }, { "key": "_abortOperatorList", "value": function _abortOperatorList(e) { var t = this, r = e.intentState, n = e.reason, o = e.force, i = void 0 !== o && o; if (r.streamReader) { if (!i) { if (r.renderTasks.size > 0) return; if (n instanceof _display_utils.RenderingCancelledException) return void (r.streamReaderCancelTimeout = setTimeout(function () { t._abortOperatorList({ "intentState": r, "reason": n, "force": !0 }), r.streamReaderCancelTimeout = null }, RENDERING_CANCELLED_TIMEOUT)) } if (r.streamReader.cancel(new _util.AbortException(n.message)).catch(function () { }), r.streamReader = null, !this._transport.destroyed) { var a, s = _createForOfIteratorHelper(this._intentStates); try { for (s.s(); !(a = s.n()).done;) { var c = _slicedToArray(a.value, 2), u = c[0]; if (c[1] === r) { this._intentStates.delete(u); break } } } catch (e) { s.e(e) } finally { s.f() } this.cleanup() } } } }, { "key": "stats", "get": function get() { return this._stats } }]), PDFPageProxy }(); exports.PDFPageProxy = PDFPageProxy; var LoopbackPort = function () { function LoopbackPort() { _classCallCheck(this, LoopbackPort), this._listeners = [], this._deferred = Promise.resolve() } return _createClass(LoopbackPort, [{ "key": "postMessage", "value": function postMessage(e, t) { var r = this; var n = { "data": function cloneValue(e) { if (globalThis.structuredClone) return globalThis.structuredClone(e, t); var r = new WeakMap; return function fallbackCloneValue(e) { if ("function" == typeof e || "symbol" === _typeof(e) || e instanceof URL) throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null == e ? void 0 : e.toString())); if ("object" !== _typeof(e) || null === e) return e; if (r.has(e)) return r.get(e); var n, o; if ((n = e.buffer) && (0, _util.isArrayBuffer)(n)) return o = null != t && t.includes(n) ? new e.constructor(n, e.byteOffset, e.byteLength) : new e.constructor(e), r.set(e, o), o; if (e instanceof Map) { o = new Map, r.set(e, o); var i, a = _createForOfIteratorHelper(e); try { for (a.s(); !(i = a.n()).done;) { var s = _slicedToArray(i.value, 2), c = s[0], u = s[1]; o.set(c, fallbackCloneValue(u)) } } catch (e) { a.e(e) } finally { a.f() } return o } if (e instanceof Set) { o = new Set, r.set(e, o); var l, f = _createForOfIteratorHelper(e); try { for (f.s(); !(l = f.n()).done;) { var d = l.value; o.add(fallbackCloneValue(d)) } } catch (e) { f.e(e) } finally { f.f() } return o } for (var p in o = Array.isArray(e) ? [] : Object.create(null), r.set(e, o), e) { for (var h, m = void 0, g = e; !(m = Object.getOwnPropertyDescriptor(g, p));)g = Object.getPrototypeOf(g); void 0 !== m.value && ("function" != typeof m.value || null !== (h = e.hasOwnProperty) && void 0 !== h && h.call(e, p)) && (o[p] = fallbackCloneValue(m.value)) } return o }(e) }(e) }; this._deferred.then(function () { var e, t = _createForOfIteratorHelper(r._listeners); try { for (t.s(); !(e = t.n()).done;) { e.value.call(r, n) } } catch (e) { t.e(e) } finally { t.f() } }) } }, { "key": "addEventListener", "value": function addEventListener(e, t) { this._listeners.push(t) } }, { "key": "removeEventListener", "value": function removeEventListener(e, t) { var r = this._listeners.indexOf(t); this._listeners.splice(r, 1) } }, { "key": "terminate", "value": function terminate() { this._listeners.length = 0 } }]), LoopbackPort }(); exports.LoopbackPort = LoopbackPort; var PDFWorkerUtil = { "isWorkerDisabled": !1, "fallbackWorkerSrc": null, "fakeWorkerId": 0 }; if (_is_node.isNodeJS) PDFWorkerUtil.isWorkerDisabled = !0, PDFWorkerUtil.fallbackWorkerSrc = "./pdf.worker.js"; else if ("object" === ("undefined" == typeof document ? "undefined" : _typeof(document))) { var _document, _document$currentScri, pdfjsFilePath = null === (_document = document) || void 0 === _document ? void 0 : null === (_document$currentScri = _document.currentScript) || void 0 === _document$currentScri ? void 0 : _document$currentScri.src; pdfjsFilePath && (PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i, ".worker$1$2")) } PDFWorkerUtil.createCDNWrapper = function (e) { var t = 'importScripts("'.concat(e, '");'); return URL.createObjectURL(new Blob([t])) }; var PDFWorker = function () { function PDFWorker() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.name, r = void 0 === t ? null : t, n = e.port, o = void 0 === n ? null : n, i = e.verbosity, a = void 0 === i ? (0, _util.getVerbosityLevel)() : i; if (_classCallCheck(this, PDFWorker), o && PDFWorker._workerPorts.has(o)) throw new Error("Cannot use more than one PDFWorker per port."); if (this.name = r, this.destroyed = !1, this.verbosity = a, this._readyCapability = (0, _util.createPromiseCapability)(), this._port = null, this._webWorker = null, this._messageHandler = null, o) return PDFWorker._workerPorts.set(o, this), void this._initializeFromPort(o); this._initialize() } return _createClass(PDFWorker, [{ "key": "promise", "get": function get() { return this._readyCapability.promise } }, { "key": "port", "get": function get() { return this._port } }, { "key": "messageHandler", "get": function get() { return this._messageHandler } }, { "key": "_initializeFromPort", "value": function _initializeFromPort(e) { this._port = e, this._messageHandler = new _message_handler.MessageHandler("main", "worker", e), this._messageHandler.on("ready", function () { }), this._readyCapability.resolve() } }, { "key": "_initialize", "value": function _initialize() { var e = this; if ("undefined" != typeof Worker && !PDFWorkerUtil.isWorkerDisabled && !PDFWorker._mainThreadWorkerMessageHandler) { var t = PDFWorker.workerSrc; try { (0, _util.isSameOrigin)(window.location.href, t) || (t = PDFWorkerUtil.createCDNWrapper(new URL(t, window.location).href)); var r = new Worker(t), n = new _message_handler.MessageHandler("main", "worker", r), o = function terminateEarly() { r.removeEventListener("error", i), n.destroy(), r.terminate(), e.destroyed ? e._readyCapability.reject(new Error("Worker was destroyed")) : e._setupFakeWorker() }, i = function onWorkerError() { e._webWorker || o() }; r.addEventListener("error", i), n.on("test", function (t) { r.removeEventListener("error", i), e.destroyed ? o() : t ? (e._messageHandler = n, e._port = r, e._webWorker = r, e._readyCapability.resolve(), n.send("configure", { "verbosity": e.verbosity })) : (e._setupFakeWorker(), n.destroy(), r.terminate()) }), n.on("ready", function (t) { if (r.removeEventListener("error", i), e.destroyed) o(); else try { a() } catch (t) { e._setupFakeWorker() } }); var a = function sendTest() { var e = new Uint8Array([255]); try { n.send("test", e, [e.buffer]) } catch (t) { (0, _util.warn)("Cannot use postMessage transfers."), e[0] = 0, n.send("test", e) } }; return void a() } catch (e) { (0, _util.info)("The worker has been disabled.") } } this._setupFakeWorker() } }, { "key": "_setupFakeWorker", "value": function _setupFakeWorker() { var e = this; PDFWorkerUtil.isWorkerDisabled || ((0, _util.warn)("Setting up fake worker."), PDFWorkerUtil.isWorkerDisabled = !0), PDFWorker._setupFakeWorkerGlobal.then(function (t) { if (e.destroyed) e._readyCapability.reject(new Error("Worker was destroyed")); else { var r = new LoopbackPort; e._port = r; var n = "fake".concat(PDFWorkerUtil.fakeWorkerId++), o = new _message_handler.MessageHandler(n + "_worker", n, r); t.setup(o, r); var i = new _message_handler.MessageHandler(n, n + "_worker", r); e._messageHandler = i, e._readyCapability.resolve(), i.send("configure", { "verbosity": e.verbosity }) } }).catch(function (t) { e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message, '".'))) }) } }, { "key": "destroy", "value": function destroy() { this.destroyed = !0, this._webWorker && (this._webWorker.terminate(), this._webWorker = null), PDFWorker._workerPorts.delete(this._port), this._port = null, this._messageHandler && (this._messageHandler.destroy(), this._messageHandler = null) } }], [{ "key": "_workerPorts", "get": function get() { return (0, _util.shadow)(this, "_workerPorts", new WeakMap) } }, { "key": "fromPort", "value": function fromPort(e) { if (null == e || !e.port) throw new Error("PDFWorker.fromPort - invalid method signature."); return this._workerPorts.has(e.port) ? this._workerPorts.get(e.port) : new PDFWorker(e) } }, { "key": "workerSrc", "get": function get() { if (_worker_options.GlobalWorkerOptions.workerSrc) return _worker_options.GlobalWorkerOptions.workerSrc; if (null !== PDFWorkerUtil.fallbackWorkerSrc) return _is_node.isNodeJS || (0, _display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'), PDFWorkerUtil.fallbackWorkerSrc; throw new Error('No "GlobalWorkerOptions.workerSrc" specified.') } }, { "key": "_mainThreadWorkerMessageHandler", "get": function get() { try { var e; return (null === (e = globalThis.pdfjsWorker) || void 0 === e ? void 0 : e.WorkerMessageHandler) || null } catch (e) { return null } } }, { "key": "_setupFakeWorkerGlobal", "get": function get() { var _this11 = this, loader = function () { var _ref15 = _asyncToGenerator(_regenerator.default.mark(function _callee4() { var mainWorkerMessageHandler, worker; return _regenerator.default.wrap(function _callee4$(_context4) { for (; ;)switch (_context4.prev = _context4.next) { case 0: if (mainWorkerMessageHandler = _this11._mainThreadWorkerMessageHandler, !mainWorkerMessageHandler) { _context4.next = 3; break } return _context4.abrupt("return", mainWorkerMessageHandler); case 3: if (!_is_node.isNodeJS) { _context4.next = 6; break } return worker = eval("require")(_this11.workerSrc), _context4.abrupt("return", worker.WorkerMessageHandler); case 6: return _context4.next = 8, (0, _display_utils.loadScript)(_this11.workerSrc); case 8: return _context4.abrupt("return", window.pdfjsWorker.WorkerMessageHandler); case 9: case "end": return _context4.stop() } }, _callee4) })); return function loader() { return _ref15.apply(this, arguments) } }(); return (0, _util.shadow)(this, "_setupFakeWorkerGlobal", loader()) } }]), PDFWorker }(); exports.PDFWorker = PDFWorker, PDFWorker.getWorkerSrc = function () { return (0, _display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."), this.workerSrc }; var _docStats = new WeakMap, _pageCache = new WeakMap, _pagePromises = new WeakMap, _metadataPromise = new WeakMap, WorkerTransport = function () { function WorkerTransport(e, t, r, n) { _classCallCheck(this, WorkerTransport), _classPrivateFieldInitSpec(this, _docStats, { "writable": !0, "value": null }), _classPrivateFieldInitSpec(this, _pageCache, { "writable": !0, "value": new Map }), _classPrivateFieldInitSpec(this, _pagePromises, { "writable": !0, "value": new Map }), _classPrivateFieldInitSpec(this, _metadataPromise, { "writable": !0, "value": null }), this.messageHandler = e, this.loadingTask = t, this.commonObjs = new PDFObjects, this.fontLoader = new _font_loader.FontLoader({ "docId": t.docId, "onUnsupportedFeature": this._onUnsupportedFeature.bind(this), "ownerDocument": n.ownerDocument, "styleElement": n.styleElement }), this._params = n, n.useWorkerFetch || (this.CMapReaderFactory = new n.CMapReaderFactory({ "baseUrl": n.cMapUrl, "isCompressed": n.cMapPacked }), this.StandardFontDataFactory = new n.StandardFontDataFactory({ "baseUrl": n.standardFontDataUrl })), this.destroyed = !1, this.destroyCapability = null, this._passwordCapability = null, this._networkStream = r, this._fullReader = null, this._lastProgress = null, this.downloadInfoCapability = (0, _util.createPromiseCapability)(), this.setupMessageHandler() } return _createClass(WorkerTransport, [{ "key": "annotationStorage", "get": function get() { return (0, _util.shadow)(this, "annotationStorage", new _annotation_storage.AnnotationStorage) } }, { "key": "stats", "get": function get() { return _classPrivateFieldGet(this, _docStats) } }, { "key": "getRenderingIntent", "value": function getRenderingIntent(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : _util.AnnotationMode.ENABLE, r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = _util.RenderingIntentFlag.DISPLAY, o = ""; switch (e) { case "any": n = _util.RenderingIntentFlag.ANY; break; case "display": break; case "print": n = _util.RenderingIntentFlag.PRINT; break; default: (0, _util.warn)("getRenderingIntent - invalid intent: ".concat(e)) }switch (t) { case _util.AnnotationMode.DISABLE: n += _util.RenderingIntentFlag.ANNOTATIONS_DISABLE; break; case _util.AnnotationMode.ENABLE: break; case _util.AnnotationMode.ENABLE_FORMS: n += _util.RenderingIntentFlag.ANNOTATIONS_FORMS; break; case _util.AnnotationMode.ENABLE_STORAGE: n += _util.RenderingIntentFlag.ANNOTATIONS_STORAGE, o = this.annotationStorage.lastModified; break; default: (0, _util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t)) }return r && (n += _util.RenderingIntentFlag.OPLIST), { "renderingIntent": n, "cacheKey": "".concat(n, "_").concat(o) } } }, { "key": "destroy", "value": function destroy() { var e = this; if (this.destroyCapability) return this.destroyCapability.promise; this.destroyed = !0, this.destroyCapability = (0, _util.createPromiseCapability)(), this._passwordCapability && this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback")); var t, r = [], n = _createForOfIteratorHelper(_classPrivateFieldGet(this, _pageCache).values()); try { for (n.s(); !(t = n.n()).done;) { var o = t.value; r.push(o._destroy()) } } catch (e) { n.e(e) } finally { n.f() } _classPrivateFieldGet(this, _pageCache).clear(), _classPrivateFieldGet(this, _pagePromises).clear(), this.hasOwnProperty("annotationStorage") && this.annotationStorage.resetModified(); var i = this.messageHandler.sendWithPromise("Terminate", null); return r.push(i), Promise.all(r).then(function () { e.commonObjs.clear(), e.fontLoader.clear(), _classPrivateFieldSet(e, _metadataPromise, null), e._getFieldObjectsPromise = null, e._hasJSActionsPromise = null, e._networkStream && e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")), e.messageHandler && (e.messageHandler.destroy(), e.messageHandler = null), e.destroyCapability.resolve() }, this.destroyCapability.reject), this.destroyCapability.promise } }, { "key": "setupMessageHandler", "value": function setupMessageHandler() { var e = this, t = this.messageHandler, r = this.loadingTask; t.on("GetReader", function (t, r) { (0, _util.assert)(e._networkStream, "GetReader - no `IPDFStream` instance available."), e._fullReader = e._networkStream.getFullReader(), e._fullReader.onProgress = function (t) { e._lastProgress = { "loaded": t.loaded, "total": t.total } }, r.onPull = function () { e._fullReader.read().then(function (e) { var t = e.value; e.done ? r.close() : ((0, _util.assert)((0, _util.isArrayBuffer)(t), "GetReader - expected an ArrayBuffer."), r.enqueue(new Uint8Array(t), 1, [t])) }).catch(function (e) { r.error(e) }) }, r.onCancel = function (t) { e._fullReader.cancel(t), r.ready.catch(function (t) { if (!e.destroyed) throw t }) } }), t.on("ReaderHeadersReady", function (t) { var n = (0, _util.createPromiseCapability)(), o = e._fullReader; return o.headersReady.then(function () { if (!o.isStreamingSupported || !o.isRangeSupported) { var t; if (e._lastProgress) null === (t = r.onProgress) || void 0 === t || t.call(r, e._lastProgress); o.onProgress = function (e) { var t; null === (t = r.onProgress) || void 0 === t || t.call(r, { "loaded": e.loaded, "total": e.total }) } } n.resolve({ "isStreamingSupported": o.isStreamingSupported, "isRangeSupported": o.isRangeSupported, "contentLength": o.contentLength }) }, n.reject), n.promise }), t.on("GetRangeReader", function (t, r) { (0, _util.assert)(e._networkStream, "GetRangeReader - no `IPDFStream` instance available."); var n = e._networkStream.getRangeReader(t.begin, t.end); n ? (r.onPull = function () { n.read().then(function (e) { var t = e.value; e.done ? r.close() : ((0, _util.assert)((0, _util.isArrayBuffer)(t), "GetRangeReader - expected an ArrayBuffer."), r.enqueue(new Uint8Array(t), 1, [t])) }).catch(function (e) { r.error(e) }) }, r.onCancel = function (t) { n.cancel(t), r.ready.catch(function (t) { if (!e.destroyed) throw t }) }) : r.close() }), t.on("GetDoc", function (t) { var n = t.pdfInfo; e._numPages = n.numPages, e._htmlForXfa = n.htmlForXfa, delete n.htmlForXfa, r._capability.resolve(new PDFDocumentProxy(n, e)) }), t.on("DocException", function (e) { var t; switch (e.name) { case "PasswordException": t = new _util.PasswordException(e.message, e.code); break; case "InvalidPDFException": t = new _util.InvalidPDFException(e.message); break; case "MissingPDFException": t = new _util.MissingPDFException(e.message); break; case "UnexpectedResponseException": t = new _util.UnexpectedResponseException(e.message, e.status); break; case "UnknownErrorException": t = new _util.UnknownErrorException(e.message, e.details); break; default: (0, _util.unreachable)("DocException - expected a valid Error.") }r._capability.reject(t) }), t.on("PasswordRequest", function (t) { if (e._passwordCapability = (0, _util.createPromiseCapability)(), r.onPassword) { try { r.onPassword(function updatePassword(t) { e._passwordCapability.resolve({ "password": t }) }, t.code) } catch (t) { e._passwordCapability.reject(t) } } else e._passwordCapability.reject(new _util.PasswordException(t.message, t.code)); return e._passwordCapability.promise }), t.on("DataLoaded", function (t) { var n; null === (n = r.onProgress) || void 0 === n || n.call(r, { "loaded": t.length, "total": t.length }), e.downloadInfoCapability.resolve(t) }), t.on("StartRenderPage", function (t) { e.destroyed || _classPrivateFieldGet(e, _pageCache).get(t.pageIndex)._startRenderPage(t.transparency, t.cacheKey) }), t.on("commonobj", function (r) { var n, o = _slicedToArray(r, 3), i = o[0], a = o[1], s = o[2]; if (!e.destroyed && !e.commonObjs.has(i)) switch (a) { case "Font": var c = e._params; if ("error" in s) { var u = s.error; (0, _util.warn)("Error during font loading: ".concat(u)), e.commonObjs.resolve(i, u); break } var l = null; c.pdfBug && null !== (n = globalThis.FontInspector) && void 0 !== n && n.enabled && (l = { "registerFont": function registerFont(e, t) { globalThis.FontInspector.fontAdded(e, t) } }); var f = new _font_loader.FontFaceObject(s, { "isEvalSupported": c.isEvalSupported, "disableFontFace": c.disableFontFace, "ignoreErrors": c.ignoreErrors, "onUnsupportedFeature": e._onUnsupportedFeature.bind(e), "fontRegistry": l }); e.fontLoader.bind(f).catch(function (e) { return t.sendWithPromise("FontFallback", { "id": i }) }).finally(function () { !c.fontExtraProperties && f.data && (f.data = null), e.commonObjs.resolve(i, f) }); break; case "FontPath": case "Image": e.commonObjs.resolve(i, s); break; default: throw new Error("Got unknown common object type ".concat(a)) } }), t.on("obj", function (t) { var r, n = _slicedToArray(t, 4), o = n[0], i = n[1], a = n[2], s = n[3]; if (!e.destroyed) { var c = _classPrivateFieldGet(e, _pageCache).get(i); if (!c.objs.has(o)) switch (a) { case "Image": c.objs.resolve(o, s); (null == s ? void 0 : null === (r = s.data) || void 0 === r ? void 0 : r.length) > 8e6 && (c.cleanupAfterRender = !0); break; case "Pattern": c.objs.resolve(o, s); break; default: throw new Error("Got unknown object type ".concat(a)) } } }), t.on("DocProgress", function (t) { var n; e.destroyed || null === (n = r.onProgress) || void 0 === n || n.call(r, { "loaded": t.loaded, "total": t.total }) }), t.on("DocStats", function (t) { e.destroyed || _classPrivateFieldSet(e, _docStats, Object.freeze({ "streamTypes": Object.freeze(t.streamTypes), "fontTypes": Object.freeze(t.fontTypes) })) }), t.on("UnsupportedFeature", this._onUnsupportedFeature.bind(this)), t.on("FetchBuiltInCMap", function (t) { return e.destroyed ? Promise.reject(new Error("Worker was destroyed.")) : e.CMapReaderFactory ? e.CMapReaderFactory.fetch(t) : Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")) }), t.on("FetchStandardFontData", function (t) { return e.destroyed ? Promise.reject(new Error("Worker was destroyed.")) : e.StandardFontDataFactory ? e.StandardFontDataFactory.fetch(t) : Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")) }) } }, { "key": "_onUnsupportedFeature", "value": function _onUnsupportedFeature(e) { var t, r, n = e.featureId; this.destroyed || null === (t = (r = this.loadingTask).onUnsupportedFeature) || void 0 === t || t.call(r, n) } }, { "key": "getData", "value": function getData() { return this.messageHandler.sendWithPromise("GetData", null) } }, { "key": "getPage", "value": function getPage(e) { var t = this; if (!Number.isInteger(e) || e <= 0 || e > this._numPages) return Promise.reject(new Error("Invalid page request")); var r = e - 1, n = _classPrivateFieldGet(this, _pagePromises).get(r); if (n) return n; var o = this.messageHandler.sendWithPromise("GetPage", { "pageIndex": r }).then(function (e) { if (t.destroyed) throw new Error("Transport destroyed"); var n = new PDFPageProxy(r, e, t, t._params.ownerDocument, t._params.pdfBug); return _classPrivateFieldGet(t, _pageCache).set(r, n), n }); return _classPrivateFieldGet(this, _pagePromises).set(r, o), o } }, { "key": "getPageIndex", "value": function getPageIndex(e) { return this.messageHandler.sendWithPromise("GetPageIndex", { "ref": e }) } }, { "key": "getAnnotations", "value": function getAnnotations(e, t) { return this.messageHandler.sendWithPromise("GetAnnotations", { "pageIndex": e, "intent": t }) } }, { "key": "saveDocument", "value": function saveDocument() { var e, t, r = this; return this.messageHandler.sendWithPromise("SaveDocument", { "isPureXfa": !!this._htmlForXfa, "numPages": this._numPages, "annotationStorage": this.annotationStorage.serializable, "filename": null !== (e = null === (t = this._fullReader) || void 0 === t ? void 0 : t.filename) && void 0 !== e ? e : null }).finally(function () { r.annotationStorage.resetModified() }) } }, { "key": "getFieldObjects", "value": function getFieldObjects() { return this._getFieldObjectsPromise || (this._getFieldObjectsPromise = this.messageHandler.sendWithPromise("GetFieldObjects", null)) } }, { "key": "hasJSActions", "value": function hasJSActions() { return this._hasJSActionsPromise || (this._hasJSActionsPromise = this.messageHandler.sendWithPromise("HasJSActions", null)) } }, { "key": "getCalculationOrderIds", "value": function getCalculationOrderIds() { return this.messageHandler.sendWithPromise("GetCalculationOrderIds", null) } }, { "key": "getDestinations", "value": function getDestinations() { return this.messageHandler.sendWithPromise("GetDestinations", null) } }, { "key": "getDestination", "value": function getDestination(e) { return "string" != typeof e ? Promise.reject(new Error("Invalid destination request.")) : this.messageHandler.sendWithPromise("GetDestination", { "id": e }) } }, { "key": "getPageLabels", "value": function getPageLabels() { return this.messageHandler.sendWithPromise("GetPageLabels", null) } }, { "key": "getPageLayout", "value": function getPageLayout() { return this.messageHandler.sendWithPromise("GetPageLayout", null) } }, { "key": "getPageMode", "value": function getPageMode() { return this.messageHandler.sendWithPromise("GetPageMode", null) } }, { "key": "getViewerPreferences", "value": function getViewerPreferences() { return this.messageHandler.sendWithPromise("GetViewerPreferences", null) } }, { "key": "getOpenAction", "value": function getOpenAction() { return this.messageHandler.sendWithPromise("GetOpenAction", null) } }, { "key": "getAttachments", "value": function getAttachments() { return this.messageHandler.sendWithPromise("GetAttachments", null) } }, { "key": "getJavaScript", "value": function getJavaScript() { return this.messageHandler.sendWithPromise("GetJavaScript", null) } }, { "key": "getDocJSActions", "value": function getDocJSActions() { return this.messageHandler.sendWithPromise("GetDocJSActions", null) } }, { "key": "getPageJSActions", "value": function getPageJSActions(e) { return this.messageHandler.sendWithPromise("GetPageJSActions", { "pageIndex": e }) } }, { "key": "getStructTree", "value": function getStructTree(e) { return this.messageHandler.sendWithPromise("GetStructTree", { "pageIndex": e }) } }, { "key": "getOutline", "value": function getOutline() { return this.messageHandler.sendWithPromise("GetOutline", null) } }, { "key": "getOptionalContentConfig", "value": function getOptionalContentConfig() { return this.messageHandler.sendWithPromise("GetOptionalContentConfig", null).then(function (e) { return new _optional_content_config.OptionalContentConfig(e) }) } }, { "key": "getPermissions", "value": function getPermissions() { return this.messageHandler.sendWithPromise("GetPermissions", null) } }, { "key": "getMetadata", "value": function getMetadata() { var e = this; return _classPrivateFieldGet(this, _metadataPromise) || _classPrivateFieldSet(this, _metadataPromise, this.messageHandler.sendWithPromise("GetMetadata", null).then(function (t) { var r, n, o, i; return { "info": t[0], "metadata": t[1] ? new _metadata.Metadata(t[1]) : null, "contentDispositionFilename": null !== (r = null === (n = e._fullReader) || void 0 === n ? void 0 : n.filename) && void 0 !== r ? r : null, "contentLength": null !== (o = null === (i = e._fullReader) || void 0 === i ? void 0 : i.contentLength) && void 0 !== o ? o : null } })) } }, { "key": "getMarkInfo", "value": function getMarkInfo() { return this.messageHandler.sendWithPromise("GetMarkInfo", null) } }, { "key": "startCleanup", "value": function () { var e = _asyncToGenerator(_regenerator.default.mark(function _callee5() { var e, t, r, n, o = arguments; return _regenerator.default.wrap(function _callee5$(i) { for (; ;)switch (i.prev = i.next) { case 0: return e = o.length > 0 && void 0 !== o[0] && o[0], i.next = 3, this.messageHandler.sendWithPromise("Cleanup", null); case 3: if (!this.destroyed) { i.next = 5; break } return i.abrupt("return"); case 5: t = _createForOfIteratorHelper(_classPrivateFieldGet(this, _pageCache).values()), i.prev = 6, t.s(); case 8: if ((r = t.n()).done) { i.next = 15; break } if (n = r.value, n.cleanup()) { i.next = 13; break } throw new Error("startCleanup: Page ".concat(n.pageNumber, " is currently rendering.")); case 13: i.next = 8; break; case 15: i.next = 20; break; case 17: i.prev = 17, i.t0 = i.catch(6), t.e(i.t0); case 20: return i.prev = 20, t.f(), i.finish(20); case 23: this.commonObjs.clear(), e || this.fontLoader.clear(), _classPrivateFieldSet(this, _metadataPromise, null), this._getFieldObjectsPromise = null, this._hasJSActionsPromise = null; case 28: case "end": return i.stop() } }, _callee5, this, [[6, 17, 20, 23]]) })); return function startCleanup() { return e.apply(this, arguments) } }() }, { "key": "loadingParams", "get": function get() { var e = this._params; return (0, _util.shadow)(this, "loadingParams", { "disableAutoFetch": e.disableAutoFetch, "enableXfa": e.enableXfa }) } }]), WorkerTransport }(), PDFObjects = function () { function PDFObjects() { _classCallCheck(this, PDFObjects), this._objs = Object.create(null) } return _createClass(PDFObjects, [{ "key": "_ensureObj", "value": function _ensureObj(e) { return this._objs[e] ? this._objs[e] : this._objs[e] = { "capability": (0, _util.createPromiseCapability)(), "data": null, "resolved": !1 } } }, { "key": "get", "value": function get(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; if (t) return this._ensureObj(e).capability.promise.then(t), null; var r = this._objs[e]; if (!r || !r.resolved) throw new Error("Requesting object that isn't resolved yet ".concat(e, ".")); return r.data } }, { "key": "has", "value": function has(e) { var t = this._objs[e]; return (null == t ? void 0 : t.resolved) || !1 } }, { "key": "resolve", "value": function resolve(e, t) { var r = this._ensureObj(e); r.resolved = !0, r.data = t, r.capability.resolve(t) } }, { "key": "clear", "value": function clear() { this._objs = Object.create(null) } }]), PDFObjects }(), RenderTask = function () { function RenderTask(e) { _classCallCheck(this, RenderTask), this._internalRenderTask = e, this.onContinue = null } return _createClass(RenderTask, [{ "key": "promise", "get": function get() { return this._internalRenderTask.capability.promise } }, { "key": "cancel", "value": function cancel() { this._internalRenderTask.cancel() } }]), RenderTask }(); exports.RenderTask = RenderTask; var InternalRenderTask = function () { function InternalRenderTask(e) { var t = e.callback, r = e.params, n = e.objs, o = e.commonObjs, i = e.annotationCanvasMap, a = e.operatorList, s = e.pageIndex, c = e.canvasFactory, u = e.useRequestAnimationFrame, l = void 0 !== u && u, f = e.pdfBug, d = void 0 !== f && f; _classCallCheck(this, InternalRenderTask), this.callback = t, this.params = r, this.objs = n, this.commonObjs = o, this.annotationCanvasMap = i, this.operatorListIdx = null, this.operatorList = a, this._pageIndex = s, this.canvasFactory = c, this._pdfBug = d, this.running = !1, this.graphicsReadyCallback = null, this.graphicsReady = !1, this._useRequestAnimationFrame = !0 === l && "undefined" != typeof window, this.cancelled = !1, this.capability = (0, _util.createPromiseCapability)(), this.task = new RenderTask(this), this._cancelBound = this.cancel.bind(this), this._continueBound = this._continue.bind(this), this._scheduleNextBound = this._scheduleNext.bind(this), this._nextBound = this._next.bind(this), this._canvas = r.canvasContext.canvas } return _createClass(InternalRenderTask, [{ "key": "completed", "get": function get() { return this.capability.promise.catch(function () { }) } }, { "key": "initializeGraphics", "value": function initializeGraphics(e) { var t, r = e.transparency, n = void 0 !== r && r, o = e.optionalContentConfig; if (!this.cancelled) { if (this._canvas) { if (InternalRenderTask.canvasInUse.has(this._canvas)) throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed."); InternalRenderTask.canvasInUse.add(this._canvas) } this._pdfBug && null !== (t = globalThis.StepperManager) && void 0 !== t && t.enabled && (this.stepper = globalThis.StepperManager.create(this._pageIndex), this.stepper.init(this.operatorList), this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint()); var i = this.params, a = i.canvasContext, s = i.viewport, c = i.transform, u = i.imageLayer, l = i.background; this.gfx = new _canvas.CanvasGraphics(a, this.commonObjs, this.objs, this.canvasFactory, u, o, this.annotationCanvasMap), this.gfx.beginDrawing({ "transform": c, "viewport": s, "transparency": n, "background": l }), this.operatorListIdx = 0, this.graphicsReady = !0, this.graphicsReadyCallback && this.graphicsReadyCallback() } } }, { "key": "cancel", "value": function cancel() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null; this.running = !1, this.cancelled = !0, this.gfx && this.gfx.endDrawing(), this._canvas && InternalRenderTask.canvasInUse.delete(this._canvas), this.callback(e || new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex + 1), "canvas")) } }, { "key": "operatorListChanged", "value": function operatorListChanged() { this.graphicsReady ? (this.stepper && this.stepper.updateOperatorList(this.operatorList), this.running || this._continue()) : this.graphicsReadyCallback || (this.graphicsReadyCallback = this._continueBound) } }, { "key": "_continue", "value": function _continue() { this.running = !0, this.cancelled || (this.task.onContinue ? this.task.onContinue(this._scheduleNextBound) : this._scheduleNext()) } }, { "key": "_scheduleNext", "value": function _scheduleNext() { var e = this; this._useRequestAnimationFrame ? window.requestAnimationFrame(function () { e._nextBound().catch(e._cancelBound) }) : Promise.resolve().then(this._nextBound).catch(this._cancelBound) } }, { "key": "_next", "value": function () { var e = _asyncToGenerator(_regenerator.default.mark(function _callee6() { return _regenerator.default.wrap(function _callee6$(e) { for (; ;)switch (e.prev = e.next) { case 0: if (!this.cancelled) { e.next = 2; break } return e.abrupt("return"); case 2: this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper), this.operatorListIdx === this.operatorList.argsArray.length && (this.running = !1, this.operatorList.lastChunk && (this.gfx.endDrawing(), this._canvas && InternalRenderTask.canvasInUse.delete(this._canvas), this.callback())); case 4: case "end": return e.stop() } }, _callee6, this) })); return function _next() { return e.apply(this, arguments) } }() }], [{ "key": "canvasInUse", "get": function get() { return (0, _util.shadow)(this, "canvasInUse", new WeakSet) } }]), InternalRenderTask }(), version = "2.12.313"; exports.version = version; var build = "a2ae56f39"; exports.build = build }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.FontLoader = t.FontFaceObject = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4); function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var i, a = function () { function BaseFontLoader(e) { var t = e.docId, r = e.onUnsupportedFeature, n = e.ownerDocument, i = void 0 === n ? globalThis.document : n; e.styleElement; _classCallCheck(this, BaseFontLoader), this.constructor === BaseFontLoader && (0, o.unreachable)("Cannot initialize BaseFontLoader."), this.docId = t, this._onUnsupportedFeature = r, this._document = i, this.nativeFontFaces = [], this.styleElement = null } return _createClass(BaseFontLoader, [{ "key": "addNativeFontFace", "value": function addNativeFontFace(e) { this.nativeFontFaces.push(e), this._document.fonts.add(e) } }, { "key": "insertRule", "value": function insertRule(e) { var t = this.styleElement; t || ((t = this.styleElement = this._document.createElement("style")).id = "PDFJS_FONT_STYLE_TAG_".concat(this.docId), this._document.documentElement.getElementsByTagName("head")[0].appendChild(t)); var r = t.sheet; r.insertRule(e, r.cssRules.length) } }, { "key": "clear", "value": function clear() { var e, t = _createForOfIteratorHelper(this.nativeFontFaces); try { for (t.s(); !(e = t.n()).done;) { var r = e.value; this._document.fonts.delete(r) } } catch (e) { t.e(e) } finally { t.f() } this.nativeFontFaces.length = 0, this.styleElement && (this.styleElement.remove(), this.styleElement = null) } }, { "key": "bind", "value": function () { var e = function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } }(n.default.mark(function _callee(e) { var t, r, i = this; return n.default.wrap(function _callee$(n) { for (; ;)switch (n.prev = n.next) { case 0: if (!e.attached && !e.missingFile) { n.next = 2; break } return n.abrupt("return"); case 2: if (e.attached = !0, !this.isFontLoadingAPISupported) { n.next = 19; break } if (!(t = e.createNativeFontFace())) { n.next = 18; break } return this.addNativeFontFace(t), n.prev = 7, n.next = 10, t.loaded; case 10: n.next = 18; break; case 12: throw n.prev = 12, n.t0 = n.catch(7), this._onUnsupportedFeature({ "featureId": o.UNSUPPORTED_FEATURES.errorFontLoadNative }), (0, o.warn)("Failed to load font '".concat(t.family, "': '").concat(n.t0, "'.")), e.disableFontFace = !0, n.t0; case 18: return n.abrupt("return"); case 19: if (!(r = e.createFontFaceRule())) { n.next = 26; break } if (this.insertRule(r), !this.isSyncFontLoadingSupported) { n.next = 24; break } return n.abrupt("return"); case 24: return n.next = 26, new Promise(function (t) { var n = i._queueLoadingCallback(t); i._prepareFontLoadEvent([r], [e], n) }); case 26: case "end": return n.stop() } }, _callee, this, [[7, 12]]) })); return function bind(t) { return e.apply(this, arguments) } }() }, { "key": "_queueLoadingCallback", "value": function _queueLoadingCallback(e) { (0, o.unreachable)("Abstract method `_queueLoadingCallback`.") } }, { "key": "isFontLoadingAPISupported", "get": function get() { var e, t = !(null === (e = this._document) || void 0 === e || !e.fonts); return (0, o.shadow)(this, "isFontLoadingAPISupported", t) } }, { "key": "isSyncFontLoadingSupported", "get": function get() { (0, o.unreachable)("Abstract method `isSyncFontLoadingSupported`.") } }, { "key": "_loadTestFont", "get": function get() { (0, o.unreachable)("Abstract method `_loadTestFont`.") } }, { "key": "_prepareFontLoadEvent", "value": function _prepareFontLoadEvent(e, t, r) { (0, o.unreachable)("Abstract method `_prepareFontLoadEvent`.") } }]), BaseFontLoader }(); t.FontLoader = i, t.FontLoader = i = function (e) { !function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) }(GenericFontLoader, a); var t = _createSuper(GenericFontLoader); function GenericFontLoader(e) { var r; return _classCallCheck(this, GenericFontLoader), (r = t.call(this, e)).loadingContext = { "requests": [], "nextRequestId": 0 }, r.loadTestFontId = 0, r } return _createClass(GenericFontLoader, [{ "key": "isSyncFontLoadingSupported", "get": function get() { var e = !1; if ("undefined" == typeof navigator) e = !0; else { var t = /Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent); (null == t ? void 0 : t[1]) >= 14 && (e = !0) } return (0, o.shadow)(this, "isSyncFontLoadingSupported", e) } }, { "key": "_queueLoadingCallback", "value": function _queueLoadingCallback(e) { var t = this.loadingContext, r = { "id": "pdfjs-font-loading-".concat(t.nextRequestId++), "done": !1, "complete": function completeRequest() { for ((0, o.assert)(!r.done, "completeRequest() cannot be called twice."), r.done = !0; t.requests.length > 0 && t.requests[0].done;) { var e = t.requests.shift(); setTimeout(e.callback, 0) } }, "callback": e }; return t.requests.push(r), r } }, { "key": "_loadTestFont", "get": function get() { return (0, o.shadow)(this, "_loadTestFont", function getLoadTestFont() { return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==") }()) } }, { "key": "_prepareFontLoadEvent", "value": function _prepareFontLoadEvent(e, t, r) { function int32(e, t) { return e.charCodeAt(t) << 24 | e.charCodeAt(t + 1) << 16 | e.charCodeAt(t + 2) << 8 | 255 & e.charCodeAt(t + 3) } function spliceString(e, t, r, n) { return e.substring(0, t) + n + e.substring(t + r) } var n, i, a = this._document.createElement("canvas"); a.width = 1, a.height = 1; var s = a.getContext("2d"), c = 0; var u = "lt".concat(Date.now()).concat(this.loadTestFontId++), l = this._loadTestFont, f = int32(l = spliceString(l, 976, u.length, u), 16); for (n = 0, i = u.length - 3; n < i; n += 4)f = f - 1482184792 + int32(u, n) | 0; n < u.length && (f = f - 1482184792 + int32(u + "XXX", n) | 0), l = spliceString(l, 16, 4, (0, o.string32)(f)); var d = "url(data:font/opentype;base64,".concat(btoa(l), ");"), p = '@font-face {font-family:"'.concat(u, '";src:').concat(d, "}"); this.insertRule(p); var h, m = [], g = _createForOfIteratorHelper(t); try { for (g.s(); !(h = g.n()).done;) { var v = h.value; m.push(v.loadedName) } } catch (e) { g.e(e) } finally { g.f() } m.push(u); var y = this._document.createElement("div"); y.style.visibility = "hidden", y.style.width = y.style.height = "10px", y.style.position = "absolute", y.style.top = y.style.left = "0px"; for (var b = 0, S = m; b < S.length; b++) { var _ = S[b], w = this._document.createElement("span"); w.textContent = "Hi", w.style.fontFamily = _, y.appendChild(w) } this._document.body.appendChild(y), function isFontReady(e, t) { if (++c > 30) return (0, o.warn)("Load test font never loaded."), void t(); s.font = "30px " + e, s.fillText(".", 0, 20), s.getImageData(0, 0, 1, 1).data[3] > 0 ? t() : setTimeout(isFontReady.bind(null, e, t)) }(u, function () { y.remove(), r.complete() }) } }]), GenericFontLoader }(); var s = function () { function FontFaceObject(e, t) { var r = t.isEvalSupported, n = void 0 === r || r, o = t.disableFontFace, i = void 0 !== o && o, a = t.ignoreErrors, s = void 0 !== a && a, c = t.onUnsupportedFeature, u = t.fontRegistry, l = void 0 === u ? null : u; for (var f in _classCallCheck(this, FontFaceObject), this.compiledGlyphs = Object.create(null), e) this[f] = e[f]; this.isEvalSupported = !1 !== n, this.disableFontFace = !0 === i, this.ignoreErrors = !0 === s, this._onUnsupportedFeature = c, this.fontRegistry = l } return _createClass(FontFaceObject, [{ "key": "createNativeFontFace", "value": function createNativeFontFace() { if (!this.data || this.disableFontFace) return null; var e; if (this.cssFontInfo) { var t = { "weight": this.cssFontInfo.fontWeight }; this.cssFontInfo.italicAngle && (t.style = "oblique ".concat(this.cssFontInfo.italicAngle, "deg")), e = new FontFace(this.cssFontInfo.fontFamily, this.data, t) } else e = new FontFace(this.loadedName, this.data, {}); return this.fontRegistry && this.fontRegistry.registerFont(this), e } }, { "key": "createFontFaceRule", "value": function createFontFaceRule() { if (!this.data || this.disableFontFace) return null; var e, t = (0, o.bytesToString)(this.data), r = "url(data:".concat(this.mimetype, ";base64,").concat(btoa(t), ");"); if (this.cssFontInfo) { var n = "font-weight: ".concat(this.cssFontInfo.fontWeight, ";"); this.cssFontInfo.italicAngle && (n += "font-style: oblique ".concat(this.cssFontInfo.italicAngle, "deg;")), e = '@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily, '";').concat(n, "src:").concat(r, "}") } else e = '@font-face {font-family:"'.concat(this.loadedName, '";src:').concat(r, "}"); return this.fontRegistry && this.fontRegistry.registerFont(this, r), e } }, { "key": "getPathGenerator", "value": function getPathGenerator(e, t) { if (void 0 !== this.compiledGlyphs[t]) return this.compiledGlyphs[t]; var r; try { r = e.get(this.loadedName + "_path_" + t) } catch (e) { if (!this.ignoreErrors) throw e; return this._onUnsupportedFeature({ "featureId": o.UNSUPPORTED_FEATURES.errorFontGetPath }), (0, o.warn)('getPathGenerator - ignoring character: "'.concat(e, '".')), this.compiledGlyphs[t] = function (e, t) { } } if (this.isEvalSupported && o.IsEvalSupportedCached.value) { var n, i = [], a = _createForOfIteratorHelper(r); try { for (a.s(); !(n = a.n()).done;) { var s = n.value, c = void 0 !== s.args ? s.args.join(",") : ""; i.push("c.", s.cmd, "(", c, ");\n") } } catch (e) { a.e(e) } finally { a.f() } return this.compiledGlyphs[t] = new Function("c", "size", i.join("")) } return this.compiledGlyphs[t] = function (e, t) { var n, o = _createForOfIteratorHelper(r); try { for (o.s(); !(n = o.n()).done;) { var i = n.value; "scale" === i.cmd && (i.args = [t, -t]), e[i.cmd].apply(e, i.args) } } catch (e) { o.e(e) } finally { o.f() } } } }]), FontFaceObject }(); t.FontFaceObject = s }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.NodeStandardFontDataFactory = t.NodeCanvasFactory = t.NodeCMapReaderFactory = void 0; var n = r(135), o = r(6), i = r(4); function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var a = function NodeCanvasFactory() { _classCallCheck(this, NodeCanvasFactory), (0, i.unreachable)("Not implemented: NodeCanvasFactory") }; t.NodeCanvasFactory = a; var s = function NodeCMapReaderFactory() { _classCallCheck(this, NodeCMapReaderFactory), (0, i.unreachable)("Not implemented: NodeCMapReaderFactory") }; t.NodeCMapReaderFactory = s; var c = function NodeStandardFontDataFactory() { _classCallCheck(this, NodeStandardFontDataFactory), (0, i.unreachable)("Not implemented: NodeStandardFontDataFactory") }; if (t.NodeStandardFontDataFactory = c, o.isNodeJS) { var u = function fetchData(e) { return new Promise(function (t, r) { __webpack_require__(75).readFile(e, function (e, n) { !e && n ? t(new Uint8Array(n)) : r(new Error(e)) }) }) }; t.NodeCanvasFactory = a = function (e) { _inherits(NodeCanvasFactory, n.BaseCanvasFactory); var t = _createSuper(NodeCanvasFactory); function NodeCanvasFactory() { return _classCallCheck(this, NodeCanvasFactory), t.apply(this, arguments) } return _createClass(NodeCanvasFactory, [{ "key": "_createCanvas", "value": function _createCanvas(e, t) { return __webpack_require__(200).createCanvas(e, t) } }]), NodeCanvasFactory }(), t.NodeCMapReaderFactory = s = function (e) { _inherits(NodeCMapReaderFactory, n.BaseCMapReaderFactory); var t = _createSuper(NodeCMapReaderFactory); function NodeCMapReaderFactory() { return _classCallCheck(this, NodeCMapReaderFactory), t.apply(this, arguments) } return _createClass(NodeCMapReaderFactory, [{ "key": "_fetchData", "value": function _fetchData(e, t) { return u(e).then(function (e) { return { "cMapData": e, "compressionType": t } }) } }]), NodeCMapReaderFactory }(), t.NodeStandardFontDataFactory = c = function (e) { _inherits(NodeStandardFontDataFactory, n.BaseStandardFontDataFactory); var t = _createSuper(NodeStandardFontDataFactory); function NodeStandardFontDataFactory() { return _classCallCheck(this, NodeStandardFontDataFactory), t.apply(this, arguments) } return _createClass(NodeStandardFontDataFactory, [{ "key": "_fetchData", "value": function _fetchData(e) { return u(e) } }]), NodeStandardFontDataFactory }() } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.AnnotationStorage = void 0; var n = r(4); function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var o = function () { function AnnotationStorage() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, AnnotationStorage), this._storage = new Map, this._timeStamp = Date.now(), this._modified = !1, this.onSetModified = null, this.onResetModified = null } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(AnnotationStorage, [{ "key": "getValue", "value": function getValue(e, t) { var r = this._storage.get(e); return void 0 === r ? t : Object.assign(t, r) } }, { "key": "setValue", "value": function setValue(e, t) { var r = this._storage.get(e), n = !1; if (void 0 !== r) for (var o = 0, i = Object.entries(t); o < i.length; o++) { var a = _slicedToArray(i[o], 2), s = a[0], c = a[1]; r[s] !== c && (n = !0, r[s] = c) } else n = !0, this._storage.set(e, t); n && (this._timeStamp = Date.now(), this._setModified()) } }, { "key": "getAll", "value": function getAll() { return this._storage.size > 0 ? (0, n.objectFromMap)(this._storage) : null } }, { "key": "size", "get": function get() { return this._storage.size } }, { "key": "_setModified", "value": function _setModified() { this._modified || (this._modified = !0, "function" == typeof this.onSetModified && this.onSetModified()) } }, { "key": "resetModified", "value": function resetModified() { this._modified && (this._modified = !1, "function" == typeof this.onResetModified && this.onResetModified()) } }, { "key": "serializable", "get": function get() { return this._storage.size > 0 ? this._storage : null } }, { "key": "lastModified", "get": function get() { return this._timeStamp.toString() } }]), AnnotationStorage }(); t.AnnotationStorage = o }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.CanvasGraphics = void 0; var n = r(4), o = r(141), i = r(1); function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var a = 16, s = 1.000001; function addContextCurrentTransform(e) { if (!e.mozCurrentTransform) { e._originalSave = e.save, e._originalRestore = e.restore, e._originalRotate = e.rotate, e._originalScale = e.scale, e._originalTranslate = e.translate, e._originalTransform = e.transform, e._originalSetTransform = e.setTransform, e._originalResetTransform = e.resetTransform, e._transformMatrix = e._transformMatrix || [1, 0, 0, 1, 0, 0], e._transformStack = []; try { var t = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e), "lineWidth"); e._setLineWidth = t.set, e._getLineWidth = t.get, Object.defineProperty(e, "lineWidth", { "set": function setLineWidth(e) { this._setLineWidth(e * s) }, "get": function getLineWidth() { return this._getLineWidth() } }) } catch (e) { } Object.defineProperty(e, "mozCurrentTransform", { "get": function getCurrentTransform() { return this._transformMatrix } }), Object.defineProperty(e, "mozCurrentTransformInverse", { "get": function getCurrentTransformInverse() { var e = _slicedToArray(this._transformMatrix, 6), t = e[0], r = e[1], n = e[2], o = e[3], i = e[4], a = e[5], s = t * o - r * n, c = r * n - t * o; return [o / s, r / c, n / c, t / s, (o * i - n * a) / c, (r * i - t * a) / s] } }), e.save = function ctxSave() { var e = this._transformMatrix; this._transformStack.push(e), this._transformMatrix = e.slice(0, 6), this._originalSave() }, e.restore = function ctxRestore() { var e = this._transformStack.pop(); e && (this._transformMatrix = e, this._originalRestore()) }, e.translate = function ctxTranslate(e, t) { var r = this._transformMatrix; r[4] = r[0] * e + r[2] * t + r[4], r[5] = r[1] * e + r[3] * t + r[5], this._originalTranslate(e, t) }, e.scale = function ctxScale(e, t) { var r = this._transformMatrix; r[0] *= e, r[1] *= e, r[2] *= t, r[3] *= t, this._originalScale(e, t) }, e.transform = function ctxTransform(t, r, n, o, i, a) { var s = this._transformMatrix; this._transformMatrix = [s[0] * t + s[2] * r, s[1] * t + s[3] * r, s[0] * n + s[2] * o, s[1] * n + s[3] * o, s[0] * i + s[2] * a + s[4], s[1] * i + s[3] * a + s[5]], e._originalTransform(t, r, n, o, i, a) }, e.setTransform = function ctxSetTransform(t, r, n, o, i, a) { this._transformMatrix = [t, r, n, o, i, a], e._originalSetTransform(t, r, n, o, i, a) }, e.resetTransform = function ctxResetTransform() { this._transformMatrix = [1, 0, 0, 1, 0, 0], e._originalResetTransform() }, e.rotate = function ctxRotate(e) { var t = Math.cos(e), r = Math.sin(e), n = this._transformMatrix; this._transformMatrix = [n[0] * t + n[2] * r, n[1] * t + n[3] * r, n[0] * -r + n[2] * t, n[1] * -r + n[3] * t, n[4], n[5]], this._originalRotate(e) } } } var c = function () { function CachedCanvases(e) { _classCallCheck(this, CachedCanvases), this.canvasFactory = e, this.cache = Object.create(null) } return _createClass(CachedCanvases, [{ "key": "getCanvas", "value": function getCanvas(e, t, r, n) { var o; return void 0 !== this.cache[e] ? (o = this.cache[e], this.canvasFactory.reset(o, t, r), o.context.setTransform(1, 0, 0, 1, 0, 0)) : (o = this.canvasFactory.create(t, r), this.cache[e] = o), n && addContextCurrentTransform(o.context), o } }, { "key": "clear", "value": function clear() { for (var e in this.cache) { var t = this.cache[e]; this.canvasFactory.destroy(t), delete this.cache[e] } } }]), CachedCanvases }(); var u = function () { function CanvasExtraState(e, t) { _classCallCheck(this, CanvasExtraState), this.alphaIsShape = !1, this.fontSize = 0, this.fontSizeScale = 1, this.textMatrix = n.IDENTITY_MATRIX, this.textMatrixScale = 1, this.fontMatrix = n.FONT_IDENTITY_MATRIX, this.leading = 0, this.x = 0, this.y = 0, this.lineX = 0, this.lineY = 0, this.charSpacing = 0, this.wordSpacing = 0, this.textHScale = 1, this.textRenderingMode = n.TextRenderingMode.FILL, this.textRise = 0, this.fillColor = "#000000", this.strokeColor = "#000000", this.patternFill = !1, this.fillAlpha = 1, this.strokeAlpha = 1, this.lineWidth = 1, this.activeSMask = null, this.transferMaps = null, this.startNewPathAndClipBox([0, 0, e, t]) } return _createClass(CanvasExtraState, [{ "key": "clone", "value": function clone() { var clone = Object.create(this); return clone.clipBox = this.clipBox.slice(), clone } }, { "key": "setCurrentPoint", "value": function setCurrentPoint(e, t) { this.x = e, this.y = t } }, { "key": "updatePathMinMax", "value": function updatePathMinMax(e, t, r) { var o = _slicedToArray(n.Util.applyTransform([t, r], e), 2); t = o[0], r = o[1], this.minX = Math.min(this.minX, t), this.minY = Math.min(this.minY, r), this.maxX = Math.max(this.maxX, t), this.maxY = Math.max(this.maxY, r) } }, { "key": "updateCurvePathMinMax", "value": function updateCurvePathMinMax(e, t, r, o, i, a, s, c, u) { var l = n.Util.bezierBoundingBox(t, r, o, i, a, s, c, u); this.updatePathMinMax(e, l[0], l[1]), this.updatePathMinMax(e, l[2], l[3]) } }, { "key": "getPathBoundingBox", "value": function getPathBoundingBox() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o.PathType.FILL, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r = [this.minX, this.minY, this.maxX, this.maxY]; if (e === o.PathType.STROKE) { t || (0, n.unreachable)("Stroke bounding box must include transform."); var i = n.Util.singularValueDecompose2dScale(t), a = i[0] * this.lineWidth / 2, s = i[1] * this.lineWidth / 2; r[0] -= a, r[1] -= s, r[2] += a, r[3] += s } return r } }, { "key": "updateClipFromPath", "value": function updateClipFromPath() { var e = n.Util.intersect(this.clipBox, this.getPathBoundingBox()); this.startNewPathAndClipBox(e || [0, 0, 0, 0]) } }, { "key": "startNewPathAndClipBox", "value": function startNewPathAndClipBox(e) { this.clipBox = e, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = 0, this.maxY = 0 } }, { "key": "getClippedPathBoundingBox", "value": function getClippedPathBoundingBox() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o.PathType.FILL, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; return n.Util.intersect(this.clipBox, this.getPathBoundingBox(e, t)) } }]), CanvasExtraState }(); function putBinaryImageData(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; if ("undefined" != typeof ImageData && t instanceof ImageData) e.putImageData(t, 0, 0); else { var o, i, s, c, u, l, f, d, p, h = t.height, m = t.width, g = h % a, v = (h - g) / a, y = 0 === g ? v : v + 1, b = e.createImageData(m, a), S = 0, _ = t.data, w = b.data; if (r) switch (r.length) { case 1: l = r[0], f = r[0], d = r[0], p = r[0]; break; case 4: l = r[0], f = r[1], d = r[2], p = r[3] }if (t.kind === n.ImageKind.GRAYSCALE_1BPP) { var A = _.byteLength, C = new Uint32Array(w.buffer, 0, w.byteLength >> 2), T = C.length, P = m + 7 >> 3, k = 4294967295, E = n.IsLittleEndianCached.value ? 4278190080 : 255; if (p && 255 === p[0] && 0 === p[255]) { var x = [E, k]; k = x[0], E = x[1] } for (i = 0; i < y; i++) { for (c = i < v ? a : g, o = 0, s = 0; s < c; s++) { for (var O = A - S, I = 0, R = O > P ? m : 8 * O - 7, M = -8 & R, B = 0, D = 0; I < M; I += 8)D = _[S++], C[o++] = 128 & D ? k : E, C[o++] = 64 & D ? k : E, C[o++] = 32 & D ? k : E, C[o++] = 16 & D ? k : E, C[o++] = 8 & D ? k : E, C[o++] = 4 & D ? k : E, C[o++] = 2 & D ? k : E, C[o++] = 1 & D ? k : E; for (; I < R; I++)0 === B && (D = _[S++], B = 128), C[o++] = D & B ? k : E, B >>= 1 } for (; o < T;)C[o++] = 0; e.putImageData(b, 0, i * a) } } else if (t.kind === n.ImageKind.RGBA_32BPP) { var j = !!(l || f || d); for (s = 0, u = m * a * 4, i = 0; i < v; i++) { if (w.set(_.subarray(S, S + u)), S += u, j) for (var F = 0; F < u; F += 4)l && (w[F + 0] = l[w[F + 0]]), f && (w[F + 1] = f[w[F + 1]]), d && (w[F + 2] = d[w[F + 2]]); e.putImageData(b, 0, s), s += a } if (i < y) { if (u = m * g * 4, w.set(_.subarray(S, S + u)), j) for (var L = 0; L < u; L += 4)l && (w[L + 0] = l[w[L + 0]]), f && (w[L + 1] = f[w[L + 1]]), d && (w[L + 2] = d[w[L + 2]]); e.putImageData(b, 0, s) } } else { if (t.kind !== n.ImageKind.RGB_24BPP) throw new Error("bad image kind: ".concat(t.kind)); var N = !!(l || f || d); for (u = m * (c = a), i = 0; i < y; i++) { for (i >= v && (u = m * (c = g)), o = 0, s = u; s--;)w[o++] = _[S++], w[o++] = _[S++], w[o++] = _[S++], w[o++] = 255; if (N) for (var H = 0; H < o; H += 4)l && (w[H + 0] = l[w[H + 0]]), f && (w[H + 1] = f[w[H + 1]]), d && (w[H + 2] = d[w[H + 2]]); e.putImageData(b, 0, i * a) } } } } function putBinaryImageMask(e, t) { for (var r = t.height, n = t.width, o = r % a, i = (r - o) / a, s = 0 === o ? i : i + 1, c = e.createImageData(n, a), u = 0, l = t.data, f = c.data, d = 0; d < s; d++) { for (var p = d < i ? a : o, h = 3, m = 0; m < p; m++)for (var g = void 0, v = 0, y = 0; y < n; y++)v || (g = l[u++], v = 128), f[h] = g & v ? 0 : 255, h += 4, v >>= 1; e.putImageData(c, 0, d * a) } } function copyCtxState(e, t) { for (var r = ["strokeStyle", "fillStyle", "fillRule", "globalAlpha", "lineWidth", "lineCap", "lineJoin", "miterLimit", "globalCompositeOperation", "font"], n = 0, o = r.length; n < o; n++) { var i = r[n]; void 0 !== e[i] && (t[i] = e[i]) } void 0 !== e.setLineDash && (t.setLineDash(e.getLineDash()), t.lineDashOffset = e.lineDashOffset) } function resetCtxToDefault(e) { e.strokeStyle = "#000000", e.fillStyle = "#000000", e.fillRule = "nonzero", e.globalAlpha = 1, e.lineWidth = 1, e.lineCap = "butt", e.lineJoin = "miter", e.miterLimit = 10, e.globalCompositeOperation = "source-over", e.font = "10px sans-serif", void 0 !== e.setLineDash && (e.setLineDash([]), e.lineDashOffset = 0) } function composeSMaskBackdrop(e, t, r, n) { for (var o = e.length, i = 3; i < o; i += 4) { var a = e[i]; if (0 === a) e[i - 3] = t, e[i - 2] = r, e[i - 1] = n; else if (a < 255) { var s = 255 - a; e[i - 3] = e[i - 3] * a + t * s >> 8, e[i - 2] = e[i - 2] * a + r * s >> 8, e[i - 1] = e[i - 1] * a + n * s >> 8 } } } function composeSMaskAlpha(e, t, r) { for (var n = e.length, o = 3; o < n; o += 4) { var i = r ? r[e[o]] : e[o]; t[o] = t[o] * i * (1 / 255) | 0 } } function composeSMaskLuminosity(e, t, r) { for (var n = e.length, o = 3; o < n; o += 4) { var i = 77 * e[o - 3] + 152 * e[o - 2] + 28 * e[o - 1]; t[o] = r ? t[o] * r[i >> 8] >> 8 : t[o] * i >> 16 } } function composeSMask(e, t, r, n) { var o = n[0], i = n[1], a = n[2] - o, s = n[3] - i; 0 !== a && 0 !== s && (!function genericComposeSMask(e, t, r, n, o, i, a, s, c, u, l) { var f, d = !!i, p = d ? i[0] : 0, h = d ? i[1] : 0, m = d ? i[2] : 0; f = "Luminosity" === o ? composeSMaskLuminosity : composeSMaskAlpha; for (var g = Math.min(n, Math.ceil(1048576 / r)), v = 0; v < n; v += g) { var y = Math.min(g, n - v), b = e.getImageData(s - u, v + (c - l), r, y), S = t.getImageData(s, v + c, r, y); d && composeSMaskBackdrop(b.data, p, h, m), f(b.data, S.data, a), t.putImageData(S, s, v + c) } }(t.context, r, a, s, t.subtype, t.backdrop, t.transferMap, o, i, t.offsetX, t.offsetY), e.save(), e.globalAlpha = 1, e.globalCompositeOperation = "source-over", e.setTransform(1, 0, 0, 1, 0, 0), e.drawImage(r.canvas, 0, 0), e.restore()) } function getImageSmoothingEnabled(e, t) { var r = n.Util.singularValueDecompose2dScale(e); r[0] = Math.fround(r[0]), r[1] = Math.fround(r[1]); var o = Math.fround((globalThis.devicePixelRatio || 1) * i.PixelsPerInch.PDF_TO_CSS_UNITS); return void 0 !== t ? t : r[0] <= o || r[1] <= o } var l = ["butt", "round", "square"], f = ["miter", "round", "bevel"], d = {}, p = {}, h = function () { function CanvasGraphics(e, t, r, n, o, i, a) { _classCallCheck(this, CanvasGraphics), this.ctx = e, this.current = new u(this.ctx.canvas.width, this.ctx.canvas.height), this.stateStack = [], this.pendingClip = null, this.pendingEOFill = !1, this.res = null, this.xobjs = null, this.commonObjs = t, this.objs = r, this.canvasFactory = n, this.imageLayer = o, this.groupStack = [], this.processingType3 = null, this.baseTransform = null, this.baseTransformStack = [], this.groupLevel = 0, this.smaskStack = [], this.smaskCounter = 0, this.tempSMask = null, this.suspendedCtx = null, this.contentVisible = !0, this.markedContentStack = [], this.optionalContentConfig = i, this.cachedCanvases = new c(this.canvasFactory), this.cachedPatterns = new Map, this.annotationCanvasMap = a, this.viewportScale = 1, this.outputScaleX = 1, this.outputScaleY = 1, e && addContextCurrentTransform(e), this._cachedGetSinglePixelWidth = null } return _createClass(CanvasGraphics, [{ "key": "beginDrawing", "value": function beginDrawing(e) { var t = e.transform, r = e.viewport, n = e.transparency, o = void 0 !== n && n, i = e.background, a = void 0 === i ? null : i, s = this.ctx.canvas.width, c = this.ctx.canvas.height; if (this.ctx.save(), this.ctx.fillStyle = a || "rgb(255, 255, 255)", this.ctx.fillRect(0, 0, s, c), this.ctx.restore(), o) { var u = this.cachedCanvases.getCanvas("transparent", s, c, !0); this.compositeCtx = this.ctx, this.transparentCanvas = u.canvas, this.ctx = u.context, this.ctx.save(), this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform) } this.ctx.save(), resetCtxToDefault(this.ctx), t && (this.ctx.transform.apply(this.ctx, t), this.outputScaleX = t[0], this.outputScaleY = t[0]), this.ctx.transform.apply(this.ctx, r.transform), this.viewportScale = r.scale, this.baseTransform = this.ctx.mozCurrentTransform.slice(), this._combinedScaleFactor = Math.hypot(this.baseTransform[0], this.baseTransform[2]), this.imageLayer && this.imageLayer.beginLayout() } }, { "key": "executeOperatorList", "value": function executeOperatorList(e, t, r, o) { var i = e.argsArray, a = e.fnArray, s = t || 0, c = i.length; if (c === s) return s; for (var u, l = c - s > 10 && "function" == typeof r, f = l ? Date.now() + 15 : 0, d = 0, p = this.commonObjs, h = this.objs; ;) { if (void 0 !== o && s === o.nextBreakPoint) return o.breakIt(s, r), s; if ((u = a[s]) !== n.OPS.dependency) this[u].apply(this, i[s]); else { var m, g = _createForOfIteratorHelper(i[s]); try { for (g.s(); !(m = g.n()).done;) { var v = m.value, y = v.startsWith("g_") ? p : h; if (!y.has(v)) return y.get(v, r), s } } catch (e) { g.e(e) } finally { g.f() } } if (++s === c) return s; if (l && ++d > 10) { if (Date.now() > f) return r(), s; d = 0 } } } }, { "key": "endDrawing", "value": function endDrawing() { for (; this.stateStack.length || null !== this.current.activeSMask;)this.restore(); this.ctx.restore(), this.transparentCanvas && (this.ctx = this.compositeCtx, this.ctx.save(), this.ctx.setTransform(1, 0, 0, 1, 0, 0), this.ctx.drawImage(this.transparentCanvas, 0, 0), this.ctx.restore(), this.transparentCanvas = null), this.cachedCanvases.clear(), this.cachedPatterns.clear(), this.imageLayer && this.imageLayer.endLayout() } }, { "key": "_scaleImage", "value": function _scaleImage(e, t) { for (var r, n, o = e.width, i = e.height, a = Math.max(Math.hypot(t[0], t[1]), 1), s = Math.max(Math.hypot(t[2], t[3]), 1), c = o, u = i, l = "prescale1"; a > 2 && c > 1 || s > 2 && u > 1;) { var f = c, d = u; a > 2 && c > 1 && (a /= c / (f = Math.ceil(c / 2))), s > 2 && u > 1 && (s /= u / (d = Math.ceil(u / 2))), (n = (r = this.cachedCanvases.getCanvas(l, f, d)).context).clearRect(0, 0, f, d), n.drawImage(e, 0, 0, c, u, 0, 0, f, d), e = r.canvas, c = f, u = d, l = "prescale1" === l ? "prescale2" : "prescale1" } return { "img": e, "paintWidth": c, "paintHeight": u } } }, { "key": "_createMaskCanvas", "value": function _createMaskCanvas(e) { var t = this.ctx, r = e.width, i = e.height, a = this.current.fillColor, s = this.current.patternFill, c = this.cachedCanvases.getCanvas("maskCanvas", r, i); putBinaryImageMask(c.context, e); var u = t.mozCurrentTransform, l = n.Util.transform(u, [1 / r, 0, 0, -1 / i, 0, 0]); l = n.Util.transform(l, [1, 0, 0, 1, 0, -i]); var f = n.Util.applyTransform([0, 0], l), d = n.Util.applyTransform([r, i], l), p = n.Util.normalizeRect([f[0], f[1], d[0], d[1]]), h = Math.ceil(p[2] - p[0]), m = Math.ceil(p[3] - p[1]), g = this.cachedCanvases.getCanvas("fillCanvas", h, m, !0), v = g.context, y = Math.min(f[0], d[0]), b = Math.min(f[1], d[1]); v.translate(-y, -b), v.transform.apply(v, l); var S = this._scaleImage(c.canvas, v.mozCurrentTransformInverse); v.imageSmoothingEnabled = getImageSmoothingEnabled(v.mozCurrentTransform, e.interpolate), v.drawImage(S.img, 0, 0, S.img.width, S.img.height, 0, 0, r, i), v.globalCompositeOperation = "source-in"; var _ = n.Util.transform(v.mozCurrentTransformInverse, [1, 0, 0, 1, -y, -b]); return v.fillStyle = s ? a.getPattern(t, this, _, o.PathType.FILL) : a, v.fillRect(0, 0, r, i), { "canvas": g.canvas, "offsetX": Math.round(y), "offsetY": Math.round(b) } } }, { "key": "setLineWidth", "value": function setLineWidth(e) { this.current.lineWidth = e, this.ctx.lineWidth = e } }, { "key": "setLineCap", "value": function setLineCap(e) { this.ctx.lineCap = l[e] } }, { "key": "setLineJoin", "value": function setLineJoin(e) { this.ctx.lineJoin = f[e] } }, { "key": "setMiterLimit", "value": function setMiterLimit(e) { this.ctx.miterLimit = e } }, { "key": "setDash", "value": function setDash(e, t) { var r = this.ctx; void 0 !== r.setLineDash && (r.setLineDash(e), r.lineDashOffset = t) } }, { "key": "setRenderingIntent", "value": function setRenderingIntent(e) { } }, { "key": "setFlatness", "value": function setFlatness(e) { } }, { "key": "setGState", "value": function setGState(e) { for (var t = 0, r = e.length; t < r; t++) { var n = e[t], o = n[0], i = n[1]; switch (o) { case "LW": this.setLineWidth(i); break; case "LC": this.setLineCap(i); break; case "LJ": this.setLineJoin(i); break; case "ML": this.setMiterLimit(i); break; case "D": this.setDash(i[0], i[1]); break; case "RI": this.setRenderingIntent(i); break; case "FL": this.setFlatness(i); break; case "Font": this.setFont(i[0], i[1]); break; case "CA": this.current.strokeAlpha = n[1]; break; case "ca": this.current.fillAlpha = n[1], this.ctx.globalAlpha = n[1]; break; case "BM": this.ctx.globalCompositeOperation = i; break; case "SMask": this.current.activeSMask = i ? this.tempSMask : null, this.tempSMask = null, this.checkSMaskState(); break; case "TR": this.current.transferMaps = i } } } }, { "key": "checkSMaskState", "value": function checkSMaskState() { var e = !!this.suspendedCtx; this.current.activeSMask && !e ? this.beginSMaskMode() : !this.current.activeSMask && e && this.endSMaskMode() } }, { "key": "beginSMaskMode", "value": function beginSMaskMode() { if (this.suspendedCtx) throw new Error("beginSMaskMode called while already in smask mode"); var e = this.ctx.canvas.width, t = this.ctx.canvas.height, r = "smaskGroupAt" + this.groupLevel, n = this.cachedCanvases.getCanvas(r, e, t, !0); this.suspendedCtx = this.ctx, this.ctx = n.context; var o = this.ctx; o.setTransform.apply(o, this.suspendedCtx.mozCurrentTransform), copyCtxState(this.suspendedCtx, o), function mirrorContextOperations(e, t) { if (e._removeMirroring) throw new Error("Context is already forwarding operations."); e.__originalSave = e.save, e.__originalRestore = e.restore, e.__originalRotate = e.rotate, e.__originalScale = e.scale, e.__originalTranslate = e.translate, e.__originalTransform = e.transform, e.__originalSetTransform = e.setTransform, e.__originalResetTransform = e.resetTransform, e.__originalClip = e.clip, e.__originalMoveTo = e.moveTo, e.__originalLineTo = e.lineTo, e.__originalBezierCurveTo = e.bezierCurveTo, e.__originalRect = e.rect, e.__originalClosePath = e.closePath, e.__originalBeginPath = e.beginPath, e._removeMirroring = function () { e.save = e.__originalSave, e.restore = e.__originalRestore, e.rotate = e.__originalRotate, e.scale = e.__originalScale, e.translate = e.__originalTranslate, e.transform = e.__originalTransform, e.setTransform = e.__originalSetTransform, e.resetTransform = e.__originalResetTransform, e.clip = e.__originalClip, e.moveTo = e.__originalMoveTo, e.lineTo = e.__originalLineTo, e.bezierCurveTo = e.__originalBezierCurveTo, e.rect = e.__originalRect, e.closePath = e.__originalClosePath, e.beginPath = e.__originalBeginPath, delete e._removeMirroring }, e.save = function ctxSave() { t.save(), this.__originalSave() }, e.restore = function ctxRestore() { t.restore(), this.__originalRestore() }, e.translate = function ctxTranslate(e, r) { t.translate(e, r), this.__originalTranslate(e, r) }, e.scale = function ctxScale(e, r) { t.scale(e, r), this.__originalScale(e, r) }, e.transform = function ctxTransform(e, r, n, o, i, a) { t.transform(e, r, n, o, i, a), this.__originalTransform(e, r, n, o, i, a) }, e.setTransform = function ctxSetTransform(e, r, n, o, i, a) { t.setTransform(e, r, n, o, i, a), this.__originalSetTransform(e, r, n, o, i, a) }, e.resetTransform = function ctxResetTransform() { t.resetTransform(), this.__originalResetTransform() }, e.rotate = function ctxRotate(e) { t.rotate(e), this.__originalRotate(e) }, e.clip = function ctxRotate(e) { t.clip(e), this.__originalClip(e) }, e.moveTo = function (e, r) { t.moveTo(e, r), this.__originalMoveTo(e, r) }, e.lineTo = function (e, r) { t.lineTo(e, r), this.__originalLineTo(e, r) }, e.bezierCurveTo = function (e, r, n, o, i, a) { t.bezierCurveTo(e, r, n, o, i, a), this.__originalBezierCurveTo(e, r, n, o, i, a) }, e.rect = function (e, r, n, o) { t.rect(e, r, n, o), this.__originalRect(e, r, n, o) }, e.closePath = function () { t.closePath(), this.__originalClosePath() }, e.beginPath = function () { t.beginPath(), this.__originalBeginPath() } }(o, this.suspendedCtx), this.setGState([["BM", "source-over"], ["ca", 1], ["CA", 1]]) } }, { "key": "endSMaskMode", "value": function endSMaskMode() { if (!this.suspendedCtx) throw new Error("endSMaskMode called while not in smask mode"); this.ctx._removeMirroring(), copyCtxState(this.ctx, this.suspendedCtx), this.ctx = this.suspendedCtx, this.current.activeSMask = null, this.suspendedCtx = null } }, { "key": "compose", "value": function compose(e) { if (this.current.activeSMask) { e ? (e[0] = Math.floor(e[0]), e[1] = Math.floor(e[1]), e[2] = Math.ceil(e[2]), e[3] = Math.ceil(e[3])) : e = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height]; var t = this.current.activeSMask; composeSMask(this.suspendedCtx, t, this.ctx, e), this.ctx.save(), this.ctx.setTransform(1, 0, 0, 1, 0, 0), this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height), this.ctx.restore() } } }, { "key": "save", "value": function save() { this.ctx.save(); var e = this.current; this.stateStack.push(e), this.current = e.clone() } }, { "key": "restore", "value": function restore() { 0 === this.stateStack.length && this.current.activeSMask && this.endSMaskMode(), 0 !== this.stateStack.length && (this.current = this.stateStack.pop(), this.ctx.restore(), this.checkSMaskState(), this.pendingClip = null, this._cachedGetSinglePixelWidth = null) } }, { "key": "transform", "value": function transform(e, t, r, n, o, i) { this.ctx.transform(e, t, r, n, o, i), this._cachedGetSinglePixelWidth = null } }, { "key": "constructPath", "value": function constructPath(e, t) { for (var r, o, i = this.ctx, a = this.current, s = a.x, c = a.y, u = 0, l = 0, f = e.length; u < f; u++)switch (0 | e[u]) { case n.OPS.rectangle: s = t[l++], c = t[l++]; var d = t[l++], p = t[l++], h = s + d, m = c + p; i.moveTo(s, c), 0 === d || 0 === p ? i.lineTo(h, m) : (i.lineTo(h, c), i.lineTo(h, m), i.lineTo(s, m)), a.updatePathMinMax(i.mozCurrentTransform, s, c), a.updatePathMinMax(i.mozCurrentTransform, h, m), i.closePath(); break; case n.OPS.moveTo: s = t[l++], c = t[l++], i.moveTo(s, c), a.updatePathMinMax(i.mozCurrentTransform, s, c); break; case n.OPS.lineTo: s = t[l++], c = t[l++], i.lineTo(s, c), a.updatePathMinMax(i.mozCurrentTransform, s, c); break; case n.OPS.curveTo: r = s, o = c, s = t[l + 4], c = t[l + 5], i.bezierCurveTo(t[l], t[l + 1], t[l + 2], t[l + 3], s, c), a.updateCurvePathMinMax(i.mozCurrentTransform, r, o, t[l], t[l + 1], t[l + 2], t[l + 3], s, c), l += 6; break; case n.OPS.curveTo2: r = s, o = c, i.bezierCurveTo(s, c, t[l], t[l + 1], t[l + 2], t[l + 3]), a.updateCurvePathMinMax(i.mozCurrentTransform, r, o, s, c, t[l], t[l + 1], t[l + 2], t[l + 3]), s = t[l + 2], c = t[l + 3], l += 4; break; case n.OPS.curveTo3: r = s, o = c, s = t[l + 2], c = t[l + 3], i.bezierCurveTo(t[l], t[l + 1], s, c, s, c), a.updateCurvePathMinMax(i.mozCurrentTransform, r, o, t[l], t[l + 1], s, c, s, c), l += 4; break; case n.OPS.closePath: i.closePath() }a.setCurrentPoint(s, c) } }, { "key": "closePath", "value": function closePath() { this.ctx.closePath() } }, { "key": "stroke", "value": function stroke(e) { e = void 0 === e || e; var t = this.ctx, r = this.current.strokeColor; if (t.globalAlpha = this.current.strokeAlpha, this.contentVisible) if ("object" === _typeof(r) && null != r && r.getPattern) { var n = this.getSinglePixelWidth(); t.save(), t.strokeStyle = r.getPattern(t, this, t.mozCurrentTransformInverse, o.PathType.STROKE), t.lineWidth = Math.max(n, this.current.lineWidth), t.stroke(), t.restore() } else { var i = this.getSinglePixelWidth(); i < 0 && -i >= this.current.lineWidth ? (t.save(), t.resetTransform(), t.lineWidth = Math.round(this._combinedScaleFactor), t.stroke(), t.restore()) : (t.lineWidth = Math.max(i, this.current.lineWidth), t.stroke()) } e && this.consumePath(this.current.getClippedPathBoundingBox()), t.globalAlpha = this.current.fillAlpha } }, { "key": "closeStroke", "value": function closeStroke() { this.closePath(), this.stroke() } }, { "key": "fill", "value": function fill(e) { e = void 0 === e || e; var t = this.ctx, r = this.current.fillColor, n = !1; this.current.patternFill && (t.save(), t.fillStyle = r.getPattern(t, this, t.mozCurrentTransformInverse, o.PathType.FILL), n = !0); var i = this.current.getClippedPathBoundingBox(); this.contentVisible && null !== i && (this.pendingEOFill ? (t.fill("evenodd"), this.pendingEOFill = !1) : t.fill()), n && t.restore(), e && this.consumePath(i) } }, { "key": "eoFill", "value": function eoFill() { this.pendingEOFill = !0, this.fill() } }, { "key": "fillStroke", "value": function fillStroke() { this.fill(!1), this.stroke(!1), this.consumePath() } }, { "key": "eoFillStroke", "value": function eoFillStroke() { this.pendingEOFill = !0, this.fillStroke() } }, { "key": "closeFillStroke", "value": function closeFillStroke() { this.closePath(), this.fillStroke() } }, { "key": "closeEOFillStroke", "value": function closeEOFillStroke() { this.pendingEOFill = !0, this.closePath(), this.fillStroke() } }, { "key": "endPath", "value": function endPath() { this.consumePath() } }, { "key": "clip", "value": function clip() { this.pendingClip = d } }, { "key": "eoClip", "value": function eoClip() { this.pendingClip = p } }, { "key": "beginText", "value": function beginText() { this.current.textMatrix = n.IDENTITY_MATRIX, this.current.textMatrixScale = 1, this.current.x = this.current.lineX = 0, this.current.y = this.current.lineY = 0 } }, { "key": "endText", "value": function endText() { var e = this.pendingTextPaths, t = this.ctx; if (void 0 !== e) { t.save(), t.beginPath(); for (var r = 0; r < e.length; r++) { var n = e[r]; t.setTransform.apply(t, n.transform), t.translate(n.x, n.y), n.addToPath(t, n.fontSize) } t.restore(), t.clip(), t.beginPath(), delete this.pendingTextPaths } else t.beginPath() } }, { "key": "setCharSpacing", "value": function setCharSpacing(e) { this.current.charSpacing = e } }, { "key": "setWordSpacing", "value": function setWordSpacing(e) { this.current.wordSpacing = e } }, { "key": "setHScale", "value": function setHScale(e) { this.current.textHScale = e / 100 } }, { "key": "setLeading", "value": function setLeading(e) { this.current.leading = -e } }, { "key": "setFont", "value": function setFont(e, t) { var r = this.commonObjs.get(e), o = this.current; if (!r) throw new Error("Can't find font for ".concat(e)); if (o.fontMatrix = r.fontMatrix || n.FONT_IDENTITY_MATRIX, 0 !== o.fontMatrix[0] && 0 !== o.fontMatrix[3] || (0, n.warn)("Invalid font matrix for font " + e), t < 0 ? (t = -t, o.fontDirection = -1) : o.fontDirection = 1, this.current.font = r, this.current.fontSize = t, !r.isType3Font) { var i = r.loadedName || "sans-serif", a = "normal"; r.black ? a = "900" : r.bold && (a = "bold"); var s = r.italic ? "italic" : "normal", c = '"'.concat(i, '", ').concat(r.fallbackName), u = t; t < 16 ? u = 16 : t > 100 && (u = 100), this.current.fontSizeScale = t / u, this.ctx.font = "".concat(s, " ").concat(a, " ").concat(u, "px ").concat(c) } } }, { "key": "setTextRenderingMode", "value": function setTextRenderingMode(e) { this.current.textRenderingMode = e } }, { "key": "setTextRise", "value": function setTextRise(e) { this.current.textRise = e } }, { "key": "moveText", "value": function moveText(e, t) { this.current.x = this.current.lineX += e, this.current.y = this.current.lineY += t } }, { "key": "setLeadingMoveText", "value": function setLeadingMoveText(e, t) { this.setLeading(-t), this.moveText(e, t) } }, { "key": "setTextMatrix", "value": function setTextMatrix(e, t, r, n, o, i) { this.current.textMatrix = [e, t, r, n, o, i], this.current.textMatrixScale = Math.hypot(e, t), this.current.x = this.current.lineX = 0, this.current.y = this.current.lineY = 0 } }, { "key": "nextLine", "value": function nextLine() { this.moveText(0, this.current.leading) } }, { "key": "paintChar", "value": function paintChar(e, t, r, o, i) { var a, s = this.ctx, c = this.current, u = c.font, l = c.textRenderingMode, f = c.fontSize / c.fontSizeScale, d = l & n.TextRenderingMode.FILL_STROKE_MASK, p = !!(l & n.TextRenderingMode.ADD_TO_PATH_FLAG), h = c.patternFill && !u.missingFile; ((u.disableFontFace || p || h) && (a = u.getPathGenerator(this.commonObjs, e)), u.disableFontFace || h ? (s.save(), s.translate(t, r), s.beginPath(), a(s, f), o && s.setTransform.apply(s, o), d !== n.TextRenderingMode.FILL && d !== n.TextRenderingMode.FILL_STROKE || s.fill(), d !== n.TextRenderingMode.STROKE && d !== n.TextRenderingMode.FILL_STROKE || (i && (s.resetTransform(), s.lineWidth = Math.round(this._combinedScaleFactor)), s.stroke()), s.restore()) : (d !== n.TextRenderingMode.FILL && d !== n.TextRenderingMode.FILL_STROKE || s.fillText(e, t, r), d !== n.TextRenderingMode.STROKE && d !== n.TextRenderingMode.FILL_STROKE || (i ? (s.save(), s.moveTo(t, r), s.resetTransform(), s.lineWidth = Math.round(this._combinedScaleFactor), s.strokeText(e, 0, 0), s.restore()) : s.strokeText(e, t, r))), p) && (this.pendingTextPaths || (this.pendingTextPaths = [])).push({ "transform": s.mozCurrentTransform, "x": t, "y": r, "fontSize": f, "addToPath": a }) } }, { "key": "isFontSubpixelAAEnabled", "get": function get() { var e = this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled", 10, 10).context; e.scale(1.5, 1), e.fillText("I", 0, 10); for (var t = e.getImageData(0, 0, 10, 10).data, r = !1, o = 3; o < t.length; o += 4)if (t[o] > 0 && t[o] < 255) { r = !0; break } return (0, n.shadow)(this, "isFontSubpixelAAEnabled", r) } }, { "key": "showText", "value": function showText(e) { var t = this.current, r = t.font; if (r.isType3Font) return this.showType3Text(e); var i = t.fontSize; if (0 !== i) { var a, s = this.ctx, c = t.fontSizeScale, u = t.charSpacing, l = t.wordSpacing, f = t.fontDirection, d = t.textHScale * f, p = e.length, h = r.vertical, m = h ? 1 : -1, g = r.defaultVMetrics, v = i * t.fontMatrix[0], y = t.textRenderingMode === n.TextRenderingMode.FILL && !r.disableFontFace && !t.patternFill; if (s.save(), s.transform.apply(s, t.textMatrix), s.translate(t.x, t.y + t.textRise), f > 0 ? s.scale(d, -1) : s.scale(d, 1), t.patternFill) { s.save(); var b = t.fillColor.getPattern(s, this, s.mozCurrentTransformInverse, o.PathType.FILL); a = s.mozCurrentTransform, s.restore(), s.fillStyle = b } var S = t.lineWidth, _ = !1, w = t.textMatrixScale; if (0 === w || 0 === S) { var A = t.textRenderingMode & n.TextRenderingMode.FILL_STROKE_MASK; A !== n.TextRenderingMode.STROKE && A !== n.TextRenderingMode.FILL_STROKE || (this._cachedGetSinglePixelWidth = null, _ = (S = this.getSinglePixelWidth()) < 0) } else S /= w; 1 !== c && (s.scale(c, c), S /= c), s.lineWidth = S; var C, T = 0; for (C = 0; C < p; ++C) { var P = e[C]; if ((0, n.isNum)(P)) T += m * P * i / 1e3; else { var k = !1, E = (P.isSpace ? l : 0) + u, x = P.fontChar, O = P.accent, I = void 0, R = void 0, M = P.width; if (h) { var B = P.vmetric || g, D = -(P.vmetric ? B[1] : .5 * M) * v, j = B[2] * v; M = B ? -B[0] : M, I = D / c, R = (T + j) / c } else I = T / c, R = 0; if (r.remeasure && M > 0) { var F = 1e3 * s.measureText(x).width / i * c; if (M < F && this.isFontSubpixelAAEnabled) { var L = M / F; k = !0, s.save(), s.scale(L, 1), I /= L } else M !== F && (I += (M - F) / 2e3 * i / c) } if (this.contentVisible && (P.isInFont || r.missingFile)) if (y && !O) s.fillText(x, I, R); else if (this.paintChar(x, I, R, a, _), O) { var N = I + i * O.offset.x / c, H = R - i * O.offset.y / c; this.paintChar(O.fontChar, N, H, a, _) } T += h ? M * v - E * f : M * v + E * f, k && s.restore() } } h ? t.y -= T : t.x += T * d, s.restore(), this.compose() } } }, { "key": "showType3Text", "value": function showType3Text(e) { var t, r, o, i, a = this.ctx, s = this.current, c = s.font, u = s.fontSize, l = s.fontDirection, f = c.vertical ? 1 : -1, d = s.charSpacing, p = s.wordSpacing, h = s.textHScale * l, m = s.fontMatrix || n.FONT_IDENTITY_MATRIX, g = e.length; if (!(s.textRenderingMode === n.TextRenderingMode.INVISIBLE) && 0 !== u) { for (this._cachedGetSinglePixelWidth = null, a.save(), a.transform.apply(a, s.textMatrix), a.translate(s.x, s.y), a.scale(h, l), t = 0; t < g; ++t)if (r = e[t], (0, n.isNum)(r)) i = f * r * u / 1e3, this.ctx.translate(i, 0), s.x += i * h; else { var v = (r.isSpace ? p : 0) + d, y = c.charProcOperatorList[r.operatorListId]; if (y) this.contentVisible && (this.processingType3 = r, this.save(), a.scale(u, u), a.transform.apply(a, m), this.executeOperatorList(y), this.restore()), o = n.Util.applyTransform([r.width, 0], m)[0] * u + v, a.translate(o, 0), s.x += o * h; else (0, n.warn)('Type3 character "'.concat(r.operatorListId, '" is not available.')) } a.restore(), this.processingType3 = null } } }, { "key": "setCharWidth", "value": function setCharWidth(e, t) { } }, { "key": "setCharWidthAndBounds", "value": function setCharWidthAndBounds(e, t, r, n, o, i) { this.ctx.rect(r, n, o - r, i - n), this.clip(), this.endPath() } }, { "key": "getColorN_Pattern", "value": function getColorN_Pattern(e) { var t, r = this; if ("TilingPattern" === e[0]) { var n = e[1], i = this.baseTransform || this.ctx.mozCurrentTransform.slice(), a = { "createCanvasGraphics": function createCanvasGraphics(e) { return new CanvasGraphics(e, r.commonObjs, r.objs, r.canvasFactory) } }; t = new o.TilingPattern(e, n, this.ctx, a, i) } else t = this._getPattern(e[1], e[2]); return t } }, { "key": "setStrokeColorN", "value": function setStrokeColorN() { this.current.strokeColor = this.getColorN_Pattern(arguments) } }, { "key": "setFillColorN", "value": function setFillColorN() { this.current.fillColor = this.getColorN_Pattern(arguments), this.current.patternFill = !0 } }, { "key": "setStrokeRGBColor", "value": function setStrokeRGBColor(e, t, r) { var o = n.Util.makeHexColor(e, t, r); this.ctx.strokeStyle = o, this.current.strokeColor = o } }, { "key": "setFillRGBColor", "value": function setFillRGBColor(e, t, r) { var o = n.Util.makeHexColor(e, t, r); this.ctx.fillStyle = o, this.current.fillColor = o, this.current.patternFill = !1 } }, { "key": "_getPattern", "value": function _getPattern(e) { var t, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; return this.cachedPatterns.has(e) ? t = this.cachedPatterns.get(e) : (t = (0, o.getShadingPattern)(this.objs.get(e)), this.cachedPatterns.set(e, t)), r && (t.matrix = r), t } }, { "key": "shadingFill", "value": function shadingFill(e) { if (this.contentVisible) { var t = this.ctx; this.save(); var r = this._getPattern(e); t.fillStyle = r.getPattern(t, this, t.mozCurrentTransformInverse, o.PathType.SHADING); var i = t.mozCurrentTransformInverse; if (i) { var a = t.canvas, s = a.width, c = a.height, u = n.Util.applyTransform([0, 0], i), l = n.Util.applyTransform([0, c], i), f = n.Util.applyTransform([s, 0], i), d = n.Util.applyTransform([s, c], i), p = Math.min(u[0], l[0], f[0], d[0]), h = Math.min(u[1], l[1], f[1], d[1]), m = Math.max(u[0], l[0], f[0], d[0]), g = Math.max(u[1], l[1], f[1], d[1]); this.ctx.fillRect(p, h, m - p, g - h) } else this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10); this.compose(this.current.getClippedPathBoundingBox()), this.restore() } } }, { "key": "beginInlineImage", "value": function beginInlineImage() { (0, n.unreachable)("Should not call beginInlineImage") } }, { "key": "beginImageData", "value": function beginImageData() { (0, n.unreachable)("Should not call beginImageData") } }, { "key": "paintFormXObjectBegin", "value": function paintFormXObjectBegin(e, t) { if (this.contentVisible && (this.save(), this.baseTransformStack.push(this.baseTransform), Array.isArray(e) && 6 === e.length && this.transform.apply(this, e), this.baseTransform = this.ctx.mozCurrentTransform, t)) { var r = t[2] - t[0], n = t[3] - t[1]; this.ctx.rect(t[0], t[1], r, n), this.current.updatePathMinMax(this.ctx.mozCurrentTransform, t[0], t[1]), this.current.updatePathMinMax(this.ctx.mozCurrentTransform, t[2], t[3]), this.clip(), this.endPath() } } }, { "key": "paintFormXObjectEnd", "value": function paintFormXObjectEnd() { this.contentVisible && (this.restore(), this.baseTransform = this.baseTransformStack.pop()) } }, { "key": "beginGroup", "value": function beginGroup(e) { if (this.contentVisible) { this.save(); var t = this.suspendedCtx; this.current.activeSMask && (this.suspendedCtx = null, this.current.activeSMask = null); var r = this.ctx; e.isolated || (0, n.info)("TODO: Support non-isolated groups."), e.knockout && (0, n.warn)("Knockout groups not supported."); var o = r.mozCurrentTransform; if (e.matrix && r.transform.apply(r, e.matrix), !e.bbox) throw new Error("Bounding box is required."); var i = n.Util.getAxialAlignedBoundingBox(e.bbox, r.mozCurrentTransform), a = [0, 0, r.canvas.width, r.canvas.height]; i = n.Util.intersect(i, a) || [0, 0, 0, 0]; var s = Math.floor(i[0]), c = Math.floor(i[1]), u = Math.max(Math.ceil(i[2]) - s, 1), l = Math.max(Math.ceil(i[3]) - c, 1), f = 1, d = 1; u > 4096 && (f = u / 4096, u = 4096), l > 4096 && (d = l / 4096, l = 4096), this.current.startNewPathAndClipBox([0, 0, u, l]); var p = "groupAt" + this.groupLevel; e.smask && (p += "_smask_" + this.smaskCounter++ % 2); var h = this.cachedCanvases.getCanvas(p, u, l, !0), m = h.context; m.scale(1 / f, 1 / d), m.translate(-s, -c), m.transform.apply(m, o), e.smask ? this.smaskStack.push({ "canvas": h.canvas, "context": m, "offsetX": s, "offsetY": c, "scaleX": f, "scaleY": d, "subtype": e.smask.subtype, "backdrop": e.smask.backdrop, "transferMap": e.smask.transferMap || null, "startTransformInverse": null }) : (r.setTransform(1, 0, 0, 1, 0, 0), r.translate(s, c), r.scale(f, d), r.save()), copyCtxState(r, m), this.ctx = m, this.setGState([["BM", "source-over"], ["ca", 1], ["CA", 1]]), this.groupStack.push({ "ctx": r, "suspendedCtx": t }), this.groupLevel++ } } }, { "key": "endGroup", "value": function endGroup(e) { if (this.contentVisible) { this.groupLevel--; var t = this.ctx, r = this.groupStack.pop(), o = r.ctx, i = r.suspendedCtx; if (this.ctx = o, this.ctx.imageSmoothingEnabled = !1, i && (this.suspendedCtx = i), e.smask) this.tempSMask = this.smaskStack.pop(), this.restore(); else { this.ctx.restore(); var a = this.ctx.mozCurrentTransform; this.restore(), this.ctx.save(), this.ctx.setTransform.apply(this.ctx, a); var s = n.Util.getAxialAlignedBoundingBox([0, 0, t.canvas.width, t.canvas.height], a); this.ctx.drawImage(t.canvas, 0, 0), this.ctx.restore(), this.compose(s) } } } }, { "key": "beginAnnotations", "value": function beginAnnotations() { this.save(), this.baseTransform && this.ctx.setTransform.apply(this.ctx, this.baseTransform) } }, { "key": "endAnnotations", "value": function endAnnotations() { this.restore() } }, { "key": "beginAnnotation", "value": function beginAnnotation(e, t, r, o, i) { if (this.save(), Array.isArray(t) && 4 === t.length) { var a = t[2] - t[0], s = t[3] - t[1]; if (i && this.annotationCanvasMap) { (r = r.slice())[4] -= t[0], r[5] -= t[1], (t = t.slice())[0] = t[1] = 0, t[2] = a, t[3] = s; var c = _slicedToArray(n.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform), 2), l = c[0], f = c[1], d = this.viewportScale, p = Math.ceil(a * this.outputScaleX * d), h = Math.ceil(s * this.outputScaleY * d); this.annotationCanvas = this.canvasFactory.create(p, h); var m = this.annotationCanvas, g = m.canvas, v = m.context; g.style.width = "calc(".concat(a, "px * var(--viewport-scale-factor))"), g.style.height = "calc(".concat(s, "px * var(--viewport-scale-factor))"), this.annotationCanvasMap.set(e, g), this.annotationCanvas.savedCtx = this.ctx, this.ctx = v, this.ctx.setTransform(l, 0, 0, -f, 0, s * f), addContextCurrentTransform(this.ctx), resetCtxToDefault(this.ctx) } else resetCtxToDefault(this.ctx), this.ctx.rect(t[0], t[1], a, s), this.clip(), this.endPath() } this.current = new u(this.ctx.canvas.width, this.ctx.canvas.height), this.transform.apply(this, r), this.transform.apply(this, o) } }, { "key": "endAnnotation", "value": function endAnnotation() { this.annotationCanvas && (this.ctx = this.annotationCanvas.savedCtx, delete this.annotationCanvas.savedCtx, delete this.annotationCanvas), this.restore() } }, { "key": "paintImageMaskXObject", "value": function paintImageMaskXObject(e) { if (this.contentVisible) { var t = this.ctx, r = e.width, n = e.height, o = this.processingType3; if (o && void 0 === o.compiled && (o.compiled = r <= 1e3 && n <= 1e3 ? function compileType3Glyph(e) { var t, r, n, o, i = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]), a = e.width, s = e.height, c = a + 1, u = new Uint8Array(c * (s + 1)), l = a + 7 & -8, f = e.data, d = new Uint8Array(l * s), p = 0; for (t = 0, r = f.length; t < r; t++)for (var h = f[t], m = 128; m > 0;)d[p++] = h & m ? 0 : 255, m >>= 1; var g = 0; for (0 !== d[p = 0] && (u[0] = 1, ++g), n = 1; n < a; n++)d[p] !== d[p + 1] && (u[n] = d[p] ? 2 : 1, ++g), p++; for (0 !== d[p] && (u[n] = 2, ++g), t = 1; t < s; t++) { o = t * c, d[(p = t * l) - l] !== d[p] && (u[o] = d[p] ? 1 : 8, ++g); var v = (d[p] ? 4 : 0) + (d[p - l] ? 8 : 0); for (n = 1; n < a; n++)i[v = (v >> 2) + (d[p + 1] ? 4 : 0) + (d[p - l + 1] ? 8 : 0)] && (u[o + n] = i[v], ++g), p++; if (d[p - l] !== d[p] && (u[o + n] = d[p] ? 2 : 4, ++g), g > 1e3) return null } for (o = t * c, 0 !== d[p = l * (s - 1)] && (u[o] = 8, ++g), n = 1; n < a; n++)d[p] !== d[p + 1] && (u[o + n] = d[p] ? 4 : 8, ++g), p++; if (0 !== d[p] && (u[o + n] = 4, ++g), g > 1e3) return null; var y = new Int32Array([0, c, -1, 0, -c, 0, 0, 0, 1]), b = []; for (t = 0; g && t <= s; t++) { for (var S = t * c, _ = S + a; S < _ && !u[S];)S++; if (S !== _) { var w = [S % c, t], A = S, C = u[S]; do { var T = y[C]; do { S += T } while (!u[S]); var P = u[S]; 5 !== P && 10 !== P ? (C = P, u[S] = 0) : (C = P & 51 * C >> 4, u[S] &= C >> 2 | C << 2), w.push(S % c, S / c | 0), u[S] || --g } while (A !== S); b.push(w), --t } } return function drawOutline(e) { e.save(), e.scale(1 / a, -1 / s), e.translate(0, -s), e.beginPath(); for (var t = 0, r = b.length; t < r; t++) { var n = b[t]; e.moveTo(n[0], n[1]); for (var o = 2, i = n.length; o < i; o += 2)e.lineTo(n[o], n[o + 1]) } e.fill(), e.beginPath(), e.restore() } }({ "data": e.data, "width": r, "height": n }) : null), null != o && o.compiled) o.compiled(t); else { var i = this._createMaskCanvas(e), a = i.canvas; t.save(), t.setTransform(1, 0, 0, 1, 0, 0), t.drawImage(a, i.offsetX, i.offsetY), t.restore(), this.compose() } } } }, { "key": "paintImageMaskXObjectRepeat", "value": function paintImageMaskXObjectRepeat(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, i = arguments.length > 4 ? arguments[4] : void 0, a = arguments.length > 5 ? arguments[5] : void 0; if (this.contentVisible) { var s = this.ctx; s.save(); var c = s.mozCurrentTransform; s.transform(t, r, o, i, 0, 0); var u = this._createMaskCanvas(e); s.setTransform(1, 0, 0, 1, 0, 0); for (var l = 0, f = a.length; l < f; l += 2) { var d = n.Util.transform(c, [t, r, o, i, a[l], a[l + 1]]), p = _slicedToArray(n.Util.applyTransform([0, 0], d), 2), h = p[0], m = p[1]; s.drawImage(u.canvas, h, m) } s.restore(), this.compose() } } }, { "key": "paintImageMaskXObjectGroup", "value": function paintImageMaskXObjectGroup(e) { if (this.contentVisible) { for (var t = this.ctx, r = this.current.fillColor, n = this.current.patternFill, i = 0, a = e.length; i < a; i++) { var s = e[i], c = s.width, u = s.height, l = this.cachedCanvases.getCanvas("maskCanvas", c, u), f = l.context; f.save(), putBinaryImageMask(f, s), f.globalCompositeOperation = "source-in", f.fillStyle = n ? r.getPattern(f, this, t.mozCurrentTransformInverse, o.PathType.FILL) : r, f.fillRect(0, 0, c, u), f.restore(), t.save(), t.transform.apply(t, s.transform), t.scale(1, -1), t.drawImage(l.canvas, 0, 0, c, u, 0, -1, 1, 1), t.restore() } this.compose() } } }, { "key": "paintImageXObject", "value": function paintImageXObject(e) { if (this.contentVisible) { var t = e.startsWith("g_") ? this.commonObjs.get(e) : this.objs.get(e); t ? this.paintInlineImageXObject(t) : (0, n.warn)("Dependent image isn't ready yet") } } }, { "key": "paintImageXObjectRepeat", "value": function paintImageXObjectRepeat(e, t, r, o) { if (this.contentVisible) { var i = e.startsWith("g_") ? this.commonObjs.get(e) : this.objs.get(e); if (i) { for (var a = i.width, s = i.height, c = [], u = 0, l = o.length; u < l; u += 2)c.push({ "transform": [t, 0, 0, r, o[u], o[u + 1]], "x": 0, "y": 0, "w": a, "h": s }); this.paintInlineImageXObjectGroup(i, c) } else (0, n.warn)("Dependent image isn't ready yet") } } }, { "key": "paintInlineImageXObject", "value": function paintInlineImageXObject(e) { if (this.contentVisible) { var t, r = e.width, n = e.height, o = this.ctx; if (this.save(), o.scale(1 / r, -1 / n), "function" == typeof HTMLElement && e instanceof HTMLElement || !e.data) t = e; else { var i = this.cachedCanvases.getCanvas("inlineImage", r, n); putBinaryImageData(i.context, e, this.current.transferMaps), t = i.canvas } var a = this._scaleImage(t, o.mozCurrentTransformInverse); if (o.imageSmoothingEnabled = getImageSmoothingEnabled(o.mozCurrentTransform, e.interpolate), o.drawImage(a.img, 0, 0, a.paintWidth, a.paintHeight, 0, -n, r, n), this.imageLayer) { var s = this.getCanvasPosition(0, -n); this.imageLayer.appendImage({ "imgData": e, "left": s[0], "top": s[1], "width": r / o.mozCurrentTransformInverse[0], "height": n / o.mozCurrentTransformInverse[3] }) } this.compose(), this.restore() } } }, { "key": "paintInlineImageXObjectGroup", "value": function paintInlineImageXObjectGroup(e, t) { if (this.contentVisible) { var r = this.ctx, n = e.width, o = e.height, i = this.cachedCanvases.getCanvas("inlineImage", n, o); putBinaryImageData(i.context, e, this.current.transferMaps); for (var a = 0, s = t.length; a < s; a++) { var c = t[a]; if (r.save(), r.transform.apply(r, c.transform), r.scale(1, -1), r.drawImage(i.canvas, c.x, c.y, c.w, c.h, 0, -1, 1, 1), this.imageLayer) { var u = this.getCanvasPosition(c.x, c.y); this.imageLayer.appendImage({ "imgData": e, "left": u[0], "top": u[1], "width": n, "height": o }) } r.restore() } this.compose() } } }, { "key": "paintSolidColorImageMask", "value": function paintSolidColorImageMask() { this.contentVisible && (this.ctx.fillRect(0, 0, 1, 1), this.compose()) } }, { "key": "markPoint", "value": function markPoint(e) { } }, { "key": "markPointProps", "value": function markPointProps(e, t) { } }, { "key": "beginMarkedContent", "value": function beginMarkedContent(e) { this.markedContentStack.push({ "visible": !0 }) } }, { "key": "beginMarkedContentProps", "value": function beginMarkedContentProps(e, t) { "OC" === e ? this.markedContentStack.push({ "visible": this.optionalContentConfig.isVisible(t) }) : this.markedContentStack.push({ "visible": !0 }), this.contentVisible = this.isContentVisible() } }, { "key": "endMarkedContent", "value": function endMarkedContent() { this.markedContentStack.pop(), this.contentVisible = this.isContentVisible() } }, { "key": "beginCompat", "value": function beginCompat() { } }, { "key": "endCompat", "value": function endCompat() { } }, { "key": "consumePath", "value": function consumePath(e) { this.pendingClip && this.current.updateClipFromPath(), this.pendingClip || this.compose(e); var t = this.ctx; this.pendingClip && (this.pendingClip === p ? t.clip("evenodd") : t.clip(), this.pendingClip = null), this.current.startNewPathAndClipBox(this.current.clipBox), t.beginPath() } }, { "key": "getSinglePixelWidth", "value": function getSinglePixelWidth() { if (null === this._cachedGetSinglePixelWidth) { var e = this.ctx.mozCurrentTransform, t = Math.abs(e[0] * e[3] - e[2] * e[1]), r = Math.pow(e[0], 2) + Math.pow(e[2], 2), n = Math.pow(e[1], 2) + Math.pow(e[3], 2), o = Math.sqrt(Math.max(r, n)) / t; r !== n && this._combinedScaleFactor * o > 1 ? this._cachedGetSinglePixelWidth = -this._combinedScaleFactor * o : t > Number.EPSILON ? this._cachedGetSinglePixelWidth = o : this._cachedGetSinglePixelWidth = 1 } return this._cachedGetSinglePixelWidth } }, { "key": "getCanvasPosition", "value": function getCanvasPosition(e, t) { var r = this.ctx.mozCurrentTransform; return [r[0] * e + r[2] * t + r[4], r[1] * e + r[3] * t + r[5]] } }, { "key": "isContentVisible", "value": function isContentVisible() { for (var e = this.markedContentStack.length - 1; e >= 0; e--)if (!this.markedContentStack[e].visible) return !1; return !0 } }]), CanvasGraphics }(); for (var m in t.CanvasGraphics = h, n.OPS) void 0 !== h.prototype[m] && (h.prototype[n.OPS[m]] = h.prototype[m]) }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.TilingPattern = t.PathType = void 0, t.getShadingPattern = function getShadingPattern(e) { switch (e[0]) { case "RadialAxial": return new a(e); case "Mesh": return new s(e); case "Dummy": return new c }throw new Error("Unknown IR type: ".concat(e[0])) }; var n = r(4); function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var o = { "FILL": "Fill", "STROKE": "Stroke", "SHADING": "Shading" }; function applyBoundingBox(e, t) { if (t && "undefined" != typeof Path2D) { var r = t[2] - t[0], n = t[3] - t[1], o = new Path2D; o.rect(t[0], t[1], r, n), e.clip(o) } } t.PathType = o; var i = function () { function BaseShadingPattern() { _classCallCheck(this, BaseShadingPattern), this.constructor === BaseShadingPattern && (0, n.unreachable)("Cannot initialize BaseShadingPattern.") } return _createClass(BaseShadingPattern, [{ "key": "getPattern", "value": function getPattern() { (0, n.unreachable)("Abstract method `getPattern` called.") } }]), BaseShadingPattern }(), a = function (e) { _inherits(RadialAxialShadingPattern, i); var t = _createSuper(RadialAxialShadingPattern); function RadialAxialShadingPattern(e) { var r; return _classCallCheck(this, RadialAxialShadingPattern), (r = t.call(this))._type = e[1], r._bbox = e[2], r._colorStops = e[3], r._p0 = e[4], r._p1 = e[5], r._r0 = e[6], r._r1 = e[7], r.matrix = null, r } return _createClass(RadialAxialShadingPattern, [{ "key": "_createGradient", "value": function _createGradient(e) { var t; "axial" === this._type ? t = e.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]) : "radial" === this._type && (t = e.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1)); var r, n = _createForOfIteratorHelper(this._colorStops); try { for (n.s(); !(r = n.n()).done;) { var o = r.value; t.addColorStop(o[0], o[1]) } } catch (e) { n.e(e) } finally { n.f() } return t } }, { "key": "getPattern", "value": function getPattern(e, t, r, i) { var a; if (i === o.STROKE || i === o.FILL) { var s = t.current.getClippedPathBoundingBox(i, e.mozCurrentTransform) || [0, 0, 0, 0], c = Math.ceil(s[2] - s[0]) || 1, u = Math.ceil(s[3] - s[1]) || 1, l = t.cachedCanvases.getCanvas("pattern", c, u, !0), f = l.context; f.clearRect(0, 0, f.canvas.width, f.canvas.height), f.beginPath(), f.rect(0, 0, f.canvas.width, f.canvas.height), f.translate(-s[0], -s[1]), r = n.Util.transform(r, [1, 0, 0, 1, s[0], s[1]]), f.transform.apply(f, t.baseTransform), this.matrix && f.transform.apply(f, this.matrix), applyBoundingBox(f, this._bbox), f.fillStyle = this._createGradient(f), f.fill(), a = e.createPattern(l.canvas, "no-repeat"); var d = new DOMMatrix(r); try { a.setTransform(d) } catch (e) { (0, n.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null == e ? void 0 : e.message, '".')) } } else applyBoundingBox(e, this._bbox), a = this._createGradient(e); return a } }]), RadialAxialShadingPattern }(); function drawTriangle(e, t, r, n, o, i, a, s) { var c, u = t.coords, l = t.colors, f = e.data, d = 4 * e.width; u[r + 1] > u[n + 1] && (c = r, r = n, n = c, c = i, i = a, a = c), u[n + 1] > u[o + 1] && (c = n, n = o, o = c, c = a, a = s, s = c), u[r + 1] > u[n + 1] && (c = r, r = n, n = c, c = i, i = a, a = c); var p = (u[r] + t.offsetX) * t.scaleX, h = (u[r + 1] + t.offsetY) * t.scaleY, m = (u[n] + t.offsetX) * t.scaleX, g = (u[n + 1] + t.offsetY) * t.scaleY, v = (u[o] + t.offsetX) * t.scaleX, y = (u[o + 1] + t.offsetY) * t.scaleY; if (!(h >= y)) for (var b, S, _, w, A, C, T, P, k = l[i], E = l[i + 1], x = l[i + 2], O = l[a], I = l[a + 1], R = l[a + 2], M = l[s], B = l[s + 1], D = l[s + 2], j = Math.round(h), F = Math.round(y), L = j; L <= F; L++) { if (L < g) { var N = void 0; b = p - (p - m) * (N = L < h ? 0 : (h - L) / (h - g)), S = k - (k - O) * N, _ = E - (E - I) * N, w = x - (x - R) * N } else { var H = void 0; b = m - (m - v) * (H = L > y ? 1 : g === y ? 0 : (g - L) / (g - y)), S = O - (O - M) * H, _ = I - (I - B) * H, w = R - (R - D) * H } var U = void 0; A = p - (p - v) * (U = L < h ? 0 : L > y ? 1 : (h - L) / (h - y)), C = k - (k - M) * U, T = E - (E - B) * U, P = x - (x - D) * U; for (var W = Math.round(Math.min(b, A)), G = Math.round(Math.max(b, A)), V = d * L + 4 * W, q = W; q <= G; q++)(U = (b - q) / (b - A)) < 0 ? U = 0 : U > 1 && (U = 1), f[V++] = S - (S - C) * U | 0, f[V++] = _ - (_ - T) * U | 0, f[V++] = w - (w - P) * U | 0, f[V++] = 255 } } function drawFigure(e, t, r) { var n, o, i = t.coords, a = t.colors; switch (t.type) { case "lattice": var s = t.verticesPerRow, c = Math.floor(i.length / s) - 1, u = s - 1; for (n = 0; n < c; n++)for (var l = n * s, f = 0; f < u; f++, l++)drawTriangle(e, r, i[l], i[l + 1], i[l + s], a[l], a[l + 1], a[l + s]), drawTriangle(e, r, i[l + s + 1], i[l + 1], i[l + s], a[l + s + 1], a[l + 1], a[l + s]); break; case "triangles": for (n = 0, o = i.length; n < o; n += 3)drawTriangle(e, r, i[n], i[n + 1], i[n + 2], a[n], a[n + 1], a[n + 2]); break; default: throw new Error("illegal figure") } } var s = function (e) { _inherits(MeshShadingPattern, i); var t = _createSuper(MeshShadingPattern); function MeshShadingPattern(e) { var r; return _classCallCheck(this, MeshShadingPattern), (r = t.call(this))._coords = e[2], r._colors = e[3], r._figures = e[4], r._bounds = e[5], r._bbox = e[7], r._background = e[8], r.matrix = null, r } return _createClass(MeshShadingPattern, [{ "key": "_createMeshCanvas", "value": function _createMeshCanvas(e, t, r) { var n = Math.floor(this._bounds[0]), o = Math.floor(this._bounds[1]), i = Math.ceil(this._bounds[2]) - n, a = Math.ceil(this._bounds[3]) - o, s = Math.min(Math.ceil(Math.abs(i * e[0] * 1.1)), 3e3), c = Math.min(Math.ceil(Math.abs(a * e[1] * 1.1)), 3e3), u = i / s, l = a / c, f = { "coords": this._coords, "colors": this._colors, "offsetX": -n, "offsetY": -o, "scaleX": 1 / u, "scaleY": 1 / l }, d = s + 4, p = c + 4, h = r.getCanvas("mesh", d, p, !1), m = h.context, g = m.createImageData(s, c); if (t) for (var v = g.data, y = 0, b = v.length; y < b; y += 4)v[y] = t[0], v[y + 1] = t[1], v[y + 2] = t[2], v[y + 3] = 255; var S, _ = _createForOfIteratorHelper(this._figures); try { for (_.s(); !(S = _.n()).done;) { drawFigure(g, S.value, f) } } catch (e) { _.e(e) } finally { _.f() } return m.putImageData(g, 2, 2), { "canvas": h.canvas, "offsetX": n - 2 * u, "offsetY": o - 2 * l, "scaleX": u, "scaleY": l } } }, { "key": "getPattern", "value": function getPattern(e, t, r, i) { var a; if (applyBoundingBox(e, this._bbox), i === o.SHADING) a = n.Util.singularValueDecompose2dScale(e.mozCurrentTransform); else if (a = n.Util.singularValueDecompose2dScale(t.baseTransform), this.matrix) { var s = n.Util.singularValueDecompose2dScale(this.matrix); a = [a[0] * s[0], a[1] * s[1]] } var c = this._createMeshCanvas(a, i === o.SHADING ? null : this._background, t.cachedCanvases); return i !== o.SHADING && (e.setTransform.apply(e, t.baseTransform), this.matrix && e.transform.apply(e, this.matrix)), e.translate(c.offsetX, c.offsetY), e.scale(c.scaleX, c.scaleY), e.createPattern(c.canvas, "no-repeat") } }]), MeshShadingPattern }(), c = function (e) { _inherits(DummyShadingPattern, i); var t = _createSuper(DummyShadingPattern); function DummyShadingPattern() { return _classCallCheck(this, DummyShadingPattern), t.apply(this, arguments) } return _createClass(DummyShadingPattern, [{ "key": "getPattern", "value": function getPattern() { return "hotpink" } }]), DummyShadingPattern }(); var u = 1, l = 2, f = function () { function TilingPattern(e, t, r, n, o) { _classCallCheck(this, TilingPattern), this.operatorList = e[2], this.matrix = e[3] || [1, 0, 0, 1, 0, 0], this.bbox = e[4], this.xstep = e[5], this.ystep = e[6], this.paintType = e[7], this.tilingType = e[8], this.color = t, this.ctx = r, this.canvasGraphicsFactory = n, this.baseTransform = o } return _createClass(TilingPattern, [{ "key": "createPatternCanvas", "value": function createPatternCanvas(e) { var t = this.operatorList, r = this.bbox, o = this.xstep, i = this.ystep, a = this.paintType, s = this.tilingType, c = this.color, u = this.canvasGraphicsFactory; (0, n.info)("TilingType: " + s); var l = r[0], f = r[1], d = r[2], p = r[3], h = n.Util.singularValueDecompose2dScale(this.matrix), m = n.Util.singularValueDecompose2dScale(this.baseTransform), g = [h[0] * m[0], h[1] * m[1]], v = this.getSizeAndScale(o, this.ctx.canvas.width, g[0]), y = this.getSizeAndScale(i, this.ctx.canvas.height, g[1]), b = e.cachedCanvases.getCanvas("pattern", v.size, y.size, !0), S = b.context, _ = u.createCanvasGraphics(S); _.groupLevel = e.groupLevel, this.setFillAndStrokeStyleToContext(_, a, c); var w = l, A = f, C = d, T = p; return l < 0 && (w = 0, C += Math.abs(l)), f < 0 && (A = 0, T += Math.abs(f)), S.translate(-v.scale * w, -y.scale * A), _.transform(v.scale, 0, 0, y.scale, 0, 0), this.clipBbox(_, w, A, C, T), _.baseTransform = _.ctx.mozCurrentTransform.slice(), _.executeOperatorList(t), _.endDrawing(), { "canvas": b.canvas, "scaleX": v.scale, "scaleY": y.scale, "offsetX": w, "offsetY": A } } }, { "key": "getSizeAndScale", "value": function getSizeAndScale(e, t, r) { e = Math.abs(e); var n = Math.max(TilingPattern.MAX_PATTERN_SIZE, t), o = Math.ceil(e * r); return o >= n ? o = n : r = o / e, { "scale": r, "size": o } } }, { "key": "clipBbox", "value": function clipBbox(e, t, r, n, o) { var i = n - t, a = o - r; e.ctx.rect(t, r, i, a), e.clip(), e.endPath() } }, { "key": "setFillAndStrokeStyleToContext", "value": function setFillAndStrokeStyleToContext(e, t, r) { var o = e.ctx, i = e.current; switch (t) { case u: var a = this.ctx; o.fillStyle = a.fillStyle, o.strokeStyle = a.strokeStyle, i.fillColor = a.fillStyle, i.strokeColor = a.strokeStyle; break; case l: var s = n.Util.makeHexColor(r[0], r[1], r[2]); o.fillStyle = s, o.strokeStyle = s, i.fillColor = s, i.strokeColor = s; break; default: throw new n.FormatError("Unsupported paint type: ".concat(t)) } } }, { "key": "getPattern", "value": function getPattern(e, t, r, i) { var a = r; i !== o.SHADING && (a = n.Util.transform(a, t.baseTransform), this.matrix && (a = n.Util.transform(a, this.matrix))); var s = this.createPatternCanvas(t), c = new DOMMatrix(a); c = (c = c.translate(s.offsetX, s.offsetY)).scale(1 / s.scaleX, 1 / s.scaleY); var u = e.createPattern(s.canvas, "repeat"); try { u.setTransform(c) } catch (e) { (0, n.warn)('TilingPattern.getPattern: "'.concat(null == e ? void 0 : e.message, '".')) } return u } }], [{ "key": "MAX_PATTERN_SIZE", "get": function get() { return (0, n.shadow)(this, "MAX_PATTERN_SIZE", 3e3) } }]), TilingPattern }(); t.TilingPattern = f }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.GlobalWorkerOptions = void 0; var r = Object.create(null); t.GlobalWorkerOptions = r, r.workerPort = void 0 === r.workerPort ? null : r.workerPort, r.workerSrc = void 0 === r.workerSrc ? "" : r.workerSrc }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.MessageHandler = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4); function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } var i = { "UNKNOWN": 0, "DATA": 1, "ERROR": 2 }, a = 1, s = 2, c = 3, u = 4, l = 5, f = 6, d = 7, p = 8; function wrapReason(e) { if (!(e instanceof Error || "object" === _typeof(e) && null !== e)) return (0, o.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'), e; switch (e.name) { case "AbortException": return new o.AbortException(e.message); case "MissingPDFException": return new o.MissingPDFException(e.message); case "PasswordException": return new o.PasswordException(e.message, e.code); case "UnexpectedResponseException": return new o.UnexpectedResponseException(e.message, e.status); case "UnknownErrorException": return new o.UnknownErrorException(e.message, e.details); default: return new o.UnknownErrorException(e.message, e.toString()) } } var h = function () { function MessageHandler(e, t, r) { var n = this; !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MessageHandler), this.sourceName = e, this.targetName = t, this.comObj = r, this.callbackId = 1, this.streamId = 1, this.streamSinks = Object.create(null), this.streamControllers = Object.create(null), this.callbackCapabilities = Object.create(null), this.actionHandler = Object.create(null), this._onComObjOnMessage = function (e) { var t = e.data; if (t.targetName === n.sourceName) if (t.stream) n._processStreamMessage(t); else if (t.callback) { var o = t.callbackId, a = n.callbackCapabilities[o]; if (!a) throw new Error("Cannot resolve callback ".concat(o)); if (delete n.callbackCapabilities[o], t.callback === i.DATA) a.resolve(t.data); else { if (t.callback !== i.ERROR) throw new Error("Unexpected callback case"); a.reject(wrapReason(t.reason)) } } else { var s = n.actionHandler[t.action]; if (!s) throw new Error("Unknown action from worker: ".concat(t.action)); if (t.callbackId) { var c = n.sourceName, u = t.sourceName; new Promise(function (e) { e(s(t.data)) }).then(function (e) { r.postMessage({ "sourceName": c, "targetName": u, "callback": i.DATA, "callbackId": t.callbackId, "data": e }) }, function (e) { r.postMessage({ "sourceName": c, "targetName": u, "callback": i.ERROR, "callbackId": t.callbackId, "reason": wrapReason(e) }) }) } else t.streamId ? n._createStreamSink(t) : s(t.data) } }, r.addEventListener("message", this._onComObjOnMessage) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(MessageHandler, [{ "key": "on", "value": function on(e, t) { var r = this.actionHandler; if (r[e]) throw new Error('There is already an actionName called "'.concat(e, '"')); r[e] = t } }, { "key": "send", "value": function send(e, t, r) { this.comObj.postMessage({ "sourceName": this.sourceName, "targetName": this.targetName, "action": e, "data": t }, r) } }, { "key": "sendWithPromise", "value": function sendWithPromise(e, t, r) { var n = this.callbackId++, i = (0, o.createPromiseCapability)(); this.callbackCapabilities[n] = i; try { this.comObj.postMessage({ "sourceName": this.sourceName, "targetName": this.targetName, "action": e, "callbackId": n, "data": t }, r) } catch (e) { i.reject(e) } return i.promise } }, { "key": "sendWithStream", "value": function sendWithStream(e, t, r, n) { var i = this, s = this.streamId++, c = this.sourceName, u = this.targetName, l = this.comObj; return new ReadableStream({ "start": function start(r) { var a = (0, o.createPromiseCapability)(); return i.streamControllers[s] = { "controller": r, "startCall": a, "pullCall": null, "cancelCall": null, "isClosed": !1 }, l.postMessage({ "sourceName": c, "targetName": u, "action": e, "streamId": s, "data": t, "desiredSize": r.desiredSize }, n), a.promise }, "pull": function pull(e) { var t = (0, o.createPromiseCapability)(); return i.streamControllers[s].pullCall = t, l.postMessage({ "sourceName": c, "targetName": u, "stream": f, "streamId": s, "desiredSize": e.desiredSize }), t.promise }, "cancel": function cancel(e) { (0, o.assert)(e instanceof Error, "cancel must have a valid reason"); var t = (0, o.createPromiseCapability)(); return i.streamControllers[s].cancelCall = t, i.streamControllers[s].isClosed = !0, l.postMessage({ "sourceName": c, "targetName": u, "stream": a, "streamId": s, "reason": wrapReason(e) }), t.promise } }, r) } }, { "key": "_createStreamSink", "value": function _createStreamSink(e) { var t = e.streamId, r = this.sourceName, n = e.sourceName, i = this.comObj, a = this, s = this.actionHandler[e.action], f = { "enqueue": function enqueue(e) { var a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, s = arguments.length > 2 ? arguments[2] : void 0; if (!this.isCancelled) { var c = this.desiredSize; this.desiredSize -= a, c > 0 && this.desiredSize <= 0 && (this.sinkCapability = (0, o.createPromiseCapability)(), this.ready = this.sinkCapability.promise), i.postMessage({ "sourceName": r, "targetName": n, "stream": u, "streamId": t, "chunk": e }, s) } }, "close": function close() { this.isCancelled || (this.isCancelled = !0, i.postMessage({ "sourceName": r, "targetName": n, "stream": c, "streamId": t }), delete a.streamSinks[t]) }, "error": function error(e) { (0, o.assert)(e instanceof Error, "error must have a valid reason"), this.isCancelled || (this.isCancelled = !0, i.postMessage({ "sourceName": r, "targetName": n, "stream": l, "streamId": t, "reason": wrapReason(e) })) }, "sinkCapability": (0, o.createPromiseCapability)(), "onPull": null, "onCancel": null, "isCancelled": !1, "desiredSize": e.desiredSize, "ready": null }; f.sinkCapability.resolve(), f.ready = f.sinkCapability.promise, this.streamSinks[t] = f, new Promise(function (t) { t(s(e.data, f)) }).then(function () { i.postMessage({ "sourceName": r, "targetName": n, "stream": p, "streamId": t, "success": !0 }) }, function (e) { i.postMessage({ "sourceName": r, "targetName": n, "stream": p, "streamId": t, "reason": wrapReason(e) }) }) } }, { "key": "_processStreamMessage", "value": function _processStreamMessage(e) { var t = e.streamId, r = this.sourceName, n = e.sourceName, i = this.comObj, h = this.streamControllers[t], m = this.streamSinks[t]; switch (e.stream) { case p: e.success ? h.startCall.resolve() : h.startCall.reject(wrapReason(e.reason)); break; case d: e.success ? h.pullCall.resolve() : h.pullCall.reject(wrapReason(e.reason)); break; case f: if (!m) { i.postMessage({ "sourceName": r, "targetName": n, "stream": d, "streamId": t, "success": !0 }); break } m.desiredSize <= 0 && e.desiredSize > 0 && m.sinkCapability.resolve(), m.desiredSize = e.desiredSize, new Promise(function (e) { e(m.onPull && m.onPull()) }).then(function () { i.postMessage({ "sourceName": r, "targetName": n, "stream": d, "streamId": t, "success": !0 }) }, function (e) { i.postMessage({ "sourceName": r, "targetName": n, "stream": d, "streamId": t, "reason": wrapReason(e) }) }); break; case u: if ((0, o.assert)(h, "enqueue should have stream controller"), h.isClosed) break; h.controller.enqueue(e.chunk); break; case c: if ((0, o.assert)(h, "close should have stream controller"), h.isClosed) break; h.isClosed = !0, h.controller.close(), this._deleteStreamController(h, t); break; case l: (0, o.assert)(h, "error should have stream controller"), h.controller.error(wrapReason(e.reason)), this._deleteStreamController(h, t); break; case s: e.success ? h.cancelCall.resolve() : h.cancelCall.reject(wrapReason(e.reason)), this._deleteStreamController(h, t); break; case a: if (!m) break; new Promise(function (t) { t(m.onCancel && m.onCancel(wrapReason(e.reason))) }).then(function () { i.postMessage({ "sourceName": r, "targetName": n, "stream": s, "streamId": t, "success": !0 }) }, function (e) { i.postMessage({ "sourceName": r, "targetName": n, "stream": s, "streamId": t, "reason": wrapReason(e) }) }), m.sinkCapability.reject(wrapReason(e.reason)), m.isCancelled = !0, delete this.streamSinks[t]; break; default: throw new Error("Unexpected stream case") } } }, { "key": "_deleteStreamController", "value": function () { var e = function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } }(n.default.mark(function _callee(e, t) { return n.default.wrap(function _callee$(r) { for (; ;)switch (r.prev = r.next) { case 0: return r.next = 2, Promise.allSettled([e.startCall && e.startCall.promise, e.pullCall && e.pullCall.promise, e.cancelCall && e.cancelCall.promise]); case 2: delete this.streamControllers[t]; case 3: case "end": return r.stop() } }, _callee, this) })); return function _deleteStreamController(t, r) { return e.apply(this, arguments) } }() }, { "key": "destroy", "value": function destroy() { this.comObj.removeEventListener("message", this._onComObjOnMessage) } }]), MessageHandler }(); t.MessageHandler = h }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.Metadata = void 0; var n = r(4); function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _classPrivateFieldInitSpec(e, t, r) { !function _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object") }(e, t), t.set(e, r) } function _classPrivateFieldGet(e, t) { return function _classApplyDescriptorGet(e, t) { if (t.get) return t.get.call(e); return t.value }(e, _classExtractFieldDescriptor(e, t, "get")) } function _classPrivateFieldSet(e, t, r) { return function _classApplyDescriptorSet(e, t, r) { if (t.set) t.set.call(e, r); else { if (!t.writable) throw new TypeError("attempted to set read only private field"); t.value = r } }(e, _classExtractFieldDescriptor(e, t, "set"), r), r } function _classExtractFieldDescriptor(e, t, r) { if (!t.has(e)) throw new TypeError("attempted to " + r + " private field on non-instance"); return t.get(e) } var o = new WeakMap, i = new WeakMap, a = function () { function Metadata(e) { var t = e.parsedData, r = e.rawData; !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Metadata), _classPrivateFieldInitSpec(this, o, { "writable": !0, "value": void 0 }), _classPrivateFieldInitSpec(this, i, { "writable": !0, "value": void 0 }), _classPrivateFieldSet(this, o, t), _classPrivateFieldSet(this, i, r) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(Metadata, [{ "key": "getRaw", "value": function getRaw() { return _classPrivateFieldGet(this, i) } }, { "key": "get", "value": function get(e) { var t; return null !== (t = _classPrivateFieldGet(this, o).get(e)) && void 0 !== t ? t : null } }, { "key": "getAll", "value": function getAll() { return (0, n.objectFromMap)(_classPrivateFieldGet(this, o)) } }, { "key": "has", "value": function has(e) { return _classPrivateFieldGet(this, o).has(e) } }]), Metadata }(); t.Metadata = a }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.OptionalContentConfig = void 0; var n = r(4); function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var o = function OptionalContentGroup(e, t) { _classCallCheck(this, OptionalContentGroup), this.visible = !0, this.name = e, this.intent = t }, i = function () { function OptionalContentConfig(e) { if (_classCallCheck(this, OptionalContentConfig), this.name = null, this.creator = null, this._order = null, this._groups = new Map, null !== e) { this.name = e.name, this.creator = e.creator, this._order = e.order; var t, r = _createForOfIteratorHelper(e.groups); try { for (r.s(); !(t = r.n()).done;) { var n = t.value; this._groups.set(n.id, new o(n.name, n.intent)) } } catch (e) { r.e(e) } finally { r.f() } if ("OFF" === e.baseState) { var i, a = _createForOfIteratorHelper(this._groups); try { for (a.s(); !(i = a.n()).done;) { i.value.visible = !1 } } catch (e) { a.e(e) } finally { a.f() } } var s, c = _createForOfIteratorHelper(e.on); try { for (c.s(); !(s = c.n()).done;) { var u = s.value; this._groups.get(u).visible = !0 } } catch (e) { c.e(e) } finally { c.f() } var l, f = _createForOfIteratorHelper(e.off); try { for (f.s(); !(l = f.n()).done;) { var d = l.value; this._groups.get(d).visible = !1 } } catch (e) { f.e(e) } finally { f.f() } } } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(OptionalContentConfig, [{ "key": "_evaluateVisibilityExpression", "value": function _evaluateVisibilityExpression(e) { var t = e.length; if (t < 2) return !0; for (var r = e[0], o = 1; o < t; o++) { var i = e[o], a = void 0; if (Array.isArray(i)) a = this._evaluateVisibilityExpression(i); else { if (!this._groups.has(i)) return (0, n.warn)("Optional content group not found: ".concat(i)), !0; a = this._groups.get(i).visible } switch (r) { case "And": if (!a) return !1; break; case "Or": if (a) return !0; break; case "Not": return !a; default: return !0 } } return "And" === r } }, { "key": "isVisible", "value": function isVisible(e) { if (0 === this._groups.size) return !0; if (!e) return (0, n.warn)("Optional content group not defined."), !0; if ("OCG" === e.type) return this._groups.has(e.id) ? this._groups.get(e.id).visible : ((0, n.warn)("Optional content group not found: ".concat(e.id)), !0); if ("OCMD" === e.type) { if (e.expression) return this._evaluateVisibilityExpression(e.expression); if (!e.policy || "AnyOn" === e.policy) { var t, r = _createForOfIteratorHelper(e.ids); try { for (r.s(); !(t = r.n()).done;) { var o = t.value; if (!this._groups.has(o)) return (0, n.warn)("Optional content group not found: ".concat(o)), !0; if (this._groups.get(o).visible) return !0 } } catch (e) { r.e(e) } finally { r.f() } return !1 } if ("AllOn" === e.policy) { var i, a = _createForOfIteratorHelper(e.ids); try { for (a.s(); !(i = a.n()).done;) { var s = i.value; if (!this._groups.has(s)) return (0, n.warn)("Optional content group not found: ".concat(s)), !0; if (!this._groups.get(s).visible) return !1 } } catch (e) { a.e(e) } finally { a.f() } return !0 } if ("AnyOff" === e.policy) { var c, u = _createForOfIteratorHelper(e.ids); try { for (u.s(); !(c = u.n()).done;) { var l = c.value; if (!this._groups.has(l)) return (0, n.warn)("Optional content group not found: ".concat(l)), !0; if (!this._groups.get(l).visible) return !0 } } catch (e) { u.e(e) } finally { u.f() } return !1 } if ("AllOff" === e.policy) { var f, d = _createForOfIteratorHelper(e.ids); try { for (d.s(); !(f = d.n()).done;) { var p = f.value; if (!this._groups.has(p)) return (0, n.warn)("Optional content group not found: ".concat(p)), !0; if (this._groups.get(p).visible) return !1 } } catch (e) { d.e(e) } finally { d.f() } return !0 } return (0, n.warn)("Unknown optional content policy ".concat(e.policy, ".")), !0 } return (0, n.warn)("Unknown group type ".concat(e.type, ".")), !0 } }, { "key": "setVisibility", "value": function setVisibility(e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; this._groups.has(e) ? this._groups.get(e).visible = !!t : (0, n.warn)("Optional content group not found: ".concat(e)) } }, { "key": "getOrder", "value": function getOrder() { return this._groups.size ? this._order ? this._order.slice() : Array.from(this._groups.keys()) : null } }, { "key": "getGroups", "value": function getGroups() { return this._groups.size > 0 ? (0, n.objectFromMap)(this._groups) : null } }, { "key": "getGroup", "value": function getGroup(e) { return this._groups.get(e) || null } }]), OptionalContentConfig }(); t.OptionalContentConfig = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.PDFDataTransportStream = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4), i = r(1); function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var a = function () { function PDFDataTransportStream(e, t) { var r = this; _classCallCheck(this, PDFDataTransportStream), (0, o.assert)(t, 'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'), this._queuedChunks = [], this._progressiveDone = e.progressiveDone || !1, this._contentDispositionFilename = e.contentDispositionFilename || null; var n = e.initialData; if ((null == n ? void 0 : n.length) > 0) { var i = new Uint8Array(n).buffer; this._queuedChunks.push(i) } this._pdfDataRangeTransport = t, this._isStreamingSupported = !e.disableStream, this._isRangeSupported = !e.disableRange, this._contentLength = e.length, this._fullRequestReader = null, this._rangeReaders = [], this._pdfDataRangeTransport.addRangeListener(function (e, t) { r._onReceiveData({ "begin": e, "chunk": t }) }), this._pdfDataRangeTransport.addProgressListener(function (e, t) { r._onProgress({ "loaded": e, "total": t }) }), this._pdfDataRangeTransport.addProgressiveReadListener(function (e) { r._onReceiveData({ "chunk": e }) }), this._pdfDataRangeTransport.addProgressiveDoneListener(function () { r._onProgressiveDone() }), this._pdfDataRangeTransport.transportReady() } return _createClass(PDFDataTransportStream, [{ "key": "_onReceiveData", "value": function _onReceiveData(e) { var t = new Uint8Array(e.chunk).buffer; if (void 0 === e.begin) this._fullRequestReader ? this._fullRequestReader._enqueue(t) : this._queuedChunks.push(t); else { var r = this._rangeReaders.some(function (r) { return r._begin === e.begin && (r._enqueue(t), !0) }); (0, o.assert)(r, "_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.") } } }, { "key": "_progressiveDataLength", "get": function get() { var e, t; return null !== (e = null === (t = this._fullRequestReader) || void 0 === t ? void 0 : t._loaded) && void 0 !== e ? e : 0 } }, { "key": "_onProgress", "value": function _onProgress(e) { if (void 0 === e.total) { var t = this._rangeReaders[0]; null != t && t.onProgress && t.onProgress({ "loaded": e.loaded }) } else { var r = this._fullRequestReader; null != r && r.onProgress && r.onProgress({ "loaded": e.loaded, "total": e.total }) } } }, { "key": "_onProgressiveDone", "value": function _onProgressiveDone() { this._fullRequestReader && this._fullRequestReader.progressiveDone(), this._progressiveDone = !0 } }, { "key": "_removeRangeReader", "value": function _removeRangeReader(e) { var t = this._rangeReaders.indexOf(e); t >= 0 && this._rangeReaders.splice(t, 1) } }, { "key": "getFullReader", "value": function getFullReader() { (0, o.assert)(!this._fullRequestReader, "PDFDataTransportStream.getFullReader can only be called once."); var e = this._queuedChunks; return this._queuedChunks = null, new s(this, e, this._progressiveDone, this._contentDispositionFilename) } }, { "key": "getRangeReader", "value": function getRangeReader(e, t) { if (t <= this._progressiveDataLength) return null; var r = new c(this, e, t); return this._pdfDataRangeTransport.requestDataRange(e, t), this._rangeReaders.push(r), r } }, { "key": "cancelAllRequests", "value": function cancelAllRequests(e) { this._fullRequestReader && this._fullRequestReader.cancel(e); var t, r = _createForOfIteratorHelper(this._rangeReaders.slice(0)); try { for (r.s(); !(t = r.n()).done;) { t.value.cancel(e) } } catch (e) { r.e(e) } finally { r.f() } this._pdfDataRangeTransport.abort() } }]), PDFDataTransportStream }(); t.PDFDataTransportStream = a; var s = function () { function PDFDataTransportStreamReader(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null; _classCallCheck(this, PDFDataTransportStreamReader), this._stream = e, this._done = r || !1, this._filename = (0, i.isPdfFile)(n) ? n : null, this._queuedChunks = t || [], this._loaded = 0; var o, a = _createForOfIteratorHelper(this._queuedChunks); try { for (a.s(); !(o = a.n()).done;) { var s = o.value; this._loaded += s.byteLength } } catch (e) { a.e(e) } finally { a.f() } this._requests = [], this._headersReady = Promise.resolve(), e._fullRequestReader = this, this.onProgress = null } return _createClass(PDFDataTransportStreamReader, [{ "key": "_enqueue", "value": function _enqueue(e) { if (!this._done) { if (this._requests.length > 0) this._requests.shift().resolve({ "value": e, "done": !1 }); else this._queuedChunks.push(e); this._loaded += e.byteLength } } }, { "key": "headersReady", "get": function get() { return this._headersReady } }, { "key": "filename", "get": function get() { return this._filename } }, { "key": "isRangeSupported", "get": function get() { return this._stream._isRangeSupported } }, { "key": "isStreamingSupported", "get": function get() { return this._stream._isStreamingSupported } }, { "key": "contentLength", "get": function get() { return this._stream._contentLength } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee() { var e, t; return n.default.wrap(function _callee$(r) { for (; ;)switch (r.prev = r.next) { case 0: if (!(this._queuedChunks.length > 0)) { r.next = 3; break } return e = this._queuedChunks.shift(), r.abrupt("return", { "value": e, "done": !1 }); case 3: if (!this._done) { r.next = 5; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 5: return t = (0, o.createPromiseCapability)(), this._requests.push(t), r.abrupt("return", t.promise); case 8: case "end": return r.stop() } }, _callee, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._done = !0; var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0 } }, { "key": "progressiveDone", "value": function progressiveDone() { this._done || (this._done = !0) } }]), PDFDataTransportStreamReader }(), c = function () { function PDFDataTransportStreamRangeReader(e, t, r) { _classCallCheck(this, PDFDataTransportStreamRangeReader), this._stream = e, this._begin = t, this._end = r, this._queuedChunk = null, this._requests = [], this._done = !1, this.onProgress = null } return _createClass(PDFDataTransportStreamRangeReader, [{ "key": "_enqueue", "value": function _enqueue(e) { if (!this._done) { if (0 === this._requests.length) this._queuedChunk = e; else { this._requests.shift().resolve({ "value": e, "done": !1 }); var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0 } this._done = !0, this._stream._removeRangeReader(this) } } }, { "key": "isStreamingSupported", "get": function get() { return !1 } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee2() { var e, t; return n.default.wrap(function _callee2$(r) { for (; ;)switch (r.prev = r.next) { case 0: if (!this._queuedChunk) { r.next = 4; break } return e = this._queuedChunk, this._queuedChunk = null, r.abrupt("return", { "value": e, "done": !1 }); case 4: if (!this._done) { r.next = 6; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 6: return t = (0, o.createPromiseCapability)(), this._requests.push(t), r.abrupt("return", t.promise); case 9: case "end": return r.stop() } }, _callee2, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._done = !0; var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0, this._stream._removeRangeReader(this) } }]), PDFDataTransportStreamRangeReader }() }, function (e, t) { "use strict"; function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } Object.defineProperty(t, "__esModule", { "value": !0 }), t.XfaText = void 0; var r = function () { function XfaText() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, XfaText) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(XfaText, null, [{ "key": "textContent", "value": function textContent(e) { var t = [], r = { "items": t, "styles": Object.create(null) }; return function walk(e) { var r; if (e) { var n = null, o = e.name; if ("#text" === o) n = e.value; else { if (!XfaText.shouldBuildText(o)) return; null != e && null !== (r = e.attributes) && void 0 !== r && r.textContent ? n = e.attributes.textContent : e.value && (n = e.value) } if (null !== n && t.push({ "str": n }), e.children) { var i, a = _createForOfIteratorHelper(e.children); try { for (a.s(); !(i = a.n()).done;)walk(i.value) } catch (e) { a.e(e) } finally { a.f() } } } }(e), r } }, { "key": "shouldBuildText", "value": function shouldBuildText(e) { return !("textarea" === e || "input" === e || "option" === e || "select" === e) } }]), XfaText }(); t.XfaText = r }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.AnnotationLayer = void 0; var n = r(4), o = r(1), i = r(139), a = r(149), s = r(150); function _classStaticPrivateMethodGet(e, t, r) { return function _classCheckPrivateStaticAccess(e, t) { if (e !== t) throw new TypeError("Private static access of wrong provenance") }(e, t), r } function _get(e, t, r) { return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, r) { var n = function _superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _getPrototypeOf(e));); return e }(e, t); if (n) { var o = Object.getOwnPropertyDescriptor(n, t); return o.get ? o.get.call(r) : o.value } })(e, t, r || e) } function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } function _toConsumableArray(e) { return function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) }(e) || function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(e) }(this, r) } } function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var c = new WeakSet, u = function () { function AnnotationElementFactory() { _classCallCheck(this, AnnotationElementFactory) } return _createClass(AnnotationElementFactory, null, [{ "key": "create", "value": function create(e) { switch (e.data.annotationType) { case n.AnnotationType.LINK: return new f(e); case n.AnnotationType.TEXT: return new d(e); case n.AnnotationType.WIDGET: switch (e.data.fieldType) { case "Tx": return new h(e); case "Btn": return e.data.radioButton ? new g(e) : e.data.checkBox ? new m(e) : new v(e); case "Ch": return new y(e) }return new p(e); case n.AnnotationType.POPUP: return new b(e); case n.AnnotationType.FREETEXT: return new _(e); case n.AnnotationType.LINE: return new w(e); case n.AnnotationType.SQUARE: return new A(e); case n.AnnotationType.CIRCLE: return new C(e); case n.AnnotationType.POLYLINE: return new T(e); case n.AnnotationType.CARET: return new k(e); case n.AnnotationType.INK: return new E(e); case n.AnnotationType.POLYGON: return new P(e); case n.AnnotationType.HIGHLIGHT: return new x(e); case n.AnnotationType.UNDERLINE: return new O(e); case n.AnnotationType.SQUIGGLY: return new I(e); case n.AnnotationType.STRIKEOUT: return new R(e); case n.AnnotationType.STAMP: return new M(e); case n.AnnotationType.FILEATTACHMENT: return new B(e); default: return new l(e) } } }]), AnnotationElementFactory }(), l = function () { function AnnotationElement(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = t.isRenderable, n = void 0 !== r && r, o = t.ignoreBorder, i = void 0 !== o && o, a = t.createQuadrilaterals, s = void 0 !== a && a; _classCallCheck(this, AnnotationElement), this.isRenderable = n, this.data = e.data, this.layer = e.layer, this.page = e.page, this.viewport = e.viewport, this.linkService = e.linkService, this.downloadManager = e.downloadManager, this.imageResourcesPath = e.imageResourcesPath, this.renderForms = e.renderForms, this.svgFactory = e.svgFactory, this.annotationStorage = e.annotationStorage, this.enableScripting = e.enableScripting, this.hasJSActions = e.hasJSActions, this._fieldObjects = e.fieldObjects, this._mouseState = e.mouseState, n && (this.container = this._createContainer(i)), s && (this.quadrilaterals = this._createQuadrilaterals(i)) } return _createClass(AnnotationElement, [{ "key": "_createContainer", "value": function _createContainer() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = this.data, r = this.page, o = this.viewport, i = document.createElement("section"), a = t.rect[2] - t.rect[0], s = t.rect[3] - t.rect[1]; i.setAttribute("data-annotation-id", t.id); var c = n.Util.normalizeRect([t.rect[0], r.view[3] - t.rect[1] + r.view[1], t.rect[2], r.view[3] - t.rect[3] + r.view[1]]); if (t.hasOwnCanvas) { var u = o.transform.slice(), l = _slicedToArray(n.Util.singularValueDecompose2dScale(u), 2), f = l[0], d = l[1]; a = Math.ceil(a * f), s = Math.ceil(s * d), c[0] *= f, c[1] *= d; for (var p = 0; p < 4; p++)u[p] = Math.sign(u[p]); i.style.transform = "matrix(".concat(u.join(","), ")") } else i.style.transform = "matrix(".concat(o.transform.join(","), ")"); if (i.style.transformOrigin = "".concat(-c[0], "px ").concat(-c[1], "px"), !e && t.borderStyle.width > 0) { i.style.borderWidth = "".concat(t.borderStyle.width, "px"), t.borderStyle.style !== n.AnnotationBorderStyleType.UNDERLINE && (a -= 2 * t.borderStyle.width, s -= 2 * t.borderStyle.width); var h = t.borderStyle.horizontalCornerRadius, m = t.borderStyle.verticalCornerRadius; if (h > 0 || m > 0) { var g = "".concat(h, "px / ").concat(m, "px"); i.style.borderRadius = g } switch (t.borderStyle.style) { case n.AnnotationBorderStyleType.SOLID: i.style.borderStyle = "solid"; break; case n.AnnotationBorderStyleType.DASHED: i.style.borderStyle = "dashed"; break; case n.AnnotationBorderStyleType.BEVELED: (0, n.warn)("Unimplemented border style: beveled"); break; case n.AnnotationBorderStyleType.INSET: (0, n.warn)("Unimplemented border style: inset"); break; case n.AnnotationBorderStyleType.UNDERLINE: i.style.borderBottomStyle = "solid" }t.borderColor || t.color || null ? i.style.borderColor = n.Util.makeHexColor(0 | t.color[0], 0 | t.color[1], 0 | t.color[2]) : i.style.borderWidth = 0 } return i.style.left = "".concat(c[0], "px"), i.style.top = "".concat(c[1], "px"), t.hasOwnCanvas ? i.style.width = i.style.height = "auto" : (i.style.width = "".concat(a, "px"), i.style.height = "".concat(s, "px")), i } }, { "key": "_createQuadrilaterals", "value": function _createQuadrilaterals() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; if (!this.data.quadPoints) return null; var t, r = [], n = this.data.rect, o = _createForOfIteratorHelper(this.data.quadPoints); try { for (o.s(); !(t = o.n()).done;) { var i = t.value; this.data.rect = [i[2].x, i[2].y, i[1].x, i[1].y], r.push(this._createContainer(e)) } } catch (e) { o.e(e) } finally { o.f() } return this.data.rect = n, r } }, { "key": "_createPopup", "value": function _createPopup(e, t) { var r = this.container; this.quadrilaterals && (e = e || this.quadrilaterals, r = this.quadrilaterals[0]), e || ((e = document.createElement("div")).style.height = r.style.height, e.style.width = r.style.width, r.appendChild(e)); var n = new S({ "container": r, "trigger": e, "color": t.color, "titleObj": t.titleObj, "modificationDate": t.modificationDate, "contentsObj": t.contentsObj, "richText": t.richText, "hideWrapper": !0 }).render(); n.style.left = r.style.width, r.appendChild(n) } }, { "key": "_renderQuadrilaterals", "value": function _renderQuadrilaterals(e) { var t, r = _createForOfIteratorHelper(this.quadrilaterals); try { for (r.s(); !(t = r.n()).done;) { t.value.className = e } } catch (e) { r.e(e) } finally { r.f() } return this.quadrilaterals } }, { "key": "render", "value": function render() { (0, n.unreachable)("Abstract method `AnnotationElement.render` called") } }, { "key": "_getElementsByName", "value": function _getElementsByName(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r = []; if (this._fieldObjects) { var o = this._fieldObjects[e]; if (o) { var i, a = _createForOfIteratorHelper(o); try { for (a.s(); !(i = a.n()).done;) { var s = i.value, u = s.page, l = s.id, f = s.exportValues; if (-1 !== u && l !== t) { var d = "string" == typeof f ? f : null, p = document.getElementById(l); !p || c.has(p) ? r.push({ "id": l, "exportValue": d, "domElement": p }) : (0, n.warn)("_getElementsByName - element not allowed: ".concat(l)) } } } catch (e) { a.e(e) } finally { a.f() } } return r } var h, m = _createForOfIteratorHelper(document.getElementsByName(e)); try { for (m.s(); !(h = m.n()).done;) { var g = h.value, v = g.id, y = g.exportValue; v !== t && (c.has(g) && r.push({ "id": v, "exportValue": y, "domElement": g })) } } catch (e) { m.e(e) } finally { m.f() } return r } }], [{ "key": "platform", "get": function get() { var e = "undefined" != typeof navigator ? navigator.platform : ""; return (0, n.shadow)(this, "platform", { "isWin": e.includes("Win"), "isMac": e.includes("Mac") }) } }]), AnnotationElement }(), f = function (e) { _inherits(LinkAnnotationElement, l); var t = _createSuper(LinkAnnotationElement); function LinkAnnotationElement(e) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; _classCallCheck(this, LinkAnnotationElement); var n = !!(e.data.url || e.data.dest || e.data.action || e.data.isTooltipOnly || e.data.resetForm || e.data.actions && (e.data.actions.Action || e.data.actions["Mouse Up"] || e.data.actions["Mouse Down"])); return t.call(this, e, { "isRenderable": n, "ignoreBorder": !(null == r || !r.ignoreBorder), "createQuadrilaterals": !0 }) } return _createClass(LinkAnnotationElement, [{ "key": "render", "value": function render() { var e, t = this.data, r = this.linkService, o = document.createElement("a"); if (t.url) r.addLinkAttributes || (0, n.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."), null === (e = r.addLinkAttributes) || void 0 === e || e.call(r, o, t.url, t.newWindow); else if (t.action) this._bindNamedAction(o, t.action); else if (t.dest) this._bindLink(o, t.dest); else { var i = !1; t.actions && (t.actions.Action || t.actions["Mouse Up"] || t.actions["Mouse Down"]) && this.enableScripting && this.hasJSActions && (i = !0, this._bindJSAction(o, t)), t.resetForm ? this._bindResetFormAction(o, t.resetForm) : i || this._bindLink(o, "") } return this.quadrilaterals ? this._renderQuadrilaterals("linkAnnotation").map(function (e, t) { var r = 0 === t ? o : o.cloneNode(); return e.appendChild(r), e }) : (this.container.className = "linkAnnotation", this.container.appendChild(o), this.container) } }, { "key": "_bindLink", "value": function _bindLink(e, t) { var r = this; e.href = this.linkService.getDestinationHash(t), e.onclick = function () { return t && r.linkService.goToDestination(t), !1 }, (t || "" === t) && (e.className = "internalLink") } }, { "key": "_bindNamedAction", "value": function _bindNamedAction(e, t) { var r = this; e.href = this.linkService.getAnchorUrl(""), e.onclick = function () { return r.linkService.executeNamedAction(t), !1 }, e.className = "internalLink" } }, { "key": "_bindJSAction", "value": function _bindJSAction(e, t) { var r = this; e.href = this.linkService.getAnchorUrl(""); for (var n = new Map([["Action", "onclick"], ["Mouse Up", "onmouseup"], ["Mouse Down", "onmousedown"]]), o = function _loop() { var o = a[i], s = n.get(o); if (!s) return "continue"; e[s] = function () { var e; return null === (e = r.linkService.eventBus) || void 0 === e || e.dispatch("dispatcheventinsandbox", { "source": r, "detail": { "id": t.id, "name": o } }), !1 } }, i = 0, a = Object.keys(t.actions); i < a.length; i++)o(); e.onclick || (e.onclick = function () { return !1 }), e.className = "internalLink" } }, { "key": "_bindResetFormAction", "value": function _bindResetFormAction(e, t) { var r = this, o = e.onclick; if (o || (e.href = this.linkService.getAnchorUrl("")), e.className = "internalLink", !this._fieldObjects) return (0, n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'), void (o || (e.onclick = function () { return !1 })); e.onclick = function () { o && o(); var e = t.fields, n = t.refs, i = t.include, a = []; if (0 !== e.length || 0 !== n.length) { var s, u = new Set(n), l = _createForOfIteratorHelper(e); try { for (l.s(); !(s = l.n()).done;) { var f, d = s.value, p = _createForOfIteratorHelper(r._fieldObjects[d] || []); try { for (p.s(); !(f = p.n()).done;) { var h = f.value.id; u.add(h) } } catch (e) { p.e(e) } finally { p.f() } } } catch (e) { l.e(e) } finally { l.f() } for (var m = 0, g = Object.values(r._fieldObjects); m < g.length; m++) { var v, y = _createForOfIteratorHelper(g[m]); try { for (y.s(); !(v = y.n()).done;) { var b = v.value; u.has(b.id) === i && a.push(b) } } catch (e) { y.e(e) } finally { y.f() } } } else for (var S = 0, _ = Object.values(r._fieldObjects); S < _.length; S++) { var w = _[S]; a.push.apply(a, _toConsumableArray(w)) } for (var A, C = r.annotationStorage, T = [], P = 0, k = a; P < k.length; P++) { var E = k[P], x = E.id; switch (T.push(x), E.type) { case "text": var O = E.defaultValue || ""; C.setValue(x, { "value": O, "valueAsString": O }); break; case "checkbox": case "radiobutton": var I = E.defaultValue === E.exportValues; C.setValue(x, { "value": I }); break; case "combobox": case "listbox": var R = E.defaultValue || ""; C.setValue(x, { "value": R }); break; default: continue }var M = document.getElementById(x); M && c.has(M) && M.dispatchEvent(new Event("resetform")) } r.enableScripting && (null === (A = r.linkService.eventBus) || void 0 === A || A.dispatch("dispatcheventinsandbox", { "source": r, "detail": { "id": "app", "ids": T, "name": "ResetForm" } })); return !1 } } }]), LinkAnnotationElement }(), d = function (e) { _inherits(TextAnnotationElement, l); var t = _createSuper(TextAnnotationElement); function TextAnnotationElement(e) { var r, n, o; _classCallCheck(this, TextAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i }) } return _createClass(TextAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = "textAnnotation"; var e = document.createElement("img"); return e.style.height = this.container.style.height, e.style.width = this.container.style.width, e.src = this.imageResourcesPath + "annotation-" + this.data.name.toLowerCase() + ".svg", e.alt = "[{{type}} Annotation]", e.dataset.l10nId = "text_annotation_type", e.dataset.l10nArgs = JSON.stringify({ "type": this.data.name }), this.data.hasPopup || this._createPopup(e, this.data), this.container.appendChild(e), this.container } }]), TextAnnotationElement }(), p = function (e) { _inherits(WidgetAnnotationElement, l); var t = _createSuper(WidgetAnnotationElement); function WidgetAnnotationElement() { return _classCallCheck(this, WidgetAnnotationElement), t.apply(this, arguments) } return _createClass(WidgetAnnotationElement, [{ "key": "render", "value": function render() { return this.data.alternativeText && (this.container.title = this.data.alternativeText), this.container } }, { "key": "_getKeyModifier", "value": function _getKeyModifier(e) { var t = l.platform, r = t.isWin, n = t.isMac; return r && e.ctrlKey || n && e.metaKey } }, { "key": "_setEventListener", "value": function _setEventListener(e, t, r, n) { var o = this; t.includes("mouse") ? e.addEventListener(t, function (e) { var t; null === (t = o.linkService.eventBus) || void 0 === t || t.dispatch("dispatcheventinsandbox", { "source": o, "detail": { "id": o.data.id, "name": r, "value": n(e), "shift": e.shiftKey, "modifier": o._getKeyModifier(e) } }) }) : e.addEventListener(t, function (e) { var t; null === (t = o.linkService.eventBus) || void 0 === t || t.dispatch("dispatcheventinsandbox", { "source": o, "detail": { "id": o.data.id, "name": r, "value": e.target.checked } }) }) } }, { "key": "_setEventListeners", "value": function _setEventListeners(e, t, r) { var n, o = _createForOfIteratorHelper(t); try { for (o.s(); !(n = o.n()).done;) { var i, a = _slicedToArray(n.value, 2), s = a[0], c = a[1]; ("Action" === c || null !== (i = this.data.actions) && void 0 !== i && i[c]) && this._setEventListener(e, s, c, r) } } catch (e) { o.e(e) } finally { o.f() } } }, { "key": "_setBackgroundColor", "value": function _setBackgroundColor(e) { var t = this.data.backgroundColor || null; e.style.backgroundColor = null === t ? "transparent" : n.Util.makeHexColor(t[0], t[1], t[2]) } }, { "key": "_dispatchEventFromSandbox", "value": function _dispatchEventFromSandbox(e, t) { for (var r = this, n = function setColor(e, t, r) { var n = r.detail[e]; r.target.style[t] = a.ColorConverters["".concat(n[0], "_HTML")](n.slice(1)) }, o = { "display": function display(e) { var t = e.detail.display % 2 == 1; e.target.style.visibility = t ? "hidden" : "visible", r.annotationStorage.setValue(r.data.id, { "hidden": t, "print": 0 === e.detail.display || 3 === e.detail.display }) }, "print": function print(e) { r.annotationStorage.setValue(r.data.id, { "print": e.detail.print }) }, "hidden": function hidden(e) { e.target.style.visibility = e.detail.hidden ? "hidden" : "visible", r.annotationStorage.setValue(r.data.id, { "hidden": e.detail.hidden }) }, "focus": function focus(e) { setTimeout(function () { return e.target.focus({ "preventScroll": !1 }) }, 0) }, "userName": function userName(e) { e.target.title = e.detail.userName }, "readonly": function readonly(e) { e.detail.readonly ? e.target.setAttribute("readonly", "") : e.target.removeAttribute("readonly") }, "required": function required(e) { e.detail.required ? e.target.setAttribute("required", "") : e.target.removeAttribute("required") }, "bgColor": function bgColor(e) { n("bgColor", "backgroundColor", e) }, "fillColor": function fillColor(e) { n("fillColor", "backgroundColor", e) }, "fgColor": function fgColor(e) { n("fgColor", "color", e) }, "textColor": function textColor(e) { n("textColor", "color", e) }, "borderColor": function borderColor(e) { n("borderColor", "borderColor", e) }, "strokeColor": function strokeColor(e) { n("strokeColor", "borderColor", e) } }, i = 0, s = Object.keys(t.detail); i < s.length; i++) { var c = s[i], u = e[c] || o[c]; u && u(t) } } }]), WidgetAnnotationElement }(), h = function (e) { _inherits(TextWidgetAnnotationElement, p); var t = _createSuper(TextWidgetAnnotationElement); function TextWidgetAnnotationElement(e) { _classCallCheck(this, TextWidgetAnnotationElement); var r = e.renderForms || !e.data.hasAppearance && !!e.data.fieldValue; return t.call(this, e, { "isRenderable": r }) } return _createClass(TextWidgetAnnotationElement, [{ "key": "setPropertyOnSiblings", "value": function setPropertyOnSiblings(e, t, r, n) { var o, i = this.annotationStorage, a = _createForOfIteratorHelper(this._getElementsByName(e.name, e.id)); try { for (a.s(); !(o = a.n()).done;) { var s = o.value; s.domElement && (s.domElement[t] = r), i.setValue(s.id, _defineProperty({}, n, r)) } } catch (e) { a.e(e) } finally { a.f() } } }, { "key": "render", "value": function render() { var e = this, t = this.annotationStorage, r = this.data.id; this.container.className = "textWidgetAnnotation"; var n = null; if (this.renderForms) { var o = t.getValue(r, { "value": this.data.fieldValue, "valueAsString": this.data.fieldValue }), i = o.valueAsString || o.value || "", a = { "userValue": null, "formattedValue": null, "beforeInputSelectionRange": null, "beforeInputValue": null }; this.data.multiLine ? (n = document.createElement("textarea")).textContent = i : ((n = document.createElement("input")).type = "text", n.setAttribute("value", i)), c.add(n), n.disabled = this.data.readOnly, n.name = this.data.fieldName, n.tabIndex = 1e3, a.userValue = i, n.setAttribute("id", r), n.addEventListener("input", function (o) { t.setValue(r, { "value": o.target.value }), e.setPropertyOnSiblings(n, "value", o.target.value, "value") }), n.addEventListener("resetform", function (t) { var r = e.data.defaultFieldValue || ""; n.value = a.userValue = r, delete a.formattedValue }); var s = function blurListener(e) { a.formattedValue && (e.target.value = a.formattedValue), e.target.scrollLeft = 0, a.beforeInputSelectionRange = null }; if (this.enableScripting && this.hasJSActions) { var u; n.addEventListener("focus", function (e) { a.userValue && (e.target.value = a.userValue) }), n.addEventListener("updatefromsandbox", function (n) { var o = { "value": function value(e) { a.userValue = e.detail.value || "", t.setValue(r, { "value": a.userValue.toString() }), a.formattedValue || (e.target.value = a.userValue) }, "valueAsString": function valueAsString(e) { a.formattedValue = e.detail.valueAsString || "", e.target !== document.activeElement && (e.target.value = a.formattedValue), t.setValue(r, { "formattedValue": a.formattedValue }) }, "selRange": function selRange(e) { var t = _slicedToArray(e.detail.selRange, 2), r = t[0], n = t[1]; r >= 0 && n < e.target.value.length && e.target.setSelectionRange(r, n) } }; e._dispatchEventFromSandbox(o, n) }), n.addEventListener("keydown", function (t) { var n; a.beforeInputValue = t.target.value; var o = -1; "Escape" === t.key ? o = 0 : "Enter" === t.key ? o = 2 : "Tab" === t.key && (o = 3), -1 !== o && (a.userValue = t.target.value, null === (n = e.linkService.eventBus) || void 0 === n || n.dispatch("dispatcheventinsandbox", { "source": e, "detail": { "id": r, "name": "Keystroke", "value": t.target.value, "willCommit": !0, "commitKey": o, "selStart": t.target.selectionStart, "selEnd": t.target.selectionEnd } })) }); var l = s; s = null, n.addEventListener("blur", function (t) { var n; e._mouseState.isDown && (a.userValue = t.target.value, null === (n = e.linkService.eventBus) || void 0 === n || n.dispatch("dispatcheventinsandbox", { "source": e, "detail": { "id": r, "name": "Keystroke", "value": t.target.value, "willCommit": !0, "commitKey": 1, "selStart": t.target.selectionStart, "selEnd": t.target.selectionEnd } })); l(t) }), n.addEventListener("mousedown", function (e) { a.beforeInputValue = e.target.value, a.beforeInputSelectionRange = null }), n.addEventListener("keyup", function (e) { e.target.selectionStart === e.target.selectionEnd && (a.beforeInputSelectionRange = null) }), n.addEventListener("select", function (e) { a.beforeInputSelectionRange = [e.target.selectionStart, e.target.selectionEnd] }), null !== (u = this.data.actions) && void 0 !== u && u.Keystroke && n.addEventListener("input", function (t) { var n, o = -1, i = -1; if (a.beforeInputSelectionRange) { var s = _slicedToArray(a.beforeInputSelectionRange, 2); o = s[0], i = s[1] } null === (n = e.linkService.eventBus) || void 0 === n || n.dispatch("dispatcheventinsandbox", { "source": e, "detail": { "id": r, "name": "Keystroke", "value": a.beforeInputValue, "change": t.data, "willCommit": !1, "selStart": o, "selEnd": i } }) }), this._setEventListeners(n, [["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], function (e) { return e.target.value }) } if (s && n.addEventListener("blur", s), null !== this.data.maxLen && (n.maxLength = this.data.maxLen), this.data.comb) { var f = (this.data.rect[2] - this.data.rect[0]) / this.data.maxLen; n.classList.add("comb"), n.style.letterSpacing = "calc(".concat(f, "px - 1ch)") } } else (n = document.createElement("div")).textContent = this.data.fieldValue, n.style.verticalAlign = "middle", n.style.display = "table-cell"; return this._setTextStyle(n), this._setBackgroundColor(n), this.container.appendChild(n), this.container } }, { "key": "_setTextStyle", "value": function _setTextStyle(e) { var t = this.data.defaultAppearanceData, r = t.fontSize, o = t.fontColor, i = e.style; r && (i.fontSize = "".concat(r, "px")), i.color = n.Util.makeHexColor(o[0], o[1], o[2]), null !== this.data.textAlignment && (i.textAlign = ["left", "center", "right"][this.data.textAlignment]) } }]), TextWidgetAnnotationElement }(), m = function (e) { _inherits(CheckboxWidgetAnnotationElement, p); var t = _createSuper(CheckboxWidgetAnnotationElement); function CheckboxWidgetAnnotationElement(e) { return _classCallCheck(this, CheckboxWidgetAnnotationElement), t.call(this, e, { "isRenderable": e.renderForms }) } return _createClass(CheckboxWidgetAnnotationElement, [{ "key": "render", "value": function render() { var e = this, t = this.annotationStorage, r = this.data, n = r.id, o = t.getValue(n, { "value": r.exportValue === r.fieldValue }).value; "string" == typeof o && (o = "Off" !== o, t.setValue(n, { "value": o })), this.container.className = "buttonWidgetAnnotation checkBox"; var i = document.createElement("input"); return c.add(i), i.disabled = r.readOnly, i.type = "checkbox", i.name = r.fieldName, o && i.setAttribute("checked", !0), i.setAttribute("id", n), i.setAttribute("exportValue", r.exportValue), i.tabIndex = 1e3, i.addEventListener("change", function (o) { var i, a = o.target, s = a.name, c = a.checked, u = _createForOfIteratorHelper(e._getElementsByName(s, n)); try { for (u.s(); !(i = u.n()).done;) { var l = i.value, f = c && l.exportValue === r.exportValue; l.domElement && (l.domElement.checked = f), t.setValue(l.id, { "value": f }) } } catch (e) { u.e(e) } finally { u.f() } t.setValue(n, { "value": c }) }), i.addEventListener("resetform", function (e) { var t = r.defaultFieldValue || "Off"; e.target.checked = t === r.exportValue }), this.enableScripting && this.hasJSActions && (i.addEventListener("updatefromsandbox", function (r) { var o = { "value": function value(e) { e.target.checked = "Off" !== e.detail.value, t.setValue(n, { "value": e.target.checked }) } }; e._dispatchEventFromSandbox(o, r) }), this._setEventListeners(i, [["change", "Validate"], ["change", "Action"], ["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], function (e) { return e.target.checked })), this._setBackgroundColor(i), this.container.appendChild(i), this.container } }]), CheckboxWidgetAnnotationElement }(), g = function (e) { _inherits(RadioButtonWidgetAnnotationElement, p); var t = _createSuper(RadioButtonWidgetAnnotationElement); function RadioButtonWidgetAnnotationElement(e) { return _classCallCheck(this, RadioButtonWidgetAnnotationElement), t.call(this, e, { "isRenderable": e.renderForms }) } return _createClass(RadioButtonWidgetAnnotationElement, [{ "key": "render", "value": function render() { var e = this; this.container.className = "buttonWidgetAnnotation radioButton"; var t = this.annotationStorage, r = this.data, n = r.id, o = t.getValue(n, { "value": r.fieldValue === r.buttonValue }).value; "string" == typeof o && (o = o !== r.buttonValue, t.setValue(n, { "value": o })); var i = document.createElement("input"); if (c.add(i), i.disabled = r.readOnly, i.type = "radio", i.name = r.fieldName, o && i.setAttribute("checked", !0), i.setAttribute("id", n), i.tabIndex = 1e3, i.addEventListener("change", function (r) { var o, i = r.target, a = i.name, s = i.checked, c = _createForOfIteratorHelper(e._getElementsByName(a, n)); try { for (c.s(); !(o = c.n()).done;) { var u = o.value; t.setValue(u.id, { "value": !1 }) } } catch (e) { c.e(e) } finally { c.f() } t.setValue(n, { "value": s }) }), i.addEventListener("resetform", function (e) { var t = r.defaultFieldValue; e.target.checked = null != t && t === r.buttonValue }), this.enableScripting && this.hasJSActions) { var a = r.buttonValue; i.addEventListener("updatefromsandbox", function (r) { var o = { "value": function value(r) { var o, i = a === r.detail.value, s = _createForOfIteratorHelper(e._getElementsByName(r.target.name)); try { for (s.s(); !(o = s.n()).done;) { var c = o.value, u = i && c.id === n; c.domElement && (c.domElement.checked = u), t.setValue(c.id, { "value": u }) } } catch (e) { s.e(e) } finally { s.f() } } }; e._dispatchEventFromSandbox(o, r) }), this._setEventListeners(i, [["change", "Validate"], ["change", "Action"], ["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"]], function (e) { return e.target.checked }) } return this._setBackgroundColor(i), this.container.appendChild(i), this.container } }]), RadioButtonWidgetAnnotationElement }(), v = function (e) { _inherits(PushButtonWidgetAnnotationElement, f); var t = _createSuper(PushButtonWidgetAnnotationElement); function PushButtonWidgetAnnotationElement(e) { return _classCallCheck(this, PushButtonWidgetAnnotationElement), t.call(this, e, { "ignoreBorder": e.data.hasAppearance }) } return _createClass(PushButtonWidgetAnnotationElement, [{ "key": "render", "value": function render() { var e = _get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype), "render", this).call(this); return e.className = "buttonWidgetAnnotation pushButton", this.data.alternativeText && (e.title = this.data.alternativeText), e } }]), PushButtonWidgetAnnotationElement }(), y = function (e) { _inherits(ChoiceWidgetAnnotationElement, p); var t = _createSuper(ChoiceWidgetAnnotationElement); function ChoiceWidgetAnnotationElement(e) { return _classCallCheck(this, ChoiceWidgetAnnotationElement), t.call(this, e, { "isRenderable": e.renderForms }) } return _createClass(ChoiceWidgetAnnotationElement, [{ "key": "render", "value": function render() { var e = this; this.container.className = "choiceWidgetAnnotation"; var t = this.annotationStorage, r = this.data.id; t.getValue(r, { "value": this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : void 0 }); var n = this.data.defaultAppearanceData.fontSize; n || (n = 9); var o = "calc(".concat(n, "px * var(--zoom-factor))"), i = document.createElement("select"); c.add(i), i.disabled = this.data.readOnly, i.name = this.data.fieldName, i.setAttribute("id", r), i.tabIndex = 1e3, i.style.fontSize = "".concat(n, "px"), this.data.combo || (i.size = this.data.options.length, this.data.multiSelect && (i.multiple = !0)), i.addEventListener("resetform", function (t) { var r, n = e.data.defaultFieldValue, o = _createForOfIteratorHelper(i.options); try { for (o.s(); !(r = o.n()).done;) { var a = r.value; a.selected = a.value === n } } catch (e) { o.e(e) } finally { o.f() } }); var a, s = _createForOfIteratorHelper(this.data.options); try { for (s.s(); !(a = s.n()).done;) { var u = a.value, l = document.createElement("option"); l.textContent = u.displayValue, l.value = u.exportValue, this.data.combo && (l.style.fontSize = o), this.data.fieldValue.includes(u.exportValue) && l.setAttribute("selected", !0), i.appendChild(l) } } catch (e) { s.e(e) } finally { s.f() } var f = function getValue(e, t) { var r = t ? "value" : "textContent", n = e.target.options; return e.target.multiple ? Array.prototype.filter.call(n, function (e) { return e.selected }).map(function (e) { return e[r] }) : -1 === n.selectedIndex ? null : n[n.selectedIndex][r] }, d = function getItems(e) { var t = e.target.options; return Array.prototype.map.call(t, function (e) { return { "displayValue": e.textContent, "exportValue": e.value } }) }; return this.enableScripting && this.hasJSActions ? (i.addEventListener("updatefromsandbox", function (n) { var o = { "value": function value(e) { var n, value = e.detail.value, o = new Set(Array.isArray(value) ? value : [value]), a = _createForOfIteratorHelper(i.options); try { for (a.s(); !(n = a.n()).done;) { var s = n.value; s.selected = o.has(s.value) } } catch (e) { a.e(e) } finally { a.f() } t.setValue(r, { "value": f(e, !0) }) }, "multipleSelection": function multipleSelection(e) { i.multiple = !0 }, "remove": function remove(e) { var n = i.options, o = e.detail.remove; (n[o].selected = !1, i.remove(o), n.length > 0) && (-1 === Array.prototype.findIndex.call(n, function (e) { return e.selected }) && (n[0].selected = !0)); t.setValue(r, { "value": f(e, !0), "items": d(e) }) }, "clear": function clear(e) { for (; 0 !== i.length;)i.remove(0); t.setValue(r, { "value": null, "items": [] }) }, "insert": function insert(e) { var n = e.detail.insert, o = n.index, a = n.displayValue, s = n.exportValue, c = document.createElement("option"); c.textContent = a, c.value = s, i.insertBefore(c, i.children[o]), t.setValue(r, { "value": f(e, !0), "items": d(e) }) }, "items": function items(e) { for (var items = e.detail.items; 0 !== i.length;)i.remove(0); var n, o = _createForOfIteratorHelper(items); try { for (o.s(); !(n = o.n()).done;) { var a = n.value, s = a.displayValue, c = a.exportValue, u = document.createElement("option"); u.textContent = s, u.value = c, i.appendChild(u) } } catch (e) { o.e(e) } finally { o.f() } i.options.length > 0 && (i.options[0].selected = !0), t.setValue(r, { "value": f(e, !0), "items": d(e) }) }, "indices": function indices(e) { var n, indices = new Set(e.detail.indices), o = _createForOfIteratorHelper(e.target.options); try { for (o.s(); !(n = o.n()).done;) { var i = n.value; i.selected = indices.has(i.index) } } catch (e) { o.e(e) } finally { o.f() } t.setValue(r, { "value": f(e, !0) }) }, "editable": function editable(e) { e.target.disabled = !e.detail.editable } }; e._dispatchEventFromSandbox(o, n) }), i.addEventListener("input", function (n) { var o, i = f(n, !0), a = f(n, !1); t.setValue(r, { "value": i }), null === (o = e.linkService.eventBus) || void 0 === o || o.dispatch("dispatcheventinsandbox", { "source": e, "detail": { "id": r, "name": "Keystroke", "value": a, "changeEx": i, "willCommit": !0, "commitKey": 1, "keyDown": !1 } }) }), this._setEventListeners(i, [["focus", "Focus"], ["blur", "Blur"], ["mousedown", "Mouse Down"], ["mouseenter", "Mouse Enter"], ["mouseleave", "Mouse Exit"], ["mouseup", "Mouse Up"], ["input", "Action"]], function (e) { return e.target.checked })) : i.addEventListener("input", function (e) { t.setValue(r, { "value": f(e) }) }), this._setBackgroundColor(i), this.container.appendChild(i), this.container } }]), ChoiceWidgetAnnotationElement }(), b = function (e) { _inherits(PopupAnnotationElement, l); var t = _createSuper(PopupAnnotationElement); function PopupAnnotationElement(e) { var r, n, o; _classCallCheck(this, PopupAnnotationElement); var i = !!(null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i }) } return _createClass(PopupAnnotationElement, [{ "key": "render", "value": function render() { if (this.container.className = "popupAnnotation", ["Line", "Square", "Circle", "PolyLine", "Polygon", "Ink"].includes(this.data.parentType)) return this.container; var e = '[data-annotation-id="'.concat(this.data.parentId, '"]'), t = this.layer.querySelectorAll(e); if (0 === t.length) return this.container; var r = new S({ "container": this.container, "trigger": Array.from(t), "color": this.data.color, "titleObj": this.data.titleObj, "modificationDate": this.data.modificationDate, "contentsObj": this.data.contentsObj, "richText": this.data.richText }), o = this.page, i = n.Util.normalizeRect([this.data.parentRect[0], o.view[3] - this.data.parentRect[1] + o.view[1], this.data.parentRect[2], o.view[3] - this.data.parentRect[3] + o.view[1]]), a = i[0] + this.data.parentRect[2] - this.data.parentRect[0], s = i[1]; return this.container.style.transformOrigin = "".concat(-a, "px ").concat(-s, "px"), this.container.style.left = "".concat(a, "px"), this.container.style.top = "".concat(s, "px"), this.container.appendChild(r.render()), this.container } }]), PopupAnnotationElement }(), S = function () { function PopupElement(e) { _classCallCheck(this, PopupElement), this.container = e.container, this.trigger = e.trigger, this.color = e.color, this.titleObj = e.titleObj, this.modificationDate = e.modificationDate, this.contentsObj = e.contentsObj, this.richText = e.richText, this.hideWrapper = e.hideWrapper || !1, this.pinned = !1 } return _createClass(PopupElement, [{ "key": "render", "value": function render() { var e, t, r = document.createElement("div"); r.className = "popupWrapper", this.hideElement = this.hideWrapper ? r : this.container, this.hideElement.hidden = !0; var i = document.createElement("div"); i.className = "popup"; var a = this.color; if (a) { var c = .7 * (255 - a[0]) + a[0], u = .7 * (255 - a[1]) + a[1], l = .7 * (255 - a[2]) + a[2]; i.style.backgroundColor = n.Util.makeHexColor(0 | c, 0 | u, 0 | l) } var f = document.createElement("h1"); f.dir = this.titleObj.dir, f.textContent = this.titleObj.str, i.appendChild(f); var d = o.PDFDateString.toDateObject(this.modificationDate); if (d) { var p = document.createElement("span"); p.className = "popupDate", p.textContent = "{{date}}, {{time}}", p.dataset.l10nId = "annotation_date_string", p.dataset.l10nArgs = JSON.stringify({ "date": d.toLocaleDateString(), "time": d.toLocaleTimeString() }), i.appendChild(p) } if (null === (e = this.richText) || void 0 === e || !e.str || null !== (t = this.contentsObj) && void 0 !== t && t.str && this.contentsObj.str !== this.richText.str) { var h = this._formatContents(this.contentsObj); i.appendChild(h) } else s.XfaLayer.render({ "xfaHtml": this.richText.html, "intent": "richText", "div": i }), i.lastChild.className = "richText popupContent"; Array.isArray(this.trigger) || (this.trigger = [this.trigger]); var m, g = _createForOfIteratorHelper(this.trigger); try { for (g.s(); !(m = g.n()).done;) { var v = m.value; v.addEventListener("click", this._toggle.bind(this)), v.addEventListener("mouseover", this._show.bind(this, !1)), v.addEventListener("mouseout", this._hide.bind(this, !1)) } } catch (e) { g.e(e) } finally { g.f() } return i.addEventListener("click", this._hide.bind(this, !0)), r.appendChild(i), r } }, { "key": "_formatContents", "value": function _formatContents(e) { var t = e.str, r = e.dir, n = document.createElement("p"); n.className = "popupContent", n.dir = r; for (var o = t.split(/(?:\r\n?|\n)/), i = 0, a = o.length; i < a; ++i) { var s = o[i]; n.appendChild(document.createTextNode(s)), i < a - 1 && n.appendChild(document.createElement("br")) } return n } }, { "key": "_toggle", "value": function _toggle() { this.pinned ? this._hide(!0) : this._show(!0) } }, { "key": "_show", "value": function _show() { arguments.length > 0 && void 0 !== arguments[0] && arguments[0] && (this.pinned = !0), this.hideElement.hidden && (this.hideElement.hidden = !1, this.container.style.zIndex += 1) } }, { "key": "_hide", "value": function _hide() { (!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && (this.pinned = !1), this.hideElement.hidden || this.pinned || (this.hideElement.hidden = !0, this.container.style.zIndex -= 1) } }]), PopupElement }(), _ = function (e) { _inherits(FreeTextAnnotationElement, l); var t = _createSuper(FreeTextAnnotationElement); function FreeTextAnnotationElement(e) { var r, n, o; _classCallCheck(this, FreeTextAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(FreeTextAnnotationElement, [{ "key": "render", "value": function render() { return this.container.className = "freeTextAnnotation", this.data.hasPopup || this._createPopup(null, this.data), this.container } }]), FreeTextAnnotationElement }(), w = function (e) { _inherits(LineAnnotationElement, l); var t = _createSuper(LineAnnotationElement); function LineAnnotationElement(e) { var r, n, o; _classCallCheck(this, LineAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(LineAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = "lineAnnotation"; var e = this.data, t = e.rect[2] - e.rect[0], r = e.rect[3] - e.rect[1], n = this.svgFactory.create(t, r), o = this.svgFactory.createElement("svg:line"); return o.setAttribute("x1", e.rect[2] - e.lineCoordinates[0]), o.setAttribute("y1", e.rect[3] - e.lineCoordinates[1]), o.setAttribute("x2", e.rect[2] - e.lineCoordinates[2]), o.setAttribute("y2", e.rect[3] - e.lineCoordinates[3]), o.setAttribute("stroke-width", e.borderStyle.width || 1), o.setAttribute("stroke", "transparent"), o.setAttribute("fill", "transparent"), n.appendChild(o), this.container.append(n), this._createPopup(o, e), this.container } }]), LineAnnotationElement }(), A = function (e) { _inherits(SquareAnnotationElement, l); var t = _createSuper(SquareAnnotationElement); function SquareAnnotationElement(e) { var r, n, o; _classCallCheck(this, SquareAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(SquareAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = "squareAnnotation"; var e = this.data, t = e.rect[2] - e.rect[0], r = e.rect[3] - e.rect[1], n = this.svgFactory.create(t, r), o = e.borderStyle.width, i = this.svgFactory.createElement("svg:rect"); return i.setAttribute("x", o / 2), i.setAttribute("y", o / 2), i.setAttribute("width", t - o), i.setAttribute("height", r - o), i.setAttribute("stroke-width", o || 1), i.setAttribute("stroke", "transparent"), i.setAttribute("fill", "transparent"), n.appendChild(i), this.container.append(n), this._createPopup(i, e), this.container } }]), SquareAnnotationElement }(), C = function (e) { _inherits(CircleAnnotationElement, l); var t = _createSuper(CircleAnnotationElement); function CircleAnnotationElement(e) { var r, n, o; _classCallCheck(this, CircleAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(CircleAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = "circleAnnotation"; var e = this.data, t = e.rect[2] - e.rect[0], r = e.rect[3] - e.rect[1], n = this.svgFactory.create(t, r), o = e.borderStyle.width, i = this.svgFactory.createElement("svg:ellipse"); return i.setAttribute("cx", t / 2), i.setAttribute("cy", r / 2), i.setAttribute("rx", t / 2 - o / 2), i.setAttribute("ry", r / 2 - o / 2), i.setAttribute("stroke-width", o || 1), i.setAttribute("stroke", "transparent"), i.setAttribute("fill", "transparent"), n.appendChild(i), this.container.append(n), this._createPopup(i, e), this.container } }]), CircleAnnotationElement }(), T = function (e) { _inherits(PolylineAnnotationElement, l); var t = _createSuper(PolylineAnnotationElement); function PolylineAnnotationElement(e) { var r, n, o, i; _classCallCheck(this, PolylineAnnotationElement); var a = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return (i = t.call(this, e, { "isRenderable": a, "ignoreBorder": !0 })).containerClassName = "polylineAnnotation", i.svgElementName = "svg:polyline", i } return _createClass(PolylineAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = this.containerClassName; var e, t = this.data, r = t.rect[2] - t.rect[0], n = t.rect[3] - t.rect[1], o = this.svgFactory.create(r, n), i = [], a = _createForOfIteratorHelper(t.vertices); try { for (a.s(); !(e = a.n()).done;) { var s = e.value, c = s.x - t.rect[0], u = t.rect[3] - s.y; i.push(c + "," + u) } } catch (e) { a.e(e) } finally { a.f() } i = i.join(" "); var l = this.svgFactory.createElement(this.svgElementName); return l.setAttribute("points", i), l.setAttribute("stroke-width", t.borderStyle.width || 1), l.setAttribute("stroke", "transparent"), l.setAttribute("fill", "transparent"), o.appendChild(l), this.container.append(o), this._createPopup(l, t), this.container } }]), PolylineAnnotationElement }(), P = function (e) { _inherits(PolygonAnnotationElement, T); var t = _createSuper(PolygonAnnotationElement); function PolygonAnnotationElement(e) { var r; return _classCallCheck(this, PolygonAnnotationElement), (r = t.call(this, e)).containerClassName = "polygonAnnotation", r.svgElementName = "svg:polygon", r } return PolygonAnnotationElement }(), k = function (e) { _inherits(CaretAnnotationElement, l); var t = _createSuper(CaretAnnotationElement); function CaretAnnotationElement(e) { var r, n, o; _classCallCheck(this, CaretAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(CaretAnnotationElement, [{ "key": "render", "value": function render() { return this.container.className = "caretAnnotation", this.data.hasPopup || this._createPopup(null, this.data), this.container } }]), CaretAnnotationElement }(), E = function (e) { _inherits(InkAnnotationElement, l); var t = _createSuper(InkAnnotationElement); function InkAnnotationElement(e) { var r, n, o, i; _classCallCheck(this, InkAnnotationElement); var a = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return (i = t.call(this, e, { "isRenderable": a, "ignoreBorder": !0 })).containerClassName = "inkAnnotation", i.svgElementName = "svg:polyline", i } return _createClass(InkAnnotationElement, [{ "key": "render", "value": function render() { this.container.className = this.containerClassName; var e, t = this.data, r = t.rect[2] - t.rect[0], n = t.rect[3] - t.rect[1], o = this.svgFactory.create(r, n), i = _createForOfIteratorHelper(t.inkLists); try { for (i.s(); !(e = i.n()).done;) { var a, s = [], c = _createForOfIteratorHelper(e.value); try { for (c.s(); !(a = c.n()).done;) { var u = a.value, l = u.x - t.rect[0], f = t.rect[3] - u.y; s.push("".concat(l, ",").concat(f)) } } catch (e) { c.e(e) } finally { c.f() } s = s.join(" "); var d = this.svgFactory.createElement(this.svgElementName); d.setAttribute("points", s), d.setAttribute("stroke-width", t.borderStyle.width || 1), d.setAttribute("stroke", "transparent"), d.setAttribute("fill", "transparent"), this._createPopup(d, t), o.appendChild(d) } } catch (e) { i.e(e) } finally { i.f() } return this.container.append(o), this.container } }]), InkAnnotationElement }(), x = function (e) { _inherits(HighlightAnnotationElement, l); var t = _createSuper(HighlightAnnotationElement); function HighlightAnnotationElement(e) { var r, n, o; _classCallCheck(this, HighlightAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0, "createQuadrilaterals": !0 }) } return _createClass(HighlightAnnotationElement, [{ "key": "render", "value": function render() { return this.data.hasPopup || this._createPopup(null, this.data), this.quadrilaterals ? this._renderQuadrilaterals("highlightAnnotation") : (this.container.className = "highlightAnnotation", this.container) } }]), HighlightAnnotationElement }(), O = function (e) { _inherits(UnderlineAnnotationElement, l); var t = _createSuper(UnderlineAnnotationElement); function UnderlineAnnotationElement(e) { var r, n, o; _classCallCheck(this, UnderlineAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0, "createQuadrilaterals": !0 }) } return _createClass(UnderlineAnnotationElement, [{ "key": "render", "value": function render() { return this.data.hasPopup || this._createPopup(null, this.data), this.quadrilaterals ? this._renderQuadrilaterals("underlineAnnotation") : (this.container.className = "underlineAnnotation", this.container) } }]), UnderlineAnnotationElement }(), I = function (e) { _inherits(SquigglyAnnotationElement, l); var t = _createSuper(SquigglyAnnotationElement); function SquigglyAnnotationElement(e) { var r, n, o; _classCallCheck(this, SquigglyAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0, "createQuadrilaterals": !0 }) } return _createClass(SquigglyAnnotationElement, [{ "key": "render", "value": function render() { return this.data.hasPopup || this._createPopup(null, this.data), this.quadrilaterals ? this._renderQuadrilaterals("squigglyAnnotation") : (this.container.className = "squigglyAnnotation", this.container) } }]), SquigglyAnnotationElement }(), R = function (e) { _inherits(StrikeOutAnnotationElement, l); var t = _createSuper(StrikeOutAnnotationElement); function StrikeOutAnnotationElement(e) { var r, n, o; _classCallCheck(this, StrikeOutAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0, "createQuadrilaterals": !0 }) } return _createClass(StrikeOutAnnotationElement, [{ "key": "render", "value": function render() { return this.data.hasPopup || this._createPopup(null, this.data), this.quadrilaterals ? this._renderQuadrilaterals("strikeoutAnnotation") : (this.container.className = "strikeoutAnnotation", this.container) } }]), StrikeOutAnnotationElement }(), M = function (e) { _inherits(StampAnnotationElement, l); var t = _createSuper(StampAnnotationElement); function StampAnnotationElement(e) { var r, n, o; _classCallCheck(this, StampAnnotationElement); var i = !!(e.data.hasPopup || null !== (r = e.data.titleObj) && void 0 !== r && r.str || null !== (n = e.data.contentsObj) && void 0 !== n && n.str || null !== (o = e.data.richText) && void 0 !== o && o.str); return t.call(this, e, { "isRenderable": i, "ignoreBorder": !0 }) } return _createClass(StampAnnotationElement, [{ "key": "render", "value": function render() { return this.container.className = "stampAnnotation", this.data.hasPopup || this._createPopup(null, this.data), this.container } }]), StampAnnotationElement }(), B = function (e) { _inherits(FileAttachmentAnnotationElement, l); var t = _createSuper(FileAttachmentAnnotationElement); function FileAttachmentAnnotationElement(e) { var r, i; _classCallCheck(this, FileAttachmentAnnotationElement); var a = (i = t.call(this, e, { "isRenderable": !0 })).data.file, s = a.filename, c = a.content; return i.filename = (0, o.getFilenameFromUrl)(s), i.content = c, null === (r = i.linkService.eventBus) || void 0 === r || r.dispatch("fileattachmentannotation", { "source": _assertThisInitialized(i), "id": (0, n.stringToPDFString)(s), "filename": s, "content": c }), i } return _createClass(FileAttachmentAnnotationElement, [{ "key": "render", "value": function render() { var e, t; this.container.className = "fileAttachmentAnnotation"; var r = document.createElement("div"); return r.style.height = this.container.style.height, r.style.width = this.container.style.width, r.addEventListener("dblclick", this._download.bind(this)), !this.data.hasPopup && (null !== (e = this.data.titleObj) && void 0 !== e && e.str || null !== (t = this.data.contentsObj) && void 0 !== t && t.str || this.data.richText) && this._createPopup(r, this.data), this.container.appendChild(r), this.container } }, { "key": "_download", "value": function _download() { var e; null === (e = this.downloadManager) || void 0 === e || e.openOrDownloadData(this.container, this.content, this.filename) } }]), FileAttachmentAnnotationElement }(), D = function () { function AnnotationLayer() { _classCallCheck(this, AnnotationLayer) } return _createClass(AnnotationLayer, null, [{ "key": "render", "value": function render(e) { var t, r = [], a = [], s = _createForOfIteratorHelper(e.annotations); try { for (s.s(); !(t = s.n()).done;) { var c = t.value; c && (c.annotationType !== n.AnnotationType.POPUP ? r.push(c) : a.push(c)) } } catch (e) { s.e(e) } finally { s.f() } a.length && r.push.apply(r, a); for (var l = e.div, f = 0, d = r; f < d.length; f++) { var p = d[f], h = u.create({ "data": p, "layer": l, "page": e.page, "viewport": e.viewport, "linkService": e.linkService, "downloadManager": e.downloadManager, "imageResourcesPath": e.imageResourcesPath || "", "renderForms": !1 !== e.renderForms, "svgFactory": new o.DOMSVGFactory, "annotationStorage": e.annotationStorage || new i.AnnotationStorage, "enableScripting": e.enableScripting, "hasJSActions": e.hasJSActions, "fieldObjects": e.fieldObjects, "mouseState": e.mouseState || { "isDown": !1 } }); if (h.isRenderable) { var m = h.render(); if (p.hidden && (m.style.visibility = "hidden"), Array.isArray(m)) { var g, v = _createForOfIteratorHelper(m); try { for (v.s(); !(g = v.n()).done;) { var y = g.value; l.appendChild(y) } } catch (e) { v.e(e) } finally { v.f() } } else h instanceof b ? l.prepend(m) : l.appendChild(m) } } _classStaticPrivateMethodGet(this, AnnotationLayer, _setAnnotationCanvasMap).call(this, l, e.annotationCanvasMap) } }, { "key": "update", "value": function update(e) { var t, r, o, i = e.page, a = e.viewport, s = e.annotations, c = e.annotationCanvasMap, u = e.div, l = a.transform, f = "matrix(".concat(l.join(","), ")"), d = _createForOfIteratorHelper(s); try { for (d.s(); !(o = d.n()).done;) { var p = o.value, h = u.querySelectorAll('[data-annotation-id="'.concat(p.id, '"]')); if (h) { var m, g = _createForOfIteratorHelper(h); try { for (g.s(); !(m = g.n()).done;) { var v = m.value; if (p.hasOwnCanvas) { var y = n.Util.normalizeRect([p.rect[0], i.view[3] - p.rect[1] + i.view[1], p.rect[2], i.view[3] - p.rect[3] + i.view[1]]); if (!r) { t = Math.abs(l[0] || l[1]); for (var b = l.slice(), S = 0; S < 4; S++)b[S] = Math.sign(b[S]); r = "matrix(".concat(b.join(","), ")") } var _ = y[0] * t, w = y[1] * t; v.style.left = "".concat(_, "px"), v.style.top = "".concat(w, "px"), v.style.transformOrigin = "".concat(-_, "px ").concat(-w, "px"), v.style.transform = r } else v.style.transform = f } } catch (e) { g.e(e) } finally { g.f() } } } } catch (e) { d.e(e) } finally { d.f() } _classStaticPrivateMethodGet(this, AnnotationLayer, _setAnnotationCanvasMap).call(this, u, c), u.hidden = !1 } }]), AnnotationLayer }(); function _setAnnotationCanvasMap(e, t) { if (t) { var r, n = _createForOfIteratorHelper(t); try { for (n.s(); !(r = n.n()).done;) { var o = _slicedToArray(r.value, 2), i = o[0], a = o[1], s = e.querySelector('[data-annotation-id="'.concat(i, '"]')); if (s) { var c = s.firstChild; "CANVAS" === c.nodeName ? s.replaceChild(a, c) : s.insertBefore(a, c) } } } catch (e) { n.e(e) } finally { n.f() } t.clear() } } t.AnnotationLayer = D }, function (e, t) { "use strict"; function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function makeColorComp(e) { return Math.floor(255 * Math.max(0, Math.min(1, e))).toString(16).padStart(2, "0") } Object.defineProperty(t, "__esModule", { "value": !0 }), t.ColorConverters = void 0; var r = function () { function ColorConverters() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ColorConverters) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(ColorConverters, null, [{ "key": "CMYK_G", "value": function CMYK_G(e) { var t = _slicedToArray(e, 4), r = t[0], n = t[1], o = t[2], i = t[3]; return ["G", 1 - Math.min(1, .3 * r + .59 * o + .11 * n + i)] } }, { "key": "G_CMYK", "value": function G_CMYK(e) { return ["CMYK", 0, 0, 0, 1 - _slicedToArray(e, 1)[0]] } }, { "key": "G_RGB", "value": function G_RGB(e) { var t = _slicedToArray(e, 1)[0]; return ["RGB", t, t, t] } }, { "key": "G_HTML", "value": function G_HTML(e) { var t = makeColorComp(_slicedToArray(e, 1)[0]); return "#".concat(t).concat(t).concat(t) } }, { "key": "RGB_G", "value": function RGB_G(e) { var t = _slicedToArray(e, 3); return ["G", .3 * t[0] + .59 * t[1] + .11 * t[2]] } }, { "key": "RGB_HTML", "value": function RGB_HTML(e) { var t = _slicedToArray(e, 3), r = t[0], n = t[1], o = t[2], i = makeColorComp(r), a = makeColorComp(n), s = makeColorComp(o); return "#".concat(i).concat(a).concat(s) } }, { "key": "T_HTML", "value": function T_HTML() { return "#00000000" } }, { "key": "CMYK_RGB", "value": function CMYK_RGB(e) { var t = _slicedToArray(e, 4), r = t[0], n = t[1], o = t[2], i = t[3]; return ["RGB", 1 - Math.min(1, r + i), 1 - Math.min(1, o + i), 1 - Math.min(1, n + i)] } }, { "key": "CMYK_HTML", "value": function CMYK_HTML(e) { return this.RGB_HTML(this.CMYK_RGB(e)) } }, { "key": "RGB_CMYK", "value": function RGB_CMYK(e) { var t = _slicedToArray(e, 3), r = 1 - t[0], n = 1 - t[1], o = 1 - t[2]; return ["CMYK", r, n, o, Math.min(r, n, o)] } }]), ColorConverters }(); t.ColorConverters = r }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.XfaLayer = void 0; var n = r(4), o = r(147); function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var i = function () { function XfaLayer() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, XfaLayer) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(XfaLayer, null, [{ "key": "setupStorage", "value": function setupStorage(e, t, r, n, o) { var i = n.getValue(t, { "value": null }); switch (r.name) { case "textarea": if (null !== i.value && (e.textContent = i.value), "print" === o) break; e.addEventListener("input", function (e) { n.setValue(t, { "value": e.target.value }) }); break; case "input": if ("radio" === r.attributes.type || "checkbox" === r.attributes.type) { if (i.value === r.attributes.xfaOn ? e.setAttribute("checked", !0) : i.value === r.attributes.xfaOff && e.removeAttribute("checked"), "print" === o) break; e.addEventListener("change", function (e) { n.setValue(t, { "value": e.target.checked ? e.target.getAttribute("xfaOn") : e.target.getAttribute("xfaOff") }) }) } else { if (null !== i.value && e.setAttribute("value", i.value), "print" === o) break; e.addEventListener("input", function (e) { n.setValue(t, { "value": e.target.value }) }) } break; case "select": if (null !== i.value) { var a, s = _createForOfIteratorHelper(r.children); try { for (s.s(); !(a = s.n()).done;) { var c = a.value; c.attributes.value === i.value && (c.attributes.selected = !0) } } catch (e) { s.e(e) } finally { s.f() } } e.addEventListener("input", function (e) { var r = e.target.options, o = -1 === r.selectedIndex ? "" : r[r.selectedIndex].value; n.setValue(t, { "value": o }) }) } } }, { "key": "setAttributes", "value": function setAttributes(e) { var t, r = e.html, o = e.element, i = e.storage, a = void 0 === i ? null : i, s = e.intent, c = e.linkService, u = o.attributes, l = r instanceof HTMLAnchorElement; "radio" === u.type && (u.name = "".concat(u.name, "-").concat(s)); for (var f = 0, d = Object.entries(u); f < d.length; f++) { var p = _slicedToArray(d[f], 2), h = p[0], m = p[1]; if (null != m && "dataId" !== h) if ("style" !== h) if ("textContent" === h) r.textContent = m; else if ("class" === h) m.length && r.setAttribute(h, m.join(" ")); else { if (l && ("href" === h || "newWindow" === h)) continue; r.setAttribute(h, m) } else Object.assign(r.style, m) } l && (c.addLinkAttributes || (0, n.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."), null === (t = c.addLinkAttributes) || void 0 === t || t.call(c, r, u.href, u.newWindow)); a && u.dataId && this.setupStorage(r, u.dataId, o, a) } }, { "key": "render", "value": function render(e) { var t = e.annotationStorage, r = e.linkService, n = e.xfaHtml, i = e.intent || "display", a = document.createElement(n.name); n.attributes && this.setAttributes({ "html": a, "element": n, "intent": i, "linkService": r }); var s = [[n, -1, a]], c = e.div; if (c.appendChild(a), e.viewport) { var u = "matrix(".concat(e.viewport.transform.join(","), ")"); c.style.transform = u } "richText" !== i && c.setAttribute("class", "xfaLayer xfaFont"); for (var l = []; s.length > 0;) { var f, d = _slicedToArray(s[s.length - 1], 3), p = d[0], h = d[1], m = d[2]; if (h + 1 !== p.children.length) { var g = p.children[++s[s.length - 1][1]]; if (null !== g) { var v = g.name; if ("#text" !== v) { var y = void 0; if (y = null != g && null !== (f = g.attributes) && void 0 !== f && f.xmlns ? document.createElementNS(g.attributes.xmlns, v) : document.createElement(v), m.appendChild(y), g.attributes && this.setAttributes({ "html": y, "element": g, "storage": t, "intent": i, "linkService": r }), g.children && g.children.length > 0) s.push([g, -1, y]); else if (g.value) { var b = document.createTextNode(g.value); o.XfaText.shouldBuildText(v) && l.push(b), y.appendChild(b) } } else { var S = document.createTextNode(g.value); l.push(S), m.appendChild(S) } } } else s.pop() } var _, w = _createForOfIteratorHelper(c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")); try { for (w.s(); !(_ = w.n()).done;) { _.value.setAttribute("readOnly", !0) } } catch (e) { w.e(e) } finally { w.f() } return { "textDivs": l } } }, { "key": "update", "value": function update(e) { var t = "matrix(".concat(e.viewport.transform.join(","), ")"); e.div.style.transform = t, e.div.hidden = !1 } }]), XfaLayer }(); t.XfaLayer = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.renderTextLayer = function renderTextLayer(e) { var t = new u({ "textContent": e.textContent, "textContentStream": e.textContentStream, "container": e.container, "viewport": e.viewport, "textDivs": e.textDivs, "textContentItemsStr": e.textContentItemsStr, "enhanceTextSelection": e.enhanceTextSelection }); return t._render(e.timeout), t }; var n = r(4); function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var o = 1e5, i = 30, a = .8, s = new Map, c = /^\s+$/g; function appendText(e, t, r, o) { var u = document.createElement("span"), l = e._enhanceTextSelection ? { "angle": 0, "canvasWidth": 0, "hasText": "" !== t.str, "hasEOL": t.hasEOL, "originalTransform": null, "paddingBottom": 0, "paddingLeft": 0, "paddingRight": 0, "paddingTop": 0, "scale": 1 } : { "angle": 0, "canvasWidth": 0, "hasText": "" !== t.str, "hasEOL": t.hasEOL }; e._textDivs.push(u); var f = n.Util.transform(e._viewport.transform, t.transform), d = Math.atan2(f[1], f[0]), p = r[t.fontName]; p.vertical && (d += Math.PI / 2); var h, m, g = Math.hypot(f[2], f[3]), v = g * function getAscent(e, t) { var r = s.get(e); if (r) return r; t.save(), t.font = "".concat(i, "px ").concat(e); var n = t.measureText(""), o = n.fontBoundingBoxAscent, c = Math.abs(n.fontBoundingBoxDescent); if (o) { t.restore(); var u = o / (o + c); return s.set(e, u), u } t.strokeStyle = "red", t.clearRect(0, 0, i, i), t.strokeText("g", 0, 0); var l = t.getImageData(0, 0, i, i).data; c = 0; for (var f = l.length - 1 - 3; f >= 0; f -= 4)if (l[f] > 0) { c = Math.ceil(f / 4 / i); break } t.clearRect(0, 0, i, i), t.strokeText("A", 0, i), o = 0; for (var d = 0, p = (l = t.getImageData(0, 0, i, i).data).length; d < p; d += 4)if (l[d] > 0) { o = i - Math.floor(d / 4 / i); break } if (t.restore(), o) { var h = o / (o + c); return s.set(e, h), h } return s.set(e, a), a }(p.fontFamily, o); 0 === d ? (h = f[4], m = f[5] - v) : (h = f[4] + v * Math.sin(d), m = f[5] - v * Math.cos(d)), u.style.left = "".concat(h, "px"), u.style.top = "".concat(m, "px"), u.style.fontSize = "".concat(g, "px"), u.style.fontFamily = p.fontFamily, u.setAttribute("role", "presentation"), u.textContent = t.str, u.dir = t.dir, e._fontInspectorEnabled && (u.dataset.fontName = t.fontName), 0 !== d && (l.angle = d * (180 / Math.PI)); var y = !1; if (t.str.length > 1 || e._enhanceTextSelection && c.test(t.str)) y = !0; else if (" " !== t.str && t.transform[0] !== t.transform[3]) { var b = Math.abs(t.transform[0]), S = Math.abs(t.transform[3]); b !== S && Math.max(b, S) / Math.min(b, S) > 1.5 && (y = !0) } if (y && (p.vertical ? l.canvasWidth = t.height * e._viewport.scale : l.canvasWidth = t.width * e._viewport.scale), e._textDivProperties.set(u, l), e._textContentStream && e._layoutText(u), e._enhanceTextSelection && l.hasText) { var _ = 1, w = 0; 0 !== d && (_ = Math.cos(d), w = Math.sin(d)); var A, C, T = (p.vertical ? t.height : t.width) * e._viewport.scale, P = g; 0 !== d ? (A = [_, w, -w, _, h, m], C = n.Util.getAxialAlignedBoundingBox([0, 0, T, P], A)) : C = [h, m, h + T, m + P], e._bounds.push({ "left": C[0], "top": C[1], "right": C[2], "bottom": C[3], "div": u, "size": [T, P], "m": A }) } } function render(e) { if (!e._canceled) { var t = e._textDivs, r = e._capability, n = t.length; if (n > o) return e._renderingDone = !0, void r.resolve(); if (!e._textContentStream) for (var i = 0; i < n; i++)e._layoutText(t[i]); e._renderingDone = !0, r.resolve() } } function findPositiveMin(e, t, r) { for (var n = 0, o = 0; o < r; o++) { var i = e[t++]; i > 0 && (n = n ? Math.min(i, n) : i) } return n } function expand(e) { for (var t = e._bounds, r = e._viewport, o = function expandBounds(e, t, r) { var n = r.map(function (e, t) { return { "x1": e.left, "y1": e.top, "x2": e.right, "y2": e.bottom, "index": t, "x1New": void 0, "x2New": void 0 } }); expandBoundsLTR(e, n); var o, i = new Array(r.length), a = _createForOfIteratorHelper(n); try { for (a.s(); !(o = a.n()).done;) { var s = o.value, c = s.index; i[c] = { "left": s.x1New, "top": 0, "right": s.x2New, "bottom": 0 } } } catch (e) { a.e(e) } finally { a.f() } r.map(function (t, r) { var o = i[r], a = n[r]; a.x1 = t.top, a.y1 = e - o.right, a.x2 = t.bottom, a.y2 = e - o.left, a.index = r, a.x1New = void 0, a.x2New = void 0 }), expandBoundsLTR(t, n); var u, l = _createForOfIteratorHelper(n); try { for (l.s(); !(u = l.n()).done;) { var f = u.value, d = f.index; i[d].top = f.x1New, i[d].bottom = f.x2New } } catch (e) { l.e(e) } finally { l.f() } return i }(r.width, r.height, t), i = 0; i < o.length; i++) { var a = t[i].div, s = e._textDivProperties.get(a); if (0 !== s.angle) { for (var c = o[i], u = t[i], l = u.m, f = l[0], d = l[1], p = [[0, 0], [0, u.size[1]], [u.size[0], 0], u.size], h = new Float64Array(64), m = 0, g = p.length; m < g; m++) { var v = n.Util.applyTransform(p[m], l); h[m + 0] = f && (c.left - v[0]) / f, h[m + 4] = d && (c.top - v[1]) / d, h[m + 8] = f && (c.right - v[0]) / f, h[m + 12] = d && (c.bottom - v[1]) / d, h[m + 16] = d && (c.left - v[0]) / -d, h[m + 20] = f && (c.top - v[1]) / f, h[m + 24] = d && (c.right - v[0]) / -d, h[m + 28] = f && (c.bottom - v[1]) / f, h[m + 32] = f && (c.left - v[0]) / -f, h[m + 36] = d && (c.top - v[1]) / -d, h[m + 40] = f && (c.right - v[0]) / -f, h[m + 44] = d && (c.bottom - v[1]) / -d, h[m + 48] = d && (c.left - v[0]) / d, h[m + 52] = f && (c.top - v[1]) / -f, h[m + 56] = d && (c.right - v[0]) / d, h[m + 60] = f && (c.bottom - v[1]) / -f } var y = 1 + Math.min(Math.abs(f), Math.abs(d)); s.paddingLeft = findPositiveMin(h, 32, 16) / y, s.paddingTop = findPositiveMin(h, 48, 16) / y, s.paddingRight = findPositiveMin(h, 0, 16) / y, s.paddingBottom = findPositiveMin(h, 16, 16) / y, e._textDivProperties.set(a, s) } else s.paddingLeft = t[i].left - o[i].left, s.paddingTop = t[i].top - o[i].top, s.paddingRight = o[i].right - t[i].right, s.paddingBottom = o[i].bottom - t[i].bottom, e._textDivProperties.set(a, s) } } function expandBoundsLTR(e, t) { t.sort(function (e, t) { return e.x1 - t.x1 || e.index - t.index }); var r, n = [{ "start": -1 / 0, "end": 1 / 0, "boundary": { "x1": -1 / 0, "y1": -1 / 0, "x2": 0, "y2": 1 / 0, "index": -1, "x1New": 0, "x2New": 0 } }], o = _createForOfIteratorHelper(t); try { for (o.s(); !(r = o.n()).done;) { for (var i = r.value, a = 0; a < n.length && n[a].end <= i.y1;)a++; for (var s = n.length - 1; s >= 0 && n[s].start >= i.y2;)s--; var c = void 0, u = void 0, l = void 0, f = void 0, d = -1 / 0; for (l = a; l <= s; l++) { var p = void 0; (p = (u = (c = n[l]).boundary).x2 > i.x1 ? u.index > i.index ? u.x1New : i.x1 : void 0 === u.x2New ? (u.x2 + i.x1) / 2 : u.x2New) > d && (d = p) } for (i.x1New = d, l = a; l <= s; l++)void 0 === (u = (c = n[l]).boundary).x2New ? u.x2 > i.x1 ? u.index > i.index && (u.x2New = u.x2) : u.x2New = d : u.x2New > d && (u.x2New = Math.max(d, u.x2)); var h = [], m = null; for (l = a; l <= s; l++) { var g = (u = (c = n[l]).boundary).x2 > i.x2 ? u : i; m === g ? h[h.length - 1].end = c.end : (h.push({ "start": c.start, "end": c.end, "boundary": g }), m = g) } for (n[a].start < i.y1 && (h[0].start = i.y1, h.unshift({ "start": n[a].start, "end": i.y1, "boundary": n[a].boundary })), i.y2 < n[s].end && (h[h.length - 1].end = i.y2, h.push({ "start": i.y2, "end": n[s].end, "boundary": n[s].boundary })), l = a; l <= s; l++)if (void 0 === (u = (c = n[l]).boundary).x2New) { var v = !1; for (f = a - 1; !v && f >= 0 && n[f].start >= u.y1; f--)v = n[f].boundary === u; for (f = s + 1; !v && f < n.length && n[f].end <= u.y2; f++)v = n[f].boundary === u; for (f = 0; !v && f < h.length; f++)v = h[f].boundary === u; v || (u.x2New = d) } Array.prototype.splice.apply(n, [a, s - a + 1].concat(h)) } } catch (e) { o.e(e) } finally { o.f() } for (var y = 0, b = n; y < b.length; y++) { var S = b[y].boundary; void 0 === S.x2New && (S.x2New = Math.max(e, S.x2)) } } var u = function () { function TextLayerRenderTask(e) { var t, r = this, o = e.textContent, i = e.textContentStream, a = e.container, s = e.viewport, c = e.textDivs, u = e.textContentItemsStr, l = e.enhanceTextSelection; !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, TextLayerRenderTask), this._textContent = o, this._textContentStream = i, this._container = a, this._document = a.ownerDocument, this._viewport = s, this._textDivs = c || [], this._textContentItemsStr = u || [], this._enhanceTextSelection = !!l, this._fontInspectorEnabled = !(null === (t = globalThis.FontInspector) || void 0 === t || !t.enabled), this._reader = null, this._layoutTextLastFontSize = null, this._layoutTextLastFontFamily = null, this._layoutTextCtx = null, this._textDivProperties = new WeakMap, this._renderingDone = !1, this._canceled = !1, this._capability = (0, n.createPromiseCapability)(), this._renderTimer = null, this._bounds = [], this._capability.promise.finally(function () { r._enhanceTextSelection || (r._textDivProperties = null), r._layoutTextCtx && (r._layoutTextCtx.canvas.width = 0, r._layoutTextCtx.canvas.height = 0, r._layoutTextCtx = null) }).catch(function () { }) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(TextLayerRenderTask, [{ "key": "promise", "get": function get() { return this._capability.promise } }, { "key": "cancel", "value": function cancel() { this._canceled = !0, this._reader && (this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(function () { }), this._reader = null), null !== this._renderTimer && (clearTimeout(this._renderTimer), this._renderTimer = null), this._capability.reject(new Error("TextLayer task cancelled.")) } }, { "key": "_processItems", "value": function _processItems(e, t) { for (var r = 0, n = e.length; r < n; r++)if (void 0 !== e[r].str) this._textContentItemsStr.push(e[r].str), appendText(this, e[r], t, this._layoutTextCtx); else if ("beginMarkedContentProps" === e[r].type || "beginMarkedContent" === e[r].type) { var o = this._container; this._container = document.createElement("span"), this._container.classList.add("markedContent"), null !== e[r].id && this._container.setAttribute("id", "".concat(e[r].id)), o.appendChild(this._container) } else "endMarkedContent" === e[r].type && (this._container = this._container.parentNode) } }, { "key": "_layoutText", "value": function _layoutText(e) { var t = this._textDivProperties.get(e), r = ""; if (0 !== t.canvasWidth && t.hasText) { var n = e.style, o = n.fontSize, i = n.fontFamily; o === this._layoutTextLastFontSize && i === this._layoutTextLastFontFamily || (this._layoutTextCtx.font = "".concat(o, " ").concat(i), this._layoutTextLastFontSize = o, this._layoutTextLastFontFamily = i); var a = this._layoutTextCtx.measureText(e.textContent).width; if (a > 0) { var s = t.canvasWidth / a; this._enhanceTextSelection && (t.scale = s), r = "scaleX(".concat(s, ")") } } if (0 !== t.angle && (r = "rotate(".concat(t.angle, "deg) ").concat(r)), r.length > 0 && (this._enhanceTextSelection && (t.originalTransform = r), e.style.transform = r), t.hasText && this._container.appendChild(e), t.hasEOL) { var c = document.createElement("br"); c.setAttribute("role", "presentation"), this._container.appendChild(c) } } }, { "key": "_render", "value": function _render() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = (0, n.createPromiseCapability)(), o = Object.create(null), a = this._document.createElement("canvas"); if (a.height = a.width = i, a.mozOpaque = !0, this._layoutTextCtx = a.getContext("2d", { "alpha": !1 }), this._textContent) { var s = this._textContent.items, c = this._textContent.styles; this._processItems(s, c), r.resolve() } else { if (!this._textContentStream) throw new Error('Neither "textContent" nor "textContentStream" parameters specified.'); this._reader = this._textContentStream.getReader(), function pump() { e._reader.read().then(function (t) { var n = t.value; t.done ? r.resolve() : (Object.assign(o, n.styles), e._processItems(n.items, o), pump()) }, r.reject) }() } r.promise.then(function () { o = null, t ? e._renderTimer = setTimeout(function () { render(e), e._renderTimer = null }, t) : render(e) }, this._capability.reject) } }, { "key": "expandTextDivs", "value": function expandTextDivs() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; if (this._enhanceTextSelection && this._renderingDone) { null !== this._bounds && (expand(this), this._bounds = null); for (var t = [], r = [], n = 0, o = this._textDivs.length; n < o; n++) { var i = this._textDivs[n], a = this._textDivProperties.get(i); a.hasText && (e ? (t.length = 0, r.length = 0, a.originalTransform && t.push(a.originalTransform), a.paddingTop > 0 ? (r.push("".concat(a.paddingTop, "px")), t.push("translateY(".concat(-a.paddingTop, "px)"))) : r.push(0), a.paddingRight > 0 ? r.push("".concat(a.paddingRight / a.scale, "px")) : r.push(0), a.paddingBottom > 0 ? r.push("".concat(a.paddingBottom, "px")) : r.push(0), a.paddingLeft > 0 ? (r.push("".concat(a.paddingLeft / a.scale, "px")), t.push("translateX(".concat(-a.paddingLeft / a.scale, "px)"))) : r.push(0), i.style.padding = r.join(" "), t.length && (i.style.transform = t.join(" "))) : (i.style.padding = null, i.style.transform = a.originalTransform)) } } } }]), TextLayerRenderTask }() }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.SVGGraphics = void 0; var n = r(4), o = r(1), i = r(6); function _toConsumableArray(e) { return function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) }(e) || function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = _unsupportedIterableToArray(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var a = function SVGGraphics() { _classCallCheck(this, SVGGraphics), (0, n.unreachable)("Not implemented: SVGGraphics") }; t.SVGGraphics = a; var s = function pf(e) { if (Number.isInteger(e)) return e.toString(); var t = e.toFixed(10), r = t.length - 1; if ("0" !== t[r]) return t; do { r-- } while ("0" === t[r]); return t.substring(0, "." === t[r] ? r : r + 1) }, c = function pm(e) { if (0 === e[4] && 0 === e[5]) { if (0 === e[1] && 0 === e[2]) return 1 === e[0] && 1 === e[3] ? "" : "scale(".concat(s(e[0]), " ").concat(s(e[3]), ")"); if (e[0] === e[3] && e[1] === -e[2]) { var t = 180 * Math.acos(e[0]) / Math.PI; return "rotate(".concat(s(t), ")") } } else if (1 === e[0] && 0 === e[1] && 0 === e[2] && 1 === e[3]) return "translate(".concat(s(e[4]), " ").concat(s(e[5]), ")"); return "matrix(".concat(s(e[0]), " ").concat(s(e[1]), " ").concat(s(e[2]), " ").concat(s(e[3]), " ").concat(s(e[4]), " ") + "".concat(s(e[5]), ")") }, u = { "fontStyle": "normal", "fontWeight": "normal", "fillColor": "#000000" }, l = ["butt", "round", "square"], f = ["miter", "round", "bevel"], d = function () { for (var e = new Uint8Array([137, 80, 78, 71, 13, 10, 26, 10]), t = 12, r = new Int32Array(256), o = 0; o < 256; o++) { for (var a = o, s = 0; s < 8; s++)a = 1 & a ? 3988292384 ^ a >> 1 & 2147483647 : a >> 1 & 2147483647; r[o] = a } function writePngChunk(e, t, n, o) { var i = o, a = t.length; n[i] = a >> 24 & 255, n[i + 1] = a >> 16 & 255, n[i + 2] = a >> 8 & 255, n[i + 3] = 255 & a, n[i += 4] = 255 & e.charCodeAt(0), n[i + 1] = 255 & e.charCodeAt(1), n[i + 2] = 255 & e.charCodeAt(2), n[i + 3] = 255 & e.charCodeAt(3), i += 4, n.set(t, i); var s = function crc32(e, t, n) { for (var o = -1, i = t; i < n; i++) { var a = 255 & (o ^ e[i]); o = o >>> 8 ^ r[a] } return -1 ^ o }(n, o + 4, i += t.length); n[i] = s >> 24 & 255, n[i + 1] = s >> 16 & 255, n[i + 2] = s >> 8 & 255, n[i + 3] = 255 & s } function deflateSyncUncompressed(e) { var t = e.length, r = Math.ceil(t / 65535), n = new Uint8Array(2 + t + 5 * r + 4), o = 0; n[o++] = 120, n[o++] = 156; for (var i = 0; t > 65535;)n[o++] = 0, n[o++] = 255, n[o++] = 255, n[o++] = 0, n[o++] = 0, n.set(e.subarray(i, i + 65535), o), o += 65535, i += 65535, t -= 65535; n[o++] = 1, n[o++] = 255 & t, n[o++] = t >> 8 & 255, n[o++] = 255 & ~t, n[o++] = (65535 & ~t) >> 8 & 255, n.set(e.subarray(i), o), o += e.length - i; var a = function adler32(e, t, r) { for (var n = 1, o = 0, i = t; i < r; ++i)o = (o + (n = (n + (255 & e[i])) % 65521)) % 65521; return o << 16 | n }(e, 0, e.length); return n[o++] = a >> 24 & 255, n[o++] = a >> 16 & 255, n[o++] = a >> 8 & 255, n[o++] = 255 & a, n } function encode(r, o, a, s) { var c, u, l, f = r.width, d = r.height, p = r.data; switch (o) { case n.ImageKind.GRAYSCALE_1BPP: u = 0, c = 1, l = f + 7 >> 3; break; case n.ImageKind.RGB_24BPP: u = 2, c = 8, l = 3 * f; break; case n.ImageKind.RGBA_32BPP: u = 6, c = 8, l = 4 * f; break; default: throw new Error("invalid format") }for (var h = new Uint8Array((1 + l) * d), m = 0, g = 0, v = 0; v < d; ++v)h[m++] = 0, h.set(p.subarray(g, g + l), m), g += l, m += l; if (o === n.ImageKind.GRAYSCALE_1BPP && s) { m = 0; for (var y = 0; y < d; y++) { m++; for (var b = 0; b < l; b++)h[m++] ^= 255 } } var S = new Uint8Array([f >> 24 & 255, f >> 16 & 255, f >> 8 & 255, 255 & f, d >> 24 & 255, d >> 16 & 255, d >> 8 & 255, 255 & d, c, u, 0, 0, 0]), _ = function deflateSync(e) { if (!i.isNodeJS) return deflateSyncUncompressed(e); try { var t; t = parseInt(process.versions.node) >= 8 ? e : Buffer.from(e); var r = __webpack_require__(201).deflateSync(t, { "level": 9 }); return r instanceof Uint8Array ? r : new Uint8Array(r) } catch (e) { (0, n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: " + e) } return deflateSyncUncompressed(e) }(h), w = e.length + 3 * t + S.length + _.length, A = new Uint8Array(w), C = 0; return A.set(e, C), writePngChunk("IHDR", S, A, C += e.length), writePngChunk("IDATA", _, A, C += t + S.length), C += t + _.length, writePngChunk("IEND", new Uint8Array(0), A, C), (0, n.createObjectURL)(A, "image/png", a) } return function convertImgDataToPng(e, t, r) { return encode(e, void 0 === e.kind ? n.ImageKind.GRAYSCALE_1BPP : e.kind, t, r) } }(), p = function () { function SVGExtraState() { _classCallCheck(this, SVGExtraState), this.fontSizeScale = 1, this.fontWeight = u.fontWeight, this.fontSize = 0, this.textMatrix = n.IDENTITY_MATRIX, this.fontMatrix = n.FONT_IDENTITY_MATRIX, this.leading = 0, this.textRenderingMode = n.TextRenderingMode.FILL, this.textMatrixScale = 1, this.x = 0, this.y = 0, this.lineX = 0, this.lineY = 0, this.charSpacing = 0, this.wordSpacing = 0, this.textHScale = 1, this.textRise = 0, this.fillColor = u.fillColor, this.strokeColor = "#000000", this.fillAlpha = 1, this.strokeAlpha = 1, this.lineWidth = 1, this.lineJoin = "", this.lineCap = "", this.miterLimit = 0, this.dashArray = [], this.dashPhase = 0, this.dependencies = [], this.activeClipUrl = null, this.clipGroup = null, this.maskId = "" } return _createClass(SVGExtraState, [{ "key": "clone", "value": function clone() { return Object.create(this) } }, { "key": "setCurrentPoint", "value": function setCurrentPoint(e, t) { this.x = e, this.y = t } }]), SVGExtraState }(), h = 0, m = 0, g = 0; t.SVGGraphics = a = function () { function SVGGraphics(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; for (var i in _classCallCheck(this, SVGGraphics), this.svgFactory = new o.DOMSVGFactory, this.current = new p, this.transformMatrix = n.IDENTITY_MATRIX, this.transformStack = [], this.extraStack = [], this.commonObjs = e, this.objs = t, this.pendingClip = null, this.pendingEOFill = !1, this.embedFonts = !1, this.embeddedFonts = Object.create(null), this.cssStyle = null, this.forceDataSchema = !!r, this._operatorIdMapping = [], n.OPS) this._operatorIdMapping[n.OPS[i]] = i } return _createClass(SVGGraphics, [{ "key": "save", "value": function save() { this.transformStack.push(this.transformMatrix); var e = this.current; this.extraStack.push(e), this.current = e.clone() } }, { "key": "restore", "value": function restore() { this.transformMatrix = this.transformStack.pop(), this.current = this.extraStack.pop(), this.pendingClip = null, this.tgrp = null } }, { "key": "group", "value": function group(e) { this.save(), this.executeOpTree(e), this.restore() } }, { "key": "loadDependencies", "value": function loadDependencies(e) { for (var t = this, r = e.fnArray, o = e.argsArray, i = 0, a = r.length; i < a; i++)if (r[i] === n.OPS.dependency) { var s, c = _createForOfIteratorHelper(o[i]); try { var u = function _loop() { var e = s.value, r = e.startsWith("g_") ? t.commonObjs : t.objs, n = new Promise(function (t) { r.get(e, t) }); t.current.dependencies.push(n) }; for (c.s(); !(s = c.n()).done;)u() } catch (e) { c.e(e) } finally { c.f() } } return Promise.all(this.current.dependencies) } }, { "key": "transform", "value": function transform(e, t, r, o, i, a) { var s = [e, t, r, o, i, a]; this.transformMatrix = n.Util.transform(this.transformMatrix, s), this.tgrp = null } }, { "key": "getSVG", "value": function getSVG(e, t) { var r = this; this.viewport = t; var o = this._initialize(t); return this.loadDependencies(e).then(function () { return r.transformMatrix = n.IDENTITY_MATRIX, r.executeOpTree(r.convertOpList(e)), o }) } }, { "key": "convertOpList", "value": function convertOpList(e) { for (var t = this._operatorIdMapping, r = e.argsArray, n = e.fnArray, o = [], i = 0, a = n.length; i < a; i++) { var s = n[i]; o.push({ "fnId": s, "fn": t[s], "args": r[i] }) } return function opListToTree(e) { var t, r = [], n = [], o = _createForOfIteratorHelper(e); try { for (o.s(); !(t = o.n()).done;) { var i = t.value; "save" !== i.fn ? "restore" === i.fn ? r = n.pop() : r.push(i) : (r.push({ "fnId": 92, "fn": "group", "items": [] }), n.push(r), r = r[r.length - 1].items) } } catch (e) { o.e(e) } finally { o.f() } return r }(o) } }, { "key": "executeOpTree", "value": function executeOpTree(e) { var t, r = _createForOfIteratorHelper(e); try { for (r.s(); !(t = r.n()).done;) { var o = t.value, i = o.fn, a = o.fnId, s = o.args; switch (0 | a) { case n.OPS.beginText: this.beginText(); break; case n.OPS.dependency: break; case n.OPS.setLeading: this.setLeading(s); break; case n.OPS.setLeadingMoveText: this.setLeadingMoveText(s[0], s[1]); break; case n.OPS.setFont: this.setFont(s); break; case n.OPS.showText: case n.OPS.showSpacedText: this.showText(s[0]); break; case n.OPS.endText: this.endText(); break; case n.OPS.moveText: this.moveText(s[0], s[1]); break; case n.OPS.setCharSpacing: this.setCharSpacing(s[0]); break; case n.OPS.setWordSpacing: this.setWordSpacing(s[0]); break; case n.OPS.setHScale: this.setHScale(s[0]); break; case n.OPS.setTextMatrix: this.setTextMatrix(s[0], s[1], s[2], s[3], s[4], s[5]); break; case n.OPS.setTextRise: this.setTextRise(s[0]); break; case n.OPS.setTextRenderingMode: this.setTextRenderingMode(s[0]); break; case n.OPS.setLineWidth: this.setLineWidth(s[0]); break; case n.OPS.setLineJoin: this.setLineJoin(s[0]); break; case n.OPS.setLineCap: this.setLineCap(s[0]); break; case n.OPS.setMiterLimit: this.setMiterLimit(s[0]); break; case n.OPS.setFillRGBColor: this.setFillRGBColor(s[0], s[1], s[2]); break; case n.OPS.setStrokeRGBColor: this.setStrokeRGBColor(s[0], s[1], s[2]); break; case n.OPS.setStrokeColorN: this.setStrokeColorN(s); break; case n.OPS.setFillColorN: this.setFillColorN(s); break; case n.OPS.shadingFill: this.shadingFill(s[0]); break; case n.OPS.setDash: this.setDash(s[0], s[1]); break; case n.OPS.setRenderingIntent: this.setRenderingIntent(s[0]); break; case n.OPS.setFlatness: this.setFlatness(s[0]); break; case n.OPS.setGState: this.setGState(s[0]); break; case n.OPS.fill: this.fill(); break; case n.OPS.eoFill: this.eoFill(); break; case n.OPS.stroke: this.stroke(); break; case n.OPS.fillStroke: this.fillStroke(); break; case n.OPS.eoFillStroke: this.eoFillStroke(); break; case n.OPS.clip: this.clip("nonzero"); break; case n.OPS.eoClip: this.clip("evenodd"); break; case n.OPS.paintSolidColorImageMask: this.paintSolidColorImageMask(); break; case n.OPS.paintImageXObject: this.paintImageXObject(s[0]); break; case n.OPS.paintInlineImageXObject: this.paintInlineImageXObject(s[0]); break; case n.OPS.paintImageMaskXObject: this.paintImageMaskXObject(s[0]); break; case n.OPS.paintFormXObjectBegin: this.paintFormXObjectBegin(s[0], s[1]); break; case n.OPS.paintFormXObjectEnd: this.paintFormXObjectEnd(); break; case n.OPS.closePath: this.closePath(); break; case n.OPS.closeStroke: this.closeStroke(); break; case n.OPS.closeFillStroke: this.closeFillStroke(); break; case n.OPS.closeEOFillStroke: this.closeEOFillStroke(); break; case n.OPS.nextLine: this.nextLine(); break; case n.OPS.transform: this.transform(s[0], s[1], s[2], s[3], s[4], s[5]); break; case n.OPS.constructPath: this.constructPath(s[0], s[1]); break; case n.OPS.endPath: this.endPath(); break; case 92: this.group(o.items); break; default: (0, n.warn)("Unimplemented operator ".concat(i)) } } } catch (e) { r.e(e) } finally { r.f() } } }, { "key": "setWordSpacing", "value": function setWordSpacing(e) { this.current.wordSpacing = e } }, { "key": "setCharSpacing", "value": function setCharSpacing(e) { this.current.charSpacing = e } }, { "key": "nextLine", "value": function nextLine() { this.moveText(0, this.current.leading) } }, { "key": "setTextMatrix", "value": function setTextMatrix(e, t, r, n, o, i) { var a = this.current; a.textMatrix = a.lineMatrix = [e, t, r, n, o, i], a.textMatrixScale = Math.hypot(e, t), a.x = a.lineX = 0, a.y = a.lineY = 0, a.xcoords = [], a.ycoords = [], a.tspan = this.svgFactory.createElement("svg:tspan"), a.tspan.setAttributeNS(null, "font-family", a.fontFamily), a.tspan.setAttributeNS(null, "font-size", "".concat(s(a.fontSize), "px")), a.tspan.setAttributeNS(null, "y", s(-a.y)), a.txtElement = this.svgFactory.createElement("svg:text"), a.txtElement.appendChild(a.tspan) } }, { "key": "beginText", "value": function beginText() { var e = this.current; e.x = e.lineX = 0, e.y = e.lineY = 0, e.textMatrix = n.IDENTITY_MATRIX, e.lineMatrix = n.IDENTITY_MATRIX, e.textMatrixScale = 1, e.tspan = this.svgFactory.createElement("svg:tspan"), e.txtElement = this.svgFactory.createElement("svg:text"), e.txtgrp = this.svgFactory.createElement("svg:g"), e.xcoords = [], e.ycoords = [] } }, { "key": "moveText", "value": function moveText(e, t) { var r = this.current; r.x = r.lineX += e, r.y = r.lineY += t, r.xcoords = [], r.ycoords = [], r.tspan = this.svgFactory.createElement("svg:tspan"), r.tspan.setAttributeNS(null, "font-family", r.fontFamily), r.tspan.setAttributeNS(null, "font-size", "".concat(s(r.fontSize), "px")), r.tspan.setAttributeNS(null, "y", s(-r.y)) } }, { "key": "showText", "value": function showText(e) { var t = this.current, r = t.font, o = t.fontSize; if (0 !== o) { var i, a = t.fontSizeScale, l = t.charSpacing, f = t.wordSpacing, d = t.fontDirection, p = t.textHScale * d, h = r.vertical, m = h ? 1 : -1, g = r.defaultVMetrics, v = o * t.fontMatrix[0], y = 0, b = _createForOfIteratorHelper(e); try { for (b.s(); !(i = b.n()).done;) { var S = i.value; if (null !== S) if ((0, n.isNum)(S)) y += m * S * o / 1e3; else { var _ = (S.isSpace ? f : 0) + l, w = S.fontChar, A = void 0, C = void 0, T = S.width; if (h) { var P = void 0, k = S.vmetric || g; P = -(P = S.vmetric ? k[1] : .5 * T) * v; var E = k[2] * v; T = k ? -k[0] : T, A = P / a, C = (y + E) / a } else A = y / a, C = 0; (S.isInFont || r.missingFile) && (t.xcoords.push(t.x + A), h && t.ycoords.push(-t.y + C), t.tspan.textContent += w); y += h ? T * v - _ * d : T * v + _ * d } else y += d * f } } catch (e) { b.e(e) } finally { b.f() } t.tspan.setAttributeNS(null, "x", t.xcoords.map(s).join(" ")), h ? t.tspan.setAttributeNS(null, "y", t.ycoords.map(s).join(" ")) : t.tspan.setAttributeNS(null, "y", s(-t.y)), h ? t.y -= y : t.x += y * p, t.tspan.setAttributeNS(null, "font-family", t.fontFamily), t.tspan.setAttributeNS(null, "font-size", "".concat(s(t.fontSize), "px")), t.fontStyle !== u.fontStyle && t.tspan.setAttributeNS(null, "font-style", t.fontStyle), t.fontWeight !== u.fontWeight && t.tspan.setAttributeNS(null, "font-weight", t.fontWeight); var x = t.textRenderingMode & n.TextRenderingMode.FILL_STROKE_MASK; if (x === n.TextRenderingMode.FILL || x === n.TextRenderingMode.FILL_STROKE ? (t.fillColor !== u.fillColor && t.tspan.setAttributeNS(null, "fill", t.fillColor), t.fillAlpha < 1 && t.tspan.setAttributeNS(null, "fill-opacity", t.fillAlpha)) : t.textRenderingMode === n.TextRenderingMode.ADD_TO_PATH ? t.tspan.setAttributeNS(null, "fill", "transparent") : t.tspan.setAttributeNS(null, "fill", "none"), x === n.TextRenderingMode.STROKE || x === n.TextRenderingMode.FILL_STROKE) { var O = 1 / (t.textMatrixScale || 1); this._setStrokeAttributes(t.tspan, O) } var I = t.textMatrix; 0 !== t.textRise && ((I = I.slice())[5] += t.textRise), t.txtElement.setAttributeNS(null, "transform", "".concat(c(I), " scale(").concat(s(p), ", -1)")), t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), t.txtElement.appendChild(t.tspan), t.txtgrp.appendChild(t.txtElement), this._ensureTransformGroup().appendChild(t.txtElement) } } }, { "key": "setLeadingMoveText", "value": function setLeadingMoveText(e, t) { this.setLeading(-t), this.moveText(e, t) } }, { "key": "addFontStyle", "value": function addFontStyle(e) { if (!e.data) throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.'); this.cssStyle || (this.cssStyle = this.svgFactory.createElement("svg:style"), this.cssStyle.setAttributeNS(null, "type", "text/css"), this.defs.appendChild(this.cssStyle)); var t = (0, n.createObjectURL)(e.data, e.mimetype, this.forceDataSchema); this.cssStyle.textContent += '@font-face { font-family: "'.concat(e.loadedName, '";') + " src: url(".concat(t, "); }\n") } }, { "key": "setFont", "value": function setFont(e) { var t = this.current, r = this.commonObjs.get(e[0]), o = e[1]; t.font = r, !this.embedFonts || r.missingFile || this.embeddedFonts[r.loadedName] || (this.addFontStyle(r), this.embeddedFonts[r.loadedName] = r), t.fontMatrix = r.fontMatrix || n.FONT_IDENTITY_MATRIX; var i = "normal"; r.black ? i = "900" : r.bold && (i = "bold"); var a = r.italic ? "italic" : "normal"; o < 0 ? (o = -o, t.fontDirection = -1) : t.fontDirection = 1, t.fontSize = o, t.fontFamily = r.loadedName, t.fontWeight = i, t.fontStyle = a, t.tspan = this.svgFactory.createElement("svg:tspan"), t.tspan.setAttributeNS(null, "y", s(-t.y)), t.xcoords = [], t.ycoords = [] } }, { "key": "endText", "value": function endText() { var e, t = this.current; t.textRenderingMode & n.TextRenderingMode.ADD_TO_PATH_FLAG && null !== (e = t.txtElement) && void 0 !== e && e.hasChildNodes() && (t.element = t.txtElement, this.clip("nonzero"), this.endPath()) } }, { "key": "setLineWidth", "value": function setLineWidth(e) { e > 0 && (this.current.lineWidth = e) } }, { "key": "setLineCap", "value": function setLineCap(e) { this.current.lineCap = l[e] } }, { "key": "setLineJoin", "value": function setLineJoin(e) { this.current.lineJoin = f[e] } }, { "key": "setMiterLimit", "value": function setMiterLimit(e) { this.current.miterLimit = e } }, { "key": "setStrokeAlpha", "value": function setStrokeAlpha(e) { this.current.strokeAlpha = e } }, { "key": "setStrokeRGBColor", "value": function setStrokeRGBColor(e, t, r) { this.current.strokeColor = n.Util.makeHexColor(e, t, r) } }, { "key": "setFillAlpha", "value": function setFillAlpha(e) { this.current.fillAlpha = e } }, { "key": "setFillRGBColor", "value": function setFillRGBColor(e, t, r) { this.current.fillColor = n.Util.makeHexColor(e, t, r), this.current.tspan = this.svgFactory.createElement("svg:tspan"), this.current.xcoords = [], this.current.ycoords = [] } }, { "key": "setStrokeColorN", "value": function setStrokeColorN(e) { this.current.strokeColor = this._makeColorN_Pattern(e) } }, { "key": "setFillColorN", "value": function setFillColorN(e) { this.current.fillColor = this._makeColorN_Pattern(e) } }, { "key": "shadingFill", "value": function shadingFill(e) { var t = this.viewport.width, r = this.viewport.height, o = n.Util.inverseTransform(this.transformMatrix), i = n.Util.applyTransform([0, 0], o), a = n.Util.applyTransform([0, r], o), s = n.Util.applyTransform([t, 0], o), c = n.Util.applyTransform([t, r], o), u = Math.min(i[0], a[0], s[0], c[0]), l = Math.min(i[1], a[1], s[1], c[1]), f = Math.max(i[0], a[0], s[0], c[0]), d = Math.max(i[1], a[1], s[1], c[1]), p = this.svgFactory.createElement("svg:rect"); p.setAttributeNS(null, "x", u), p.setAttributeNS(null, "y", l), p.setAttributeNS(null, "width", f - u), p.setAttributeNS(null, "height", d - l), p.setAttributeNS(null, "fill", this._makeShadingPattern(e)), this.current.fillAlpha < 1 && p.setAttributeNS(null, "fill-opacity", this.current.fillAlpha), this._ensureTransformGroup().appendChild(p) } }, { "key": "_makeColorN_Pattern", "value": function _makeColorN_Pattern(e) { return "TilingPattern" === e[0] ? this._makeTilingPattern(e) : this._makeShadingPattern(e) } }, { "key": "_makeTilingPattern", "value": function _makeTilingPattern(e) { var t = e[1], r = e[2], o = e[3] || n.IDENTITY_MATRIX, i = _slicedToArray(e[4], 4), a = i[0], s = i[1], c = i[2], u = i[3], l = e[5], f = e[6], d = e[7], p = "shading".concat(g++), h = _slicedToArray(n.Util.normalizeRect([].concat(_toConsumableArray(n.Util.applyTransform([a, s], o)), _toConsumableArray(n.Util.applyTransform([c, u], o)))), 4), m = h[0], v = h[1], y = h[2], b = h[3], S = _slicedToArray(n.Util.singularValueDecompose2dScale(o), 2), _ = l * S[0], w = f * S[1], A = this.svgFactory.createElement("svg:pattern"); A.setAttributeNS(null, "id", p), A.setAttributeNS(null, "patternUnits", "userSpaceOnUse"), A.setAttributeNS(null, "width", _), A.setAttributeNS(null, "height", w), A.setAttributeNS(null, "x", "".concat(m)), A.setAttributeNS(null, "y", "".concat(v)); var C = this.svg, T = this.transformMatrix, P = this.current.fillColor, k = this.current.strokeColor, E = this.svgFactory.create(y - m, b - v); if (this.svg = E, this.transformMatrix = o, 2 === d) { var x = n.Util.makeHexColor.apply(n.Util, _toConsumableArray(t)); this.current.fillColor = x, this.current.strokeColor = x } return this.executeOpTree(this.convertOpList(r)), this.svg = C, this.transformMatrix = T, this.current.fillColor = P, this.current.strokeColor = k, A.appendChild(E.childNodes[0]), this.defs.appendChild(A), "url(#".concat(p, ")") } }, { "key": "_makeShadingPattern", "value": function _makeShadingPattern(e) { switch ("string" == typeof e && (e = this.objs.get(e)), e[0]) { case "RadialAxial": var t, r = "shading".concat(g++), o = e[3]; switch (e[1]) { case "axial": var i = e[4], a = e[5]; (t = this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null, "id", r), t.setAttributeNS(null, "gradientUnits", "userSpaceOnUse"), t.setAttributeNS(null, "x1", i[0]), t.setAttributeNS(null, "y1", i[1]), t.setAttributeNS(null, "x2", a[0]), t.setAttributeNS(null, "y2", a[1]); break; case "radial": var s = e[4], c = e[5], u = e[6], l = e[7]; (t = this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null, "id", r), t.setAttributeNS(null, "gradientUnits", "userSpaceOnUse"), t.setAttributeNS(null, "cx", c[0]), t.setAttributeNS(null, "cy", c[1]), t.setAttributeNS(null, "r", l), t.setAttributeNS(null, "fx", s[0]), t.setAttributeNS(null, "fy", s[1]), t.setAttributeNS(null, "fr", u); break; default: throw new Error("Unknown RadialAxial type: ".concat(e[1])) }var f, d = _createForOfIteratorHelper(o); try { for (d.s(); !(f = d.n()).done;) { var p = f.value, h = this.svgFactory.createElement("svg:stop"); h.setAttributeNS(null, "offset", p[0]), h.setAttributeNS(null, "stop-color", p[1]), t.appendChild(h) } } catch (e) { d.e(e) } finally { d.f() } return this.defs.appendChild(t), "url(#".concat(r, ")"); case "Mesh": return (0, n.warn)("Unimplemented pattern Mesh"), null; case "Dummy": return "hotpink"; default: throw new Error("Unknown IR type: ".concat(e[0])) } } }, { "key": "setDash", "value": function setDash(e, t) { this.current.dashArray = e, this.current.dashPhase = t } }, { "key": "constructPath", "value": function constructPath(e, t) { var r, o = this.current, i = o.x, a = o.y, c = [], u = 0, l = _createForOfIteratorHelper(e); try { for (l.s(); !(r = l.n()).done;) { switch (0 | r.value) { case n.OPS.rectangle: i = t[u++], a = t[u++]; var f = i + t[u++], d = a + t[u++]; c.push("M", s(i), s(a), "L", s(f), s(a), "L", s(f), s(d), "L", s(i), s(d), "Z"); break; case n.OPS.moveTo: i = t[u++], a = t[u++], c.push("M", s(i), s(a)); break; case n.OPS.lineTo: i = t[u++], a = t[u++], c.push("L", s(i), s(a)); break; case n.OPS.curveTo: i = t[u + 4], a = t[u + 5], c.push("C", s(t[u]), s(t[u + 1]), s(t[u + 2]), s(t[u + 3]), s(i), s(a)), u += 6; break; case n.OPS.curveTo2: c.push("C", s(i), s(a), s(t[u]), s(t[u + 1]), s(t[u + 2]), s(t[u + 3])), i = t[u + 2], a = t[u + 3], u += 4; break; case n.OPS.curveTo3: i = t[u + 2], a = t[u + 3], c.push("C", s(t[u]), s(t[u + 1]), s(i), s(a), s(i), s(a)), u += 4; break; case n.OPS.closePath: c.push("Z") } } } catch (e) { l.e(e) } finally { l.f() } c = c.join(" "), o.path && e.length > 0 && e[0] !== n.OPS.rectangle && e[0] !== n.OPS.moveTo ? c = o.path.getAttributeNS(null, "d") + c : (o.path = this.svgFactory.createElement("svg:path"), this._ensureTransformGroup().appendChild(o.path)), o.path.setAttributeNS(null, "d", c), o.path.setAttributeNS(null, "fill", "none"), o.element = o.path, o.setCurrentPoint(i, a) } }, { "key": "endPath", "value": function endPath() { var e = this.current; if (e.path = null, this.pendingClip) if (e.element) { var t = "clippath".concat(h++), r = this.svgFactory.createElement("svg:clipPath"); r.setAttributeNS(null, "id", t), r.setAttributeNS(null, "transform", c(this.transformMatrix)); var n = e.element.cloneNode(!0); if ("evenodd" === this.pendingClip ? n.setAttributeNS(null, "clip-rule", "evenodd") : n.setAttributeNS(null, "clip-rule", "nonzero"), this.pendingClip = null, r.appendChild(n), this.defs.appendChild(r), e.activeClipUrl) { e.clipGroup = null; var o, i = _createForOfIteratorHelper(this.extraStack); try { for (i.s(); !(o = i.n()).done;) { o.value.clipGroup = null } } catch (e) { i.e(e) } finally { i.f() } r.setAttributeNS(null, "clip-path", e.activeClipUrl) } e.activeClipUrl = "url(#".concat(t, ")"), this.tgrp = null } else this.pendingClip = null } }, { "key": "clip", "value": function clip(e) { this.pendingClip = e } }, { "key": "closePath", "value": function closePath() { var e = this.current; if (e.path) { var t = "".concat(e.path.getAttributeNS(null, "d"), "Z"); e.path.setAttributeNS(null, "d", t) } } }, { "key": "setLeading", "value": function setLeading(e) { this.current.leading = -e } }, { "key": "setTextRise", "value": function setTextRise(e) { this.current.textRise = e } }, { "key": "setTextRenderingMode", "value": function setTextRenderingMode(e) { this.current.textRenderingMode = e } }, { "key": "setHScale", "value": function setHScale(e) { this.current.textHScale = e / 100 } }, { "key": "setRenderingIntent", "value": function setRenderingIntent(e) { } }, { "key": "setFlatness", "value": function setFlatness(e) { } }, { "key": "setGState", "value": function setGState(e) { var t, r = _createForOfIteratorHelper(e); try { for (r.s(); !(t = r.n()).done;) { var o = _slicedToArray(t.value, 2), i = o[0], a = o[1]; switch (i) { case "LW": this.setLineWidth(a); break; case "LC": this.setLineCap(a); break; case "LJ": this.setLineJoin(a); break; case "ML": this.setMiterLimit(a); break; case "D": this.setDash(a[0], a[1]); break; case "RI": this.setRenderingIntent(a); break; case "FL": this.setFlatness(a); break; case "Font": this.setFont(a); break; case "CA": this.setStrokeAlpha(a); break; case "ca": this.setFillAlpha(a); break; default: (0, n.warn)("Unimplemented graphic state operator ".concat(i)) } } } catch (e) { r.e(e) } finally { r.f() } } }, { "key": "fill", "value": function fill() { var e = this.current; e.element && (e.element.setAttributeNS(null, "fill", e.fillColor), e.element.setAttributeNS(null, "fill-opacity", e.fillAlpha), this.endPath()) } }, { "key": "stroke", "value": function stroke() { var e = this.current; e.element && (this._setStrokeAttributes(e.element), e.element.setAttributeNS(null, "fill", "none"), this.endPath()) } }, { "key": "_setStrokeAttributes", "value": function _setStrokeAttributes(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = this.current, n = r.dashArray; 1 !== t && n.length > 0 && (n = n.map(function (e) { return t * e })), e.setAttributeNS(null, "stroke", r.strokeColor), e.setAttributeNS(null, "stroke-opacity", r.strokeAlpha), e.setAttributeNS(null, "stroke-miterlimit", s(r.miterLimit)), e.setAttributeNS(null, "stroke-linecap", r.lineCap), e.setAttributeNS(null, "stroke-linejoin", r.lineJoin), e.setAttributeNS(null, "stroke-width", s(t * r.lineWidth) + "px"), e.setAttributeNS(null, "stroke-dasharray", n.map(s).join(" ")), e.setAttributeNS(null, "stroke-dashoffset", s(t * r.dashPhase) + "px") } }, { "key": "eoFill", "value": function eoFill() { this.current.element && this.current.element.setAttributeNS(null, "fill-rule", "evenodd"), this.fill() } }, { "key": "fillStroke", "value": function fillStroke() { this.stroke(), this.fill() } }, { "key": "eoFillStroke", "value": function eoFillStroke() { this.current.element && this.current.element.setAttributeNS(null, "fill-rule", "evenodd"), this.fillStroke() } }, { "key": "closeStroke", "value": function closeStroke() { this.closePath(), this.stroke() } }, { "key": "closeFillStroke", "value": function closeFillStroke() { this.closePath(), this.fillStroke() } }, { "key": "closeEOFillStroke", "value": function closeEOFillStroke() { this.closePath(), this.eoFillStroke() } }, { "key": "paintSolidColorImageMask", "value": function paintSolidColorImageMask() { var e = this.svgFactory.createElement("svg:rect"); e.setAttributeNS(null, "x", "0"), e.setAttributeNS(null, "y", "0"), e.setAttributeNS(null, "width", "1px"), e.setAttributeNS(null, "height", "1px"), e.setAttributeNS(null, "fill", this.current.fillColor), this._ensureTransformGroup().appendChild(e) } }, { "key": "paintImageXObject", "value": function paintImageXObject(e) { var t = e.startsWith("g_") ? this.commonObjs.get(e) : this.objs.get(e); t ? this.paintInlineImageXObject(t) : (0, n.warn)("Dependent image with object ID ".concat(e, " is not ready yet")) } }, { "key": "paintInlineImageXObject", "value": function paintInlineImageXObject(e, t) { var r = e.width, n = e.height, o = d(e, this.forceDataSchema, !!t), i = this.svgFactory.createElement("svg:rect"); i.setAttributeNS(null, "x", "0"), i.setAttributeNS(null, "y", "0"), i.setAttributeNS(null, "width", s(r)), i.setAttributeNS(null, "height", s(n)), this.current.element = i, this.clip("nonzero"); var a = this.svgFactory.createElement("svg:image"); a.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", o), a.setAttributeNS(null, "x", "0"), a.setAttributeNS(null, "y", s(-n)), a.setAttributeNS(null, "width", s(r) + "px"), a.setAttributeNS(null, "height", s(n) + "px"), a.setAttributeNS(null, "transform", "scale(".concat(s(1 / r), " ").concat(s(-1 / n), ")")), t ? t.appendChild(a) : this._ensureTransformGroup().appendChild(a) } }, { "key": "paintImageMaskXObject", "value": function paintImageMaskXObject(e) { var t = this.current, r = e.width, n = e.height, o = t.fillColor; t.maskId = "mask".concat(m++); var i = this.svgFactory.createElement("svg:mask"); i.setAttributeNS(null, "id", t.maskId); var a = this.svgFactory.createElement("svg:rect"); a.setAttributeNS(null, "x", "0"), a.setAttributeNS(null, "y", "0"), a.setAttributeNS(null, "width", s(r)), a.setAttributeNS(null, "height", s(n)), a.setAttributeNS(null, "fill", o), a.setAttributeNS(null, "mask", "url(#".concat(t.maskId, ")")), this.defs.appendChild(i), this._ensureTransformGroup().appendChild(a), this.paintInlineImageXObject(e, i) } }, { "key": "paintFormXObjectBegin", "value": function paintFormXObjectBegin(e, t) { if (Array.isArray(e) && 6 === e.length && this.transform(e[0], e[1], e[2], e[3], e[4], e[5]), t) { var r = t[2] - t[0], n = t[3] - t[1], o = this.svgFactory.createElement("svg:rect"); o.setAttributeNS(null, "x", t[0]), o.setAttributeNS(null, "y", t[1]), o.setAttributeNS(null, "width", s(r)), o.setAttributeNS(null, "height", s(n)), this.current.element = o, this.clip("nonzero"), this.endPath() } } }, { "key": "paintFormXObjectEnd", "value": function paintFormXObjectEnd() { } }, { "key": "_initialize", "value": function _initialize(e) { var t = this.svgFactory.create(e.width, e.height), r = this.svgFactory.createElement("svg:defs"); t.appendChild(r), this.defs = r; var n = this.svgFactory.createElement("svg:g"); return n.setAttributeNS(null, "transform", c(e.transform)), t.appendChild(n), this.svg = n, t } }, { "key": "_ensureClipGroup", "value": function _ensureClipGroup() { if (!this.current.clipGroup) { var e = this.svgFactory.createElement("svg:g"); e.setAttributeNS(null, "clip-path", this.current.activeClipUrl), this.svg.appendChild(e), this.current.clipGroup = e } return this.current.clipGroup } }, { "key": "_ensureTransformGroup", "value": function _ensureTransformGroup() { return this.tgrp || (this.tgrp = this.svgFactory.createElement("svg:g"), this.tgrp.setAttributeNS(null, "transform", c(this.transformMatrix)), this.current.activeClipUrl ? this._ensureClipGroup().appendChild(this.tgrp) : this.svg.appendChild(this.tgrp)), this.tgrp } }]), SVGGraphics }() }, function (e, t, r) { "use strict"; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : _typeof2(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : _typeof2(e) })(e) } Object.defineProperty(t, "__esModule", { "value": !0 }), t.PDFNodeStream = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4), i = r(154); function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) }(this, r) } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var a = __webpack_require__(75), s = __webpack_require__(202), c = __webpack_require__(203), u = __webpack_require__(204), l = /^file:\/\/\/[a-zA-Z]:\//; var f = function () { function PDFNodeStream(e) { _classCallCheck(this, PDFNodeStream), this.source = e, this.url = function parseUrl(e) { var t = u.parse(e); return "file:" === t.protocol || t.host ? t : /^[a-z]:[/\\]/i.test(e) ? u.parse("file:///".concat(e)) : (t.host || (t.protocol = "file:"), t) }(e.url), this.isHttp = "http:" === this.url.protocol || "https:" === this.url.protocol, this.isFsUrl = "file:" === this.url.protocol, this.httpHeaders = this.isHttp && e.httpHeaders || {}, this._fullRequestReader = null, this._rangeRequestReaders = [] } return _createClass(PDFNodeStream, [{ "key": "_progressiveDataLength", "get": function get() { var e, t; return null !== (e = null === (t = this._fullRequestReader) || void 0 === t ? void 0 : t._loaded) && void 0 !== e ? e : 0 } }, { "key": "getFullReader", "value": function getFullReader() { return (0, o.assert)(!this._fullRequestReader, "PDFNodeStream.getFullReader can only be called once."), this._fullRequestReader = this.isFsUrl ? new g(this) : new h(this), this._fullRequestReader } }, { "key": "getRangeReader", "value": function getRangeReader(e, t) { if (t <= this._progressiveDataLength) return null; var r = this.isFsUrl ? new v(this, e, t) : new m(this, e, t); return this._rangeRequestReaders.push(r), r } }, { "key": "cancelAllRequests", "value": function cancelAllRequests(e) { this._fullRequestReader && this._fullRequestReader.cancel(e); var t, r = _createForOfIteratorHelper(this._rangeRequestReaders.slice(0)); try { for (r.s(); !(t = r.n()).done;) { t.value.cancel(e) } } catch (e) { r.e(e) } finally { r.f() } } }]), PDFNodeStream }(); t.PDFNodeStream = f; var d = function () { function BaseFullReader(e) { _classCallCheck(this, BaseFullReader), this._url = e.url, this._done = !1, this._storedError = null, this.onProgress = null; var t = e.source; this._contentLength = t.length, this._loaded = 0, this._filename = null, this._disableRange = t.disableRange || !1, this._rangeChunkSize = t.rangeChunkSize, this._rangeChunkSize || this._disableRange || (this._disableRange = !0), this._isStreamingSupported = !t.disableStream, this._isRangeSupported = !t.disableRange, this._readableStream = null, this._readCapability = (0, o.createPromiseCapability)(), this._headersCapability = (0, o.createPromiseCapability)() } return _createClass(BaseFullReader, [{ "key": "headersReady", "get": function get() { return this._headersCapability.promise } }, { "key": "filename", "get": function get() { return this._filename } }, { "key": "contentLength", "get": function get() { return this._contentLength } }, { "key": "isRangeSupported", "get": function get() { return this._isRangeSupported } }, { "key": "isStreamingSupported", "get": function get() { return this._isStreamingSupported } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee() { var e, t; return n.default.wrap(function _callee$(r) { for (; ;)switch (r.prev = r.next) { case 0: return r.next = 2, this._readCapability.promise; case 2: if (!this._done) { r.next = 4; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 4: if (!this._storedError) { r.next = 6; break } throw this._storedError; case 6: if (null !== (e = this._readableStream.read())) { r.next = 10; break } return this._readCapability = (0, o.createPromiseCapability)(), r.abrupt("return", this.read()); case 10: return this._loaded += e.length, this.onProgress && this.onProgress({ "loaded": this._loaded, "total": this._contentLength }), t = new Uint8Array(e).buffer, r.abrupt("return", { "value": t, "done": !1 }); case 14: case "end": return r.stop() } }, _callee, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._readableStream ? this._readableStream.destroy(e) : this._error(e) } }, { "key": "_error", "value": function _error(e) { this._storedError = e, this._readCapability.resolve() } }, { "key": "_setReadableStream", "value": function _setReadableStream(e) { var t = this; this._readableStream = e, e.on("readable", function () { t._readCapability.resolve() }), e.on("end", function () { e.destroy(), t._done = !0, t._readCapability.resolve() }), e.on("error", function (e) { t._error(e) }), !this._isStreamingSupported && this._isRangeSupported && this._error(new o.AbortException("streaming is disabled")), this._storedError && this._readableStream.destroy(this._storedError) } }]), BaseFullReader }(), p = function () { function BaseRangeReader(e) { _classCallCheck(this, BaseRangeReader), this._url = e.url, this._done = !1, this._storedError = null, this.onProgress = null, this._loaded = 0, this._readableStream = null, this._readCapability = (0, o.createPromiseCapability)(); var t = e.source; this._isStreamingSupported = !t.disableStream } return _createClass(BaseRangeReader, [{ "key": "isStreamingSupported", "get": function get() { return this._isStreamingSupported } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee2() { var e, t; return n.default.wrap(function _callee2$(r) { for (; ;)switch (r.prev = r.next) { case 0: return r.next = 2, this._readCapability.promise; case 2: if (!this._done) { r.next = 4; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 4: if (!this._storedError) { r.next = 6; break } throw this._storedError; case 6: if (null !== (e = this._readableStream.read())) { r.next = 10; break } return this._readCapability = (0, o.createPromiseCapability)(), r.abrupt("return", this.read()); case 10: return this._loaded += e.length, this.onProgress && this.onProgress({ "loaded": this._loaded }), t = new Uint8Array(e).buffer, r.abrupt("return", { "value": t, "done": !1 }); case 14: case "end": return r.stop() } }, _callee2, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._readableStream ? this._readableStream.destroy(e) : this._error(e) } }, { "key": "_error", "value": function _error(e) { this._storedError = e, this._readCapability.resolve() } }, { "key": "_setReadableStream", "value": function _setReadableStream(e) { var t = this; this._readableStream = e, e.on("readable", function () { t._readCapability.resolve() }), e.on("end", function () { e.destroy(), t._done = !0, t._readCapability.resolve() }), e.on("error", function (e) { t._error(e) }), this._storedError && this._readableStream.destroy(this._storedError) } }]), BaseRangeReader }(); function createRequestOptions(e, t) { return { "protocol": e.protocol, "auth": e.auth, "host": e.hostname, "port": e.port, "path": e.path, "method": "GET", "headers": t } } var h = function (e) { _inherits(PDFNodeStreamFullReader, d); var t = _createSuper(PDFNodeStreamFullReader); function PDFNodeStreamFullReader(e) { var r; _classCallCheck(this, PDFNodeStreamFullReader); var n = function handleResponse(t) { if (404 === t.statusCode) { var n = new o.MissingPDFException('Missing PDF "'.concat(r._url, '".')); return r._storedError = n, void r._headersCapability.reject(n) } r._headersCapability.resolve(), r._setReadableStream(t); var a = function getResponseHeader(e) { return r._readableStream.headers[e.toLowerCase()] }, s = (0, i.validateRangeRequestCapabilities)({ "getResponseHeader": a, "isHttp": e.isHttp, "rangeChunkSize": r._rangeChunkSize, "disableRange": r._disableRange }), c = s.allowRangeRequests, u = s.suggestedLength; r._isRangeSupported = c, r._contentLength = u || r._contentLength, r._filename = (0, i.extractFilenameFromHeader)(a) }; return (r = t.call(this, e))._request = null, "http:" === r._url.protocol ? r._request = s.request(createRequestOptions(r._url, e.httpHeaders), n) : r._request = c.request(createRequestOptions(r._url, e.httpHeaders), n), r._request.on("error", function (e) { r._storedError = e, r._headersCapability.reject(e) }), r._request.end(), r } return PDFNodeStreamFullReader }(), m = function (e) { _inherits(PDFNodeStreamRangeReader, p); var t = _createSuper(PDFNodeStreamRangeReader); function PDFNodeStreamRangeReader(e, r, n) { var i; for (var a in _classCallCheck(this, PDFNodeStreamRangeReader), (i = t.call(this, e))._httpHeaders = {}, e.httpHeaders) { var u = e.httpHeaders[a]; void 0 !== u && (i._httpHeaders[a] = u) } i._httpHeaders.Range = "bytes=".concat(r, "-").concat(n - 1); var l = function handleResponse(e) { if (404 !== e.statusCode) i._setReadableStream(e); else { var t = new o.MissingPDFException('Missing PDF "'.concat(i._url, '".')); i._storedError = t } }; return i._request = null, "http:" === i._url.protocol ? i._request = s.request(createRequestOptions(i._url, i._httpHeaders), l) : i._request = c.request(createRequestOptions(i._url, i._httpHeaders), l), i._request.on("error", function (e) { i._storedError = e }), i._request.end(), i } return PDFNodeStreamRangeReader }(), g = function (e) { _inherits(PDFNodeStreamFsFullReader, d); var t = _createSuper(PDFNodeStreamFsFullReader); function PDFNodeStreamFsFullReader(e) { var r; _classCallCheck(this, PDFNodeStreamFsFullReader), r = t.call(this, e); var n = decodeURIComponent(r._url.path); return l.test(r._url.href) && (n = n.replace(/^\//, "")), a.lstat(n, function (e, t) { if (e) return "ENOENT" === e.code && (e = new o.MissingPDFException('Missing PDF "'.concat(n, '".'))), r._storedError = e, void r._headersCapability.reject(e); r._contentLength = t.size, r._setReadableStream(a.createReadStream(n)), r._headersCapability.resolve() }), r } return PDFNodeStreamFsFullReader }(), v = function (e) { _inherits(PDFNodeStreamFsRangeReader, p); var t = _createSuper(PDFNodeStreamFsRangeReader); function PDFNodeStreamFsRangeReader(e, r, n) { var o; _classCallCheck(this, PDFNodeStreamFsRangeReader), o = t.call(this, e); var i = decodeURIComponent(o._url.path); return l.test(o._url.href) && (i = i.replace(/^\//, "")), o._setReadableStream(a.createReadStream(i, { "start": r, "end": n - 1 })), o } return PDFNodeStreamFsRangeReader }() }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.createResponseStatusError = function createResponseStatusError(e, t) { if (404 === e || 0 === e && t.startsWith("file:")) return new n.MissingPDFException('Missing PDF "' + t + '".'); return new n.UnexpectedResponseException("Unexpected server response (".concat(e, ') while retrieving PDF "').concat(t, '".'), e) }, t.extractFilenameFromHeader = function extractFilenameFromHeader(e) { var t = e("Content-Disposition"); if (t) { var r = (0, o.getFilenameFromContentDispositionHeader)(t); if (r.includes("%")) try { r = decodeURIComponent(r) } catch (e) { } if ((0, i.isPdfFile)(r)) return r } return null }, t.validateRangeRequestCapabilities = function validateRangeRequestCapabilities(e) { var t = e.getResponseHeader, r = e.isHttp, o = e.rangeChunkSize, i = e.disableRange; (0, n.assert)(o > 0, "Range chunk size must be larger than zero"); var a = { "allowRangeRequests": !1, "suggestedLength": void 0 }, s = parseInt(t("Content-Length"), 10); if (!Number.isInteger(s)) return a; if (a.suggestedLength = s, s <= 2 * o) return a; if (i || !r) return a; if ("bytes" !== t("Accept-Ranges")) return a; if ("identity" !== (t("Content-Encoding") || "identity")) return a; return a.allowRangeRequests = !0, a }, t.validateResponseStatus = function validateResponseStatus(e) { return 200 === e || 206 === e }; var n = r(4), o = r(155), i = r(1) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.getFilenameFromContentDispositionHeader = function getFilenameFromContentDispositionHeader(e) { var t = !0, r = toParamRegExp("filename\\*", "i").exec(e); if (r) { var o = rfc2616unquote(r = r[1]); return fixupEncoding(o = rfc2047decode(o = rfc5987decode(o = unescape(o)))) } if (r = function rfc2231getparam(e) { for (var t, r = [], n = toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)", "ig"); null !== (t = n.exec(e));) { var o = t, i = _slicedToArray(o, 4), a = i[1], s = i[2], c = i[3]; if ((a = parseInt(a, 10)) in r) { if (0 === a) break } else r[a] = [s, c] } for (var u = [], l = 0; l < r.length && l in r; ++l) { var f = _slicedToArray(r[l], 2), d = f[0], p = f[1]; p = rfc2616unquote(p), d && (p = unescape(p), 0 === l && (p = rfc5987decode(p))), u.push(p) } return u.join("") }(e)) { var i = rfc2047decode(r); return fixupEncoding(i) } if (r = toParamRegExp("filename", "i").exec(e)) { var a = rfc2616unquote(r = r[1]); return fixupEncoding(a = rfc2047decode(a)) } function toParamRegExp(e, t) { return new RegExp("(?:^|;)\\s*" + e + '\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)', t) } function textdecode(e, r) { if (e) { if (!/^[\x00-\xFF]+$/.test(r)) return r; try { var o = new TextDecoder(e, { "fatal": !0 }), i = (0, n.stringToBytes)(r); r = o.decode(i), t = !1 } catch (n) { if (/^utf-?8$/i.test(e)) try { r = decodeURIComponent(escape(r)), t = !1 } catch (e) { } } } return r } function fixupEncoding(e) { return t && /[\x80-\xff]/.test(e) && (e = textdecode("utf-8", e), t && (e = textdecode("iso-8859-1", e))), e } function rfc2616unquote(e) { if (e.startsWith('"')) { for (var t = e.slice(1).split('\\"'), r = 0; r < t.length; ++r) { var n = t[r].indexOf('"'); -1 !== n && (t[r] = t[r].slice(0, n), t.length = r + 1), t[r] = t[r].replace(/\\(.)/g, "$1") } e = t.join('"') } return e } function rfc5987decode(e) { var t = e.indexOf("'"); if (-1 === t) return e; var r = e.slice(0, t), n = e.slice(t + 1), o = n.replace(/^[^']*'/, ""); return textdecode(r, o) } function rfc2047decode(e) { return !e.startsWith("=?") || /[\x00-\x19\x80-\xff]/.test(e) ? e : e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g, function (e, t, r, n) { if ("q" === r || "Q" === r) return n = (n = n.replace(/_/g, " ")).replace(/=([0-9a-fA-F]{2})/g, function (e, t) { return String.fromCharCode(parseInt(t, 16)) }), textdecode(t, n); try { n = atob(n) } catch (e) { } return textdecode(t, n) }) } return "" }; var n = r(4); function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null == r) return; var n, o, i = [], a = !0, s = !1; try { for (r = r.call(e); !(a = (n = r.next()).done) && (i.push(n.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == r.return || r.return() } finally { if (s) throw o } } return i }(e, t) || function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.PDFNetworkStream = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4), i = r(154); function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } var a = function () { function NetworkManager(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; _classCallCheck(this, NetworkManager), this.url = e, this.isHttp = /^https?:/i.test(e), this.httpHeaders = this.isHttp && t.httpHeaders || Object.create(null), this.withCredentials = t.withCredentials || !1, this.getXhr = t.getXhr || function NetworkManager_getXhr() { return new XMLHttpRequest }, this.currXhrId = 0, this.pendingRequests = Object.create(null) } return _createClass(NetworkManager, [{ "key": "requestRange", "value": function requestRange(e, t, r) { var n = { "begin": e, "end": t }; for (var o in r) n[o] = r[o]; return this.request(n) } }, { "key": "requestFull", "value": function requestFull(e) { return this.request(e) } }, { "key": "request", "value": function request(e) { var t = this.getXhr(), r = this.currXhrId++, n = this.pendingRequests[r] = { "xhr": t }; for (var o in t.open("GET", this.url), t.withCredentials = this.withCredentials, this.httpHeaders) { var i = this.httpHeaders[o]; void 0 !== i && t.setRequestHeader(o, i) } return this.isHttp && "begin" in e && "end" in e ? (t.setRequestHeader("Range", "bytes=".concat(e.begin, "-").concat(e.end - 1)), n.expectedStatus = 206) : n.expectedStatus = 200, t.responseType = "arraybuffer", e.onError && (t.onerror = function (r) { e.onError(t.status) }), t.onreadystatechange = this.onStateChange.bind(this, r), t.onprogress = this.onProgress.bind(this, r), n.onHeadersReceived = e.onHeadersReceived, n.onDone = e.onDone, n.onError = e.onError, n.onProgress = e.onProgress, t.send(null), r } }, { "key": "onProgress", "value": function onProgress(e, t) { var r, n = this.pendingRequests[e]; n && (null === (r = n.onProgress) || void 0 === r || r.call(n, t)) } }, { "key": "onStateChange", "value": function onStateChange(e, t) { var r = this.pendingRequests[e]; if (r) { var n = r.xhr; if (n.readyState >= 2 && r.onHeadersReceived && (r.onHeadersReceived(), delete r.onHeadersReceived), 4 === n.readyState && e in this.pendingRequests) if (delete this.pendingRequests[e], 0 === n.status && this.isHttp) { var i; null === (i = r.onError) || void 0 === i || i.call(r, n.status) } else { var a = n.status || 200; if (200 === a && 206 === r.expectedStatus || a === r.expectedStatus) { var s = function getArrayBuffer(e) { var t = e.response; return "string" != typeof t ? t : (0, o.stringToBytes)(t).buffer }(n); if (206 === a) { var c = n.getResponseHeader("Content-Range"), u = /bytes (\d+)-(\d+)\/(\d+)/.exec(c); r.onDone({ "begin": parseInt(u[1], 10), "chunk": s }) } else if (s) r.onDone({ "begin": 0, "chunk": s }); else { var l; null === (l = r.onError) || void 0 === l || l.call(r, n.status) } } else { var f; null === (f = r.onError) || void 0 === f || f.call(r, n.status) } } } } }, { "key": "getRequestXhr", "value": function getRequestXhr(e) { return this.pendingRequests[e].xhr } }, { "key": "isPendingRequest", "value": function isPendingRequest(e) { return e in this.pendingRequests } }, { "key": "abortRequest", "value": function abortRequest(e) { var t = this.pendingRequests[e].xhr; delete this.pendingRequests[e], t.abort() } }]), NetworkManager }(), s = function () { function PDFNetworkStream(e) { _classCallCheck(this, PDFNetworkStream), this._source = e, this._manager = new a(e.url, { "httpHeaders": e.httpHeaders, "withCredentials": e.withCredentials }), this._rangeChunkSize = e.rangeChunkSize, this._fullRequestReader = null, this._rangeRequestReaders = [] } return _createClass(PDFNetworkStream, [{ "key": "_onRangeRequestReaderClosed", "value": function _onRangeRequestReaderClosed(e) { var t = this._rangeRequestReaders.indexOf(e); t >= 0 && this._rangeRequestReaders.splice(t, 1) } }, { "key": "getFullReader", "value": function getFullReader() { return (0, o.assert)(!this._fullRequestReader, "PDFNetworkStream.getFullReader can only be called once."), this._fullRequestReader = new c(this._manager, this._source), this._fullRequestReader } }, { "key": "getRangeReader", "value": function getRangeReader(e, t) { var r = new u(this._manager, e, t); return r.onClosed = this._onRangeRequestReaderClosed.bind(this), this._rangeRequestReaders.push(r), r } }, { "key": "cancelAllRequests", "value": function cancelAllRequests(e) { var t; null === (t = this._fullRequestReader) || void 0 === t || t.cancel(e); var r, n = _createForOfIteratorHelper(this._rangeRequestReaders.slice(0)); try { for (n.s(); !(r = n.n()).done;) { r.value.cancel(e) } } catch (e) { n.e(e) } finally { n.f() } } }]), PDFNetworkStream }(); t.PDFNetworkStream = s; var c = function () { function PDFNetworkStreamFullRequestReader(e, t) { _classCallCheck(this, PDFNetworkStreamFullRequestReader), this._manager = e; var r = { "onHeadersReceived": this._onHeadersReceived.bind(this), "onDone": this._onDone.bind(this), "onError": this._onError.bind(this), "onProgress": this._onProgress.bind(this) }; this._url = t.url, this._fullRequestId = e.requestFull(r), this._headersReceivedCapability = (0, o.createPromiseCapability)(), this._disableRange = t.disableRange || !1, this._contentLength = t.length, this._rangeChunkSize = t.rangeChunkSize, this._rangeChunkSize || this._disableRange || (this._disableRange = !0), this._isStreamingSupported = !1, this._isRangeSupported = !1, this._cachedChunks = [], this._requests = [], this._done = !1, this._storedError = void 0, this._filename = null, this.onProgress = null } return _createClass(PDFNetworkStreamFullRequestReader, [{ "key": "_onHeadersReceived", "value": function _onHeadersReceived() { var e = this._fullRequestId, t = this._manager.getRequestXhr(e), r = function getResponseHeader(e) { return t.getResponseHeader(e) }, n = (0, i.validateRangeRequestCapabilities)({ "getResponseHeader": r, "isHttp": this._manager.isHttp, "rangeChunkSize": this._rangeChunkSize, "disableRange": this._disableRange }), o = n.allowRangeRequests, a = n.suggestedLength; o && (this._isRangeSupported = !0), this._contentLength = a || this._contentLength, this._filename = (0, i.extractFilenameFromHeader)(r), this._isRangeSupported && this._manager.abortRequest(e), this._headersReceivedCapability.resolve() } }, { "key": "_onDone", "value": function _onDone(e) { e && (this._requests.length > 0 ? this._requests.shift().resolve({ "value": e.chunk, "done": !1 }) : this._cachedChunks.push(e.chunk)); if (this._done = !0, !(this._cachedChunks.length > 0)) { var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0 } } }, { "key": "_onError", "value": function _onError(e) { this._storedError = (0, i.createResponseStatusError)(e, this._url), this._headersReceivedCapability.reject(this._storedError); var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.reject(this._storedError) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0, this._cachedChunks.length = 0 } }, { "key": "_onProgress", "value": function _onProgress(e) { var t; null === (t = this.onProgress) || void 0 === t || t.call(this, { "loaded": e.loaded, "total": e.lengthComputable ? e.total : this._contentLength }) } }, { "key": "filename", "get": function get() { return this._filename } }, { "key": "isRangeSupported", "get": function get() { return this._isRangeSupported } }, { "key": "isStreamingSupported", "get": function get() { return this._isStreamingSupported } }, { "key": "contentLength", "get": function get() { return this._contentLength } }, { "key": "headersReady", "get": function get() { return this._headersReceivedCapability.promise } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee() { var e, t; return n.default.wrap(function _callee$(r) { for (; ;)switch (r.prev = r.next) { case 0: if (!this._storedError) { r.next = 2; break } throw this._storedError; case 2: if (!(this._cachedChunks.length > 0)) { r.next = 5; break } return e = this._cachedChunks.shift(), r.abrupt("return", { "value": e, "done": !1 }); case 5: if (!this._done) { r.next = 7; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 7: return t = (0, o.createPromiseCapability)(), this._requests.push(t), r.abrupt("return", t.promise); case 10: case "end": return r.stop() } }, _callee, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._done = !0, this._headersReceivedCapability.reject(e); var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0, this._manager.isPendingRequest(this._fullRequestId) && this._manager.abortRequest(this._fullRequestId), this._fullRequestReader = null } }]), PDFNetworkStreamFullRequestReader }(), u = function () { function PDFNetworkStreamRangeRequestReader(e, t, r) { _classCallCheck(this, PDFNetworkStreamRangeRequestReader), this._manager = e; var n = { "onDone": this._onDone.bind(this), "onError": this._onError.bind(this), "onProgress": this._onProgress.bind(this) }; this._url = e.url, this._requestId = e.requestRange(t, r, n), this._requests = [], this._queuedChunk = null, this._done = !1, this._storedError = void 0, this.onProgress = null, this.onClosed = null } return _createClass(PDFNetworkStreamRangeRequestReader, [{ "key": "_close", "value": function _close() { var e; null === (e = this.onClosed) || void 0 === e || e.call(this, this) } }, { "key": "_onDone", "value": function _onDone(e) { var t = e.chunk; this._requests.length > 0 ? this._requests.shift().resolve({ "value": t, "done": !1 }) : this._queuedChunk = t; this._done = !0; var r, n = _createForOfIteratorHelper(this._requests); try { for (n.s(); !(r = n.n()).done;) { r.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { n.e(e) } finally { n.f() } this._requests.length = 0, this._close() } }, { "key": "_onError", "value": function _onError(e) { this._storedError = (0, i.createResponseStatusError)(e, this._url); var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.reject(this._storedError) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0, this._queuedChunk = null } }, { "key": "_onProgress", "value": function _onProgress(e) { var t; this.isStreamingSupported || (null === (t = this.onProgress) || void 0 === t || t.call(this, { "loaded": e.loaded })) } }, { "key": "isStreamingSupported", "get": function get() { return !1 } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee2() { var e, t; return n.default.wrap(function _callee2$(r) { for (; ;)switch (r.prev = r.next) { case 0: if (!this._storedError) { r.next = 2; break } throw this._storedError; case 2: if (null === this._queuedChunk) { r.next = 6; break } return e = this._queuedChunk, this._queuedChunk = null, r.abrupt("return", { "value": e, "done": !1 }); case 6: if (!this._done) { r.next = 8; break } return r.abrupt("return", { "value": void 0, "done": !0 }); case 8: return t = (0, o.createPromiseCapability)(), this._requests.push(t), r.abrupt("return", t.promise); case 11: case "end": return r.stop() } }, _callee2, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._done = !0; var t, r = _createForOfIteratorHelper(this._requests); try { for (r.s(); !(t = r.n()).done;) { t.value.resolve({ "value": void 0, "done": !0 }) } } catch (e) { r.e(e) } finally { r.f() } this._requests.length = 0, this._manager.isPendingRequest(this._requestId) && this._manager.abortRequest(this._requestId), this._close() } }]), PDFNetworkStreamRangeRequestReader }() }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }), t.PDFFetchStream = void 0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(2)), o = r(4), i = r(154); function asyncGeneratorStep(e, t, r, n, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void r(e) } s.done ? t(c) : Promise.resolve(c).then(n, o) } function _asyncToGenerator(e) { return function () { var t = this, r = arguments; return new Promise(function (n, o) { var i = e.apply(t, r); function _next(e) { asyncGeneratorStep(i, n, o, _next, _throw, "next", e) } function _throw(e) { asyncGeneratorStep(i, n, o, _next, _throw, "throw", e) } _next(void 0) }) } } function _createForOfIteratorHelper(t, r) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function _unsupportedIterableToArray(e, t) { if (!e) return; if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return _arrayLikeToArray(e, t) }(t)) || r && t && "number" == typeof t.length) { o && (t = o); var i = 0, a = function F() { }; return { "s": a, "n": function n() { return i >= t.length ? { "done": !0 } : { "done": !1, "value": t[i++] } }, "e": function e(t) { throw t }, "f": a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var c, u = !0, l = !1; return { "s": function s() { o = o.call(t) }, "n": function n() { var e = o.next(); return u = e.done, e }, "e": function e(t) { l = !0, c = t }, "f": function f() { try { u || null == o.return || o.return() } finally { if (l) throw c } } } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function createFetchOptions(e, t, r) { return { "method": "GET", "headers": e, "signal": null == r ? void 0 : r.signal, "mode": "cors", "credentials": t ? "include" : "same-origin", "redirect": "follow" } } function createHeaders(e) { var t = new Headers; for (var r in e) { var n = e[r]; void 0 !== n && t.append(r, n) } return t } var a = function () { function PDFFetchStream(e) { _classCallCheck(this, PDFFetchStream), this.source = e, this.isHttp = /^https?:/i.test(e.url), this.httpHeaders = this.isHttp && e.httpHeaders || {}, this._fullRequestReader = null, this._rangeRequestReaders = [] } return _createClass(PDFFetchStream, [{ "key": "_progressiveDataLength", "get": function get() { var e, t; return null !== (e = null === (t = this._fullRequestReader) || void 0 === t ? void 0 : t._loaded) && void 0 !== e ? e : 0 } }, { "key": "getFullReader", "value": function getFullReader() { return (0, o.assert)(!this._fullRequestReader, "PDFFetchStream.getFullReader can only be called once."), this._fullRequestReader = new s(this), this._fullRequestReader } }, { "key": "getRangeReader", "value": function getRangeReader(e, t) { if (t <= this._progressiveDataLength) return null; var r = new c(this, e, t); return this._rangeRequestReaders.push(r), r } }, { "key": "cancelAllRequests", "value": function cancelAllRequests(e) { this._fullRequestReader && this._fullRequestReader.cancel(e); var t, r = _createForOfIteratorHelper(this._rangeRequestReaders.slice(0)); try { for (r.s(); !(t = r.n()).done;) { t.value.cancel(e) } } catch (e) { r.e(e) } finally { r.f() } } }]), PDFFetchStream }(); t.PDFFetchStream = a; var s = function () { function PDFFetchStreamReader(e) { var t = this; _classCallCheck(this, PDFFetchStreamReader), this._stream = e, this._reader = null, this._loaded = 0, this._filename = null; var r = e.source; this._withCredentials = r.withCredentials || !1, this._contentLength = r.length, this._headersCapability = (0, o.createPromiseCapability)(), this._disableRange = r.disableRange || !1, this._rangeChunkSize = r.rangeChunkSize, this._rangeChunkSize || this._disableRange || (this._disableRange = !0), "undefined" != typeof AbortController && (this._abortController = new AbortController), this._isStreamingSupported = !r.disableStream, this._isRangeSupported = !r.disableRange, this._headers = createHeaders(this._stream.httpHeaders); var n = r.url; fetch(n, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(function (e) { if (!(0, i.validateResponseStatus)(e.status)) throw (0, i.createResponseStatusError)(e.status, n); t._reader = e.body.getReader(), t._headersCapability.resolve(); var r = function getResponseHeader(t) { return e.headers.get(t) }, a = (0, i.validateRangeRequestCapabilities)({ "getResponseHeader": r, "isHttp": t._stream.isHttp, "rangeChunkSize": t._rangeChunkSize, "disableRange": t._disableRange }), s = a.allowRangeRequests, c = a.suggestedLength; t._isRangeSupported = s, t._contentLength = c || t._contentLength, t._filename = (0, i.extractFilenameFromHeader)(r), !t._isStreamingSupported && t._isRangeSupported && t.cancel(new o.AbortException("Streaming is disabled.")) }).catch(this._headersCapability.reject), this.onProgress = null } return _createClass(PDFFetchStreamReader, [{ "key": "headersReady", "get": function get() { return this._headersCapability.promise } }, { "key": "filename", "get": function get() { return this._filename } }, { "key": "contentLength", "get": function get() { return this._contentLength } }, { "key": "isRangeSupported", "get": function get() { return this._isRangeSupported } }, { "key": "isStreamingSupported", "get": function get() { return this._isStreamingSupported } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee() { var e, t, r, o; return n.default.wrap(function _callee$(n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, this._headersCapability.promise; case 2: return n.next = 4, this._reader.read(); case 4: if (e = n.sent, t = e.value, !(r = e.done)) { n.next = 9; break } return n.abrupt("return", { "value": t, "done": r }); case 9: return this._loaded += t.byteLength, this.onProgress && this.onProgress({ "loaded": this._loaded, "total": this._contentLength }), o = new Uint8Array(t).buffer, n.abrupt("return", { "value": o, "done": !1 }); case 13: case "end": return n.stop() } }, _callee, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._reader && this._reader.cancel(e), this._abortController && this._abortController.abort() } }]), PDFFetchStreamReader }(), c = function () { function PDFFetchStreamRangeReader(e, t, r) { var n = this; _classCallCheck(this, PDFFetchStreamRangeReader), this._stream = e, this._reader = null, this._loaded = 0; var a = e.source; this._withCredentials = a.withCredentials || !1, this._readCapability = (0, o.createPromiseCapability)(), this._isStreamingSupported = !a.disableStream, "undefined" != typeof AbortController && (this._abortController = new AbortController), this._headers = createHeaders(this._stream.httpHeaders), this._headers.append("Range", "bytes=".concat(t, "-").concat(r - 1)); var s = a.url; fetch(s, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(function (e) { if (!(0, i.validateResponseStatus)(e.status)) throw (0, i.createResponseStatusError)(e.status, s); n._readCapability.resolve(), n._reader = e.body.getReader() }).catch(this._readCapability.reject), this.onProgress = null } return _createClass(PDFFetchStreamRangeReader, [{ "key": "isStreamingSupported", "get": function get() { return this._isStreamingSupported } }, { "key": "read", "value": function () { var e = _asyncToGenerator(n.default.mark(function _callee2() { var e, t, r, o; return n.default.wrap(function _callee2$(n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, this._readCapability.promise; case 2: return n.next = 4, this._reader.read(); case 4: if (e = n.sent, t = e.value, !(r = e.done)) { n.next = 9; break } return n.abrupt("return", { "value": t, "done": r }); case 9: return this._loaded += t.byteLength, this.onProgress && this.onProgress({ "loaded": this._loaded }), o = new Uint8Array(t).buffer, n.abrupt("return", { "value": o, "done": !1 }); case 13: case "end": return n.stop() } }, _callee2, this) })); return function read() { return e.apply(this, arguments) } }() }, { "key": "cancel", "value": function cancel(e) { this._reader && this._reader.cancel(e), this._abortController && this._abortController.abort() } }]), PDFFetchStreamRangeReader }() }], __webpack_module_cache__ = {}; function __w_pdfjs_require__(e) { var t = __webpack_module_cache__[e]; if (void 0 !== t) return t.exports; var r = __webpack_module_cache__[e] = { "id": e, "loaded": !1, "exports": {} }; return __webpack_modules__[e].call(r.exports, r, r.exports, __w_pdfjs_require__), r.loaded = !0, r.exports } __w_pdfjs_require__.nmd = function (e) { return e.paths = [], e.children || (e.children = []), e }; var __webpack_exports__ = {}; return function () { "use strict"; var e = __webpack_exports__; Object.defineProperty(e, "__esModule", { "value": !0 }), Object.defineProperty(e, "AnnotationLayer", { "enumerable": !0, "get": function get() { return o.AnnotationLayer } }), Object.defineProperty(e, "AnnotationMode", { "enumerable": !0, "get": function get() { return r.AnnotationMode } }), Object.defineProperty(e, "CMapCompressionType", { "enumerable": !0, "get": function get() { return r.CMapCompressionType } }), Object.defineProperty(e, "GlobalWorkerOptions", { "enumerable": !0, "get": function get() { return i.GlobalWorkerOptions } }), Object.defineProperty(e, "InvalidPDFException", { "enumerable": !0, "get": function get() { return r.InvalidPDFException } }), Object.defineProperty(e, "LinkTarget", { "enumerable": !0, "get": function get() { return t.LinkTarget } }), Object.defineProperty(e, "LoopbackPort", { "enumerable": !0, "get": function get() { return n.LoopbackPort } }), Object.defineProperty(e, "MissingPDFException", { "enumerable": !0, "get": function get() { return r.MissingPDFException } }), Object.defineProperty(e, "OPS", { "enumerable": !0, "get": function get() { return r.OPS } }), Object.defineProperty(e, "PDFDataRangeTransport", { "enumerable": !0, "get": function get() { return n.PDFDataRangeTransport } }), Object.defineProperty(e, "PDFDateString", { "enumerable": !0, "get": function get() { return t.PDFDateString } }), Object.defineProperty(e, "PDFWorker", { "enumerable": !0, "get": function get() { return n.PDFWorker } }), Object.defineProperty(e, "PasswordResponses", { "enumerable": !0, "get": function get() { return r.PasswordResponses } }), Object.defineProperty(e, "PermissionFlag", { "enumerable": !0, "get": function get() { return r.PermissionFlag } }), Object.defineProperty(e, "PixelsPerInch", { "enumerable": !0, "get": function get() { return t.PixelsPerInch } }), Object.defineProperty(e, "RenderingCancelledException", { "enumerable": !0, "get": function get() { return t.RenderingCancelledException } }), Object.defineProperty(e, "SVGGraphics", { "enumerable": !0, "get": function get() { return c.SVGGraphics } }), Object.defineProperty(e, "UNSUPPORTED_FEATURES", { "enumerable": !0, "get": function get() { return r.UNSUPPORTED_FEATURES } }), Object.defineProperty(e, "UnexpectedResponseException", { "enumerable": !0, "get": function get() { return r.UnexpectedResponseException } }), Object.defineProperty(e, "Util", { "enumerable": !0, "get": function get() { return r.Util } }), Object.defineProperty(e, "VerbosityLevel", { "enumerable": !0, "get": function get() { return r.VerbosityLevel } }), Object.defineProperty(e, "XfaLayer", { "enumerable": !0, "get": function get() { return u.XfaLayer } }), Object.defineProperty(e, "addLinkAttributes", { "enumerable": !0, "get": function get() { return t.addLinkAttributes } }), Object.defineProperty(e, "build", { "enumerable": !0, "get": function get() { return n.build } }), Object.defineProperty(e, "createObjectURL", { "enumerable": !0, "get": function get() { return r.createObjectURL } }), Object.defineProperty(e, "createPromiseCapability", { "enumerable": !0, "get": function get() { return r.createPromiseCapability } }), Object.defineProperty(e, "createValidAbsoluteUrl", { "enumerable": !0, "get": function get() { return r.createValidAbsoluteUrl } }), Object.defineProperty(e, "getDocument", { "enumerable": !0, "get": function get() { return n.getDocument } }), Object.defineProperty(e, "getFilenameFromUrl", { "enumerable": !0, "get": function get() { return t.getFilenameFromUrl } }), Object.defineProperty(e, "getPdfFilenameFromUrl", { "enumerable": !0, "get": function get() { return t.getPdfFilenameFromUrl } }), Object.defineProperty(e, "getXfaPageViewport", { "enumerable": !0, "get": function get() { return t.getXfaPageViewport } }), Object.defineProperty(e, "isPdfFile", { "enumerable": !0, "get": function get() { return t.isPdfFile } }), Object.defineProperty(e, "loadScript", { "enumerable": !0, "get": function get() { return t.loadScript } }), Object.defineProperty(e, "removeNullCharacters", { "enumerable": !0, "get": function get() { return r.removeNullCharacters } }), Object.defineProperty(e, "renderTextLayer", { "enumerable": !0, "get": function get() { return s.renderTextLayer } }), Object.defineProperty(e, "shadow", { "enumerable": !0, "get": function get() { return r.shadow } }), Object.defineProperty(e, "version", { "enumerable": !0, "get": function get() { return n.version } }); var t = __w_pdfjs_require__(1), r = __w_pdfjs_require__(4), n = __w_pdfjs_require__(136), o = __w_pdfjs_require__(148), i = __w_pdfjs_require__(142), a = __w_pdfjs_require__(6), s = __w_pdfjs_require__(151), c = __w_pdfjs_require__(152), u = __w_pdfjs_require__(150); if (a.isNodeJS) { var l = __w_pdfjs_require__(153).PDFNodeStream; (0, n.setPDFNetworkStreamFactory)(function (e) { return new l(e) }) } else { var f = __w_pdfjs_require__(156).PDFNetworkStream, d = __w_pdfjs_require__(157).PDFFetchStream; (0, n.setPDFNetworkStreamFactory)(function (e) { return (0, t.isValidFetchUrl)(e.url) ? new d(e) : new f(e) }) } }(), __webpack_exports__ }() }) }).call(this, __webpack_require__(197).Buffer, __webpack_require__(32), __webpack_require__(14), __webpack_require__(42)(module)) }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return __decorate }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function __decorate(e, t, r, o) { var i, a = arguments.length, s = a < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, r) : o; if ("object" === ("undefined" == typeof Reflect ? "undefined" : n(Reflect)) && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, o); else for (var c = e.length - 1; c >= 0; c--)(i = e[c]) && (s = (a < 3 ? i(s) : a > 3 ? i(t, r, s) : i(t, r)) || s); return a > 3 && s && Object.defineProperty(t, r, s), s } }, function (e, t, r) { var n = r(72), o = r(34), i = "[object AsyncFunction]", a = "[object Function]", s = "[object GeneratorFunction]", c = "[object Proxy]"; e.exports = function isFunction(e) { if (!o(e)) return !1; var t = n(e); return t == a || t == s || t == i || t == c } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return n }), r.d(t, "b", function () { return o }), r.d(t, "d", function () { return i }), r.d(t, "c", function () { return a }); var n = 6e4, o = { "UNSENT": 0, "OPENED": 1, "HEADERS_RECEIVED": 2, "LOADING": 3, "DONE": 4 }, i = function setHeader(e, t) { var r = void 0; for (r in t) e.setRequestHeader(r, t[r]) }, a = function convertObjectUrlToBlob(e) { return new Promise(function (t, r) { var n = new XMLHttpRequest; n.open("GET", e, !0), n.responseType = "blob", n.onload = function (e) { 200 === this.status ? t(this.response) : r({ "status": this.status }) }, n.send() }) } }, function (e, t, r) { "use strict"; r.r(t), function (e) { r.d(t, "getSeed", function () { return getSeed }), r.d(t, "getToken", function () { return getToken }); var n = r(4), o = r(80), i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, a = function extendStatics(e, t) { return (a = Object.setPrototypeOf || { "__proto__": [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) })(e, t) }; function __extends(e, t) { function __() { this.constructor = e } a(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __) } var s = function __assign() { return (s = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; function __awaiter(e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) } function __generator(e, t) { var r, n, o, i, a = { "label": 0, "sent": function sent() { if (1 & o[0]) throw o[1]; return o[1] }, "trys": [], "ops": [] }; return i = { "next": verb(0), "throw": verb(1), "return": verb(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function verb(i) { return function (s) { return function step(i) { if (r) throw new TypeError("Generator is already executing."); for (; a;)try { if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o; switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return a.label++, { "value": i[1], "done": !1 }; case 5: a.label++, n = i[1], i = [0]; continue; case 7: i = a.ops.pop(), a.trys.pop(); continue; default: if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) { a = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { a.label = i[1]; break } if (6 === i[0] && a.label < o[1]) { a.label = o[1], o = i; break } if (o && a.label < o[2]) { a.label = o[2], a.ops.push(i); break } o[2] && a.ops.pop(), a.trys.pop(); continue }i = t.call(e, a) } catch (e) { i = [6, e], n = 0 } finally { r = o = 0 } if (5 & i[0]) throw i[1]; return { "value": i[0] ? i[1] : void 0, "done": !0 } }([i, s]) } } } function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === i(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : i(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : i(e) })(e) } var c, u = ""; function MakeQuerablePromise(e) { if (e.isResolved) return e; var t = !0, r = !1, n = !1, o = e.then(function (e) { return n = !0, t = !1, e }, function (e) { throw r = !0, t = !1, e }); return o.isFulfilled = function () { return n }, o.isPending = function () { return t }, o.isRejected = function () { return r }, o } function getH5Token(e, t) { var n = getChannel() || ""; try { window.wsbtrStorage = { "localized": !0, "app": n, "isoffline": function isOfflineMode() { var e = !1; try { e = !1 } catch (e) { } return e }() ? "1" : "0" }, window.wsbtr = r(130) } catch (e) { return void t(e) } e && e("function" == typeof wsbtr ? wsbtr : void 0) } function isWeb() { return "undefined" != typeof window } function getPlatform() { return "undefined" != typeof wx && "undefined" == typeof window ? "wx" : "undefined" != typeof my && "undefined" == typeof window ? "my" : "undefined" != typeof tt && "undefined" == typeof window ? "tt" : "undefined" != typeof swan && "undefined" == typeof window ? "swan" : "undefined" != typeof qq && "undefined" == typeof window ? "qq" : isWeb() ? function isMuapp() { var e = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : ""; return /muapp\//i.test(e) }() ? "muapp" : "h5" : "" } function getPlatformApp() { switch (getPlatform()) { case "wx": return wx; case "swan": return swan; case "my": return my; case "tt": return tt } } function setChannel(e) { u = e } function getChannel() { return u || function extractChannelFromUrl() { if (isWeb()) { var e = window.location.pathname.match(/^\/([0-9a-zA-Z])+\//g); return e && e.length > 0 ? e[0].replace(/\//g, "") : "" } return "" }() || "MOCK" } function miniappRequest(e) { var t = getPlatform(), r = function getPlatformRequest() { return "my" === getPlatform() ? my.canIUse("request") ? my.request : my.httpRequest : getPlatformApp().request }(); return new Promise(function (n, o) { var i = { "url": e.url || "", "method": e.method || "GET", "data": e.data || "", "header": s({ "Content-Type": c.urlencoded }, e.header), "timeout": e.timeout || 1e4, "success": function success(e) { "my" === t && (e.header = e.headers, e.statusCode = e.status), e.statusCode >= 200 && e.statusCode < 300 ? n(e.data) : o(new Error("status=" + e.statusCode)) }, "fail": function fail(e) { o(e) } }; (function rewriteHeader(e) { if ("my" === getPlatform() && (e.headers = { "content-type": c.myDefault }, e.header)) { for (var t in e.header) { var r = t.toLocaleLowerCase(); e.headers[r] = e.header[t] } delete e.header } })(i), r(i) }) } function setStorageSync(e, t) { var r = getPlatform(), n = getPlatformApp().setStorageSync; "function" == typeof n && ("my" === r ? n({ "key": e, "data": t }) : n(e, t)) } function getStorageSync(e) { var t = getPlatform(), r = getPlatformApp().getStorageSync; if ("function" == typeof r) { if ("my" === t) { var n = r({ "key": e }); return n && n.data || void 0 } return r(e) || void 0 } } function shiftEncode(e, t) { return void 0 === e && (e = ""), void 0 === t && (t = 1), e.split("").map(function (e) { var r = e.charCodeAt(0); if (r >= 97 && r <= 122) { var n = r + t; return n > 122 ? n -= 26 : n < 97 && (n = 26 + n), String.fromCharCode(n) } return e }).join("") } function byte2Binary(e) { return function padLeftUpTo(e, t, r) { void 0 === r && (r = "0"); var n = e.length; return n < t ? "" + new Array(t - n + 1).join(r) + e : n > t ? e.substr(0, t) : e }(e.toString(2), 8) } function generateCode(e, t) { for (var r = "", n = e + t, o = e; o < n; o++)r += String.fromCharCode(o); return r } !function (e) { e.urlencoded = "application/x-www-form-urlencoded;charset=UTF-8", e.plain = "text/plain;charset=UTF-8", e.myDefault = "application/json" }(c || (c = {})); var l, f = (l = "", l += generateCode(65, 26), l += generateCode(97, 26), (l += generateCode(48, 10)) + "-_"); function parseErr(e) { return "string" == typeof e ? e : e && e.msg && "string" == typeof e.msg ? e.msg : e && e.errMsg && "string" == typeof e.errMsg ? e.errMsg : e && e.errorMsg && "string" == typeof e.errorMsg ? e.errorMsg : "" } var d = function () { return function Storage() { } }(), p = function (e) { function MemoryStorage() { var t = null !== e && e.apply(this, arguments) || this; return t.cache = {}, t } return __extends(MemoryStorage, e), MemoryStorage.prototype.set = function (e, t) { this.cache[e] = t }, MemoryStorage.prototype.get = function (e) { return this.cache[e] || "" }, MemoryStorage.isSupport = !0, MemoryStorage }(d); function generateCode$1(e, t) { for (var r = "", n = e + t, o = e; o < n; o++)r += String.fromCharCode(o); return r } var h, m = function () { var e = ""; return e += generateCode$1(65, 26), e += generateCode$1(97, 26), (e += generateCode$1(48, 10)) + "-_" }(); function encode$1(e) { for (var t = e.map(byte2Binary$1).join(""), r = [], n = (t += new Array(6 - t.length % 6 + 1).join("0")).length, o = 0; o < n; o += 6) { var i = t.substr(o, 6); r.push(m.charAt(parseInt(i, 2))) } return r.join("") } function byte2Hex(e) { return padLeftUpTo$1(e.toString(16).toLowerCase(), 2) } function byte2Binary$1(e) { return padLeftUpTo$1(e.toString(2), 8) } function rotateLeft(e, t) { if (t >= 8) throw new Error("n is out of range"); var r = byte2Binary$1(e); return parseInt("" + r.substr(t) + r.substr(0, t), 2) } function swapByte(e, t, r) { var n = e[t]; e[t] = e[r], e[r] = n } function equalSplitByN(e, t) { var r = e.length; if (r % t > 0) throw new Error("target must be N times"); for (var n = [], o = r / t, i = 0; i < r; i += o)n.push(e.substr(i, o)); return n } function padLeftUpTo$1(e, t, r) { void 0 === r && (r = "0"); var n = e.length; return n < t ? "" + new Array(t - n + 1).join(r) + e : n > t ? e.substr(0, t) : e } function shiftEncode$1(e, t) { return void 0 === e && (e = ""), void 0 === t && (t = 1), e.split("").map(function (e) { var r = e.charCodeAt(0); if (r >= 97 && r <= 122) { var n = r + t; return n > 122 ? n -= 26 : n < 97 && (n = 26 + n), String.fromCharCode(n) } return e }).join("") } !function (e) { e.ali = "ALI", e.par = "PAR", e.sef = "SEF" }(h || (h = {})); var g = function (e) { function LocalStorage() { return null !== e && e.apply(this, arguments) || this } return __extends(LocalStorage, e), LocalStorage.prototype.set = function (e, t) { setStorageSync(e = shiftEncode$1(e, 4), t = shiftEncode$1(t, 4)) }, LocalStorage.prototype.get = function (e) { return shiftEncode$1(getStorageSync(e = shiftEncode$1(e, 4)) || "", -4) }, LocalStorage.isSupport = !0, LocalStorage }(d), v = function () { function StrongStorage() { var e = this; this.adapters = [], [p, g].forEach(function (t) { t.isSupport && e.adapters.push(new t) }) } return StrongStorage.prototype.set = function (e, t) { this.adapters.forEach(function (r) { return r.set(e, t) }) }, StrongStorage.prototype.get = function (e) { var t = this.adapters.map(function (t) { return t.get(e) }).filter(function (e) { return !!e }), r = t.length ? t[0] : ""; return this.set(e, r), r }, StrongStorage }(), y = function () { function Timestamp(e) { this.decimal = e || Date.now(), this.bytes = this.getByteArray() } return Timestamp.prototype.getByteArray = function () { var e = [], t = this.decimal.toString(2); t = padLeftUpTo$1(t, 64, "0"); for (var r = 0; r < 8; r++)e.push(parseInt(t.substr(8 * r, 8), 2)); return e }, Object.defineProperty(Timestamp.prototype, "byteArray", { "get": function get() { return this.bytes }, "enumerable": !1, "configurable": !0 }), Timestamp }(), b = 16; function randomHex() { return (16 * Math.random() | 0).toString(16) } function formByte(e, t) { return e = e || randomHex(), t = t || randomHex(), parseInt("" + e + t, 16) } var S = function () { function UUID(e) { if (this.byteArray = e, !this.byteArray) { for (var t = new Array(b), r = 0; r < b; r++)t[r] = formByte(); t[6] = formByte("4"), this.byteArray = t } } return Object.defineProperty(UUID.prototype, "bytes", { "get": function get() { return this.byteArray }, "enumerable": !1, "configurable": !0 }), UUID.prototype.toString = function () { return this.byteArray.map(byte2Hex).join("") }, UUID.toByteArrayFrom = function (e) { if (32 !== (e = e.replace(/-/g, "")).length) throw new Error("illegal uuid"); for (var t = [], r = 0; r < 32; r += 2)t.push(parseInt(e.charAt(r) + e.charAt(r + 1), 16)); return t }, UUID }(), _ = 28; function encode$2(e) { for (var t = e.bytes.slice(0).reverse().map(function (e) { return rotateLeft(e, 4) }).map(byte2Binary$1), r = t.length, n = [], o = 0; o < r; o += 4)n.push(parseInt(t.slice(o, o + 4).join(""), 2)); return n.map(function (e) { return padLeftUpTo$1(e.toString(36), 7, "0") }).map(function (e) { return e.toLowerCase() }).join("") } function decode(e) { if (e.length !== _) throw new Error("illegal device print"); return Array.prototype.concat.apply([], equalSplitByN(e, 4).map(function (e) { return parseInt(e, 36) }).map(function (e) { return padLeftUpTo$1(e.toString(2), 32, "0") }).map(function (e) { return equalSplitByN(e, 4) })).map(function (e) { return parseInt(e, 2) }).map(function (e) { return rotateLeft(e, 4) }).reverse() } var w = function () { function DevicePrint(e) { void 0 === e && (e = ""), this.ss = new v, this.id = this.getId(e), this.ss.set("wasd", encode$2(this.id)) } return DevicePrint.prototype.getId = function (e) { void 0 === e && (e = ""); var t = null, r = this.ss.get("wasd"); if ((t = r && r.length === _ ? r : e) && t.length === _) { var n = null; try { n = decode(t) } catch (e) { } if (n && 16 === n.length) return new S(n) } return new S }, Object.defineProperty(DevicePrint.prototype, "dp", { "get": function get() { return encode$2(this.id) }, "enumerable": !1, "configurable": !0 }), Object.defineProperty(DevicePrint.prototype, "bytes", { "get": function get() { return this.id.bytes }, "enumerable": !1, "configurable": !0 }), DevicePrint }(), A = function toHexVersion(e) { var t = e.split(".").map(function (e) { return parseInt(e, 10) }); if (t.every(function (e) { return e < 16 })) return t.map(function (e) { return e.toString(16).toUpperCase() }).join(""); throw new Error("version exceeded") }("1.4.1"), C = function () { function Token(e) { void 0 === e && (e = ""), this.seq = 0, this.dp = new w(e), this.ts = new y } return Token.prototype.transformTimestamp = function () { var e = this.ts.byteArray.slice(0); return swapByte(e, 0, 7), swapByte(e, 2, 5), swapByte(e, 4, 6), encode$1(e) }, Token.prototype.transformUUID = function () { var e = this.ts.decimal % 8; return encode$1(this.dp.bytes.map(function (t) { return rotateLeft(t, e) })) }, Token.prototype.getSeq = function () { return this.seq > 99 && (this.seq = 0), this.seq < 10 ? "0" + this.seq++ : "" + this.seq++ }, Token.prototype.toString = function (e) { void 0 === e && (e = !1), e || (this.ts = new y); var t = function zip(e, t) { for (var r = [], n = e.length + t.length, o = 0; o < n; o++)r.push("" + (e[o] || "") + (t[o] || "")); return r.join("") }(this.transformUUID(), this.transformTimestamp()), r = function checksum(e) { return byte2Hex(encode$1(e).split("").map(function (e) { return e.charCodeAt(0) }).reduce(function (e, t) { return e ^ t }, 0)) }(this.dp.bytes), n = (36 * Math.random() | 0).toString(36); return "" + t + r + 5 + A + n + this.getSeq() }, Token }(), T = +("" + String.fromCharCode(51) + 1 + 255..toString(2).length); function getAppType() { switch (getPlatform()) { case "wx": return "weapp"; case "swan": return "swan"; case "my": return "myapp"; case "tt": return "ttapp" }return "" } function getCurrentEnv() { var e = ""; try { e = "prod" } catch (t) { e = "prod" } return e } var P = function isEmpty(e) { return null == e || (function isArray(e) { return Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e) }(e) ? 0 === e.length : !("" + e).trim()) }, k = function isMobilePhoneNumber(e) { if (P(e)) return !1; return !!/^1\d{10}$/.test(e) }, E = function isBankcardNumber(e) { if (P(e)) return !1; return !!/^[0-9]{16,19}$/.test(e) }, x = function isIdentityNumber(e) { return !P(e) && !!function getIdCardInfo(e) { var t = { "isTrue": !1, "year": null, "month": null, "day": null, "isMale": !1, "isFemale": !1 }; if (!e && 15 !== e.length && 18 !== e.length) return t.isTrue = !1, t; if (15 === e.length) { var r = e.substring(6, 8), n = e.substring(8, 10), o = e.substring(10, 12), i = e.substring(14, 15); return (a = new Date(r, parseFloat(n) - 1, parseFloat(o))).getFullYear() !== parseFloat(r) || a.getMonth() !== parseFloat(n) - 1 || a.getDate() !== parseFloat(o) ? t.isTrue = !1 : (t.isTrue = !0, t.year = a.getFullYear(), t.month = a.getMonth() + 1, t.day = a.getDate(), i % 2 == 0 ? (t.isFemale = !0, t.isMale = !1) : (t.isFemale = !1, t.isMale = !0)), t } if (18 === e.length) { var a; if (r = e.substring(6, 10), n = e.substring(10, 12), o = e.substring(12, 14), i = e.substring(14, 17), (a = new Date(r, parseFloat(n) - 1, parseFloat(o))).getFullYear() !== parseFloat(r) || a.getMonth() !== parseFloat(n) - 1 || a.getDate() !== parseFloat(o)) return t.isTrue = !1, t; var s = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1], c = 0, u = e.split(""); "x" === u[17].toLowerCase() && (u[17] = "10"); for (var l = 0; l < 17; l++)c += s[l] * u[l]; var f = c % 11; return u[17] !== ["1", "0", "10", "9", "8", "7", "6", "5", "4", "3", "2"][f] ? (t.isTrue = !1, t) : (t.isTrue = !0, t.year = a.getFullYear(), t.month = a.getMonth() + 1, t.day = a.getDate(), i % 2 == 0 ? (t.isFemale = !0, t.isMale = !1) : (t.isFemale = !1, t.isMale = !0), t) } return t }(e).isTrue }; function checkRes(e) { return e && (void 0 === e.errMsg || "string" == typeof e.errMsg && /:ok/.test(e.errMsg.toLowerCase())) } function standardGetInfo(e, t) { return void 0 === t && (t = {}), new Promise(function (r, n) { wx[e](s({ "success": function success(e) { checkRes(e) ? r(e) : n("获取失败") }, "fail": function fail(e) { n(e) } }, t)) }) } function standardGetInstrumentInfo(e, t, r) { return new Promise(function (n, o) { var i = !1; wx[e]({ "success": function success() { wx[t](function (e) { i || (i = !0, checkRes(e) ? n(e) : o("获取失败"), wx[r]()) }) }, "fail": function fail(e) { o(e) } }) }) } function realCollectWxMiniappInfo(e, t) { return __awaiter(this, void 0, void 0, function () { var r, n, o, i, a, s, c, u, l, f, d, p, h, m, g, v, y, b, S, _, w, A, C, T, P, O, I, R, M, B, D, j, F, L, N, H, U, W, G, V, q, z, X; return __generator(this, function (Q) { switch (Q.label) { case 0: r = { "app_id": getChannel(), "token": e, "type": "das_miniapp_status", "phone_marker": "", "phone_model": "", "os": "", "os_version": "", "font_size": "", "language": "", "ssid": "", "bssid": "", "battery_level": "", "is_charging": !1, "clipboard_has_content": !1, "clipboard_has_idno": !1, "clipboard_has_mobile": !1, "clipboard_has_cardno": !1, "is_connected": !1, "internet_type": "", "screen_brightness": "", "accelerometer_x": "", "accelerometer_y": "", "accelerometer_z": "", "compass_direction": "", "compass_accuracy": "", "device_alpha": "", "device_beta": "", "device_gamma": "", "gyroscope_x": "", "gyroscope_y": "", "gyroscope_z": "", "latitude": "", "longitude": "", "loc_type": "wgs84", "speed": "", "accuracy": "", "altitude": "", "vertical_accuracy": "", "horizontal_accuracy": "" }, n = 11, o = !1, i = setTimeout(function () { o || (o = !0, t(r)) }, 2e4), a = function checkAllInfoUpdated() { o || 0 === (n -= 1) && (i && clearTimeout(i), t(r)) }, s = function roundedNum(e) { var t = e; try { "number" == typeof e && (t = e.toFixed(6)) } catch (r) { t = e } return t }, Q.label = 1; case 1: return Q.trys.push([1, 3, 4, 5]), [4, standardGetInfo("getSystemInfo")]; case 2: return v = Q.sent(), c = v.brand, u = v.model, l = v.platform, f = v.system, d = v.fontSizeSetting, p = v.language, r.phone_marker = c, r.phone_model = u, r.os = l, r.os_version = f, r.font_size = d, r.language = p, [3, 5]; case 3: return Q.sent(), [3, 5]; case 4: return a(), [7]; case 5: return Q.trys.push([5, 7, 8, 9]), [4, function getWifiInfo() { return new Promise(function (e, t) { wx.startWifi({ "success": function success() { wx.getConnectedWifi({ "success": function success(r) { checkRes(r) ? e(r.wifi) : t("获取失败") }, "fail": function fail(e) { t(e) } }) }, "fail": function fail(e) { t(e) } }) }) }()]; case 6: return h = Q.sent(), m = h.SSID, g = h.BSSID, r.ssid = m, r.bssid = g, [3, 9]; case 7: return Q.sent(), [3, 9]; case 8: return a(), [7]; case 9: return Q.trys.push([9, 11, 12, 13]), [4, standardGetInfo("getBatteryInfo")]; case 10: return v = Q.sent(), y = v.isCharging, b = v.level, r.is_charging = y, r.battery_level = "number" == typeof b ? Math.floor(b) : b, [3, 13]; case 11: return Q.sent(), [3, 13]; case 12: return a(), [7]; case 13: return Q.trys.push([13, 15, 16, 17]), [4, standardGetInfo("getClipboardData")]; case 14: return S = Q.sent(), _ = S.data, r.clipboard_has_content = "string" == typeof _ && !!_, r.clipboard_has_idno = x(_), r.clipboard_has_mobile = k(_), r.clipboard_has_cardno = E(_), [3, 17]; case 15: return Q.sent(), [3, 17]; case 16: return a(), [7]; case 17: return Q.trys.push([17, 19, 20, 21]), [4, standardGetInfo("getNetworkType")]; case 18: return w = Q.sent(), A = w.networkType, r.is_connected = "none" !== A, r.internet_type = A, [3, 21]; case 19: return Q.sent(), [3, 21]; case 20: return a(), [7]; case 21: return Q.trys.push([21, 23, 24, 25]), [4, standardGetInfo("getScreenBrightness")]; case 22: return C = Q.sent(), T = C.value, r.screen_brightness = s(T), [3, 25]; case 23: return Q.sent(), [3, 25]; case 24: return a(), [7]; case 25: return Q.trys.push([25, 27, 28, 29]), [4, standardGetInstrumentInfo("startAccelerometer", "onAccelerometerChange", "stopAccelerometer")]; case 26: return P = Q.sent(), F = P.x, L = P.y, N = P.z, r.accelerometer_x = s(F), r.accelerometer_y = s(L), r.accelerometer_z = s(N), [3, 29]; case 27: return Q.sent(), [3, 29]; case 28: return a(), [7]; case 29: return Q.trys.push([29, 31, 32, 33]), [4, standardGetInstrumentInfo("startCompass", "onCompassChange", "stopCompass")]; case 30: return O = Q.sent(), I = O.direction, V = O.accuracy, r.compass_direction = s(I), r.compass_accuracy = s(V), [3, 33]; case 31: return Q.sent(), [3, 33]; case 32: return a(), [7]; case 33: return Q.trys.push([33, 35, 36, 37]), [4, standardGetInstrumentInfo("startDeviceMotionListening", "onDeviceMotionChange", "stopDeviceMotionListening")]; case 34: return R = Q.sent(), M = R.alpha, B = R.beta, D = R.gamma, r.device_alpha = s(M), r.device_beta = s(B), r.device_gamma = s(D), [3, 37]; case 35: return Q.sent(), [3, 37]; case 36: return a(), [7]; case 37: return Q.trys.push([37, 39, 40, 41]), [4, standardGetInstrumentInfo("startGyroscope", "onGyroscopeChange", "stopGyroscope")]; case 38: return j = Q.sent(), F = j.x, L = j.y, N = j.z, r.gyroscope_x = s(F), r.gyroscope_y = s(L), r.gyroscope_z = s(N), [3, 41]; case 39: return Q.sent(), [3, 41]; case 40: return a(), [7]; case 41: return Q.trys.push([41, 43, 44, 45]), [4, standardGetInfo("getLocation", { "altitude": !0 })]; case 42: return H = Q.sent(), U = H.latitude, W = H.longitude, G = H.speed, V = H.accuracy, q = H.altitude, z = H.verticalAccuracy, X = H.horizontalAccuracy, r.latitude = s(U), r.longitude = s(W), r.speed = s(G), r.accuracy = s(V), r.altitude = s(q), r.vertical_accuracy = s(z), r.horizontal_accuracy = s(X), [3, 45]; case 43: return Q.sent(), [3, 45]; case 44: return a(), [7]; case 45: return [2] } }) }) } var O = "lcts", I = !1; function getCommonInfo() { var e = (new Date).getTimezoneOffset() / 60; return { "app_id": function getAppID() { return getChannel() || "" }(), "app_type": getAppType(), "sdk_version": "1.4.1", "type": "das_miniapp_status", "time_zone": "" + e } } function sendDasData(e, t) { return __awaiter(this, void 0, void 0, function () { var r, n, o; return __generator(this, function (i) { switch (i.label) { case 0: r = function getApiHost(e) { var t = getCurrentEnv(); switch (t) { case "prd": case "prod": return "https://" + e + ("dfs" === e ? ".api" : "") + ".xll.com"; default: return "https://" + e + "-" + t + ".api.xll.cn" } }("dfs") + "/v2/miniapp/upload.json", n = [].concat(e).map(function (e) { return function normalize(e) { return Object.keys(e).forEach(function (t) { var r = e[t]; switch (_typeof(r)) { case "boolean": e[t] = r ? "1" : "0"; break; case "number": e[t] = r.toString(); break; case "object": r instanceof Array && (e[t] = JSON.stringify(r)) } }), e }(e) }), i.label = 1; case 1: return i.trys.push([1, 3, , 4]), [4, miniappRequest({ "url": r, "method": "POST", "header": { "Content-Type": c.plain }, "data": function xorEncrypt(e, t) { return encode$1(e.split("").map(function (e) { return e.charCodeAt(0) }).map(function (e) { return e ^ 255 & (t || T) })) }(JSON.stringify(n)) })]; case 2: return o = i.sent(), t(o), [3, 4]; case 3: return i.sent(), t({}), [3, 4]; case 4: return [2] } }) }) } function collect(e) { var t = e.token, r = void 0 === t ? "" : t, n = e.ua, o = void 0 === n ? "" : n, i = function sendNativeDeviceInfo(e) { sendDasData(e, function (e) { e && "0" === e.ret && function afterCollect() { I = !1; var e = (new Date).getTime(); setStorageSync(O, e.toString()) }() }) }; if (function shouldCollect() { if (I) return !1; var e = getStorageSync(O); if (void 0 === e || 0 === e.length) return I = !0, !0; var t = (new Date).getTime() - parseInt(e, 10) > 5e3; return t && (I = !0), t }()) if ("wx" === getPlatform()) !function collectWxMiniappInfo(e, t) { realCollectWxMiniappInfo(e, t) }(r, i); else { var a = getCommonInfo(), c = function getSystemInfo() { var e = getPlatformApp(); if (e) { var t = e.getSystemInfoSync && e.getSystemInfoSync(), r = t.model, n = t.pixelRatio, o = t.screenWidth, i = t.screenHeight, a = t.language, s = t.system; return { "resolution": o * n + "x" + i * n, "phone_model": r, "os": t.platform, "os_version": s, "langs": a, "font_size": "" + t.fontSizeSetting } } return {} }(), u = function getBatteryInfo() { var e = getPlatformApp(); if (e) { var t = e.getBatteryInfoSync(), r = t.level, n = t.isCharging; return { "battery_level": "number" == typeof r ? Math.floor(r) : r, "charging": n } } return {} }(); i(s(s(s({ "token": r, "ua": o }, a), c), u)) } } var R = function () { function Events(e) { void 0 !== e && e.callbacks ? this.callbacks = e.callbacks : this.callbacks = {} } return Events.prototype.on = function (e, t, r) { var n, o, i, a, s; if (!t) return this; for (e = e.split(Events.eventSplitter), n = this.callbacks; o = e.shift();)(i = (s = n[o]) ? s.tail : {}).next = a = {}, i.context = r, i.callback = t, n[o] = { "tail": a, "next": s ? s.next : i }; return this }, Events.prototype.once = function (e, t, r) { var n = this; return this.on(e, function wrapper() { for (var o = [], i = 0; i < arguments.length; i++)o[i] = arguments[i]; t.apply(n, o), n.off(e, wrapper, r) }, r), this }, Events.prototype.off = function (e, t, r) { var n, o, i, a, s, c; if (!(o = this.callbacks)) return this; if (!(e || t || r)) return delete this.callbacks, this; for (e = e ? e.split(Events.eventSplitter) : Object.keys(o); n = e.shift();)if (i = o[n], delete o[n], i && (t || r)) for (a = i.tail; (i = i.next) !== a;)s = i.callback, c = i.context, (t && s !== t || r && c !== r) && this.on(n, s, c); return this }, Events.prototype.trigger = function (e) { var t, r, n, o, i; if (!(n = this.callbacks)) return this; for (e = e.split(Events.eventSplitter), i = [].slice.call(arguments, 1); t = e.shift();)if (r = n[t]) for (o = r.tail; (r = r.next) !== o;)r.callback.apply(r.context || this, i); return this }, Events }(); R.eventSplitter = /\s+/; var M = new R; "object" === (void 0 === e ? "undefined" : _typeof(e)) ? void 0 === e.madpEventCenter && (e.madpEventCenter = M) : "object" === ("undefined" == typeof my ? "undefined" : _typeof(my)) && void 0 === my.madpEventCenter && (my.madpEventCenter = M); var B = "lowt", D = "web_ua", j = new v; function gotoWebView(t, r) { var n = this, o = !1, i = void 0; "object" === (void 0 === e ? "undefined" : _typeof(e)) && "object" === _typeof(e.madpEventCenter) && "function" == typeof e.madpEventCenter.on ? i = e : "object" === ("undefined" == typeof my ? "undefined" : _typeof(my)) && "object" === _typeof(my.madpEventCenter) && "function" == typeof my.madpEventCenter.on && (i = my), i && i.madpEventCenter.on("madp_webview_message_device", function (e) { return __awaiter(n, void 0, void 0, function () { var n, i, a, s, c, u; return __generator(this, function (l) { return "object" === _typeof(n = e && e.detail && e.detail.data) && n.isErr ? (o = !0, r("获取设备token超时！"), [2]) : (o || (i = "", a = "", Array.isArray(n) ? (s = n.length > 0 && n[0], i = s.seed || "", a = s.ua || "") : "object" === _typeof(n) && (i = n.seed || "", a = n.ua || ""), j.set(D, a), c = generateTokenAndCollect({ "seed": i, "ua": a }), u = (new Date).getTime(), j.set(B, u.toString()), "function" == typeof t && t(c)), [2]) }) }) }); var a = j.get("wasd") || "", s = getAppType(), c = function getStaticHtmlUrl() { var e = getCurrentEnv(); return ("prd" === e || "prod" === e ? "https://m-zl.xll.com" : "https://m-zl-" + e + ".xll.cn") + "/wsb/miniapp/startup.html?channel=" + getChannel() + "&ts=" + Date.now() }() + "?seed=" + a + "&apptype=" + s; setTimeout(function () { !function goToWebView(e) { var t = e.url, r = e.type, n = void 0 === r ? "default" : r, o = e.redirect, i = "navigateTo"; return void 0 !== o && o && (i = "redirectTo"), getPlatformApp()[i]({ "url": "/pages/web-view/index?jumpUrl=" + encodeURIComponent(t) + "&type=" + n }) }({ "url": c, "type": "device", "redirect": !1 }) }, 200) } function generateTokenAndCollect(e) { var t = e.seed, r = void 0 === t ? "" : t, n = e.ua, o = void 0 === n ? "" : n, i = new C(r).toString(); return collect({ "token": i, "ua": o }), i } var F, L, N = function () { return function Storage() { } }(), H = function (e) { function MemoryStorage() { var t = null !== e && e.apply(this, arguments) || this; return t.cache = {}, t } return __extends(MemoryStorage, e), MemoryStorage.prototype.set = function (e, t) { this.cache[e] = t }, MemoryStorage.prototype.get = function (e) { return this.cache[e] || "" }, MemoryStorage.isSupport = !0, MemoryStorage }(N), U = function (e) { function CookieStorage() { return null !== e && e.apply(this, arguments) || this } return __extends(CookieStorage, e), CookieStorage.prototype.set = function (e, t, r) { void 0 === r && (r = 365), e = shiftEncode(e, 1), t = shiftEncode(encodeURI(t), 1); var n = new Date; n.setDate(n.getDate() + r) }, CookieStorage.prototype.get = function (e) { var t = document.cookie; if (t.length > 0) { e = shiftEncode(e, 1); var r = t.indexOf(e + "="); if (-1 !== r) { var n = r + e.length + 1, o = t.indexOf(";", n); return -1 === o && (o = t.length), shiftEncode(decodeURI(t.substring(n, o)), -1) } } return "" }, CookieStorage.isSupport = window && "cookie" in window.document, CookieStorage }(N), W = function (e) { function LocalStorage() { return null !== e && e.apply(this, arguments) || this } return __extends(LocalStorage, e), LocalStorage.prototype.set = function (e, t) { e = shiftEncode(e, 4), t = shiftEncode(t, 4), window.localStorage.setItem(e, t) }, LocalStorage.prototype.get = function (e) { return e = shiftEncode(e, 4), shiftEncode(window.localStorage.getItem(e) || "", -4) }, LocalStorage.isSupport = window && "localStorage" in window, LocalStorage }(N), G = function (e) { function SessionStorage() { return null !== e && e.apply(this, arguments) || this } return __extends(SessionStorage, e), SessionStorage.prototype.set = function (e, t) { e = shiftEncode(e, 8), t = shiftEncode(t, 8), window.sessionStorage.setItem(e, t) }, SessionStorage.prototype.get = function (e) { return e = shiftEncode(e, 8), shiftEncode(window.sessionStorage.getItem(e) || "", -8) }, SessionStorage.isSupport = window && "sessionStorage" in window, SessionStorage }(N), V = function () { function StrongStorage() { var e = this; this.adapters = [], [H, U, W, G].forEach(function (t) { t.isSupport && e.adapters.push(new t) }) } return StrongStorage.prototype.set = function (e, t) { this.adapters.forEach(function (r) { return r.set(e, t) }) }, StrongStorage.prototype.get = function (e) { var t = this.adapters.map(function (t) { return t.get(e) }).filter(function (e) { return !!e })[0]; return this.set(e, t), t }, StrongStorage }(); function getToken(e, t) { if (void 0 === e && (e = !0), void 0 === t && (t = ""), !e) return new Promise(function (e, t) { e("") }); switch (setChannel(t), getPlatform()) { case "muapp": case "h5": return function h5Token() { if ("undefined" != typeof wsbtr && "function" == typeof wsbtr) return new Promise(function (e, t) { e(wsbtr()._t) }); if (F && !F.isRejected()) return F; var e = new Promise(function (e, t) { getH5Token(function (t) { e("function" == typeof t ? t()._t : "") }, function (e) { t(e) }) }); return F = MakeQuerablePromise(e) }(); case "wx": case "swan": case "my": case "tt": if (L && !L.isRejected()) return L; var r = new Promise(function (e, t) { !function miniappToken(e, t) { var r = j.get("wasd"); if (r) { var n = j.get(B) || "0"; if ((new Date).getTime() - parseInt(n, 10) > 864e5) gotoWebView(function (t) { "function" == typeof e && e({ "token": t }) }, function (e) { "function" == typeof t && t({ "errMsg": e }) }); else { var o = generateTokenAndCollect({ "seed": r, "ua": j.get(D) || "" }); "function" == typeof e && e({ "token": o }) } } else gotoWebView(function (t) { "function" == typeof e && e({ "token": t }) }, function (e) { "function" == typeof t && t({ "errMsg": e }) }) }(function (t) { var r = t.token; e(r) }, function (e) { t(e) }) }); return L = MakeQuerablePromise(r) }return new Promise(function (e, t) { return e("") }) } function getSeed(e, t) { return void 0 === e && (e = !0), void 0 === t && (t = ""), __awaiter(this, void 0, void 0, function () { return __generator(this, function (r) { return [2, new Promise(function (r, i) { e || r(""), setChannel(t); var a = getPlatform(); if ("muapp" === a) Object(n.navigateTo)({ "url": "muapp://honeybee/dataCollect?dataCodeList=1062&useCache=1", "success": function success(e) { var t = ""; try { t = JSON.parse(e.result)[1062] } catch (e) { i("app获取seed异常," + parseErr(e)) } r(t) }, "fail": function fail(e) { i("app获取seed失败," + parseErr(e)) } }); else { var s = function getStorage() { return "h5" === a ? (new V).get("wasd") : "wx" === a || "swan" === a || "tt" === a || "my" === a ? (new v).get("wasd") : "" }(); if (s) { var c = function encode(e) { for (var t = e.map(byte2Binary).join(""), r = [], n = (t += new Array(6 - t.length % 6 + 1).join("0")).length, o = 0; o < n; o += 6) { var i = t.substr(o, 6); r.push(f.charAt(parseInt(i, 2))) } return r.join("") }(decode(s)), u = Object(o.a)(c); r(u) } else i("获取seed失败") } })] }) }) } }.call(this, r(14)) }, function (e, t, r) { "use strict"; r.d(t, "j", function () { return setCursorsPosition }), r.d(t, "d", function () { return genRandStr }), r.d(t, "l", function () { return uuid }), r.d(t, "g", function () { return initTestEnv }), r.d(t, "h", function () { return isTest }), r.d(t, "f", function () { return handleTouchScroll }), r.d(t, "a", function () { return s }), r.d(t, "i", function () { return preventDefaultWhenPassiveUnSupport }), r.d(t, "k", function () { return trimValue }), r.d(t, "c", function () { return formatValueByGapStep }), r.d(t, "b", function () { return formatValueByGapRule }), r.d(t, "e", function () { return getCursorsPosition }); var n = r(3), o = (r(28), function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }()); var i = n.default.getEnv(); function uuid() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 8, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 16, r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), n = [], o = 0; if (t = t || r.length, e) for (o = 0; o < e; o++)n[o] = r[0 | Math.random() * t]; else { var i = void 0; for (n[8] = n[13] = n[18] = n[23] = "-", n[14] = "4", o = 0; o < 36; o++)n[o] || (i = 0 | 16 * Math.random(), n[o] = r[19 === o ? 3 & i | 8 : i]) } return n.join("") } function initTestEnv() { 0 } function isTest() { return !1 } var a = 0; function handleTouchScroll(e) { i === n.default.ENV_TYPE.WEB && (e ? (a = function getScrollTop() { return document.scrollingElement ? document.scrollingElement.scrollTop : window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 }(), document.body.setAttribute("style", "position: fixed; width: 100%;"), document.body.setAttribute("style", "position: fixed; width: 100%; top: " + -a + "px;")) : (document.body.setAttribute("style", ""), function setScrollTop(e) { document.scrollingElement ? document.scrollingElement.scrollTop = e : (document.documentElement.scrollTop = e, document.body.scrollTop = e) }(a))) } function preventDefaultWhenPassiveUnSupport(e) { (function checkPassiveIsSupport() { var e = void 0, t = !1; return function isSupportPassiveClosure() { if (t) return e; try { var r = Object.defineProperty({}, "passive", { "get": function get() { e = !0 } }), o = n.default.getEnv() === n.default.ENV_TYPE.WEB; o && window.addEventListener("test", null, r), t = !0, o && window.removeEventListener("test", null, r) } catch (e) { console.log(e) } return e } })()() || e && e.preventDefault() } function trimValue(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " "; e = void 0 === e ? "" : e; var r = new RegExp(t, "g"); return e = e.toString().replace(r, "") } function formatValueByGapStep(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "right", o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, i = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1, a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : ""; if (0 === t.length) return { "value": t, "range": o }; var s = t && t.split(""), c = o, u = ""; if ("right" === n) { for (var l = s.length - 1, f = 0; l >= 0; l--, f++) { var d = s[l]; u = f > 0 && f % e == 0 ? d + r + u : "" + d + u } 1 === i ? a.length - u.length == -2 && (c = o + 1) : (a.length - u.length == 2 && (c = o - 1), c <= 0 && (c = 0)) } else { s.some(function (t, n) { u = n > 0 && n % e == 0 ? u + r + t : "" + u + t }), c = void 0 !== o ? 0 === o ? 0 : o + (o % (e + 1) == 0 ? 1 * i : 0) : u.length } return { "value": u, "range": c } } function formatValueByGapRule(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : " ", n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1, i = t ? t.split("") : [], a = "", s = []; e.split("|").some(function (e, t) { s[t] = +e + (s[t - 1] ? +s[t - 1] : 0) }); var c = 0; i.some(function (e, t) { t > s[s.length - 1] - 1 || (t > 0 && t === s[c] ? (a = a + r + e, c++) : a = "" + a + e) }); var u = 0; return s.some(function (e, t) { n === +e + 1 + t && (u = 1 * o) }), n = void 0 !== n ? 0 === n ? 0 : n + u : a.length, { "value": a, "range": n } } function getCursorsPosition(e) { if (!e) return 0; var t = 0; if (document.selection) { e.focus(); var r = document.selection.createRange(); r.moveStart("character", -e.value.length), t = r.text.length } else (e.selectionStart || "0" === e.selectionStart) && (t = e.selectionStart); return t } var s = function () { function Timing() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Timing), this.start = void 0 } return o(Timing, [{ "key": "record", "value": function record() { if (this.start) return ((performance.now() - this.start) / 1e3).toFixed(2); this.start = performance.now() } }, { "key": "reset", "value": function reset() { this.start = void 0 } }]), Timing }(), c = null; function setCursorsPosition(e, t) { e && (c && clearTimeout(c), c = setTimeout(function () { if (e.setSelectionRange) e.focus(), e.setSelectionRange(t, t); else if (e.createTextRange) { var r = e.createTextRange(); r.collapse(!0), r.moveEnd("character", t), r.moveStart("character", t), r.select() } }, 0)) } function genRandStr(e) { for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), r = t[Math.ceil(51 * Math.random())], n = 1; n < e; n++)r += t[Math.ceil(61 * Math.random())]; return r } }, function (e, t, r) { "use strict"; var n = r(81), o = r.n(n); t.a = function omit(e, t) { for (var r = o()({}, e), n = 0; n < t.length; n++)delete r[t[n]]; return r } }, function (e, t, r) { "use strict"; r.d(t, "i", function () { return setStorage }), r.d(t, "j", function () { return setStorageSync }), r.d(t, "c", function () { return getStorage }), r.d(t, "f", function () { return getStorageSync }), r.d(t, "d", function () { return getStorageInfo }), r.d(t, "e", function () { return getStorageInfoSync }), r.d(t, "g", function () { return removeStorage }), r.d(t, "h", function () { return removeStorageSync }), r.d(t, "a", function () { return clearStorage }), r.d(t, "b", function () { return clearStorage }); var n = r(0), o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function setStorage(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "setStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.key, i = e.data, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "setStorage:ok" }; return "string" != typeof o ? (u.errMsg = Object(n.f)({ "name": "setStorage", "para": "key", "correct": "String", "wrong": o }), console.error(u.errMsg), "function" == typeof s && s(u), "function" == typeof c && c(u), Promise.reject(u)) : (setStorageSync(o, i), "function" == typeof a && a(u), "function" == typeof c && c(u), Promise.resolve(u)) } function setStorageSync(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""; if ("string" == typeof e) { var r = {}; r = "symbol" === (void 0 === t ? "undefined" : o(t)) ? { "data": "" } : { "data": t }, localStorage.setItem(e, JSON.stringify(r)) } else console.error(Object(n.f)({ "name": "setStorage", "correct": "String", "wrong": e })) } function getStorage(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "getStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.key, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "getStorage:ok" }; if ("string" != typeof o) return c.errMsg = Object(n.f)({ "name": "getStorage", "para": "key", "correct": "String", "wrong": o }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c); var u = getItem(o), l = u.result, f = u.data; return l ? (c.data = f, "function" == typeof i && i(c), "function" == typeof s && s(c), Promise.resolve(c)) : (c.errMsg = "getStorage:fail data not found", "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) } function getStorageSync(e) { if ("string" == typeof e) { var t = getItem(e); return t.result ? t.data : "" } console.error(Object(n.f)({ "name": "getStorage", "correct": "String", "wrong": e })) } function getItem(e) { var t = void 0; try { t = JSON.parse(localStorage.getItem(e)) } catch (e) { } return t && "object" === (void 0 === t ? "undefined" : o(t)) && t.hasOwnProperty("data") ? { "result": !0, "data": t.data } : { "result": !1 } } function getStorageInfo() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.complete, n = { "errMsg": "getStorageInfo:ok" }, o = getStorageInfoSync(); return Object.assign(n, o), t && t(n), r && r(n), Promise.resolve(n) } function getStorageInfoSync() { var e = {}; return e.keys = Object.keys(localStorage), e.limitSize = null, e.currentSize = null, e } function removeStorage(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "removeStorage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.key, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "removeStorage:ok" }; return "string" != typeof o ? (c.errMsg = Object(n.f)({ "name": "removeStorage", "para": "key", "correct": "String", "wrong": o }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) : (removeStorageSync(o), i && i(c), s && s(c), Promise.resolve(c)) } function removeStorageSync(e) { "string" == typeof e ? localStorage.removeItem(e) : console.error(Object(n.f)({ "name": "removeStorage", "correct": "String", "wrong": e })) } function clearStorage() { localStorage.clear() } }, , function (e, t, r) { "use strict"; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : n(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : n(e) })(e) } t.__assign = function () { return t.__assign = Object.assign || function __assign(e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }, t.__assign.apply(this, arguments) }, t.__awaiter = function __awaiter(e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function fulfilled(e) { try { step(n.next(e)) } catch (e) { i(e) } } function rejected(e) { try { step(n.throw(e)) } catch (e) { i(e) } } function step(e) { e.done ? o(e.value) : function adopt(e) { return e instanceof r ? e : new r(function (t) { t(e) }) }(e.value).then(fulfilled, rejected) } step((n = n.apply(e, t || [])).next()) }) }, t.__generator = function __generator(e, t) { var r, n, o, i, a = { "label": 0, "sent": function sent() { if (1 & o[0]) throw o[1]; return o[1] }, "trys": [], "ops": [] }; return i = { "next": verb(0), "throw": verb(1), "return": verb(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function verb(i) { return function (s) { return function step(i) { if (r) throw new TypeError("Generator is already executing."); for (; a;)try { if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o; switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return a.label++, { "value": i[1], "done": !1 }; case 5: a.label++, n = i[1], i = [0]; continue; case 7: i = a.ops.pop(), a.trys.pop(); continue; default: if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) { a = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { a.label = i[1]; break } if (6 === i[0] && a.label < o[1]) { a.label = o[1], o = i; break } if (o && a.label < o[2]) { a.label = o[2], a.ops.push(i); break } o[2] && a.ops.pop(), a.trys.pop(); continue }i = t.call(e, a) } catch (e) { i = [6, e], n = 0 } finally { r = o = 0 } if (5 & i[0]) throw i[1]; return { "value": i[0] ? i[1] : void 0, "done": !0 } }([i, s]) } } }, t._typeof = _typeof }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return createSelectorQuery }); var n = r(1), o = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function filter(e, t, r) { if (!t) return null; var n = e.id, o = e.dataset, i = e.rect, a = e.size, s = e.scrollOffset, c = e.properties, u = void 0 === c ? [] : c, l = e.computedStyle, f = void 0 === l ? [] : l, d = t.getBoundingClientRect(), p = d.left, h = d.right, m = d.top, g = d.bottom, v = d.width, y = d.height, b = "html" === r, S = {}; if (n && (S.id = t.id), o && (S.dataset = Object.assign({}, t.dataset)), i && (b ? (S.left = 0, S.right = 0, S.top = 0, S.bottom = 0) : (S.left = p, S.right = h, S.top = m, S.bottom = g)), a && (b ? (S.width = t.clientWidth, S.height = t.clientHeight) : (S.width = v, S.height = y)), s && (S.scrollLeft = t.scrollLeft, S.scrollTop = t.scrollTop, S.scrollHeight = t.scrollHeight, S.scrollWidth = t.scrollWidth), u.length && u.forEach(function (e) { var r = t.getAttribute(e); r && (S[e] = r) }), f.length) { var _ = window.getComputedStyle(t); f.forEach(function (e) { var t = _.getPropertyValue(e); t && (S[e] = t) }) } return S } var i = function () { function Query() { _classCallCheck(this, Query), this._defaultWebviewId = null, this._webviewId = null, this._queue = [], this._queueCb = [], this._component = null } return o(Query, [{ "key": "in", "value": function _in(e) { return this._component = e, this } }, { "key": "select", "value": function select(e) { return "string" == typeof e && (e = e.replace(">>>", ">")), new a(e, this, !0) } }, { "key": "selectAll", "value": function selectAll(e) { return "string" == typeof e && (e = e.replace(">>>", ">")), new a(e, this, !1) } }, { "key": "selectViewport", "value": function selectViewport() { return new a("html", this, !0) } }, { "key": "exec", "value": function exec(e) { var t = this; !function queryBat(e, t) { var r = []; e.forEach(function (e) { var t = e.selector, o = e.single, i = e.fields, a = e.component, s = null !== a && n.l.findDOMNode(a) || document, c = !1; if (s !== document) for (var u = s.parentNode.querySelectorAll(t), l = 0, f = u.length; l < f; ++l)if (s === u[l]) { c = !0; break } if (o) { var d = !0 === c ? s : s.querySelector(t); r.push(filter(i, d, t)) } else { var p = s.querySelectorAll(t), h = []; !0 === c && h.push(s); for (var m = 0, g = p.length; m < g; ++m)h.push(p[m]); r.push(h.map(function (e) { return filter(i, e) })) } }), t(r) }(this._queue, function (r) { var n = t._queueCb; r.forEach(function (e, r) { "function" == typeof n[r] && n[r].call(t, e) }), "function" == typeof e && e.call(t, r) }) } }, { "key": "_push", "value": function _push(e, t, r, n) { var o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null; this._queue.push({ "component": t, "selector": e, "single": r, "fields": n }), this._queueCb.push(o) } }]), Query }(), a = function () { function NodesRef(e, t, r) { _classCallCheck(this, NodesRef), this._component = t._component, this._selector = e, this._selectorQuery = t, this._single = r } return o(NodesRef, [{ "key": "boundingClientRect", "value": function boundingClientRect(e) { var t = this._selector, r = this._component, n = this._single, o = this._selectorQuery; return o._push(t, r, n, { "id": !0, "dataset": !0, "rect": !0, "size": !0 }, e), o } }, { "key": "scrollOffset", "value": function scrollOffset(e) { var t = this._selector, r = this._component, n = this._single, o = this._selectorQuery; return o._push(t, r, n, { "id": !0, "dataset": !0, "scrollOffset": !0 }, e), o } }, { "key": "fields", "value": function fields(e, t) { var r = this._selector, n = this._component, o = this._single, i = this._selectorQuery, a = e.id, s = e.dataset, c = e.rect, u = e.size, l = e.scrollOffset, f = e.properties, d = void 0 === f ? [] : f, p = e.computedStyle, h = void 0 === p ? [] : p; return i._push(r, n, o, { "id": a, "dataset": s, "rect": c, "size": u, "scrollOffset": l, "properties": d, "computedStyle": h }, t), i } }]), NodesRef }(); function createSelectorQuery() { return new i } }, function (e, t, r) { }, function (e, t) { e.exports = function (e) { var t = []; return t.toString = function toString() { return this.map(function (t) { var r = function cssWithMappingToString(e, t) { var r = e[1] || "", n = e[3]; if (!n) return r; if (t && "function" == typeof btoa) { var o = function toComment(e) { return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e)))) + " */" }(n), i = n.sources.map(function (e) { return "/*# sourceURL=" + n.sourceRoot + e + " */" }); return [r].concat(i).concat([o]).join("\n") } return [r].join("\n") }(t, e); return t[2] ? "@media " + t[2] + "{" + r + "}" : r }).join("") }, t.i = function (e, r) { "string" == typeof e && (e = [[null, e, ""]]); for (var n = {}, o = 0; o < this.length; o++) { var i = this[o][0]; "number" == typeof i && (n[i] = !0) } for (o = 0; o < e.length; o++) { var a = e[o]; "number" == typeof a[0] && n[a[0]] || (r && !a[2] ? a[2] = r : r && (a[2] = "(" + a[2] + ") and (" + r + ")"), t.push(a)) } }, t } }, function (e, t, r) { var n, o, i = {}, a = (n = function () { return window && document && document.all && !window.atob }, function () { return void 0 === o && (o = n.apply(this, arguments)), o }), s = function (e) { var t = {}; return function (e) { if ("function" == typeof e) return e(); if (void 0 === t[e]) { var r = function (e) { return document.querySelector(e) }.call(this, e); if (window.HTMLIFrameElement && r instanceof window.HTMLIFrameElement) try { r = r.contentDocument.head } catch (e) { r = null } t[e] = r } return t[e] } }(), c = null, u = 0, l = [], f = r(178); function addStylesToDom(e, t) { for (var r = 0; r < e.length; r++) { var n = e[r], o = i[n.id]; if (o) { o.refs++; for (var a = 0; a < o.parts.length; a++)o.parts[a](n.parts[a]); for (; a < n.parts.length; a++)o.parts.push(addStyle(n.parts[a], t)) } else { var s = []; for (a = 0; a < n.parts.length; a++)s.push(addStyle(n.parts[a], t)); i[n.id] = { "id": n.id, "refs": 1, "parts": s } } } } function listToStyles(e, t) { for (var r = [], n = {}, o = 0; o < e.length; o++) { var i = e[o], a = t.base ? i[0] + t.base : i[0], s = { "css": i[1], "media": i[2], "sourceMap": i[3] }; n[a] ? n[a].parts.push(s) : r.push(n[a] = { "id": a, "parts": [s] }) } return r } function insertStyleElement(e, t) { var r = s(e.insertInto); if (!r) throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid."); var n = l[l.length - 1]; if ("top" === e.insertAt) n ? n.nextSibling ? r.insertBefore(t, n.nextSibling) : r.appendChild(t) : r.insertBefore(t, r.firstChild), l.push(t); else if ("bottom" === e.insertAt) r.appendChild(t); else { if ("object" != typeof e.insertAt || !e.insertAt.before) throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n"); var o = s(e.insertInto + " " + e.insertAt.before); r.insertBefore(t, o) } } function removeStyleElement(e) { if (null === e.parentNode) return !1; e.parentNode.removeChild(e); var t = l.indexOf(e); t >= 0 && l.splice(t, 1) } function createStyleElement(e) { var t = document.createElement("style"); return void 0 === e.attrs.type && (e.attrs.type = "text/css"), addAttrs(t, e.attrs), insertStyleElement(e, t), t } function addAttrs(e, t) { Object.keys(t).forEach(function (r) { e.setAttribute(r, t[r]) }) } function addStyle(e, t) { var r, n, o, i; if (t.transform && e.css) { if (!(i = t.transform(e.css))) return function () { }; e.css = i } if (t.singleton) { var a = u++; r = c || (c = createStyleElement(t)), n = applyToSingletonTag.bind(null, r, a, !1), o = applyToSingletonTag.bind(null, r, a, !0) } else e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (r = function createLinkElement(e) { var t = document.createElement("link"); return void 0 === e.attrs.type && (e.attrs.type = "text/css"), e.attrs.rel = "stylesheet", addAttrs(t, e.attrs), insertStyleElement(e, t), t }(t), n = function updateLink(e, t, r) { var n = r.css, o = r.sourceMap, i = void 0 === t.convertToAbsoluteUrls && o; (t.convertToAbsoluteUrls || i) && (n = f(n)); o && (n += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(o)))) + " */"); var a = new Blob([n], { "type": "text/css" }), s = e.href; e.href = URL.createObjectURL(a), s && URL.revokeObjectURL(s) }.bind(null, r, t), o = function () { removeStyleElement(r), r.href && URL.revokeObjectURL(r.href) }) : (r = createStyleElement(t), n = function applyToTag(e, t) { var r = t.css, n = t.media; n && e.setAttribute("media", n); if (e.styleSheet) e.styleSheet.cssText = r; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(r)) } }.bind(null, r), o = function () { removeStyleElement(r) }); return n(e), function updateStyle(t) { if (t) { if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return; n(e = t) } else o() } } e.exports = function (e, t) { if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document) throw new Error("The style-loader cannot be used in a non-browser environment"); (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {}, t.singleton || "boolean" == typeof t.singleton || (t.singleton = a()), t.insertInto || (t.insertInto = "head"), t.insertAt || (t.insertAt = "bottom"); var r = listToStyles(e, t); return addStylesToDom(r, t), function update(e) { for (var n = [], o = 0; o < r.length; o++) { var a = r[o]; (s = i[a.id]).refs--, n.push(s) } e && addStylesToDom(listToStyles(e, t), t); for (o = 0; o < n.length; o++) { var s; if (0 === (s = n[o]).refs) { for (var c = 0; c < s.parts.length; c++)s.parts[c](); delete i[s.id] } } } }; var d, p = (d = [], function (e, t) { return d[e] = t, d.filter(Boolean).join("\n") }); function applyToSingletonTag(e, t, r, n) { var o = r ? "" : n.css; if (e.styleSheet) e.styleSheet.cssText = p(t, o); else { var i = document.createTextNode(o), a = e.childNodes; a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i) } } }, function (e, t) { var r, n, o = e.exports = {}; function defaultSetTimout() { throw new Error("setTimeout has not been defined") } function defaultClearTimeout() { throw new Error("clearTimeout has not been defined") } function runTimeout(e) { if (r === setTimeout) return setTimeout(e, 0); if ((r === defaultSetTimout || !r) && setTimeout) return r = setTimeout, setTimeout(e, 0); try { return r(e, 0) } catch (t) { try { return r.call(null, e, 0) } catch (t) { return r.call(this, e, 0) } } } !function () { try { r = "function" == typeof setTimeout ? setTimeout : defaultSetTimout } catch (e) { r = defaultSetTimout } try { n = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout } catch (e) { n = defaultClearTimeout } }(); var i, a = [], s = !1, c = -1; function cleanUpNextTick() { s && i && (s = !1, i.length ? a = i.concat(a) : c = -1, a.length && drainQueue()) } function drainQueue() { if (!s) { var e = runTimeout(cleanUpNextTick); s = !0; for (var t = a.length; t;) { for (i = a, a = []; ++c < t;)i && i[c].run(); c = -1, t = a.length } i = null, s = !1, function runClearTimeout(e) { if (n === clearTimeout) return clearTimeout(e); if ((n === defaultClearTimeout || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e); try { return n(e) } catch (t) { try { return n.call(null, e) } catch (t) { return n.call(this, e) } } }(e) } } function Item(e, t) { this.fun = e, this.array = t } function noop() { } o.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; a.push(new Item(e, t)), 1 !== a.length || s || runTimeout(drainQueue) }, Item.prototype.run = function () { this.fun.apply(null, this.array) }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = noop, o.addListener = noop, o.once = noop, o.off = noop, o.removeListener = noop, o.removeAllListeners = noop, o.emit = noop, o.prependListener = noop, o.prependOnceListener = noop, o.listeners = function (e) { return [] }, o.binding = function (e) { throw new Error("process.binding is not supported") }, o.cwd = function () { return "/" }, o.chdir = function (e) { throw new Error("process.chdir is not supported") }, o.umask = function () { return 0 } }, function (e, t, r) { e.exports = !r(47)(function () { return 7 != Object.defineProperty({}, "a", { "get": function get() { return 7 } }).a }) }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; e.exports = function isObject(e) { var t = void 0 === e ? "undefined" : r(e); return null != e && ("object" == t || "function" == t) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return o }); var n = r(0), o = function onReachBottom(e) { var t = Object(n.a)(), r = Object(n.b)(e.ctx), o = "number" == typeof e.onReachBottomDistance ? e.onReachBottomDistance : 50, i = !0, a = function onScroll() { r.isReachBottom(o) ? (i && t.trigger(), i = !1) : i = !0 }; return t.add(e), r.listen(a), function () { t.remove(e), 0 === t.count() && r.unlisten(a) } } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return o }); var n = r(0), o = function onPageScroll(e) { var t = Object(n.a)(), r = Object(n.b)(e.ctx), o = 0, i = function onScroll() { var e = r.getPos(); e !== o && (o = e, t.trigger({ "scrollTop": e })) }; return t.add(e), r.listen(i), function () { t.remove(e), 0 === t.count() && r.unlisten(i) } } }, function (e, t, r) { "use strict"; t.byteLength = function byteLength(e) { var t = getLens(e), r = t[0], n = t[1]; return 3 * (r + n) / 4 - n }, t.toByteArray = function toByteArray(e) { var t, r, n = getLens(e), a = n[0], s = n[1], c = new i(function _byteLength(e, t, r) { return 3 * (t + r) / 4 - r }(0, a, s)), u = 0, l = s > 0 ? a - 4 : a; for (r = 0; r < l; r += 4)t = o[e.charCodeAt(r)] << 18 | o[e.charCodeAt(r + 1)] << 12 | o[e.charCodeAt(r + 2)] << 6 | o[e.charCodeAt(r + 3)], c[u++] = t >> 16 & 255, c[u++] = t >> 8 & 255, c[u++] = 255 & t; 2 === s && (t = o[e.charCodeAt(r)] << 2 | o[e.charCodeAt(r + 1)] >> 4, c[u++] = 255 & t); 1 === s && (t = o[e.charCodeAt(r)] << 10 | o[e.charCodeAt(r + 1)] << 4 | o[e.charCodeAt(r + 2)] >> 2, c[u++] = t >> 8 & 255, c[u++] = 255 & t); return c }, t.fromByteArray = function fromByteArray(e) { for (var t, r = e.length, o = r % 3, i = [], a = 0, s = r - o; a < s; a += 16383)i.push(encodeChunk(e, a, a + 16383 > s ? s : a + 16383)); 1 === o ? (t = e[r - 1], i.push(n[t >> 2] + n[t << 4 & 63] + "==")) : 2 === o && (t = (e[r - 2] << 8) + e[r - 1], i.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "=")); return i.join("") }; for (var n = [], o = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s)n[s] = a[s], o[a.charCodeAt(s)] = s; function getLens(e) { var t = e.length; if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4"); var r = e.indexOf("="); return -1 === r && (r = t), [r, r === t ? 0 : 4 - r % 4] } function encodeChunk(e, t, r) { for (var o, i, a = [], s = t; s < r; s += 3)o = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]), a.push(n[(i = o) >> 18 & 63] + n[i >> 12 & 63] + n[i >> 6 & 63] + n[63 & i]); return a.join("") } o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63 }, function (t, o, i) { "use strict"; i.d(o, "a", function () { return D }), i.d(o, "b", function () { return H }); var a = i(48), s = i(4), c = i(5), u = i(22), d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, h = function f() { return (h = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; function l(e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function a(e) { try { u(n.next(e)) } catch (e) { i(e) } } function s(e) { try { u(n.throw(e)) } catch (e) { i(e) } } function u(e) { var t; e.done ? o(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) { e(t) })).then(a, s) } u((n = n.apply(e, t || [])).next()) }) } function p(e, t) { var r, n, o, i, a = { "label": 0, "sent": function sent() { if (1 & o[0]) throw o[1]; return o[1] }, "trys": [], "ops": [] }; return i = { "next": s(0), "throw": s(1), "return": s(2) }, "function" == typeof Symbol && (i[Symbol.iterator] = function () { return this }), i; function s(i) { return function (s) { return function (i) { if (r) throw new TypeError("Generator is already executing."); for (; a;)try { if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o; switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) { case 0: case 1: o = i; break; case 4: return a.label++, { "value": i[1], "done": !1 }; case 5: a.label++, n = i[1], i = [0]; continue; case 7: i = a.ops.pop(), a.trys.pop(); continue; default: if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) { a = 0; continue } if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) { a.label = i[1]; break } if (6 === i[0] && a.label < o[1]) { a.label = o[1], o = i; break } if (o && a.label < o[2]) { a.label = o[2], a.ops.push(i); break } o[2] && a.ops.pop(), a.trys.pop(); continue }i = t.call(e, a) } catch (e) { i = [6, e], n = 0 } finally { r = o = 0 } if (5 & i[0]) throw i[1]; return { "value": i[0] ? i[1] : void 0, "done": !0 } }([i, s]) } } } function m() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), o = 0; for (t = 0; t < r; t++)for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++)n[o] = i[a]; return n } var g, v, y, b, S = new (function () { function e() { this.store = { "debug": !1, "constants": {}, "buildTimeConfig": {}, "setCustomTheme": function setCustomTheme() { } } } return e.prototype.setStore = function (e) { this.store = h(h({}, this.store), e) }, e.prototype.getStore = function () { return this.store }, e }()), _ = Object(c.getEnv)(), w = _, A = (v = "https://m-zl.xll.com", "prod" !== (g = _) && (v = "https://m-zl-" + g + ".xll.cn"), v), T = ((b = {})[y = _] = b[y] || {}, ["mgp", "forum", "user", "auth", "buy", "loan", "order", "bill", "apply", "promote", "mgr", "pay"].forEach(function (e) { var t; b[y][e] = "prod" === y ? (t = e, "https://" + (Object(c.isAlipay)() && "pay" !== t && "mgp" !== t && "forum" !== t ? t + "-ali" : t) + ".api.xll.com") : function (e, t) { var r = Object(c.isAlipay)() && "pay" !== e && "mgp" !== e && "forum" !== e ? e + "-ali-" + t : e + "-" + t; r = "pay" === e && /uat|st2/i.test(t) ? t + "-" + e : r, r = "pay" === e && /se\d?/i.test(t) ? "buy" : r; var n = window.location.protocol; return (n = "offline:" === n ? "https:" : n) + "//" + r + ".api.xll.cn" }(e, y) }), b[y]), P = function (e) { return "prod" === e ? "https://mall.api.xll.com/api" : /^(st2|uat)$/i.test(e) ? "https://" + e + "-mall.api.xll.cn/api" : "https://mall-" + e + ".api.xll.cn/api" }(_), k = function (e) { var t = "https://cfg.xll.com"; return "prod" !== _ && (t = "https://cfg-" + _ + ".xll.cn"), t }(), E = function (e) { var t = "https://mall.xll.com"; return "prod" !== e && (t = "https://" + (/^(st2|uat)$/i.test(e) ? e + "-mall" : "mall-" + e) + ".xll.cn"), t }(_), x = "/loginregister/pages/WeappLogin/WeappEntrance", O = new (function () { function e() { this.store = {} } return e.prototype.setStore = function (e) { this.store = h(h({}, this.store), e) }, e.prototype.getStore = function () { return this.store }, e }()), M = function I() { return l(void 0, void 0, void 0, function () { return p(this, function (e) { switch (e.label) { case 0: return e.trys.push([0, 3, , 4]), [4, Object(s.request)({ "url": T.mgp + "?operationId=xll.user.userInformation.getUserInfo", "method": "GET", "data": { "reqEnvParams": { "module": Object(s.getModuleId)() } } })]; case 1: return [4, e.sent().json()]; case 2: return [2, e.sent().data || {}]; case 3: return e.sent(), [2, {}]; case 4: return [2] } }) }) }, W = function C(e) { return l(void 0, void 0, Promise, function () { var t, r, n, o, i; return p(this, function (a) { switch (a.label) { case 0: return a.trys.push([0, 3, , 4]), "number" == typeof O.getStore().datademand ? [2, O.getStore().datademand] : [4, Object(s.request)({ "url": T.mgp + "?operationId=xll.content.risk.datademand", "method": "POST", "data": { "data": { "fstTransCode": e || "", "dataDemandTypes": ["fOLbsFlag"] } } })]; case 1: return [4, a.sent().json()]; case 2: return t = a.sent(), r = (t || {}).data, n = (void 0 === r ? {} : r).dataDemandInfos, o = +(void 0 === n ? {} : n).fOLbsFlag || 0, O.setStore({ "datademand": o }), [2, o]; case 3: return i = a.sent(), console.error("获取风险授权标签值失败", i), [2, 0]; case 4: return [2] } }) }) }, G = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : ""; function L() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return console.warn.apply(console, m(["[渠道基础SDK日志]："], e)), function (e) { return e } } function j(e) { return new RegExp("\\/" + e).test(G) } function R(e) { return l(this, void 0, Promise, function () { var t; return p(this, function (r) { switch (r.label) { case 0: return e ? Object(c.isMuapp)() && (j("0APP") && 1 != +Object(c.compareMuappVersion)("6.2.0") || j("2APP") && 1 != +Object(c.compareMuappVersion)("6.0.0")) ? [2, e] : Object(c.isMuapp)() || "30001" !== e ? /^ET/i.test(e) ? [2, e] : [4, W(e)] : [2, "ET014"] : [2, ""]; case 1: return t = r.sent(), [2, function q(e, t) { return { "30001": { "0": "ET002", "1": "ET013", "2": "ET014" }, "60001": { "0": "ET003", "1": "ET015", "2": "ET016" }, "60002": { "0": "ET003", "1": "ET017", "2": "ET018" }, "20002": { "0": "ET003", "1": "ET017", "2": "ET018" } }[e][t] }(e, t)] } }) }) } function U() { return l(this, void 0, Promise, function () { var e, t; return p(this, function (r) { switch (r.label) { case 0: return t = e = { "loginSuccess": !1, "headImageId": "", "maskMobile": "", "userId": "", "uuId": "", "age": "" }, (t = Object(s.getStorageSync)("sessionInfo", "SESSION")) ? [3, 2] : [4, M()]; case 1: t = r.sent(), Object(s.setStorageSync)("userInfo", t, "SESSION"), r.label = 2; case 2: return [3, 5]; case 3: return [4, M()]; case 4: t = r.sent(), r.label = 5; case 5: return [2, function N(e, t) { var r = {}; return Object.keys(e).forEach(function (n) { -1 !== t.indexOf(n) && (r[n] = e[n]) }), r }(t, Object.keys(e))] } }) }) } function D() { var e = S.getStore(), t = { "getSessionInfo": U, "buildTimeConfig": e.buildTimeConfig }; return function (e) { return e ? function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; console.log.apply(console, m(["[渠道基础SDK日志]："], e)) } : function () { } }(e.debug)("注入的全局状态", t), t } function H(e) { var t, r = (e || {}).setCustomTheme; S.setStore(e), Object(s.setConfig)({ "channel": function F() { var e = Object(c.isWechat)() ? "0WEC" : Object(c.isAlipay)() ? "2ZFB" : Object(c.isMuapp)() ? "0APP" : "0WAP", t = S.getStore().constants.channel; return h({ "WEAPP_DEFAULT_CHANNEL": "", "SWAN_DEFAULT_CHANNEL": "", "ALIPAY_DEFAULT_CHANNEL": "", "TT_DEFAULT_CHANNEL": "", "H5_DEFAULT_CHANNEL": e }, t) }() }), (t = function n() { var e = c.Url.getParam("mapCode") || ""; e && Object(s.setStorageSync)("mapCode", e, "SESSION") })(), s.default.eventCenter.on("__taroRouterChange", function () { t() }), Object(c.isWechat)() && Object(s.initWechat)({ "error": function error(e) { console.error(e) } }), r && r() } var z = function M() { }; var K = Object.freeze({ "__proto__": null, "armsProxy": function V(e) { var t = {}; t = i(210), z = t.triggerFmp, t.armsSetup(S, e) }, get "triggerFmp"() { return z } }); function J(e) { return (J = "function" == typeof Symbol && "symbol" == d(Symbol.iterator) ? function (e) { return void 0 === e ? "undefined" : d(e) } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : d(e) })(e) } var Y = !1, ne = 0, ie = 0; function Q(e, t) { return void 0 === t && (t = {}), l(this, void 0, Promise, function () { var r, n, o, i; return p(this, function (a) { switch (a.label) { case 0: return r = t.method, n = void 0 === r ? "POST" : r, o = h(h({ "autoToast": !0, "isJumpLogin": !0, "reqEnvParams": {}, "autoLoading": !0 }, t), { "url": e, "method": n.toUpperCase() }), i = o, [4, function $(e) { return l(this, void 0, Promise, function () { var t, r, n, o, i, a, l; return p(this, function (f) { switch (f.label) { case 0: return t = e.reqEnvParams, r = e.data, n = Object(c.getCurrentPageUrlWithArgs)(), [4, Object(u.getToken)(!0, Object(s.getChannel)())]; case 1: return o = f.sent(), i = Object(s.getStorageSync)("mapCode", "SESSION") || "", a = h({ "channel": Object(s.getChannel)(), "appType": "H5", "module": Object(s.getModuleId)(), "pageUrl": n, "token": o, "mapCode": i }, t), l = { "reqEnvParams": JSON.stringify(a) }, [2, h(h({}, r), l)] } }) }) }(o)]; case 1: return i.data = a.sent(), X.interceptor.reqInterceptor({ "requestParams": o, "proceed": function proceed(e) { o = h(h({}, o), e || {}) } }), [2, o] } }) }) } function X(e, t) { return l(this, void 0, Promise, function () { function r() { o && (ne -= 1, !Y && ne <= 0 && (ie = setTimeout(function () { Object(a.a)(), ie = 0 }))) } var n, o, u = this; return p(this, function (a) { switch (a.label) { case 0: return [4, Q(e, t)]; case 1: return n = a.sent(), (o = n.autoLoading) && (!Y && ne <= 0 && (ie ? clearTimeout(ie) : Object(s.showLoading)({ "title": "加载中" })), ne += 1), [2, Object(s.request)(n).then(function B(e) { return function (t) { return l(this, void 0, void 0, function () { var r, n; return p(this, function (o) { switch (o.label) { case 0: return 200 !== t.status || "function" != typeof t.json ? [3, 2] : [4, t.json()]; case 1: if (r = o.sent(), n = r.data || {}, "0" === r.ret && 302 === n.status) return function (e) { if (e && "string" == typeof e) { var t = e; window.location.replace(t) } }(n.location), [2, Promise.reject(t.clone())]; o.label = 2; case 2: return [2, e(t.clone())] } }) }) } }(function (e) { return l(u, void 0, void 0, function () { return p(this, function (t) { return r(), [2, X.interceptor.resInterceptor({ "response": e, "requestParams": n, "proceed": function proceed(t) { return l(this, void 0, void 0, function () { var r, n; return p(this, function (o) { switch (o.label) { case 0: return 200 !== e.status ? [3, 2] : [4, e.json()]; case 1: return "0" === (r = o.sent()).ret || r.boothList ? (n = h(h({}, r.data || r), t || {}), [2, Promise.resolve(n)]) : [2, Promise.reject(h({ "status": e.status }, r))]; case 2: return [2, Promise.reject(e.clone())] } }) }) } })] }) }) }), function (e) { return r(), Promise.reject(e) }).catch(function (e) { return r(), X.interceptor.errorInterceptor({ "response": e, "requestParams": n, "proceed": function proceed(t) { return function (e, t) { return l(this, void 0, Promise, function () { var r, n, o, a; return p(this, function (u) { return r = e.status, o = (n = t || {}).autoToast, a = n.isJumpLogin, 401 === r ? (a && function Z(e) { return function (e) { return l(this, void 0, Promise, function () { var t, r, n; return p(this, function (o) { switch (o.label) { case 0: return [2, (0, i(146).doLoginH5)(e)]; case 1: return [3, 4]; case 2: t = o.sent(), o.label = 3; case 3: t && (r = Object(c.getCurrentPageUrl)(), n = r ? "/" + r : "", Object(s.navigateTo)({ "url": x + "?redirectUrl=" + encodeURIComponent(n) })), o.label = 4; case 4: return [2] } }) }) }(e) }(t), [2, Promise.reject("未登录")]) : 200 === r ? (s.default.eventCenter.trigger("madp_biz_error_event", e.errMsg || "系统繁忙，请稍后再试"), o && (Y = !0, Object(s.showToast)({ "title": e.errMsg || "系统繁忙，请稍后再试", "icon": "none", "duration": 2e3 }), setTimeout(function () { Y = !1 }, 2e3)), [2, Promise.reject(e || "系统繁忙，请稍后再试")]) : r >= 300 ? (o && (Y = !0, Object(s.showToast)({ "title": "网络异常，请稍后再试", "icon": "none", "duration": 2e3 }), setTimeout(function () { Y = !1 }, 2e3)), [2, Promise.reject("网络异常: " + r)]) : [2, Promise.reject("网络异常: " + r)] }) }) }(h(h({}, e), t), n) } }) })] } }) }) } Object(s.addInterceptor)(function (e) { var t, r = (e || {}).requestParams, n = void 0 === r ? {} : r, o = n.data, i = void 0 === o ? {} : o, a = n.invokeApiType; if ("pureRequest" === (void 0 === a ? "" : a)) return e.proceed(n); var c = {}; if ((t = "undefined" != typeof FormData && i instanceof FormData ? i.get("reqEnvParams") : i.reqEnvParams) && "object" === J(t)) c = h({}, t); else if (t && "string" == typeof t) try { c = JSON.parse(t) } catch (e) { c = {} } var u = h({ "channel": Object(s.getChannel)(), "appType": "H5", "module": Object(s.getModuleId)() }, c); "undefined" != typeof FormData && i instanceof FormData ? i.set("reqEnvParams", JSON.stringify(u)) : i.reqEnvParams = JSON.stringify(u); var l = h(h({}, n), { "data": i }); return e.proceed(l) }), X.interceptor = { "reqInterceptor": function reqInterceptor(e) { return e.proceed() }, "request": function request(e) { e && (this.reqInterceptor = e) }, "resInterceptor": function resInterceptor(e) { return e.proceed() }, "errorInterceptor": function errorInterceptor(e) { return e.proceed() }, "response": function response(e, t) { e && (this.resInterceptor = e), t && (this.errorInterceptor = t) } }; var ae = Object.freeze({ "__proto__": null, "fetch": X, "loginUrl": x, "mode": w, "urlDomain": A, "apiHost": T, "mallApiHost": P, "cfgUrlDomain": k, "mallUrlDomain": E, "getUserInfo": function ee() { return l(this, void 0, Promise, function () { return p(this, function (e) { switch (e.label) { case 0: return [4, M()]; case 1: return [2, e.sent()] } }) }) }, "getMessage": function te(e) { var t = S.getStore().constants.messageMaps; return h({ "NETWORK_ERROR": "网络异常", "USERINFO_ERROR": "用户信息异常" }, t)[e] || "服务异常，请稍候" } }); var se = Object.freeze({ "__proto__": null, "getLocation": function re(e) { return l(this, void 0, void 0, function () { var t, r, n, o, i; return p(this, function (a) { switch (a.label) { case 0: return r = (t = e || {}).eventType, n = t.modalType, [4, R(r)]; case 1: o = a.sent(), i = function (e) { var t = { "targetEventType": o, "modalType": n } || {}, r = t.modalType; return void 0 !== r ? r : { "ET013": 0, "ET014": 0, "ET015": 2, "ET016": 0, "ET017": 2, "ET018": 0 }[t.targetEventType] || 0 }(); try { return [2, Object(s.getLocation)(h(h({}, e), { "eventType": o, "modalType": i }))] } catch (e) { return L(e), [2, Promise.resolve(e)] } return [2] } }) }) }, "checkPermission": function oe(e) { return l(this, void 0, void 0, function () { var t, r; return p(this, function (n) { switch (n.label) { case 0: return t = (e || {}).eventType, Object(c.isMuapp)() ? [4, R(t)] : (L("当前平台暂时不支持 API checkPermission"), [2, Promise.resolve("")]); case 1: r = n.sent(); try { return [2, Object(s.checkPermission)(h(h({}, e), { "eventType": r }))] } catch (e) { return L(e), [2, Promise.resolve(e)] } return [2] } }) }) } }); h(h(h({ "commonStore": D, "setup": H }, K), ae), se) }, function (e, t, r) { (function (t) { for (var n = r(93), o = "undefined" == typeof window ? t : window, i = ["moz", "webkit"], a = "AnimationFrame", s = o["request" + a], c = o["cancel" + a] || o["cancelRequest" + a], u = 0; !s && u < i.length; u++)s = o[i[u] + "Request" + a], c = o[i[u] + "Cancel" + a] || o[i[u] + "CancelRequest" + a]; if (!s || !c) { var l = 0, f = 0, d = []; s = function raf(e) { if (0 === d.length) { var t = n(), r = Math.max(0, 1e3 / 60 - (t - l)); l = r + t, setTimeout(function () { var e = d.slice(0); d.length = 0; for (var t = 0; t < e.length; t++)if (!e[t].cancelled) try { e[t].callback(l) } catch (e) { setTimeout(function () { throw e }, 0) } }, Math.round(r)) } return d.push({ "handle": ++f, "callback": e, "cancelled": !1 }), f }, c = function caf(e) { for (var t = 0; t < d.length; t++)d[t].handle === e && (d[t].cancelled = !0) } } e.exports = function (e) { return s.call(o, e) }, e.exports.cancel = function () { c.apply(o, arguments) }, e.exports.polyfill = function (e) { e || (e = o), e.requestAnimationFrame = s, e.cancelAnimationFrame = c } }).call(this, r(14)) }, function (e, t, r) { "use strict"; (function (e) { r.d(t, "b", function () { return Ze }), r.d(t, "a", function () { return wt }), r.d(t, "c", function () { return kt }); var n = r(3), o = r(1), i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" === i(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : i(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : i(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _possibleConstructorReturn(e, t) { return !t || "object" !== (void 0 === t ? "undefined" : i(t)) && "function" != typeof t ? function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) : t } function _get(e, t, r) { return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, r) { var n = function _superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _getPrototypeOf(e));); return e }(e, t); if (n) { var o = Object.getOwnPropertyDescriptor(n, t); return o.get ? o.get.call(r) : o.value } })(e, t, r || e) } function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { if (!(Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))) return; var r = [], n = !0, o = !1, i = void 0; try { for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0); } catch (e) { o = !0, i = e } finally { try { n || null == s.return || s.return() } finally { if (o) throw i } } return r }(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance") }() } function _toConsumableArray(e) { return function _arrayWithoutHoles(e) { if (Array.isArray(e)) { for (var t = 0, r = new Array(e.length); t < e.length; t++)r[t] = e[t]; return r } }(e) || function _iterableToArray(e) { if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e) }(e) || function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance") }() } var a = function warning() { }, s = a, c = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}; function createCommonjsModule(e, t) { return e(t = { "exports": {} }, t.exports), t.exports } var u = "object" == (void 0 === c ? "undefined" : i(c)) && c && c.Object === Object && c, l = "object" == ("undefined" == typeof self ? "undefined" : i(self)) && self && self.Object === Object && self, f = u || l || Function("return this")(), d = f.Symbol, p = Object.prototype, h = p.hasOwnProperty, m = p.toString, g = d ? d.toStringTag : void 0; var v = function getRawTag(e) { var t = h.call(e, g), r = e[g]; try { e[g] = void 0; var n = !0 } catch (e) { } var o = m.call(e); return n && (t ? e[g] = r : delete e[g]), o }, y = Object.prototype.toString; var b = function objectToString(e) { return y.call(e) }, S = "[object Null]", _ = "[object Undefined]", w = d ? d.toStringTag : void 0; var A = function baseGetTag(e) { return null == e ? void 0 === e ? _ : S : w && w in Object(e) ? v(e) : b(e) }; var C = function isObject(e) { var t = void 0 === e ? "undefined" : i(e); return null != e && ("object" == t || "function" == t) }, T = "[object AsyncFunction]", P = "[object Function]", k = "[object GeneratorFunction]", E = "[object Proxy]"; var x, O = function isFunction(e) { if (!C(e)) return !1; var t = A(e); return t == P || t == k || t == T || t == E }, I = f["__core-js_shared__"], R = (x = /[^.]+$/.exec(I && I.keys && I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + x : ""; var M = function isMasked(e) { return !!R && R in e }, B = Function.prototype.toString; var D = function toSource(e) { if (null != e) { try { return B.call(e) } catch (e) { } try { return e + "" } catch (e) { } } return "" }, j = /^\[object .+?Constructor\]$/, F = Function.prototype, L = Object.prototype, N = F.toString, H = L.hasOwnProperty, U = RegExp("^" + N.call(H).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"); var W = function baseIsNative(e) { return !(!C(e) || M(e)) && (O(e) ? U : j).test(D(e)) }; var G = function getValue(e, t) { return null == e ? void 0 : e[t] }; var V = function getNative(e, t) { var r = G(e, t); return W(r) ? r : void 0 }, q = function () { try { var e = V(Object, "defineProperty"); return e({}, "", {}), e } catch (e) { } }(); var z = function baseAssignValue(e, t, r) { "__proto__" == t && q ? q(e, t, { "configurable": !0, "enumerable": !0, "value": r, "writable": !0 }) : e[t] = r }; var X = function eq(e, t) { return e === t || e != e && t != t }, Q = Object.prototype.hasOwnProperty; var K = function assignValue(e, t, r) { var n = e[t]; Q.call(e, t) && X(n, r) && (void 0 !== r || t in e) || z(e, t, r) }; var Y = function copyObject(e, t, r, n) { var o = !r; r || (r = {}); for (var i = -1, a = t.length; ++i < a;) { var s = t[i], c = n ? n(r[s], e[s], s, r, e) : void 0; void 0 === c && (c = e[s]), o ? z(r, s, c) : K(r, s, c) } return r }; var J = function identity(e) { return e }; var Z = function apply(e, t, r) { switch (r.length) { case 0: return e.call(t); case 1: return e.call(t, r[0]); case 2: return e.call(t, r[0], r[1]); case 3: return e.call(t, r[0], r[1], r[2]) }return e.apply(t, r) }, $ = Math.max; var ee = function overRest(e, t, r) { return t = $(void 0 === t ? e.length - 1 : t, 0), function () { for (var n = arguments, o = -1, i = $(n.length - t, 0), a = Array(i); ++o < i;)a[o] = n[t + o]; o = -1; for (var s = Array(t + 1); ++o < t;)s[o] = n[o]; return s[t] = r(a), Z(e, this, s) } }; var te = function constant(e) { return function () { return e } }, re = q ? function (e, t) { return q(e, "toString", { "configurable": !0, "enumerable": !1, "value": te(t), "writable": !0 }) } : J, ne = 800, oe = 16, ie = Date.now; var ae = function shortOut(e) { var t = 0, r = 0; return function () { var n = ie(), o = oe - (n - r); if (r = n, o > 0) { if (++t >= ne) return arguments[0] } else t = 0; return e.apply(void 0, arguments) } }(re); var se = function baseRest(e, t) { return ae(ee(e, t, J), e + "") }, ce = 9007199254740991; var ue = function isLength(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= ce }; var le = function isArrayLike(e) { return null != e && ue(e.length) && !O(e) }, fe = 9007199254740991, de = /^(?:0|[1-9]\d*)$/; var pe = function isIndex(e, t) { var r = void 0 === e ? "undefined" : i(e); return !!(t = null == t ? fe : t) && ("number" == r || "symbol" != r && de.test(e)) && e > -1 && e % 1 == 0 && e < t }; var he = function isIterateeCall(e, t, r) { if (!C(r)) return !1; var n = void 0 === t ? "undefined" : i(t); return !!("number" == n ? le(r) && pe(t, r.length) : "string" == n && t in r) && X(r[t], e) }; var me = function createAssigner(e) { return se(function (t, r) { var n = -1, o = r.length, i = o > 1 ? r[o - 1] : void 0, a = o > 2 ? r[2] : void 0; for (i = e.length > 3 && "function" == typeof i ? (o--, i) : void 0, a && he(r[0], r[1], a) && (i = o < 3 ? void 0 : i, o = 1), t = Object(t); ++n < o;) { var s = r[n]; s && e(t, s, n, i) } return t }) }, ge = Object.prototype; var ve = function isPrototype(e) { var t = e && e.constructor; return e === ("function" == typeof t && t.prototype || ge) }; var ye = function baseTimes(e, t) { for (var r = -1, n = Array(e); ++r < e;)n[r] = t(r); return n }; var be = function isObjectLike(e) { return null != e && "object" == (void 0 === e ? "undefined" : i(e)) }, Se = "[object Arguments]"; var _e = function baseIsArguments(e) { return be(e) && A(e) == Se }, we = Object.prototype, Ae = we.hasOwnProperty, Ce = we.propertyIsEnumerable, Te = _e(function () { return arguments }()) ? _e : function (e) { return be(e) && Ae.call(e, "callee") && !Ce.call(e, "callee") }, Pe = Array.isArray; var ke = function stubFalse() { return !1 }, Ee = createCommonjsModule(function (e, t) { var r = t && !t.nodeType && t, n = r && e && !e.nodeType && e, o = n && n.exports === r ? f.Buffer : void 0, i = (o ? o.isBuffer : void 0) || ke; e.exports = i }), xe = {}; xe["[object Float32Array]"] = xe["[object Float64Array]"] = xe["[object Int8Array]"] = xe["[object Int16Array]"] = xe["[object Int32Array]"] = xe["[object Uint8Array]"] = xe["[object Uint8ClampedArray]"] = xe["[object Uint16Array]"] = xe["[object Uint32Array]"] = !0, xe["[object Arguments]"] = xe["[object Array]"] = xe["[object ArrayBuffer]"] = xe["[object Boolean]"] = xe["[object DataView]"] = xe["[object Date]"] = xe["[object Error]"] = xe["[object Function]"] = xe["[object Map]"] = xe["[object Number]"] = xe["[object Object]"] = xe["[object RegExp]"] = xe["[object Set]"] = xe["[object String]"] = xe["[object WeakMap]"] = !1; var Oe = function baseIsTypedArray(e) { return be(e) && ue(e.length) && !!xe[A(e)] }; var Ie = function baseUnary(e) { return function (t) { return e(t) } }, Re = createCommonjsModule(function (e, t) { var r = t && !t.nodeType && t, n = r && e && !e.nodeType && e, o = n && n.exports === r && u.process, i = function () { try { var e = n && n.require && n.require("util").types; return e || o && o.binding && o.binding("util") } catch (e) { } }(); e.exports = i }), Me = Re && Re.isTypedArray, Be = Me ? Ie(Me) : Oe, De = Object.prototype.hasOwnProperty; var je = function arrayLikeKeys(e, t) { var r = Pe(e), n = !r && Te(e), o = !r && !n && Ee(e), i = !r && !n && !o && Be(e), a = r || n || o || i, s = a ? ye(e.length, String) : [], c = s.length; for (var u in e) !t && !De.call(e, u) || a && ("length" == u || o && ("offset" == u || "parent" == u) || i && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || pe(u, c)) || s.push(u); return s }; var Fe = function overArg(e, t) { return function (r) { return e(t(r)) } }(Object.keys, Object), Le = Object.prototype.hasOwnProperty; var Ne = function baseKeys(e) { if (!ve(e)) return Fe(e); var t = []; for (var r in Object(e)) Le.call(e, r) && "constructor" != r && t.push(r); return t }; var He = function keys(e) { return le(e) ? je(e) : Ne(e) }, Ue = Object.prototype.hasOwnProperty, We = me(function (e, t) { if (ve(t) || le(t)) Y(t, He(t), e); else for (var r in t) Ue.call(t, r) && K(e, r, t[r]) }); function isAbsolute(e) { return "/" === e.charAt(0) } function spliceOne(e, t) { for (var r = t, n = r + 1, o = e.length; n < o; r += 1, n += 1)e[r] = e[n]; e.pop() } function resolvePathname(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", r = e && e.split("/") || [], n = t && t.split("/") || [], o = e && isAbsolute(e), i = t && isAbsolute(t), a = o || i; if (e && isAbsolute(e) ? n = r : r.length && (n.pop(), n = n.concat(r)), !n.length) return "/"; var s = void 0; if (n.length) { var c = n[n.length - 1]; s = "." === c || ".." === c || "" === c } else s = !1; for (var u = 0, l = n.length; l >= 0; l--) { var f = n[l]; "." === f ? spliceOne(n, l) : ".." === f ? (spliceOne(n, l), u++) : u && (spliceOne(n, l), u--) } if (!a) for (; u--; u)n.unshift(".."); !a || "" === n[0] || n[0] && isAbsolute(n[0]) || n.unshift(""); var d = n.join("/"); return s && "/" !== d.substr(-1) && (d += "/"), d } var Ge = function addLeadingSlash(e) { return "/" === e.charAt(0) ? e : "/" + e }, Ve = function hasBasename(e, t) { return new RegExp("^" + t + "(\\/|\\?|#|$)", "i").test(e) }, qe = function stripTrailingSlash(e) { return "/" === e.charAt(e.length - 1) ? e.slice(0, -1) : e }, ze = function parsePath(e) { var t = e || "/", r = "", n = "", o = t.indexOf("#"); -1 !== o && (n = t.substr(o), t = t.substr(0, o)); var i = t.indexOf("?"); return -1 !== i && (r = t.substr(i), t = t.substr(0, i)), { "path": t, "search": "?" === r ? "" : r, "hash": "#" === n ? "" : n } }, Xe = function createPath(e) { var t = e.path, r = e.search, n = e.hash, o = t || "/"; return r && "?" !== r && (o += "?" === r.charAt(0) ? r : "?".concat(r)), n && "#" !== n && (o += "#" === n.charAt(0) ? n : "#".concat(n)), o }; function createLocation(e, t, r) { var n, o = ze(e); (n = We({}, o, { "state": { "key": t } })).state = { "key": t }; var i = {}, a = n.search; a.length > 0 && a.substring(1).split("&").forEach(function (e) { if (-1 !== e.indexOf("=")) { var t = _slicedToArray(e.split("="), 2), r = t[0], n = t[1]; i[r] = n } }); return n.params = i, r ? n.path ? "/" !== n.path.charAt(0) && (n.path = resolvePathname(n.path, r.path)) : n.path = r.path : n.path || (n.path = "/"), n } var Qe = function tryToCall(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; if (e) { for (var r = arguments.length, n = new Array(r > 2 ? r - 2 : 0), o = 2; o < r; o++)n[o - 2] = arguments[o]; return t ? e.apply(t, n) : e.apply(void 0, n) } }, Ke = window.history, Ye = 0, Je = function createKey() { return String(++Ye) }, Ze = function createHistory(e) { var t = function createTransitionManager() { var e = null, t = []; return { "setPrompt": function setPrompt(t) { return s(null == e, "A history supports only one prompt at a time"), e = t, function () { e === t && (e = null) } }, "confirmTransitionTo": function confirmTransitionTo(t, r, n, o) { if (null !== e) { var i = "function" == typeof e ? e(t, r) : e; "string" == typeof i ? "function" == typeof n ? n(i, o) : (s(!1, "A history needs a getUserConfirmation function in order to use a prompt message"), o(!0)) : o(!1 !== i) } else o(!0) }, "appendListener": function appendListener(e) { var r = !0, n = function listener() { r && e.apply(void 0, arguments) }; return t.push(n), function () { r = !1, t = t.filter(function (e) { return e !== n }) } }, "notifyListeners": function notifyListeners() { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; t.forEach(function (e) { return e.apply(void 0, r) }) } } }(); t.setPrompt(""); var r, o = e.basename ? qe(Ge(e.basename)) : "", i = e.customRoutes || {}, a = 0; e.mode = e.mode || "hash"; var c = function getDOMLocation(t) { var r = t.key, n = window.location, i = n.pathname, a = n.search, c = n.hash, u = "hash" === e.mode ? Ge(function getHashPath() { var e = window.location.href, t = e.indexOf("#"); return -1 === t ? "" : e.substring(t + 1) }()) : i + a + c; return "browser" === e.mode && s(Ve(u, o), 'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "' + u + '" to begin with "' + o + '".'), "/" === (u = function stripBasename(e, t) { return Ve(e, t) ? e.substr(t.length) : e }(u, o)) && (u = e.firstPagePath + a + c), createLocation(u, r) }, u = function getHistoryState() { try { var e = Ke.state || {}; return "string" != typeof e.key ? e.key = String(Ye) : Ye = e.key, e } catch (e) { return { "key": String(Ye) } } }(), l = c(u), f = l; n.default._$router = l; var d = function tryToParseStore(e) { var t = { "key": "0" }; try { var r = JSON.parse(localStorage.getItem("taroRouterStore")); "object" === _typeof(r) && "string" == typeof r.key && (t = r) } catch (e) { } return t.key === e.key || (t.key = e.key), t }(u); r = function createHistorySerializer(e) { var t = function serialize() { try { localStorage.setItem("taroRouterStore", JSON.stringify(e)) } catch (e) { } }; return t(), t }(d), Ke.replaceState(l.state, ""); var p = "hash" === e.mode ? function (e) { return "#" + Ge(o + Xe(e)) } : function (e) { return o + Xe(e) }, h = function setState(e) { We(S, e); var o = Object.assign({}, f); f = Object.assign({}, e.location), Ye = Number(e.location.state.key), r(), S.length = Ke.length; var i = { "fromLocation": o, "toLocation": S.location, "action": S.action }; n.default._$router = S.location, n.default.eventCenter.trigger("__taroRouterChange", Object.assign({}, i)), t.notifyListeners(Object.assign({}, i)) }; function getUserConfirmation(e, t, r) { var o = function getCurrentRoute() { if (n.default && "function" == typeof n.default.getCurrentPages) { var e = n.default.getCurrentPages(); return e[e.length - 1] } return {} }() || {}, i = o.beforeRouteLeave; "function" == typeof i ? Qe(i, o, t, r, e) : e(!0) } var m = function go(e) { Ke.go(e) }, g = function handlePopState(e) { var r = e.state; r || (r = { "key": Je() }, Ke.replaceState(r, "", "")); var n, o = Number(f.state.key), i = Number(r.key), a = c(r); n = i > o ? "PUSH" : i < o ? "POP" : "REPLACE", d.key = String(i), t.confirmTransitionTo(a, n, function (e, t) { getUserConfirmation(t, f, a) }, function (e) { e ? h({ "action": n, "location": a }) : v() }) }, v = function revertPop() { var e = S.location, t = e.state.key, r = p(e); Ke.pushState({ "key": t }, "", r) }, y = function checkDOMListeners(e) { 1 === (a += e) ? /^((?!chrome).)*safari/i.test(navigator.userAgent) ? window.addEventListener("load", function () { setTimeout(function () { window.addEventListener("popstate", g) }, 0) }) : window.addEventListener("popstate", g) : 0 === a && window.removeEventListener("popstate", g) }, b = !1, S = { "action": "POP", "block": function block() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], r = t.setPrompt(e); return b || (y(1), b = !0), function () { return b && (b = !1, y(-1)), r() } }, "createHref": p, "go": m, "goBack": function goBack() { return m(-1) }, "goForward": function goForward() { return m(1) }, "length": Ke.length, "listen": function listen(e) { var r = t.appendListener(e); return y(1), function () { y(-1), r() } }, "location": l, "push": function push(e) { var r = Je(), n = createLocation(e, r, S.location), o = n.path; o in i && (n.path = i[o]), t.confirmTransitionTo(n, "PUSH", function (e, t) { getUserConfirmation(t, f, n) }, function (e) { if (e) { var t = p(n); Ke.pushState({ "key": r }, "", t), d.key = r, h({ "action": "PUSH", "location": n }) } else Ye-- }) }, "replace": function replace(e) { var r = d.key, n = createLocation(e, r, S.location), o = n.path; o in i && (n.path = i[o]), t.confirmTransitionTo(n, "REPLACE", function (e, t) { getUserConfirmation(t, f, n) }, function (e) { if (e) { var t = p(n); Ke.replaceState({ "key": r }, "", t), h({ "action": "REPLACE", "location": n }) } }) } }; return S }, $e = function invariant(e, t, r, n, o, i, a, s) { if (!e) { var c; if (void 0 === t) c = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else { var u = [r, n, o, i, a, s], l = 0; (c = new Error(t.replace(/%s/g, function () { return u[l++] }))).name = "Invariant Violation" } throw c.framesToPop = 1, c } }; var et = function arrayMap(e, t) { for (var r = -1, n = null == e ? 0 : e.length, o = Array(n); ++r < n;)o[r] = t(e[r], r, e); return o }; var tt = function baseToPairs(e, t) { return et(t, function (t) { return [t, e[t]] }) }, rt = V(f, "DataView"), nt = V(f, "Map"), ot = V(f, "Promise"), it = V(f, "Set"), at = V(f, "WeakMap"), st = D(rt), ct = D(nt), ut = D(ot), lt = D(it), ft = D(at), dt = A; (rt && "[object DataView]" != dt(new rt(new ArrayBuffer(1))) || nt && "[object Map]" != dt(new nt) || ot && "[object Promise]" != dt(ot.resolve()) || it && "[object Set]" != dt(new it) || at && "[object WeakMap]" != dt(new at)) && (dt = function getTag(e) { var t = A(e), r = "[object Object]" == t ? e.constructor : void 0, n = r ? D(r) : ""; if (n) switch (n) { case st: return "[object DataView]"; case ct: return "[object Map]"; case ut: return "[object Promise]"; case lt: return "[object Set]"; case ft: return "[object WeakMap]" }return t }); var pt = dt; var ht = function mapToArray(e) { var t = -1, r = Array(e.size); return e.forEach(function (e, n) { r[++t] = [n, e] }), r }; var mt = function setToPairs(e) { var t = -1, r = Array(e.size); return e.forEach(function (e) { r[++t] = [e, e] }), r }, gt = "[object Map]", vt = "[object Set]"; var yt, bt = function createToPairs(e) { return function (t) { var r = pt(t); return r == gt ? ht(t) : r == vt ? mt(t) : tt(t, e(t)) } }(He), St = function getScroller() { var e = document.querySelector(".taro-tabbar__panel"); return e ? { "set": function set(t) { e.scrollTop = t }, "get": function get() { return e.scrollTop } } : { "set": function set(e) { return window.scrollTo(0, e) }, "get": function get() { return window.pageYOffset } } }, _t = function (e) { function Route(e, t) { var r; return _classCallCheck(this, Route), (r = _possibleConstructorReturn(this, _getPrototypeOf(Route).call(this, e, t))).matched = !1, r.isRoute = !0, r.scrollPos = 0, r.state = { "location": {} }, r.getWrapRef = function (e) { e && (r.containerRef = e) }, r.getRef = function (e) { e && (e.props.location !== r.state.location && (e.props.location = r.state.location), r.componentRef = e, r.props.collectComponent(e, r.props.key)) }, r.matched = r.computeMatch(r.props.currentLocation), r.matched && (r.state = { "location": r.props.currentLocation }), r } return _inherits(Route, n["default"].Component), _createClass(Route, [{ "key": "computeMatch", "value": function computeMatch(e) { var t = e.path, r = e.state.key, n = this.props.isIndex, o = this.props.isTabBar; return void 0 !== r ? o ? r === this.props.key && t === this.props.path : r === this.props.key : n && "/" === t } }, { "key": "updateComponent", "value": function updateComponent() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.props; this.matched && this.componentRef && this.setState({ "location": t.currentLocation }, function () { e.componentRef.props.location = e.state.location }), t.componentLoader().then(function (r) { var n = r.default; if (!n) throw Error('Received a falsy component for route "'.concat(t.path, '". Forget to export it?')); var o = function createWrappedComponent(e) { return function (t) { function WrappedComponent(e, t) { var r; _classCallCheck(this, WrappedComponent); var n = (r = _possibleConstructorReturn(this, _getPrototypeOf(WrappedComponent).call(this, e, t))).componentDidShow; return r.componentDidShow = function newComponentDidShow() { var e = (this.config || { "navigationBarTitleText": null }).navigationBarTitleText; e && (document.title = e), Qe(n, this) }, r } return _inherits(WrappedComponent, e), _createClass(WrappedComponent, [{ "key": "componentDidMount", "value": function componentDidMount() { var e = _get(_getPrototypeOf(WrappedComponent.prototype), "componentDidMount", this); Qe(e, this), Qe(this.componentDidShow, this) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { var e = this.componentDidHide, t = _get(_getPrototypeOf(WrappedComponent.prototype), "componentWillUnmount", this); Qe(t, this), Qe(e, this) } }]), WrappedComponent }() }(n); e.wrappedComponent = o, e.forceUpdate() }).catch(function (e) { console.error(e) }) } }, { "key": "componentDidMount", "value": function componentDidMount() { (yt = yt || St()).set(0), this.updateComponent() } }, { "key": "componentWillReceiveProps", "value": function componentWillReceiveProps(e) { var t = this, r = e.isRedirect, n = this.matched, i = this.computeMatch(e.currentLocation); if (r) this.updateComponent(e); else if (n === i) return; this.matched = i, i ? r || (Object(o.s)(function () { t.showPage(), (yt = yt || St()).set(t.scrollPos) }), Qe(this.componentRef.componentDidShow, this.componentRef)) : (yt = yt || St(), this.scrollPos = yt.get(), Object(o.s)(function () { t.hidePage(), Qe(t.componentRef.componentDidHide, t.componentRef) })) } }, { "key": "shouldComponentUpdate", "value": function shouldComponentUpdate() { return !1 } }, { "key": "showPage", "value": function showPage() { var e = this.containerRef; if (!e) return console.error('showPage:fail Received a falsy component for route "'.concat(this.props.path, '". Forget to export it?')); e.style.display = "block" } }, { "key": "hidePage", "value": function hidePage() { var e = this.containerRef; if (!e) return console.error('hidePage:fail Received a falsy component for route "'.concat(this.props.path, '". Forget to export it?')); e.style.display = "none" } }, { "key": "render", "value": function render() { if (!this.wrappedComponent) return null; var e = this.wrappedComponent; return o.l.createElement("div", { "className": "taro_page", "ref": this.getWrapRef, "style": { "minHeight": "100%" } }, o.l.createElement(e, { "ref": this.getRef, "location": this.state.location })) } }]), Route }(), wt = function (e) { function Router() { var e; return _classCallCheck(this, Router), (e = _possibleConstructorReturn(this, _getPrototypeOf(Router).apply(this, arguments))).currentPages = [], e.customRoutes = [], e.state = { "location": e.props.history.location, "routeStack": [] }, e.collectComponent = function (t, r) { e.currentPages[Number(r) || 0] = t }, e } return _inherits(Router, n["default"].Component), _createClass(Router, [{ "key": "mountApis", "value": function mountApis() { var e = this; n.default.getCurrentPages = function () { return e.currentPages } } }, { "key": "computeMatch", "value": function computeMatch(e) { var t = e.path, r = t; if ("multi" === this.props.mode) return this.props.routes[0]; var o = this.customRoutes.filter(function (e) { var r = _slicedToArray(e, 2), n = (r[0], r[1]); return t === n }); o.length && (r = o[0][0]); var i = this.props.routes.filter(function (e) { var t = e.path; return !(!e.isIndex || "/" !== r) || r === t }); return !i[0] && n.default._$app && n.default._$app.componentDidNotFound && n.default._$app.componentDidNotFound.call(n.default._$app, { "path": r, "query": e.params }), $e(i[0], "Can not find proper registered route for '".concat(r, "'")), i[0] } }, { "key": "isTabBar", "value": function isTabBar(e) { var t = this.props.tabBar; return !!(e && t && t.list && t.list instanceof Array) && -1 !== t.list.findIndex(function (t) { return t.pagePath === e }) } }, { "key": "push", "value": function push(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r = _toConsumableArray(this.state.routeStack), n = this.computeMatch(e); r.forEach(function (e) { e.isRedirect = !1 }), r.push(We({}, n, { "key": e.state.key, "isRedirect": !1, "isTabBar": t })), this.setState({ "routeStack": r, "location": e }) } }, { "key": "pop", "value": function pop(e, t) { var r = _toConsumableArray(this.state.routeStack), n = Number(t.state.key), o = Number(e.state.key) - n; if (r.splice(o), 0 === r.length) { var i = this.computeMatch(e); r = [We({}, i, { "key": e.state.key, "isRedirect": !1 })] } this.setState({ "routeStack": r, "location": e }) } }, { "key": "replace", "value": function replace(e) { var t = _toConsumableArray(this.state.routeStack), r = this.computeMatch(e); t.splice(-1, 1, We({}, r, { "key": e.state.key, "isRedirect": !0 })), this.setState({ "routeStack": t, "location": e }) } }, { "key": "switch", "value": function _switch(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r = _toConsumableArray(this.state.routeStack), n = this.computeMatch(e), o = r.findIndex(function (t) { return t.path === e.path }); this.isTabBar(r[r.length - 1].path) ? -1 === o ? (r.forEach(function (e) { e.isRedirect = !1 }), r.push(We({}, n, { "key": e.state.key, "isRedirect": !1, "isTabBar": t }))) : e.state.key = r[o].key || "" : r.splice(-1, 1, We({}, n, { "key": e.state.key, "isRedirect": !0, "isTabBar": t })), this.setState({ "routeStack": r, "location": e }) } }, { "key": "componentDidMount", "value": function componentDidMount() { var e = this, t = this.props, r = t.history, n = t.customRoutes, o = t.mode; this.mountApis(), this.customRoutes = bt(n), this.unlisten = r.listen(function (t) { var n = t.fromLocation, o = t.toLocation, i = t.action; "POP" === i ? e.pop(o, n) : e.isTabBar(o.path) ? e.switch(o, !0) : "PUSH" === i ? e.push(o) : e.replace(o), e.lastLocation = r.location, e.setState({ "location": r.location }) }), this.lastLocation = r.location, this.push(this.lastLocation, this.isTabBar(this.lastLocation.path)), "multi" === o && this.unlisten() } }, { "key": "componentWillUpdate", "value": function componentWillUpdate(e, t) { n.default._$router && (this.currentPages.length = Number(n.default._$router.state.key) + 1) } }, { "key": "componentDidShow", "value": function componentDidShow() { n.default._$router && (this.currentPages.length = Number(n.default._$router.state.key) + 1) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { "multi" !== this.props.mode && this.unlisten() } }, { "key": "render", "value": function render() { var e = this, t = n.default._$router; return o.l.createElement("div", { "className": "taro_router", "style": { "height": "100%" } }, this.state.routeStack.map(function (r, n) { var i = r.path, a = r.componentLoader, s = r.isIndex, c = r.isTabBar, u = r.key, l = r.isRedirect; return o.l.createElement(_t, { "path": i, "currentLocation": t, "componentLoader": a, "isIndex": s, "key": u, "k": n, "isTabBar": c, "isRedirect": l, "collectComponent": e.collectComponent }) })) } }]), Router }(), At = "", Ct = "", Tt = function getTargetUrl(e, t) { var r = e.match(/([\s\S]*)(\?[\s\S]*)?/) || [], n = r[1] || "", o = r[2] || "", i = resolvePathname(n, Ct), a = function addHtmlExtname(e) { return /\.html\b/.test(e) ? e : "".concat(e, ".html") }(function stripLeadingSlash(e) { return "/" === e.charAt(0) ? e.substr(1) : e }(t[i] || i)); return "".concat(At, "/").concat(a).concat(o) }, Pt = function createNavigateTo(e, t) { var r = e.customRoutes; return function (e) { var o = e.url, i = { "errMsg": "" }; try { return $e(o, "navigateTo must be called with a url"), $e(function notTabbar(e) { var t = e.split("?")[0], r = n.default.getApp(); if (r && r.config) { var o = r.config; if (o.tabBar && o.tabBar.list && o.tabBar.list instanceof Array) return -1 === o.tabBar.list.findIndex(function (e) { return e.pagePath === t }) } return !0 }(o), "can not navigateTo a tabbar page"), /^(https?:)\/\//.test(o) ? window.location.assign(o) : t ? t.push(o) : window.location.assign(Tt(o, r)), i.errMsg = "navigateTo:ok", Promise.resolve(i) } catch (e) { return i.errMsg = "navigateTo:fail ".concat(e.message), Promise.reject(i) } } }, kt = function mountApis(e, t) { Ct = e.currentPagename, At = qe(e.basename), n.default.navigateTo = Pt(e, t), n.default.navigateBack = function createNavigateBack(e, t) { e.customRoutes; return function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = { "errMsg": "" }; try { var n = e.delta, o = void 0 === n ? 1 : n; return $e(o >= 0, "navigateBack must be called with a delta greater than 0"), t ? t.go(-o) : window.history.go(-o), r.errMsg = "navigateBack:ok", Promise.resolve(r) } catch (e) { return r.errMsg = "navigateBack:fail ".concat(e.message), Promise.reject(r) } } }(e, t), n.default.redirectTo = function createRedirectTo(e, t) { var r = e.customRoutes; return function (e) { var n = e.url, o = { "errMsg": "" }; try { return $e(n, "redirectTo must be called with a url"), /^(https?:)\/\//.test(n) && window.location.assign(n), t ? t.replace(n) : window.location.replace(Tt(n, r)), o.errMsg = "redirectTo:ok", Promise.resolve(o) } catch (e) { return o.errMsg = "redirectTo:fail ".concat(e.message), Promise.reject(o) } } }(e, t), n.default.reLaunch = function createReLaunch(e, t) { var r = e.customRoutes; try { var n = localStorage.getItem("__relaunchUrl"); n && (localStorage.setItem("__relaunchUrl", ""), location.replace(n)) } catch (e) { console.log(e.message) } return function (e) { var n = e.url; return new Promise(function (e, o) { var i = { "errMsg": "" }; try { setTimeout(function () { t ? /^(https?:)\/\//.test(n) ? window.location.assign(n) : t.replace(n) : (localStorage.setItem("__relaunchUrl", Tt(n, r)), window.history.go(-(window.history.length - 1))), i.errMsg = "reLaunch:ok", e(i) }, 50), t ? t.go(-(t.length - 1)) : window.history.go(-(window.history.length - 1)) } catch (e) { i.errMsg = "reLaunch:fail ".concat(e.message), o(i) } }) } }(e, t) } }).call(this, r(14)) }, function (e, t, r) { "use strict"; var n = r(18); function _extends() { return (_extends = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function _objectWithoutProperties(e, t) { if (null == e) return {}; var r, n, o = function _objectWithoutPropertiesLoose(e, t) { if (null == e) return {}; var r, n, o = {}, i = Object.keys(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) >= 0 || (o[r] = e[r]); return o }(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]) } return o } var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _typeof(e) { "@babel/helpers - typeof"; return (_typeof = "function" == typeof Symbol && "symbol" == o(Symbol.iterator) ? function (e) { return void 0 === e ? "undefined" : o(e) } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : o(e) })(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _toPropertyKey(e) { var t = function _toPrimitive(e, t) { if ("object" !== _typeof(e) || null === e) return e; var r = e[Symbol.toPrimitive]; if (void 0 !== r) { var n = r.call(e, t || "default"); if ("object" !== _typeof(n)) return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === t ? String : Number)(e) }(e, "string"); return "symbol" === _typeof(t) ? t : String(t) } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, _toPropertyKey(n.key), n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), Object.defineProperty(e, "prototype", { "writable": !1 }), e } function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), Object.defineProperty(e, "prototype", { "writable": !1 }), t && _setPrototypeOf(e, t) } function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(e) } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _defineProperty(e, t, r) { return (t = _toPropertyKey(t)) in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } var i = r(1), a = r(2), s = r.n(a), c = function (e, t, r) { if (r || 2 === arguments.length) for (var n, o = 0, i = t.length; o < i; o++)!n && o in t || (n || (n = Array.prototype.slice.call(t, 0, o)), n[o] = t[o]); return e.concat(n || Array.prototype.slice.call(t)) }, u = ["onKeyDown", "onKeyPress", "onKeyUp"], l = ["onClick", "onContextMenu", "onDoubleClick", "onMouseDown", "onMouseEnter", "onMouseLeave", "onMouseMove", "onMouseOut", "onMouseOver", "onMouseUp"], f = ["onTouchCancel", "onTouchEnd", "onTouchMove", "onTouchStart"], d = c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c([], ["onCopy", "onCut", "onPaste"], !0), ["onCompositionEnd", "onCompositionStart", "onCompositionUpdate"], !0), ["onFocus", "onBlur"], !0), ["onInput", "onInvalid", "onReset", "onSubmit"], !0), ["onLoad", "onError"], !0), u, !0), ["onAbort", "onCanPlay", "onCanPlayThrough", "onDurationChange", "onEmptied", "onEncrypted", "onEnded", "onError", "onLoadedData", "onLoadedMetadata", "onLoadStart", "onPause", "onPlay", "onPlaying", "onProgress", "onRateChange", "onSeeked", "onSeeking", "onStalled", "onSuspend", "onTimeUpdate", "onVolumeChange", "onWaiting"], !0), l, !0), ["onDrag", "onDragEnd", "onDragEnter", "onDragExit", "onDragLeave", "onDragOver", "onDragStart", "onDrop"], !0), ["onSelect"], !0), f, !0), ["onPointerDown", "onPointerMove", "onPointerUp", "onPointerCancel", "onGotPointerCapture", "onLostPointerCapture", "onPointerEnter", "onPointerLeave", "onPointerOver", "onPointerOut"], !0), ["onScroll"], !0), ["onWheel"], !0), ["onAnimationStart", "onAnimationEnd", "onAnimationIteration"], !0), ["onTransitionEnd"], !0), ["onChange"], !0), ["onToggle"], !0); function makeEventProps(e, t) { var r = {}; return d.forEach(function (n) { var o = e[n]; o && (r[n] = t ? function (e) { return o(e, t(n)) } : o) }), r } function makeCancellablePromise(e) { var t = !1; return { "promise": new Promise(function (r, n) { e.then(function (e) { return !t && r(e) }).catch(function (e) { return !t && n(e) }) }), "cancel": function cancel() { t = !0 } } } function mergeClassNames() { return Array.prototype.slice.call(arguments).reduce(function (e, t) { return e.concat(t) }, []).filter(function (e) { return "string" == typeof e }).join(" ") } var p = !0, h = "Invariant failed"; function invariant(e, t) { if (!e) { if (p) throw new Error(h); var r = "function" == typeof t ? t() : t, n = r ? "".concat(h, ": ").concat(r) : h; throw new Error(n) } } var m = !0; var g = function warning(e, t) { if (!m) { if (e) return; var r = "Warning: " + t; "undefined" != typeof console && console.warn(r); try { throw Error(r) } catch (e) { } } }, v = Object(i.g)(null); function Message(e) { var t = e.children, r = e.type; return i.l.createElement("div", { "className": "react-pdf__message react-pdf__message--".concat(r) }, t) } Message.propTypes = { "children": s.a.node, "type": s.a.oneOf(["error", "loading", "no-data"]).isRequired }; var y = function () { function LinkService() { _classCallCheck(this, LinkService), this.externalLinkTarget = null, this.externalLinkRel = null } return _createClass(LinkService, [{ "key": "setDocument", "value": function setDocument(e) { this.pdfDocument = e } }, { "key": "setViewer", "value": function setViewer(e) { this.pdfViewer = e } }, { "key": "setExternalLinkRel", "value": function setExternalLinkRel(e) { this.externalLinkRel = e } }, { "key": "setExternalLinkTarget", "value": function setExternalLinkTarget(e) { this.externalLinkTarget = e } }, { "key": "setHistory", "value": function setHistory() { } }, { "key": "pagesCount", "get": function get() { return this.pdfDocument ? this.pdfDocument.numPages : 0 } }, { "key": "page", "get": function get() { return this.pdfViewer.currentPageNumber }, "set": function set(e) { this.pdfViewer.currentPageNumber = e } }, { "key": "rotation", "get": function get() { return 0 }, "set": function set(e) { } }, { "key": "goToDestination", "value": function goToDestination(e) { var t = this; new Promise(function (r) { "string" == typeof e ? t.pdfDocument.getDestination(e).then(r) : Array.isArray(e) ? r(e) : e.then(r) }).then(function (r) { invariant(Array.isArray(r), '"'.concat(r, '" is not a valid destination array.')); var n = r[0]; new Promise(function (e) { n instanceof Object ? t.pdfDocument.getPageIndex(n).then(function (t) { e(t) }).catch(function () { invariant(!1, '"'.concat(n, '" is not a valid page reference.')) }) : "number" == typeof n ? e(n) : invariant(!1, '"'.concat(n, '" is not a valid destination reference.')) }).then(function (r) { var n = r + 1; invariant(n >= 1 && n <= t.pagesCount, '"'.concat(n, '" is not a valid page number.')), t.pdfViewer.scrollPageIntoView({ "dest": e, "pageIndex": r, "pageNumber": n }) }) }) } }, { "key": "navigateTo", "value": function navigateTo(e) { this.goToDestination(e) } }, { "key": "goToPage", "value": function goToPage() { } }, { "key": "addLinkAttributes", "value": function addLinkAttributes(e, t, r) { e.href = t, e.rel = this.externalLinkRel || "noopener noreferrer nofollow", e.target = r ? "_blank" : this.externalLinkTarget || "" } }, { "key": "getDestinationHash", "value": function getDestinationHash() { return "#" } }, { "key": "getAnchorUrl", "value": function getAnchorUrl() { return "#" } }, { "key": "setHash", "value": function setHash() { } }, { "key": "executeNamedAction", "value": function executeNamedAction() { } }, { "key": "cachePageRef", "value": function cachePageRef() { } }, { "key": "isPageVisible", "value": function isPageVisible() { return !0 } }, { "key": "isPageCached", "value": function isPageCached() { return !0 } }]), LinkService }(), b = { "NEED_PASSWORD": 1, "INCORRECT_PASSWORD": 2 }; function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? _arrayLikeToArray(e, t) : void 0 } } function _slicedToArray(e, t) { return function _arrayWithHoles(e) { if (Array.isArray(e)) return e }(e) || function _iterableToArrayLimit(e, t) { var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != r) { var n, o, i, a, s = [], c = !0, u = !1; try { if (i = (r = r.call(e)).next, 0 === t) { if (Object(r) !== r) return; c = !1 } else for (; !(c = (n = i.call(r)).done) && (s.push(n.value), s.length !== t); c = !0); } catch (e) { u = !0, o = e } finally { try { if (!c && null != r.return && (a = r.return(), Object(a) !== a)) return } finally { if (u) throw o } } return s } }(e, t) || _unsupportedIterableToArray(e, t) || function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } var S = "undefined" != typeof window, _ = S && "file:" === window.location.protocol; function isDefined(e) { return void 0 !== e } function isProvided(e) { return isDefined(e) && null !== e } function isDataURI(e) { return function isString(e) { return "string" == typeof e }(e) && /^data:/.test(e) } function dataURItoByteString(e) { invariant(isDataURI(e), "Invalid data URI."); var t = _slicedToArray(e.split(","), 2), r = t[0], n = t[1]; return -1 !== r.split(";").indexOf("base64") ? atob(n) : unescape(n) } var w = "On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes."; function displayCORSWarning() { g(!_, "Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(w)) } function cancelRunningTask(e) { e && e.cancel && e.cancel() } function makePageCallback(e, t) { return Object.defineProperty(e, "width", { "get": function get() { return this.view[2] * t }, "configurable": !0 }), Object.defineProperty(e, "height", { "get": function get() { return this.view[3] * t }, "configurable": !0 }), Object.defineProperty(e, "originalWidth", { "get": function get() { return this.view[2] }, "configurable": !0 }), Object.defineProperty(e, "originalHeight", { "get": function get() { return this.view[3] }, "configurable": !0 }), e } function isCancelException(e) { return "RenderingCancelledException" === e.name } function _toConsumableArray(e) { return function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) }(e) || function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || _unsupportedIterableToArray(e) || function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } var A, C = (A = {}, [].concat(_toConsumableArray(l), _toConsumableArray(f), _toConsumableArray(u)).forEach(function (e) { A[e] = s.a.func }), A), T = [s.a.string, s.a.instanceOf(ArrayBuffer), s.a.shape({ "data": s.a.oneOfType([s.a.object, s.a.string]), "httpHeaders": s.a.object, "range": s.a.object, "url": s.a.string, "withCredentials": s.a.bool })]; "undefined" != typeof File && T.push(s.a.instanceOf(File)), "undefined" != typeof Blob && T.push(s.a.instanceOf(Blob)); var P = s.a.oneOfType([s.a.string, s.a.arrayOf(s.a.string)]), k = s.a.oneOfType(T), E = s.a.instanceOf(y), x = (s.a.oneOf(["_self", "_blank", "_parent", "_top"]), s.a.shape({ "_transport": s.a.shape({ "fontLoader": s.a.object.isRequired }).isRequired, "commonObjs": s.a.shape({ "_objs": s.a.object.isRequired }).isRequired, "getAnnotations": s.a.func.isRequired, "getTextContent": s.a.func.isRequired, "getViewport": s.a.func.isRequired, "render": s.a.func.isRequired })), O = s.a.oneOfType([s.a.shape({ "getDestination": s.a.func.isRequired, "getOutline": s.a.func.isRequired, "getPage": s.a.func.isRequired, "numPages": s.a.number.isRequired }), s.a.bool]), I = s.a.oneOfType([s.a.func, s.a.shape({ "current": s.a.any })]), R = s.a.oneOf(["canvas", "none", "svg"]), M = s.a.oneOf([0, 90, 180, 270]), B = ["url"]; function ownKeys(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function _objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? ownKeys(Object(r), !0).forEach(function (t) { _defineProperty(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var D = n.PDFDataRangeTransport, j = function (e) { _inherits(Document, i["e"]); var t = _createSuper(Document); function Document() { var e; _classCallCheck(this, Document); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(o))), "state", { "pdf": null }), _defineProperty(_assertThisInitialized(e), "viewer", { "scrollPageIntoView": function scrollPageIntoView(t) { var r = t.dest, n = t.pageIndex, o = t.pageNumber, i = e.props.onItemClick; if (i) i({ "dest": r, "pageIndex": n, "pageNumber": o }); else { var a = e.pages[n]; a ? a.scrollIntoView() : g(!1, "An internal link leading to page ".concat(o, " was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.")) } } }), _defineProperty(_assertThisInitialized(e), "linkService", new y), _defineProperty(_assertThisInitialized(e), "loadDocument", function () { cancelRunningTask(e.runningTask), e.loadingTask && e.loadingTask.destroy(); var t = makeCancellablePromise(e.findDocumentSource()); e.runningTask = t, t.promise.then(function (t) { if (e.onSourceSuccess(), t) { e.setState(function (e) { return e.pdf ? { "pdf": null } : null }); var r = e.props, o = r.options, i = r.onLoadProgress, a = r.onPassword; e.loadingTask = n.getDocument(_objectSpread(_objectSpread({}, t), o)), e.loadingTask.onPassword = a, i && (e.loadingTask.onProgress = i); var s = makeCancellablePromise(e.loadingTask.promise); e.runningTask = s, s.promise.then(function (t) { e.setState(function (e) { return e.pdf && e.pdf.fingerprint === t.fingerprint ? null : { "pdf": t } }, e.onLoadSuccess) }).catch(function (t) { e.onLoadError(t) }) } }).catch(function (t) { e.onSourceError(t) }) }), _defineProperty(_assertThisInitialized(e), "setupLinkService", function () { var t = e.props, r = t.externalLinkRel, n = t.externalLinkTarget; e.linkService.setViewer(e.viewer), e.linkService.setExternalLinkRel(r), e.linkService.setExternalLinkTarget(n) }), _defineProperty(_assertThisInitialized(e), "onSourceSuccess", function () { var t = e.props.onSourceSuccess; t && t() }), _defineProperty(_assertThisInitialized(e), "onSourceError", function (t) { g(t); var r = e.props.onSourceError; r && r(t) }), _defineProperty(_assertThisInitialized(e), "onLoadSuccess", function () { var t = e.props.onLoadSuccess, r = e.state.pdf; t && t(r), e.pages = new Array(r.numPages), e.linkService.setDocument(r) }), _defineProperty(_assertThisInitialized(e), "onLoadError", function (t) { e.setState({ "pdf": !1 }), g(t); var r = e.props.onLoadError; r && r(t) }), _defineProperty(_assertThisInitialized(e), "findDocumentSource", function () { return new Promise(function (t) { var r = e.props.file; if (r || t(null), "string" == typeof r) { if (isDataURI(r)) { var n = dataURItoByteString(r); t({ "data": n }) } displayCORSWarning(), t({ "url": r }) } if (r instanceof D && t({ "range": r }), function isArrayBuffer(e) { return e instanceof ArrayBuffer }(r) && t({ "data": r }), S && (function isBlob(e) { return invariant(S, "isBlob can only be used in a browser environment"), e instanceof Blob }(r) || function isFile(e) { return invariant(S, "isFile can only be used in a browser environment"), e instanceof File }(r))) (function loadFromFile(e) { return new Promise(function (t, r) { var n = new FileReader; return n.onload = function () { return t(new Uint8Array(n.result)) }, n.onerror = function (e) { switch (e.target.error.code) { case e.target.error.NOT_FOUND_ERR: return r(new Error("Error while reading a file: File not found.")); case e.target.error.NOT_READABLE_ERR: return r(new Error("Error while reading a file: File not readable.")); case e.target.error.SECURITY_ERR: return r(new Error("Error while reading a file: Security error.")); case e.target.error.ABORT_ERR: return r(new Error("Error while reading a file: Aborted.")); default: return r(new Error("Error while reading a file.")) } }, n.readAsArrayBuffer(e), null }) })(r).then(function (e) { t({ "data": e }) }); else { if (invariant("object" === _typeof(r), "Invalid parameter in file, need either Uint8Array, string or a parameter object"), invariant(r.url || r.data || r.range, "Invalid parameter object: need either .data, .range or .url"), "string" == typeof r.url) { if (isDataURI(r.url)) { var o = r.url, i = _objectWithoutProperties(r, B), a = dataURItoByteString(o); t(_objectSpread({ "data": a }, i)) } displayCORSWarning() } t(r) } }) }), _defineProperty(_assertThisInitialized(e), "registerPage", function (t, r) { e.pages[t] = r }), _defineProperty(_assertThisInitialized(e), "unregisterPage", function (t) { delete e.pages[t] }), e } return _createClass(Document, [{ "key": "componentDidMount", "value": function componentDidMount() { this.loadDocument(), this.setupLinkService() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { this.props.file !== e.file && this.loadDocument() } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { cancelRunningTask(this.runningTask), this.loadingTask && this.loadingTask.destroy() } }, { "key": "childContext", "get": function get() { var e = this.linkService, t = this.registerPage, r = this.unregisterPage, n = this.props, o = n.imageResourcesPath, i = n.renderMode, a = n.rotate; return { "imageResourcesPath": o, "linkService": e, "pdf": this.state.pdf, "registerPage": t, "renderMode": i, "rotate": a, "unregisterPage": r } } }, { "key": "eventProps", "get": function get() { var e = this; return makeEventProps(this.props, function () { return e.state.pdf }) } }, { "key": "renderChildren", "value": function renderChildren() { var e = this.props.children; return i.l.createElement(v.Provider, { "value": this.childContext }, e) } }, { "key": "renderContent", "value": function renderContent() { var e = this.props.file, t = this.state.pdf; if (!e) { var r = this.props.noData; return i.l.createElement(Message, { "type": "no-data" }, "function" == typeof r ? r() : r) } if (null === t) { var n = this.props.loading; return i.l.createElement(Message, { "type": "loading" }, "function" == typeof n ? n() : n) } if (!1 === t) { var o = this.props.error; return i.l.createElement(Message, { "type": "error" }, "function" == typeof o ? o() : o) } return this.renderChildren() } }, { "key": "render", "value": function render() { var e = this.props, t = e.className, r = e.inputRef; return i.l.createElement("div", _extends({ "className": mergeClassNames("react-pdf__Document", t), "ref": r }, this.eventProps), this.renderContent()) } }]), Document }(); j.defaultProps = { "error": "Failed to load PDF file.", "loading": "Loading PDF…", "noData": "No PDF file specified.", "onPassword": function onPassword(e, t) { switch (t) { case b.NEED_PASSWORD: e(prompt("Enter the password to open this PDF file.")); break; case b.INCORRECT_PASSWORD: e(prompt("Invalid password. Please try again.")) } } }; var F = s.a.oneOfType([s.a.func, s.a.node]); j.propTypes = _objectSpread(_objectSpread({}, C), {}, { "children": s.a.node, "className": P, "error": F, "externalLinkRel": s.a.string, "externalLinkTarget": s.a.string, "file": k, "imageResourcesPath": s.a.string, "inputRef": I, "loading": F, "noData": F, "onItemClick": s.a.func, "onLoadError": s.a.func, "onLoadProgress": s.a.func, "onLoadSuccess": s.a.func, "onPassword": s.a.func, "onSourceError": s.a.func, "onSourceSuccess": s.a.func, "rotate": s.a.number }); var L = Object(i.g)(null), N = function () { function Ref(e) { var t = e.num, r = e.gen; _classCallCheck(this, Ref), this.num = t, this.gen = r } return _createClass(Ref, [{ "key": "toString", "value": function toString() { var e = "".concat(this.num, "R"); return 0 !== this.gen && (e += this.gen), e } }]), Ref }(), H = ["item"]; function OutlineItem_createSuper(e) { var t = function OutlineItem_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var U = function (e) { _inherits(OutlineItemInternal, i["e"]); var t = OutlineItem_createSuper(OutlineItemInternal); function OutlineItemInternal() { var e; _classCallCheck(this, OutlineItemInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "getDestination", function () { return new Promise(function (t, r) { var n = e.props, o = n.item, i = n.pdf; return isDefined(e.destination) || ("string" == typeof o.dest ? i.getDestination(o.dest).then(t).catch(r) : t(o.dest)), e.destination }).then(function (t) { return e.destination = t, t }) }), _defineProperty(_assertThisInitialized(e), "getPageIndex", function () { return new Promise(function (t, r) { var n = e.props.pdf; isDefined(e.pageIndex) && t(e.pageIndex), e.getDestination().then(function (e) { if (e) { var o = _slicedToArray(e, 1)[0]; n.getPageIndex(new N(o)).then(t).catch(r) } }) }).then(function (t) { return e.pageIndex = t, e.pageIndex }) }), _defineProperty(_assertThisInitialized(e), "getPageNumber", function () { return new Promise(function (t, r) { isDefined(e.pageNumber) && t(e.pageNumber), e.getPageIndex().then(function (e) { t(e + 1) }).catch(r) }).then(function (t) { return e.pageNumber = t, t }) }), _defineProperty(_assertThisInitialized(e), "onClick", function (t) { var r = e.props.onClick; return t.preventDefault(), !!r && Promise.all([e.getDestination(), e.getPageIndex(), e.getPageNumber()]).then(function (e) { var t = _slicedToArray(e, 3), n = t[0], o = t[1], i = t[2]; r({ "dest": n, "pageIndex": o, "pageNumber": i }) }) }), e } return _createClass(OutlineItemInternal, [{ "key": "renderSubitems", "value": function renderSubitems() { var e = this.props, t = e.item, r = _objectWithoutProperties(e, H); if (!t.items || !t.items.length) return null; var n = t.items; return i.l.createElement("ul", null, n.map(function (e, t) { return i.l.createElement(OutlineItemInternal, _extends({ "key": "string" == typeof e.destination ? e.destination : t, "item": e }, r)) })) } }, { "key": "render", "value": function render() { var e = this.props.item; return i.l.createElement("li", null, i.l.createElement("a", { "href": "#", "onClick": this.onClick }, e.title), this.renderSubitems()) } }]), OutlineItemInternal }(), W = s.a.oneOfType([s.a.string, s.a.arrayOf(s.a.any)]); U.propTypes = { "item": s.a.shape({ "dest": W, "items": s.a.arrayOf(s.a.shape({ "dest": W, "title": s.a.string })), "title": s.a.string }).isRequired, "onClick": s.a.func, "pdf": O.isRequired }; var G = function OutlineItem(e) { return i.l.createElement(v.Consumer, null, function (t) { return i.l.createElement(L.Consumer, null, function (r) { return i.l.createElement(U, _extends({}, t, r, e)) }) }) }; function Outline_ownKeys(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function Outline_createSuper(e) { var t = function Outline_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var V = function (e) { _inherits(OutlineInternal, i["e"]); var t = Outline_createSuper(OutlineInternal); function OutlineInternal() { var e; _classCallCheck(this, OutlineInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "state", { "outline": null }), _defineProperty(_assertThisInitialized(e), "loadOutline", function () { var t = e.props.pdf; e.setState(function (e) { return e.outline ? { "outline": null } : null }); var r = makeCancellablePromise(t.getOutline()); e.runningTask = r, r.promise.then(function (t) { e.setState({ "outline": t }, e.onLoadSuccess) }).catch(function (t) { e.onLoadError(t) }) }), _defineProperty(_assertThisInitialized(e), "onLoadSuccess", function () { var t = e.props.onLoadSuccess, r = e.state.outline; t && t(r) }), _defineProperty(_assertThisInitialized(e), "onLoadError", function (t) { e.setState({ "outline": !1 }), g(t); var r = e.props.onLoadError; r && r(t) }), _defineProperty(_assertThisInitialized(e), "onItemClick", function (t) { var r = t.dest, n = t.pageIndex, o = t.pageNumber, i = e.props.onItemClick; i && i({ "dest": r, "pageIndex": n, "pageNumber": o }) }), e } return _createClass(OutlineInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { invariant(this.props.pdf, "Attempted to load an outline, but no document was specified."), this.loadOutline() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { var t = this.props.pdf; e.pdf && t !== e.pdf && this.loadOutline() } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { cancelRunningTask(this.runningTask) } }, { "key": "childContext", "get": function get() { return { "onClick": this.onItemClick } } }, { "key": "eventProps", "get": function get() { var e = this; return makeEventProps(this.props, function () { return e.state.outline }) } }, { "key": "renderOutline", "value": function renderOutline() { var e = this.state.outline; return i.l.createElement("ul", null, e.map(function (e, t) { return i.l.createElement(G, { "key": "string" == typeof e.destination ? e.destination : t, "item": e }) })) } }, { "key": "render", "value": function render() { var e = this.props.pdf, t = this.state.outline; if (!e || !t) return null; var r = this.props, n = r.className, o = r.inputRef; return i.l.createElement("div", _extends({ "className": mergeClassNames("react-pdf__Outline", n), "ref": o }, this.eventProps), i.l.createElement(L.Provider, { "value": this.childContext }, this.renderOutline())) } }]), OutlineInternal }(); V.propTypes = function Outline_objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? Outline_ownKeys(Object(r), !0).forEach(function (t) { _defineProperty(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Outline_ownKeys(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e }({ "className": P, "inputRef": I, "onItemClick": s.a.func, "onLoadError": s.a.func, "onLoadSuccess": s.a.func, "pdf": O }, C); function mergeRefs() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var r = e.filter(Boolean); return r.length <= 1 ? r[0] || null : function mergedRefs(e) { r.forEach(function (t) { "function" == typeof t ? t(e) : t && (t.current = e) }) } } var q = Object(i.g)(null); function PageCanvas_createSuper(e) { var t = function PageCanvas_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var z = n.AnnotationMode, X = function (e) { _inherits(PageCanvasInternal, i["e"]); var t = PageCanvas_createSuper(PageCanvasInternal); function PageCanvasInternal() { var e; _classCallCheck(this, PageCanvasInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "canvasElement", Object(i.k)()), _defineProperty(_assertThisInitialized(e), "onRenderSuccess", function () { e.renderer = null; var t = e.props, r = t.onRenderSuccess, n = t.page, o = t.scale; r && r(makePageCallback(n, o)) }), _defineProperty(_assertThisInitialized(e), "onRenderError", function (t) { if (!isCancelException(t)) { g(t); var r = e.props.onRenderError; r && r(t) } }), _defineProperty(_assertThisInitialized(e), "drawPageOnCanvas", function () { var t = e.canvasElement.current; if (!t) return null; var r = _assertThisInitialized(e), n = r.renderViewport, o = r.viewport, i = e.props, a = i.canvasBackground, s = i.page, c = i.renderForms; t.width = n.width, t.height = n.height, t.style.width = "".concat(Math.floor(o.width), "px"), t.style.height = "".concat(Math.floor(o.height), "px"); var u = { "annotationMode": c ? z.ENABLE_FORMS : z.ENABLE, get "canvasContext"() { return t.getContext("2d") }, "viewport": n }; return a && (u.background = a), e.cancelRenderingTask(), e.renderer = s.render(u), e.renderer.promise.then(e.onRenderSuccess).catch(e.onRenderError) }), e } return _createClass(PageCanvasInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { this.drawPageOnCanvas() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { var t = this.props, r = t.canvasBackground, n = t.page, o = t.renderForms; r === e.canvasBackground && o === e.renderForms || (n.cleanup(), this.drawPageOnCanvas()) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { this.cancelRenderingTask(); var e = this.canvasElement.current; e && (e.width = 0, e.height = 0) } }, { "key": "cancelRenderingTask", "value": function cancelRenderingTask() { this.renderer && (this.renderer.cancel(), this.renderer = null) } }, { "key": "renderViewport", "get": function get() { var e = this.props, t = e.page, r = e.rotate, n = e.scale, o = function getPixelRatio() { return S && window.devicePixelRatio || 1 }(); return t.getViewport({ "scale": n * o, "rotation": r }) } }, { "key": "viewport", "get": function get() { var e = this.props, t = e.page, r = e.rotate, n = e.scale; return t.getViewport({ "scale": n, "rotation": r }) } }, { "key": "render", "value": function render() { var e = this.props.canvasRef; return i.l.createElement("canvas", { "className": "react-pdf__Page__canvas", "dir": "ltr", "ref": mergeRefs(e, this.canvasElement), "style": { "display": "block", "userSelect": "none" } }) } }]), PageCanvasInternal }(); function PageCanvas(e) { return i.l.createElement(q.Consumer, null, function (t) { return i.l.createElement(X, _extends({}, t, e)) }) } function PageSVG_createSuper(e) { var t = function PageSVG_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } X.propTypes = { "canvasBackground": s.a.string, "canvasRef": I, "onRenderError": s.a.func, "onRenderSuccess": s.a.func, "page": x.isRequired, "renderForms": s.a.bool, "rotate": M, "scale": s.a.number.isRequired }; var Q = function (e) { _inherits(PageSVGInternal, i["e"]); var t = PageSVG_createSuper(PageSVGInternal); function PageSVGInternal() { var e; _classCallCheck(this, PageSVGInternal); for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++)o[i] = arguments[i]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(o))), "state", { "svg": null }), _defineProperty(_assertThisInitialized(e), "onRenderSuccess", function () { e.renderer = null; var t = e.props, r = t.onRenderSuccess, n = t.page, o = t.scale; r && r(makePageCallback(n, o)) }), _defineProperty(_assertThisInitialized(e), "onRenderError", function (t) { if (!isCancelException(t)) { g(t); var r = e.props.onRenderError; r && r(t) } }), _defineProperty(_assertThisInitialized(e), "renderSVG", function () { var t = e.props.page; return e.renderer = t.getOperatorList(), e.renderer.then(function (r) { var o = new n.SVGGraphics(t.commonObjs, t.objs); e.renderer = o.getSVG(r, e.viewport).then(function (t) { e.setState({ "svg": t }, e.onRenderSuccess) }).catch(e.onRenderError) }).catch(e.onRenderError) }), _defineProperty(_assertThisInitialized(e), "drawPageOnContainer", function (t) { var r = e.state.svg; if (t && r) { t.firstElementChild || t.appendChild(r); var n = e.viewport, o = n.width, i = n.height; r.setAttribute("width", o), r.setAttribute("height", i) } }), e } return _createClass(PageSVGInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { this.renderSVG() } }, { "key": "viewport", "get": function get() { var e = this.props, t = e.page, r = e.rotate, n = e.scale; return t.getViewport({ "scale": n, "rotation": r }) } }, { "key": "render", "value": function render() { var e = this, t = this.viewport, r = t.width, n = t.height; return i.l.createElement("div", { "className": "react-pdf__Page__svg", "ref": function ref(t) { return e.drawPageOnContainer(t) }, "style": { "display": "block", "backgroundColor": "white", "overflow": "hidden", "width": r, "height": n, "userSelect": "none" } }) } }]), PageSVGInternal }(); function PageSVG(e) { return i.l.createElement(q.Consumer, null, function (t) { return i.l.createElement(Q, _extends({}, t, e)) }) } function TextLayerItem_createSuper(e) { var t = function TextLayerItem_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } Q.propTypes = { "onRenderError": s.a.func, "onRenderSuccess": s.a.func, "page": x.isRequired, "rotate": M, "scale": s.a.number.isRequired }; var K = function (e) { _inherits(TextLayerItemInternal, i["e"]); var t = TextLayerItem_createSuper(TextLayerItemInternal); function TextLayerItemInternal() { var e; _classCallCheck(this, TextLayerItemInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "itemElement", Object(i.k)()), _defineProperty(_assertThisInitialized(e), "getElementWidth", function (t) { var r = _assertThisInitialized(e).sideways; return t.getBoundingClientRect()[r ? "height" : "width"] }), e } return _createClass(TextLayerItemInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { this.alignTextItem() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate() { this.alignTextItem() } }, { "key": "unrotatedViewport", "get": function get() { var e = this.props, t = e.page, r = e.scale; return t.getViewport({ "scale": r }) } }, { "key": "rotate", "get": function get() { var e = this.props, t = e.page; return e.rotate - t.rotate } }, { "key": "sideways", "get": function get() { return this.rotate % 180 != 0 } }, { "key": "defaultSideways", "get": function get() { return this.unrotatedViewport.rotation % 180 != 0 } }, { "key": "fontSize", "get": function get() { var e = this.props.transform, t = this.defaultSideways, r = _slicedToArray(e, 2), n = r[0], o = r[1]; return t ? o : n } }, { "key": "top", "get": function get() { var e = this.props.transform, t = this.unrotatedViewport, r = this.defaultSideways, n = _slicedToArray(e, 6), o = n[2], i = n[3], a = n[4], s = n[5], c = _slicedToArray(t.viewBox, 4), u = c[1], l = c[3]; return r ? a + o + u : l - (s + i) } }, { "key": "left", "get": function get() { var e = this.props.transform, t = this.unrotatedViewport, r = this.defaultSideways, n = _slicedToArray(e, 6), o = n[4], i = n[5], a = _slicedToArray(t.viewBox, 1)[0]; return r ? i - a : o - a } }, { "key": "getFontData", "value": function getFontData(e) { var t = this.props.page; return new Promise(function (r) { t.commonObjs.get(e, r) }) } }, { "key": "alignTextItem", "value": function alignTextItem() { var e = this, t = this.itemElement.current; if (t) { t.style.transform = ""; var r = this.props, n = r.fontName, o = r.scale, i = r.width; t.style.fontFamily = "".concat(n, ", sans-serif"), this.getFontData(n).then(function (r) { var a = r ? r.fallbackName : "sans-serif"; t.style.fontFamily = "".concat(n, ", ").concat(a); var s = i * o, c = e.getElementWidth(t), u = "scaleX(".concat(s / c, ")"), l = r ? r.ascent : 0; l && (u += " translateY(".concat(100 * (1 - l), "%)")), t.style.transform = u, t.style.WebkitTransform = u }) } } }, { "key": "render", "value": function render() { var e = this.fontSize, t = this.top, r = this.left, n = this.props, o = n.customTextRenderer, a = n.scale, s = n.str; return i.l.createElement("span", { "ref": this.itemElement, "style": { "height": "1em", "fontFamily": "sans-serif", "fontSize": "".concat(e * a, "px"), "position": "absolute", "top": "".concat(t * a, "px"), "left": "".concat(r * a, "px"), "transformOrigin": "left bottom", "whiteSpace": "pre", "pointerEvents": "all" } }, o ? o(this.props) : s) } }]), TextLayerItemInternal }(); function TextLayerItem(e) { return i.l.createElement(q.Consumer, null, function (t) { return i.l.createElement(K, _extends({}, t, e)) }) } function TextLayer_createSuper(e) { var t = function TextLayer_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } K.propTypes = { "customTextRenderer": s.a.func, "fontName": s.a.string.isRequired, "itemIndex": s.a.number.isRequired, "page": x.isRequired, "rotate": M, "scale": s.a.number, "str": s.a.string.isRequired, "transform": s.a.arrayOf(s.a.number).isRequired, "width": s.a.number.isRequired }; var Y = function (e) { _inherits(TextLayerInternal, i["e"]); var t = TextLayer_createSuper(TextLayerInternal); function TextLayerInternal() { var e; _classCallCheck(this, TextLayerInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "state", { "textItems": null }), _defineProperty(_assertThisInitialized(e), "loadTextItems", function () { var t = makeCancellablePromise(e.props.page.getTextContent()); e.runningTask = t, t.promise.then(function (t) { var r = t.items; e.setState({ "textItems": r }, e.onLoadSuccess) }).catch(function (t) { e.onLoadError(t) }) }), _defineProperty(_assertThisInitialized(e), "onLoadSuccess", function () { var t = e.props.onGetTextSuccess, r = e.state.textItems; t && t(r) }), _defineProperty(_assertThisInitialized(e), "onLoadError", function (t) { e.setState({ "textItems": !1 }), g(t); var r = e.props.onGetTextError; r && r(t) }), e } return _createClass(TextLayerInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { invariant(this.props.page, "Attempted to load page text content, but no page was specified."), this.loadTextItems() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { var t = this.props.page; e.page && t !== e.page && this.loadTextItems() } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { cancelRunningTask(this.runningTask) } }, { "key": "unrotatedViewport", "get": function get() { var e = this.props, t = e.page, r = e.scale; return t.getViewport({ "scale": r }) } }, { "key": "rotate", "get": function get() { var e = this.props, t = e.page; return e.rotate - t.rotate } }, { "key": "renderTextItems", "value": function renderTextItems() { var e = this.state.textItems; return e ? e.map(function (e, t) { return i.l.createElement(TextLayerItem, _extends({ "key": t, "itemIndex": t }, e)) }) : null } }, { "key": "render", "value": function render() { var e = this.unrotatedViewport, t = this.rotate; return i.l.createElement("div", { "className": "react-pdf__Page__textContent", "style": { "position": "absolute", "top": "50%", "left": "50%", "width": "".concat(e.width, "px"), "height": "".concat(e.height, "px"), "color": "transparent", "transform": "translate(-50%, -50%) rotate(".concat(t, "deg)"), "WebkitTransform": "translate(-50%, -50%) rotate(".concat(t, "deg)"), "pointerEvents": "none" } }, this.renderTextItems()) } }]), TextLayerInternal }(); function TextLayer(e) { return i.l.createElement(q.Consumer, null, function (t) { return i.l.createElement(Y, _extends({}, t, e)) }) } function AnnotationLayer_createSuper(e) { var t = function AnnotationLayer_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } Y.propTypes = { "onGetTextError": s.a.func, "onGetTextSuccess": s.a.func, "page": x.isRequired, "rotate": M, "scale": s.a.number }; var J = function (e) { _inherits(AnnotationLayerInternal, i["e"]); var t = AnnotationLayer_createSuper(AnnotationLayerInternal); function AnnotationLayerInternal() { var e; _classCallCheck(this, AnnotationLayerInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "state", { "annotations": null }), _defineProperty(_assertThisInitialized(e), "layerElement", Object(i.k)()), _defineProperty(_assertThisInitialized(e), "loadAnnotations", function () { var t = makeCancellablePromise(e.props.page.getAnnotations()); e.runningTask = t, t.promise.then(function (t) { e.setState({ "annotations": t }, e.onLoadSuccess) }).catch(function (t) { e.onLoadError(t) }) }), _defineProperty(_assertThisInitialized(e), "onLoadSuccess", function () { var t = e.props.onGetAnnotationsSuccess, r = e.state.annotations; t && t(r) }), _defineProperty(_assertThisInitialized(e), "onLoadError", function (t) { e.setState({ "annotations": !1 }), g(t); var r = e.props.onGetAnnotationsError; r && r(t) }), _defineProperty(_assertThisInitialized(e), "onRenderSuccess", function () { var t = e.props.onRenderAnnotationLayerSuccess; t && t() }), _defineProperty(_assertThisInitialized(e), "onRenderError", function (t) { g(t); var r = e.props.onRenderAnnotationLayerError; r && r(t) }), e } return _createClass(AnnotationLayerInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { invariant(this.props.page, "Attempted to load page annotations, but no page was specified."), this.loadAnnotations() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { var t = this.props, r = t.page, n = t.renderForms; (e.page && r !== e.page || n !== e.renderForms) && this.loadAnnotations() } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { cancelRunningTask(this.runningTask) } }, { "key": "viewport", "get": function get() { var e = this.props, t = e.page, r = e.rotate, n = e.scale; return t.getViewport({ "scale": n, "rotation": r }) } }, { "key": "renderAnnotationLayer", "value": function renderAnnotationLayer() { var e = this.state.annotations; if (e) { var t = this.props, r = t.imageResourcesPath, o = t.linkService, i = t.page, a = t.renderForms, s = this.viewport.clone({ "dontFlip": !0 }), c = { "annotations": e, "div": this.layerElement.current, "imageResourcesPath": r, "linkService": o, "page": i, "renderForms": a, "viewport": s }; this.layerElement.current.innerHTML = ""; try { n.AnnotationLayer.render(c), this.onRenderSuccess() } catch (e) { this.onRenderError(e) } } } }, { "key": "render", "value": function render() { return i.l.createElement("div", { "className": "react-pdf__Page__annotations annotationLayer", "ref": this.layerElement }, this.renderAnnotationLayer()) } }]), AnnotationLayerInternal }(); J.propTypes = { "imageResourcesPath": s.a.string, "linkService": E.isRequired, "onGetAnnotationsError": s.a.func, "onGetAnnotationsSuccess": s.a.func, "onRenderAnnotationLayerError": s.a.func, "onRenderAnnotationLayerSuccess": s.a.func, "page": x, "renderForms": s.a.bool, "rotate": M, "scale": s.a.number }; var Z = function AnnotationLayer(e) { return i.l.createElement(v.Consumer, null, function (t) { return i.l.createElement(q.Consumer, null, function (r) { return i.l.createElement(J, _extends({}, t, r, e)) }) }) }; function Page_ownKeys(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function Page_objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? Page_ownKeys(Object(r), !0).forEach(function (t) { _defineProperty(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Page_ownKeys(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e } function Page_createSuper(e) { var t = function Page_isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var $ = function (e) { _inherits(PageInternal, i["e"]); var t = Page_createSuper(PageInternal); function PageInternal() { var e; _classCallCheck(this, PageInternal); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return _defineProperty(_assertThisInitialized(e = t.call.apply(t, [this].concat(n))), "state", { "page": null }), _defineProperty(_assertThisInitialized(e), "pageElement", Object(i.k)()), _defineProperty(_assertThisInitialized(e), "onLoadSuccess", function () { var t = e.props, r = t.onLoadSuccess, n = t.registerPage, o = e.state.page; r && r(makePageCallback(o, e.scale)), n && n(e.pageIndex, e.pageElement.current) }), _defineProperty(_assertThisInitialized(e), "onLoadError", function (t) { e.setState({ "page": !1 }), g(t); var r = e.props.onLoadError; r && r(t) }), _defineProperty(_assertThisInitialized(e), "loadPage", function () { var t = e.props.pdf, r = e.getPageNumber(); if (r) { e.setState(function (e) { return e.page ? { "page": null } : null }); var n = makeCancellablePromise(t.getPage(r)); e.runningTask = n, n.promise.then(function (t) { e.setState({ "page": t }, e.onLoadSuccess) }).catch(function (t) { e.onLoadError(t) }) } }), e } return _createClass(PageInternal, [{ "key": "componentDidMount", "value": function componentDidMount() { invariant(this.props.pdf, "Attempted to load a page, but no document was specified."), this.loadPage() } }, { "key": "componentDidUpdate", "value": function componentDidUpdate(e) { var t = this.props.pdf; if (e.pdf && t !== e.pdf || this.getPageNumber() !== this.getPageNumber(e)) { var r = this.props.unregisterPage; r && r(this.getPageIndex(e)), this.loadPage() } } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { var e = this.props.unregisterPage; e && e(this.pageIndex), cancelRunningTask(this.runningTask) } }, { "key": "childContext", "get": function get() { var e = this.state.page; if (!e) return {}; var t = this.props, r = t.canvasBackground, n = t.customTextRenderer, o = t.onGetAnnotationsError, i = t.onGetAnnotationsSuccess, a = t.onGetTextError, s = t.onGetTextSuccess, c = t.onRenderAnnotationLayerError, u = t.onRenderAnnotationLayerSuccess, l = t.onRenderError, f = t.onRenderSuccess, d = t.renderForms, p = t.renderInteractiveForms; return { "canvasBackground": r, "customTextRenderer": n, "onGetAnnotationsError": o, "onGetAnnotationsSuccess": i, "onGetTextError": a, "onGetTextSuccess": s, "onRenderAnnotationLayerError": c, "onRenderAnnotationLayerSuccess": u, "onRenderError": l, "onRenderSuccess": f, "page": e, "renderForms": null != d ? d : p, "rotate": this.rotate, "scale": this.scale } } }, { "key": "getPageIndex", "value": function getPageIndex() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.props; return isProvided(e.pageNumber) ? e.pageNumber - 1 : isProvided(e.pageIndex) ? e.pageIndex : null } }, { "key": "getPageNumber", "value": function getPageNumber() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.props; return isProvided(e.pageNumber) ? e.pageNumber : isProvided(e.pageIndex) ? e.pageIndex + 1 : null } }, { "key": "pageIndex", "get": function get() { return this.getPageIndex() } }, { "key": "pageNumber", "get": function get() { return this.getPageNumber() } }, { "key": "rotate", "get": function get() { var e = this.props.rotate; if (isProvided(e)) return e; var t = this.state.page; return t ? t.rotate : null } }, { "key": "scale", "get": function get() { var e = this.state.page; if (!e) return null; var t = this.props, r = t.scale, n = t.width, o = t.height, i = this.rotate, a = 1, s = null === r ? 1 : r; if (n || o) { var c = e.getViewport({ "scale": 1, "rotation": i }); a = n ? n / c.width : o / c.height } return s * a } }, { "key": "eventProps", "get": function get() { var e = this; return makeEventProps(this.props, function () { var t = e.state.page; return t ? makePageCallback(t, e.scale) : t }) } }, { "key": "pageKey", "get": function get() { var e = this.state.page; return "".concat(e.pageIndex, "@").concat(this.scale, "/").concat(this.rotate) } }, { "key": "pageKeyNoScale", "get": function get() { var e = this.state.page; return "".concat(e.pageIndex, "/").concat(this.rotate) } }, { "key": "renderMainLayer", "value": function renderMainLayer() { var e = this.props, t = e.canvasRef; switch (e.renderMode) { case "none": return null; case "svg": return i.l.createElement(PageSVG, { "key": "".concat(this.pageKeyNoScale, "_svg") }); case "canvas": default: return i.l.createElement(PageCanvas, { "key": "".concat(this.pageKey, "_canvas"), "canvasRef": t }) } } }, { "key": "renderTextLayer", "value": function renderTextLayer() { var renderTextLayer = this.props.renderTextLayer; return renderTextLayer ? i.l.createElement(TextLayer, { "key": "".concat(this.pageKey, "_text") }) : null } }, { "key": "renderAnnotationLayer", "value": function renderAnnotationLayer() { var renderAnnotationLayer = this.props.renderAnnotationLayer; return renderAnnotationLayer ? i.l.createElement(Z, { "key": "".concat(this.pageKey, "_annotations") }) : null } }, { "key": "renderChildren", "value": function renderChildren() { var e = this.props.children; return i.l.createElement(q.Provider, { "value": this.childContext }, this.renderMainLayer(), this.renderTextLayer(), this.renderAnnotationLayer(), e) } }, { "key": "renderContent", "value": function renderContent() { var e = this.pageNumber, t = this.props.pdf, r = this.state.page; if (!e) { var n = this.props.noData; return i.l.createElement(Message, { "type": "no-data" }, "function" == typeof n ? n() : n) } if (null === t || null === r) { var o = this.props.loading; return i.l.createElement(Message, { "type": "loading" }, "function" == typeof o ? o() : o) } if (!1 === t || !1 === r) { var a = this.props.error; return i.l.createElement(Message, { "type": "error" }, "function" == typeof a ? a() : a) } return this.renderChildren() } }, { "key": "render", "value": function render() { var e = this.pageNumber, t = this.props, r = t.className, n = t.inputRef; return i.l.createElement("div", _extends({ "className": mergeClassNames("react-pdf__Page", r), "data-page-number": e, "ref": mergeRefs(n, this.pageElement), "style": { "position": "relative" } }, this.eventProps), this.renderContent()) } }]), PageInternal }(); $.defaultProps = { "error": "Failed to load the page.", "loading": "Loading page…", "noData": "No page specified.", "renderAnnotationLayer": !0, "renderForms": !1, "renderMode": "canvas", "renderTextLayer": !0, "scale": 1 }; var ee = s.a.oneOfType([s.a.func, s.a.node]); $.propTypes = Page_objectSpread(Page_objectSpread({}, C), {}, { "canvasBackground": s.a.string, "children": s.a.node, "className": P, "customTextRenderer": s.a.func, "error": ee, "height": s.a.number, "imageResourcesPath": s.a.string, "inputRef": I, "loading": ee, "noData": ee, "onGetTextError": s.a.func, "onGetTextSuccess": s.a.func, "onLoadError": s.a.func, "onLoadSuccess": s.a.func, "onRenderError": s.a.func, "onRenderSuccess": s.a.func, "pageIndex": function isPageIndex(e, t, r) { var n = e[t], o = e.pageNumber, i = e.pdf; if (!isDefined(i)) return null; if (isDefined(n)) { if ("number" != typeof n) return new Error("`".concat(t, "` of type `").concat(_typeof(n), "` supplied to `").concat(r, "`, expected `number`.")); if (n < 0) return new Error("Expected `".concat(t, "` to be greater or equal to 0.")); var a = i.numPages; if (n + 1 > a) return new Error("Expected `".concat(t, "` to be less or equal to ").concat(a - 1, ".")) } else if (!isDefined(o)) return new Error("`".concat(t, "` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(r, "`.")); return null }, "pageNumber": function isPageNumber(e, t, r) { var n = e[t], o = e.pageIndex, i = e.pdf; if (!isDefined(i)) return null; if (isDefined(n)) { if ("number" != typeof n) return new Error("`".concat(t, "` of type `").concat(_typeof(n), "` supplied to `").concat(r, "`, expected `number`.")); if (n < 1) return new Error("Expected `".concat(t, "` to be greater or equal to 1.")); var a = i.numPages; if (n > a) return new Error("Expected `".concat(t, "` to be less or equal to ").concat(a, ".")) } else if (!isDefined(o)) return new Error("`".concat(t, "` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(r, "`.")); return null }, "pdf": O, "registerPage": s.a.func, "renderAnnotationLayer": s.a.bool, "renderForms": s.a.bool, "renderInteractiveForms": s.a.bool, "renderMode": R, "renderTextLayer": s.a.bool, "rotate": M, "scale": s.a.number, "unregisterPage": s.a.func, "width": s.a.number }); var te = i.l.forwardRef(function Page(e, t) { return i.l.createElement(v.Consumer, null, function (r) { return i.l.createElement($, _extends({ "ref": t }, r, e)) }) }); r.d(t, "c", function () { return n }), r.d(t, "a", function () { return j }), r.d(t, "b", function () { return te }), function displayWorkerWarning() { g(!_, "Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(w)) }(), n.GlobalWorkerOptions.workerSrc = "pdf.worker.js" }, function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () { }, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", { "enumerable": !0, "get": function get() { return e.l } }), Object.defineProperty(e, "id", { "enumerable": !0, "get": function get() { return e.i } }), e.webpackPolyfill = 1), e } }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return getSystemInfoSync }), r.d(t, "a", function () { return getSystemInfo }); var n = r(79), o = r.n(n); function getSystemInfoSync() { var e = new o.a(navigator.userAgent); return { "brand": e.mobile(), "model": e.mobile(), "system": e.os(), "pixelRatio": window.devicePixelRatio, "screenWidth": window.screen.width, "screenHeight": window.screen.height, "windowWidth": document.documentElement.clientWidth, "windowHeight": document.documentElement.clientHeight, "version": "", "statusBarHeight": "", "platform": navigator.platform, "language": navigator.language, "fontSizeSetting": "", "SDKVersion": "" } } function getSystemInfo() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.complete; return new Promise(function (e) { var n = getSystemInfoSync(); "function" == typeof t && t(n), "function" == typeof r && r(n), e(n) }) } }, function (e, t) { var r = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = r) }, function (e, t) { var r = e.exports = { "version": "2.6.11" }; "number" == typeof __e && (__e = r) }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; e.exports = function (e) { return "object" === (void 0 === e ? "undefined" : r(e)) ? null !== e : "function" == typeof e } }, function (e, t) { e.exports = function (e) { try { return !!e() } catch (e) { return !0 } } }, function (e, t, r) { "use strict"; var n = r(0), o = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, i = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var a = function noop() { }, s = function () { function Toast() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Toast), this.options = { "title": "", "icon": "none", "image": "", "duration": 1500, "mask": !1, "success": a, "fail": a, "complete": a }, this.style = { "maskStyle": { "position": "fixed", "z-index": "1000", "top": "0", "right": "0", "left": "0", "bottom": "0" }, "toastStyle": { "z-index": "5000", "box-sizing": "border-box", "display": "flex", "flex-direction": "column", "justify-content": "center", "-webkit-justify-content": "center", "position": "fixed", "top": "50%", "left": "50%", "min-width": "120px", "max-width": "200px", "min-height": "120px", "padding": "15px", "transform": "translate(-50%, -50%)", "border-radius": "5px", "text-align": "center", "line-height": "1.6", "color": "#FFFFFF", "background": "rgba(17, 17, 17, 0.7)" }, "successStyle": { "margin": "0", "vertical-align": "middle", "font-family": "taro", "-webkit-font-smoothing": "antialiased", "color": "#FFFFFF", "font-size": "55px", "line-height": "1" }, "loadingStyle": { "margin": "6px auto", "width": "38px", "height": "38px", "-webkit-animation": "taroLoading 1s steps(12, end) infinite", "animation": "taroLoading 1s steps(12, end) infinite", "background": "transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat", "background-size": "100%" }, "imageStyle": { "margin": "6px auto", "width": "40px", "height": "40px", "background": "transparent no-repeat", "background-size": "100%" }, "textStyle": { "margin": "0", "font-size": "16px" } } } return i(Toast, [{ "key": "create", "value": function create() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = this.style, i = r.maskStyle, a = r.toastStyle, s = r.successStyle, c = r.loadingStyle, u = r.imageStyle, l = r.textStyle, f = o({}, this.options, t); if (this.el = document.createElement("div"), this.el.className = "taro__toast", this.el.style.opacity = "0", this.el.style.transition = "opacity 0.1s linear", this.mask = document.createElement("div"), this.mask.setAttribute("style", Object(n.h)(i)), this.mask.style.display = f.mask ? "block" : "none", this.icon = document.createElement("p"), f.image) this.icon.setAttribute("style", Object(n.h)(o({}, u, { "background-image": "url(" + f.image + ")" }))); else { var d = "loading" === f.icon ? c : s; this.icon.setAttribute("style", Object(n.h)(o({}, d, "none" === f.icon ? { "display": "none" } : {}))), "loading" !== f.icon && (this.icon.textContent = "") } this.toast = document.createElement("div"), this.toast.setAttribute("style", Object(n.h)(o({}, a, "none" === f.icon ? { "min-height": "0", "padding": "10px 15px" } : {}))), this.title = document.createElement("p"), this.title.setAttribute("style", Object(n.h)(l)), this.title.textContent = f.title, this.toast.appendChild(this.icon), this.toast.appendChild(this.title), this.el.appendChild(this.mask), this.el.appendChild(this.toast), document.body.appendChild(this.el), Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1" }, 0), this.type = f._type, f.duration >= 0 && this.hide(f.duration, this.type); var p = "loading" === this.type ? "showLoading:ok" : "showToast:ok"; return f.success && f.success({ "errMsg": p }), f.complete && f.complete({ "errMsg": p }), Promise.resolve({ "errMsg": p }) } }, { "key": "show", "value": function show() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = o({}, this.options, t); this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer), this.title.textContent = r.title || "", this.mask.style.display = r.mask ? "block" : "none"; var i = this.style, a = i.toastStyle, s = i.successStyle, c = i.loadingStyle, u = i.imageStyle; if (r.image) this.icon.setAttribute("style", Object(n.h)(o({}, u, { "background-image": "url(" + r.image + ")" }))), this.icon.textContent = ""; else if (!r.image && r.icon) { var l = "loading" === r.icon ? c : s; this.icon.setAttribute("style", Object(n.h)(o({}, l, "none" === r.icon ? { "display": "none" } : {}))), this.icon.textContent = "loading" === r.icon ? "" : "" } this.toast.setAttribute("style", Object(n.h)(o({}, a, "none" === r.icon ? { "min-height": "0", "padding": "10px 15px" } : {}))), this.el.style.display = "block", Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1" }, 0), this.type = r._type, r.duration >= 0 && this.hide(r.duration, this.type); var f = "loading" === this.type ? "showLoading:ok" : "showToast:ok"; return r.success && r.success({ "errMsg": f }), r.complete && r.complete({ "errMsg": f }), Promise.resolve({ "errMsg": f }) } }, { "key": "hide", "value": function hide() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments[1]; this.type === r && (this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer), this.hideOpacityTimer = setTimeout(function () { e.el.style.opacity = "0", Object(n.i)().handleBeforeDestroy(), e.hideDisplayTimer = setTimeout(function () { e.el.style.display = "none" }, 100) }, t)) } }]), Toast }(), c = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, u = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var l = function noop() { }, f = function () { function Modal() { !function modal_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Modal), this.options = { "title": "", "content": "", "showCancel": !0, "cancelText": "取消", "cancelColor": "#000000", "confirmText": "确定", "confirmColor": "#3CC51F", "success": l, "fail": l, "complete": l }, this.style = { "maskStyle": { "position": "fixed", "z-index": "1000", "top": "0", "right": "0", "left": "0", "bottom": "0", "background": "rgba(0,0,0,0.6)" }, "modalStyle": { "z-index": "4999", "position": "fixed", "top": "50%", "left": "50%", "transform": "translate(-50%, -50%)", "width": "80%", "max-width": "300px", "border-radius": "3px", "text-align": "center", "line-height": "1.6", "overflow": "hidden", "background": "#FFFFFF" }, "titleStyle": { "padding": "20px 24px 9px", "font-size": "18px" }, "textStyle": { "padding": "0 24px 12px", "min-height": "40px", "font-size": "15px", "line-height": "1.3", "color": "#808080", "display": "flex", "align-items": "center", "justify-content": "space-around" }, "footStyle": { "position": "relative", "line-height": "48px", "font-size": "18px", "display": "flex" }, "btnStyle": { "position": "relative", "-webkit-box-flex": "1", "-webkit-flex": "1", "flex": "1" } } } return u(Modal, [{ "key": "create", "value": function create() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = this.style, o = r.maskStyle, i = r.modalStyle, a = r.titleStyle, s = r.textStyle, u = r.footStyle, l = r.btnStyle, f = c({}, this.options, t); this.el = document.createElement("div"), this.el.className = "taro__modal", this.el.style.opacity = "0", this.el.style.transition = "opacity 0.2s linear"; var d = document.createElement("div"); d.setAttribute("style", Object(n.h)(o)); var p = document.createElement("div"); p.setAttribute("style", Object(n.h)(i)); var h = f.title ? a : c({}, a, { "display": "none" }); this.title = document.createElement("div"), this.title.setAttribute("style", Object(n.h)(h)), this.title.textContent = f.title; var m = f.title ? s : c({}, s, { "padding": "40px 20px 26px", "color": "#353535" }); this.text = document.createElement("div"), this.text.setAttribute("style", Object(n.h)(m)), this.text.textContent = f.content; var g = document.createElement("div"); g.className = "taro-modal__foot", g.setAttribute("style", Object(n.h)(u)); var v = c({}, l, { "color": f.cancelColor, "display": f.showCancel ? "block" : "none" }); return this.cancel = document.createElement("div"), this.cancel.className = "taro-model__btn", this.cancel.setAttribute("style", Object(n.h)(v)), this.cancel.textContent = f.cancelText, this.cancel.onclick = function () { e.hide(); var t = e.getRes("cancel"); f.success(t), f.complete(t), e.resolveHandler(t) }, this.confirm = document.createElement("div"), this.confirm.className = "taro-model__btn", this.confirm.setAttribute("style", Object(n.h)(l)), this.confirm.style.color = f.confirmColor, this.confirm.textContent = f.confirmText, this.confirm.onclick = function () { e.hide(); var t = e.getRes("confirm"); f.success(t), f.complete(t), e.resolveHandler(t) }, g.appendChild(this.cancel), g.appendChild(this.confirm), p.appendChild(this.title), p.appendChild(this.text), p.appendChild(g), this.el.appendChild(d), this.el.appendChild(p), document.body.appendChild(this.el), Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1" }, 0), new Promise(function (t) { return e.resolveHandler = t }) } }, { "key": "getRes", "value": function getRes(e) { var t = { "errMsg": "showModal:ok", "cancel": !1, "confirm": !1 }; return t[e] = !0, t } }, { "key": "show", "value": function show() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = c({}, this.options, t); this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer); var o = this.style.textStyle; if (r.title) this.title.textContent = r.title, this.title.style.display = "block", this.text.setAttribute("style", Object(n.h)(o)); else { this.title.style.display = "none"; var i = c({}, o, { "padding": "40px 20px 26px", "color": "#353535" }); this.text.setAttribute("style", Object(n.h)(i)) } return this.text.textContent = r.content || "", this.cancel.style.display = r.showCancel ? "block" : "none", this.cancel.textContent = r.cancelText || "", this.cancel.style.color = r.cancelColor || void 0, this.confirm.textContent = r.confirmText || "", this.confirm.style.color = r.confirmColor || void 0, this.cancel.onclick = function () { e.hide(); var t = e.getRes("cancel"); r.success(t), r.complete(t), e.resolveHandler(t) }, this.confirm.onclick = function () { e.hide(); var t = e.getRes("confirm"); r.success(t), r.complete(t), e.resolveHandler(t) }, this.el.style.display = "block", Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1" }, 0), new Promise(function (t) { return e.resolveHandler = t }) } }, { "key": "hide", "value": function hide() { var e = this; this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer), this.hideOpacityTimer = setTimeout(function () { e.el.style.opacity = "0", Object(n.i)().handleBeforeDestroy(), e.hideDisplayTimer = setTimeout(function () { e.el.style.display = "none" }, 200) }, 0) } }]), Modal }(), d = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, p = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var h = function noop() { }, m = function () { function ActionSheet() { !function actionSheet_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ActionSheet), this.options = { "itemList": [], "itemColor": "#000000", "success": h, "fail": h, "complete": h }, this.style = { "maskStyle": { "position": "fixed", "z-index": "1000", "top": "0", "right": "0", "left": "0", "bottom": "0", "background": "rgba(0,0,0,0.6)" }, "actionSheetStyle": { "z-index": "4999", "position": "fixed", "left": "0", "bottom": "0", "-webkit-transform": "translate(0, 100%)", "transform": "translate(0, 100%)", "width": "100%", "line-height": "1.6", "background": "#EFEFF4", "-webkit-transition": "-webkit-transform .3s", "transition": "transform .3s" }, "menuStyle": { "background-color": "#FCFCFD" }, "cellStyle": { "position": "relative", "padding": "10px 0", "text-align": "center", "font-size": "18px" }, "cancelStyle": { "margin-top": "6px", "padding": "10px 0", "text-align": "center", "font-size": "18px", "color": "#000000", "background-color": "#FCFCFD" } }, this.lastConfig = {} } return p(ActionSheet, [{ "key": "create", "value": function create() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = this.style, o = r.maskStyle, i = r.actionSheetStyle, a = r.menuStyle, s = r.cellStyle, c = r.cancelStyle, u = d({}, this.options, t); this.lastConfig = u, this.el = document.createElement("div"), this.el.className = "taro__actionSheet", this.el.style.opacity = "0", this.el.style.transition = "opacity 0.2s linear"; var l = document.createElement("div"); l.setAttribute("style", Object(n.h)(o)), this.actionSheet = document.createElement("div"), this.actionSheet.setAttribute("style", Object(n.h)(i)), this.menu = document.createElement("div"), this.menu.setAttribute("style", Object(n.h)(d({}, a, { "color": u.itemColor }))), this.cells = u.itemList.map(function (t, r) { var o = document.createElement("div"); return o.className = "taro-actionsheet__cell", o.setAttribute("style", Object(n.h)(s)), o.textContent = t, o.dataset.tapIndex = r, o.onclick = function (t) { return e.onCellClick(t) }, o }), this.cancel = document.createElement("div"), this.cancel.setAttribute("style", Object(n.h)(c)), this.cancel.textContent = "取消", this.cells.forEach(function (t) { return e.menu.appendChild(t) }), this.actionSheet.appendChild(this.menu), this.actionSheet.appendChild(this.cancel), this.el.appendChild(l), this.el.appendChild(this.actionSheet); var f = function cb() { e.hide(); var t = { "errMsg": "showActionSheet:fail cancel" }; u.fail(t), u.complete(t), e.rejectHandler(t) }; return l.onclick = f, this.cancel.onclick = f, document.body.appendChild(this.el), Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1", Object(n.n)(e.actionSheet, "translate(0, 0)") }, 0), new Promise(function (t, r) { e.resolveHandler = t, e.rejectHandler = r }) } }, { "key": "show", "value": function show() { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r = d({}, this.options, t); this.lastConfig = r, this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer), r.itemColor && (this.menu.style.color = r.itemColor); var o = this.style.cellStyle; r.itemList.forEach(function (t, r) { var i = void 0; e.cells[r] ? i = e.cells[r] : ((i = document.createElement("div")).className = "taro-actionsheet__cell", i.setAttribute("style", Object(n.h)(o)), i.dataset.tapIndex = r, e.cells.push(i), e.menu.appendChild(i)), i.textContent = t, i.onclick = function (t) { return e.onCellClick(t) } }); var i = this.cells.length, a = r.itemList.length; if (i > a) { for (var s = a; s < i; s++)this.menu.removeChild(this.cells[s]); this.cells.splice(a) } return this.el.style.display = "block", Object(n.i)().handleAfterCreate(), setTimeout(function () { e.el.style.opacity = "1", Object(n.n)(e.actionSheet, "translate(0, 0)") }, 0), new Promise(function (t, r) { e.resolveHandler = t, e.rejectHandler = r }) } }, { "key": "onCellClick", "value": function onCellClick(e) { this.hide(), console.log("click"); var t = { "errMsg": "showActionSheet:ok", "tapIndex": +e.currentTarget.dataset.tapIndex }; this.lastConfig.success && this.lastConfig.success(t), this.lastConfig.complete && this.lastConfig.complete(t), this.resolveHandler(t) } }, { "key": "hide", "value": function hide() { var e = this; this.hideOpacityTimer && clearTimeout(this.hideOpacityTimer), this.hideDisplayTimer && clearTimeout(this.hideDisplayTimer), this.hideOpacityTimer = setTimeout(function () { e.el.style.opacity = "0", Object(n.i)().handleBeforeDestroy(), Object(n.n)(e.actionSheet, "translate(0, 100%)"), e.hideDisplayTimer = setTimeout(function () { e.el.style.display = "none" }, 200) }, 0) } }]), ActionSheet }(), g = r(11); r.d(t, "f", function () { return showToast }), r.d(t, "b", function () { return hideToast }), r.d(t, "d", function () { return showLoading }), r.d(t, "a", function () { return hideLoading }), r.d(t, "e", function () { return showModal }), r.d(t, "c", function () { return showActionSheet }); var v = "default"; function init(e) { if ("ready" !== v) { var t = e.createElement("style"); t.textContent = '@font-face{font-weight:normal;font-style:normal;font-family:"taro";src:url("data:application/x-font-ttf;charset=utf-8;base64, AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzJWs0t/AAABfAAAAFZjbWFwqVgGvgAAAeAAAAGGZ2x5Zph7qG0AAANwAAAAdGhlYWQRFoGhAAAA4AAAADZoaGVhCCsD7AAAALwAAAAkaG10eAg0AAAAAAHUAAAADGxvY2EADAA6AAADaAAAAAhtYXhwAQ4AJAAAARgAAAAgbmFtZYrphEEAAAPkAAACVXBvc3S3shtSAAAGPAAAADUAAQAAA+gAAABaA+gAAAAAA+gAAQAAAAAAAAAAAAAAAAAAAAMAAQAAAAEAAADih+FfDzz1AAsD6AAAAADXB57LAAAAANcHnssAAP/sA+gDOgAAAAgAAgAAAAAAAAABAAAAAwAYAAEAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQK8AZAABQAIAnoCvAAAAIwCegK8AAAB4AAxAQIAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABAAHjqCAPoAAAAWgPoABQAAAABAAAAAAAAA+gAAABkAAAD6AAAAAAABQAAAAMAAAAsAAAABAAAAV4AAQAAAAAAWAADAAEAAAAsAAMACgAAAV4ABAAsAAAABgAEAAEAAgB46gj//wAAAHjqCP//AAAAAAABAAYABgAAAAEAAgAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAKAAAAAAAAAACAAAAeAAAAHgAAAABAADqCAAA6ggAAAACAAAAAAAAAAwAOgABAAD/7AAyABQAAgAANzMVFB4UKAAAAAABAAAAAAO7AzoAFwAAEy4BPwE+AR8BFjY3ATYWFycWFAcBBiInPQoGBwUHGgzLDCELAh0LHwsNCgr9uQoeCgGzCyEOCw0HCZMJAQoBvgkCCg0LHQv9sQsKAAAAAAAAEgDeAAEAAAAAAAAAHQAAAAEAAAAAAAEABAAdAAEAAAAAAAIABwAhAAEAAAAAAAMABAAoAAEAAAAAAAQABAAsAAEAAAAAAAUACwAwAAEAAAAAAAYABAA7AAEAAAAAAAoAKwA/AAEAAAAAAAsAEwBqAAMAAQQJAAAAOgB9AAMAAQQJAAEACAC3AAMAAQQJAAIADgC/AAMAAQQJAAMACADNAAMAAQQJAAQACADVAAMAAQQJAAUAFgDdAAMAAQQJAAYACADzAAMAAQQJAAoAVgD7AAMAAQQJAAsAJgFRCiAgQ3JlYXRlZCBieSBmb250LWNhcnJpZXIKICB3ZXVpUmVndWxhcndldWl3ZXVpVmVyc2lvbiAxLjB3ZXVpR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20ACgAgACAAQwByAGUAYQB0AGUAZAAgAGIAeQAgAGYAbwBuAHQALQBjAGEAcgByAGkAZQByAAoAIAAgAHcAZQB1AGkAUgBlAGcAdQBsAGEAcgB3AGUAdQBpAHcAZQB1AGkAVgBlAHIAcwBpAG8AbgAgADEALgAwAHcAZQB1AGkARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwECAQMBBAABeAd1bmlFQTA4AAAAAAA=") format("truetype");}@-webkit-keyframes taroLoading{0%{-webkit-transform:rotate3d(0, 0, 1, 0deg);}100%{-webkit-transform:rotate3d(0, 0, 1, 360deg);transform:rotate3d(0, 0, 1, 360deg);}}@keyframes taroLoading{0%{-webkit-transform:rotate3d(0, 0, 1, 0deg);}100%{-webkit-transform:rotate3d(0, 0, 1, 360deg);transform:rotate3d(0, 0, 1, 360deg);}}.taro-modal__foot:after {content: "";position: absolute;left: 0;top: 0;right: 0;height: 1px;border-top: 1px solid #D5D5D6;color: #D5D5D6;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleY(0.5);transform: scaleY(0.5);} .taro-model__btn:active {background-color: #EEEEEE}.taro-model__btn:not(:first-child):after {content: "";position: absolute;left: 0;top: 0;width: 1px;bottom: 0;border-left: 1px solid #D5D5D6;color: #D5D5D6;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleX(0.5);transform: scaleX(0.5);}.taro-actionsheet__cell:not(:first-child):after {content: "";position: absolute;left: 0;top: 0;right: 0;height: 1px;border-top: 1px solid #e5e5e5;color: #e5e5e5;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleY(0.5);transform: scaleY(0.5);}', e.querySelector("head").appendChild(t), v = "ready" } } var y = new s, b = new f, S = new m; function showToast() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; init(document); (e = Object.assign({}, { "title": "", "icon": "success", "image": "", "duration": 1500, "mask": !1 }, e))._type = "toast"; var t = Object(n.d)(e.fail, e.complete); return "string" != typeof e.title ? t({ "errMsg": Object(n.f)({ "name": "showToast", "para": "title", "correct": "String", "wrong": e.title }) }) : "number" != typeof e.duration ? t({ "errMsg": Object(n.f)({ "name": "showToast", "para": "duration", "correct": "Number", "wrong": e.duration }) }) : (e.image && "string" != typeof e.image && (e.image = ""), e.mask = !!e.mask, y.el ? y.show(e) : y.create(e)) } function hideToast() { y.el && y.hide(0, "toast") } function showLoading() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; init(document); (e = Object.assign({}, { "title": "", "mask": !1 }, e, { "icon": "loading", "image": "", "duration": -1 }))._type = "loading"; var t = Object(n.d)(e.fail, e.complete); return "string" != typeof e.title ? t({ "errMsg": Object(n.f)({ "name": "showLoading", "para": "title", "correct": "String", "wrong": e.title }) }) : (e.mask = !!e.mask, y.el ? y.show(e) : y.create(e)) } function hideLoading() { y.el && y.hide(0, "loading") } function showModal() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; init(document); e = Object.assign({}, { "title": "", "content": "", "showCancel": !0, "cancelText": "取消", "cancelColor": "#000000", "confirmText": "确定", "confirmColor": "#3CC51F" }, e); var t = Object(n.d)(e.fail, e.complete); return "string" != typeof e.title ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "title", "correct": "String", "wrong": e.title }) }) : "string" != typeof e.content ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "content", "correct": "String", "wrong": e.content }) }) : "string" != typeof e.cancelText ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "cancelText", "correct": "String", "wrong": e.cancelText }) }) : e.cancelText.replace(/[\u0391-\uFFE5]/g, "aa").length > 8 ? t({ "errMsg": "showModal:fail cancelText length should not larger then 4 Chinese characters" }) : "string" != typeof e.confirmText ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "confirmText", "correct": "String", "wrong": e.confirmText }) }) : e.confirmText.replace(/[\u0391-\uFFE5]/g, "aa").length > 8 ? t({ "errMsg": "showModal:fail confirmText length should not larger then 4 Chinese characters" }) : "string" != typeof e.cancelColor ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "cancelColor", "correct": "String", "wrong": e.cancelColor }) }) : "string" != typeof e.confirmColor ? t({ "errMsg": Object(n.f)({ "name": "showModal", "para": "confirmColor", "correct": "String", "wrong": e.confirmColor }) }) : (e.showCancel = !!e.showCancel, b.el ? b.show(e) : b.create(e)) } function showActionSheet() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; init(document); e = Object.assign({}, { "itemColor": "#000000" }, e); var t = Object(n.d)(e.fail, e.complete); if (!Array.isArray(e.itemList)) return t({ "errMsg": Object(n.f)({ "name": "showActionSheet", "para": "itemList", "correct": "Array", "wrong": e.itemList }) }); if (e.itemList.length < 1) return t({ "errMsg": "showActionSheet:fail parameter error: parameter.itemList should have at least 1 item" }); if (e.itemList.length > 6) return t({ "errMsg": "showActionSheet:fail parameter error: parameter.itemList should not be large than 6" }); for (var r = 0; r < e.itemList.length; r++)if ("string" != typeof e.itemList[r]) return t({ "errMsg": Object(n.f)({ "name": "showActionSheet", "para": "itemList[" + r + "]", "correct": "String", "wrong": e.itemList[r] }) }); return "string" != typeof e.itemColor ? t({ "errMsg": Object(n.f)({ "name": "showActionSheet", "para": "itemColor", "correct": "String", "wrong": e.itemColor }) }) : S.el ? S.show(e) : S.create(e) } g.a.eventCenter.on("__taroRouterChange", function () { hideToast(), hideLoading(), function hideModal() { b.el && b.hide() }() }) }, function (e, t, r) { "use strict"; var n = r(1), o = r(19), i = r(211), a = r(20), s = r.n(a), c = r(12), u = r(17), l = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var f = function (e) { function MUView() { return function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUView), function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUView.__proto__ || Object.getPrototypeOf(MUView)).apply(this, arguments)) } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUView, u["a"]), l(MUView, [{ "key": "onTouchStart", "value": function onTouchStart(e) { s()(this.props.onTouchStart) && this.props.onTouchStart(e) } }, { "key": "onTouchMove", "value": function onTouchMove(e) { s()(this.props.onTouchMove) && this.props.onTouchMove(e) } }, { "key": "onTouchEnd", "value": function onTouchEnd(e) { s()(this.props.onTouchEnd) && this.props.onTouchEnd(e) } }, { "key": "onClickTrack", "value": function onClickTrack() { } }, { "key": "onClick", "value": function onClick(e) { s()(this.props.onClick) && (this.onClickTrack(), this.props.onClick(e)) } }, { "key": "onLongPress", "value": function onLongPress(e) { s()(this.props.onLongPress) && this.props.onLongPress(e) } }, { "key": "render", "value": function render() { var e = this.props, t = e.className, r = e.hoverClass, o = e.hoverStartTime, a = e.hoverStayTime, s = e.style, c = e.dataId, u = e.dataInfo; return n.l.createElement(i.a, { "className": t, "hoverClass": r, "hoverStartTime": o, "hoverStayTime": a, "style": s, "onTouchStart": this.onTouchStart.bind(this), "onTouchEnd": this.onTouchEnd.bind(this), "onTouchMove": this.onTouchMove.bind(this), "onLongPress": this.onLongPress.bind(this), "onClick": this.onClick.bind(this), "data-id": c, "data-info": u }, this.props.children) } }]), MUView }(); Object(o.a)([Object(c.c)({ "event": c.a.BC })], f.prototype, "onClickTrack", null), f = Object(o.a)([Object(c.c)(function (e) { return { "beaconId": e.beaconId, "beaconContent": e.beaconContent, "uiType": "MUView" } }, { "customAlert": !0 })], f), t.a = f }, , function (e, t, r) { "use strict"; var n = r(3), o = r(13), i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" === i(Symbol.iterator) ? function _typeof(e) { return void 0 === e ? "undefined" : i(e) } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : i(e) })(e) } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } var a = new (function () { function EventEmitter() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, EventEmitter), _defineProperty(this, "listeners", []) } return function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e }(EventEmitter, [{ "key": "on", "value": function on(e) { var t = this; return this.listeners.push(e), function () { var r = t.listeners.indexOf(e); -1 !== r && t.listeners.splice(r, 1) } } }, { "key": "emit", "value": function emit(e) { this.listeners.forEach(function (t) { return t(e) }) } }]), EventEmitter }()); function createChainableTypeChecker(e) { function checkType(t, r, n, i, a, s) { for (var c = arguments.length, u = new Array(c > 6 ? c - 6 : 0), l = 6; l < c; l++)u[l - 6] = arguments[l]; return Object(o.i)(function () { if (i = i || "<<anonymous>>", s = s || n, null == r[n]) { if (t) { var o = null === r[n] ? "null" : "undefined"; return new Error("The " + a + " `" + s + "` is marked as required in `" + i + "`, but its value is `" + o + "`.") } return null } return e.apply(void 0, [r, n, i, a, s].concat(u)) }) } var t = checkType.bind(null, !1); return t.isRequired = checkType.bind(null, !0), t } function getPropType(e) { var t = _typeof(e); return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : function isSymbol(e, t) { return "symbol" === e || "Symbol" === t["@@toStringTag"] || "function" == typeof Symbol && t instanceof Symbol }(t, e) ? "symbol" : t } function createObservableTypeCheckerCreator(e, t) { return createChainableTypeChecker(function (r, n, i, a, s) { return Object(o.i)(function () { if (e && getPropType(r[n]) === t.toLowerCase()) return null; var a; switch (t) { case "Array": a = o.c; break; case "Object": a = o.e; break; case "Map": a = o.d; break; default: throw new Error("Unexpected mobxType: ".concat(t)) }var c = r[n]; if (!a(c)) { var u = function getPreciseType(e) { var t = getPropType(e); if ("object" === t) { if (e instanceof Date) return "date"; if (e instanceof RegExp) return "regexp" } return t }(c), l = e ? " or javascript `" + t.toLowerCase() + "`" : ""; return new Error("Invalid prop `" + s + "` of type `" + u + "` supplied to `" + i + "`, expected `mobx.Observable" + t + "`" + l + ".") } return null }) }) } function createObservableArrayOfTypeChecker(e, t) { return createChainableTypeChecker(function (r, n, i, a, s) { for (var c = arguments.length, u = new Array(c > 5 ? c - 5 : 0), l = 5; l < c; l++)u[l - 5] = arguments[l]; return Object(o.i)(function () { if ("function" != typeof t) return new Error("Property `" + s + "` of component `" + i + "` has invalid PropType notation."); var o = createObservableTypeCheckerCreator(e, "Array")(r, n, i); if (o instanceof Error) return o; for (var c = r[n], l = 0; l < c.length; l++)if ((o = t.apply(void 0, [c, l, i, a, s + "[" + l + "]"].concat(u))) instanceof Error) return o; return null }) }) } createObservableTypeCheckerCreator(!1, "Array"), createObservableArrayOfTypeChecker.bind(null, !1), createObservableTypeCheckerCreator(!1, "Map"), createObservableTypeCheckerCreator(!1, "Object"), createObservableTypeCheckerCreator(!0, "Array"), createObservableArrayOfTypeChecker.bind(null, !0), createObservableTypeCheckerCreator(!0, "Object"); var s = !1; function isUsingStaticRendering() { return s } var c = {}; function mapStoreToProps(e, t) { var r = function _objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}, n = Object.keys(r); "function" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(r).filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable }))), n.forEach(function (t) { _defineProperty(e, t, r[t]) }) } return e }({}, t); return Object.assign(r, e(function getStore() { return c }() || {}, r) || {}) } function inject() { var e, t = arguments[arguments.length - 1]; if ("function" == typeof arguments[0]) return e = arguments[0], function (r) { return t(e, null, r) }; for (var r = [], n = 0; n < arguments.length - 1; n++)r[n] = arguments[n]; return e = function grabStoresByName(e) { return function (t, r) { return e.forEach(function (e) { if (!(e in t)) { var n = new Error("MobX injector: Store '" + e + "' is not available! Make sure it is provided by some Provider"); throw a.emit(n), n } r[e] = t[e] }), r } }(r), function (n) { return t(e, r.join("-"), n) } } var u = r(1); r.d(t, "c", function () { return observer }), r.d(t, "b", function () { return inject$1 }), r.d(t, "a", function () { return f }); var l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function index_esm_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function index_esm_defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function index_esm_createClass(e, t, r) { return t && index_esm_defineProperties(e.prototype, t), r && index_esm_defineProperties(e, r), e } function index_esm_defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function _possibleConstructorReturn(e, t) { return !t || "object" !== (void 0 === t ? "undefined" : l(t)) && "function" != typeof t ? _assertThisInitialized(e) : t } var f = function (e) { function Provider(e) { var t; return index_esm_classCallCheck(this, Provider), t = _possibleConstructorReturn(this, _getPrototypeOf(Provider).call(this, e)), function setStore(e) { c = e }(e.store), t } return _inherits(Provider, n["default"].Component), index_esm_createClass(Provider, [{ "key": "render", "value": function render() { return u.a.only(this.props.children) } }]), Provider }(); function createStoreInjector(e, t, r) { var o = function (t) { function Injector() { var e, t; index_esm_classCallCheck(this, Injector); for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return index_esm_defineProperty(_assertThisInitialized(_assertThisInitialized(t = _possibleConstructorReturn(this, (e = _getPrototypeOf(Injector)).call.apply(e, [this].concat(n))))), "__observeInstance", void 0), t } return _inherits(Injector, n["default"].Component), index_esm_createClass(Injector, [{ "key": "render", "value": function render() { var t = this, n = mapStoreToProps(e, this.props); return Object(u.h)(r, function index_esm_objectSpread(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}, n = Object.keys(r); "function" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(r).filter(function (e) { return Object.getOwnPropertyDescriptor(r, e).enumerable }))), n.forEach(function (t) { index_esm_defineProperty(e, t, r[t]) }) } return e }({}, n, { "ref": function ref(e) { n.ref && n.ref(e), e && (t.__observeInstance = e) } })) } }, { "key": "componentDidShow", "value": function componentDidShow() { var componentDidShow = r.prototype.componentDidShow; "function" == typeof componentDidShow && componentDidShow.call(this.__observeInstance) } }, { "key": "componentDidHide", "value": function componentDidHide() { var componentDidHide = r.prototype.componentDidHide; "function" == typeof componentDidHide && componentDidHide.call(this.__observeInstance) } }, { "key": "beforeRouteLeave", "value": function beforeRouteLeave(e, t, n) { var beforeRouteLeave = r.prototype.beforeRouteLeave; "function" == typeof beforeRouteLeave ? beforeRouteLeave.call.apply(beforeRouteLeave, [this.__observeInstance].concat(Array.prototype.slice.call(arguments))) : n(!0) } }]), Injector }(); return index_esm_defineProperty(o, "isMobxInjector", !0), index_esm_defineProperty(o, "config", r.config || {}), index_esm_defineProperty(o, "displayName", function getInjectName(e, t) { var r = e.displayName || e.name || "Component"; return t ? "inject-with-".concat(t, "(").concat(r, ")") : "inject(".concat(r, ")") }(r, t)), o } function inject$1() { return inject.apply(void 0, Array.prototype.slice.call(arguments).concat([createStoreInjector])) } function observer(e) { if (isUsingStaticRendering()) return e; !0 === e.isMobxInjector && console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"); var t = e.prototype, r = t.componentWillUnmount; t.componentWillUnmount = function () { this._reaction && this._reaction.dispose(), r && r.call(this) }; var n = t.render; return t.render = function () { for (var e, t, r = this, i = arguments.length, s = new Array(i), c = 0; c < i; c++)s[c] = arguments[c]; if (!this._reaction) { var u = this.displayName || this.name; this._reaction = new o.a("".concat(u, "_").concat(Date.now()), function () { r.componentWillReact && r.componentWillReact(), r.forceUpdate() }) } if (this._reaction.track(function () { try { e = n.call(r, null, null, s[2]) } catch (e) { t = e } }), t) throw a.emit(t), t; return e }, e } }, , function (e, t) { (function (t) { e.exports = t }).call(this, {}) }, function (e, t, r) { "use strict"; var n = r(1), o = r(19), i = r(211), a = (r(29), r(24)), s = r(8), c = r.n(s), u = (r(190), Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }), l = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } var f = function (e) { function Button() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Button); var e = function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments)); return e.state = { "hover": !1, "touch": !1 }, e } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(Button, n["l"].Component), l(Button, [{ "key": "componentWillUnmount", "value": function componentWillUnmount() { this.startTimer && clearTimeout(this.startTimer), this.endTimer && clearTimeout(this.endTimer) } }, { "key": "render", "value": function render() { var e, t = this, r = this.props, o = r.children, i = r.disabled, s = r.className, l = r.style, f = r.onClick, d = r.onTouchStart, p = r.onTouchEnd, h = r.hoverClass, m = void 0 === h ? "button-hover" : h, g = r.hoverStartTime, v = void 0 === g ? 20 : g, y = r.hoverStayTime, b = void 0 === y ? 70 : y, S = r.size, _ = r.plain, w = r.loading, A = void 0 !== w && w, C = r.type, T = void 0 === C ? "default" : C, P = s || c()("weui-btn", (_defineProperty(e = {}, "" + m, this.state.hover && !i && "none" !== m), _defineProperty(e, "weui-btn_plain-" + T, _), _defineProperty(e, "weui-btn_" + T, !_ && T), _defineProperty(e, "weui-btn_mini", "mini" === S), _defineProperty(e, "weui-btn_loading", A), _defineProperty(e, "weui-btn_disabled", i), e)); return n.l.createElement("button", u({}, Object(a.a)(this.props, ["hoverClass", "onTouchStart", "onTouchEnd"]), { "className": P, "style": l, "onClick": f, "disabled": i, "onTouchStart": function _onTouchStart(e) { t.setState(function () { return { "touch": !0 } }), m && "none" !== m && !i && (t.startTimer = setTimeout(function () { t.state.touch && t.setState(function () { return { "hover": !0 } }) }, v)), d && d(e) }, "onTouchEnd": function _onTouchEnd(e) { t.setState(function () { return { "touch": !1 } }), m && "none" !== m && !i && (t.endTimer = setTimeout(function () { t.state.touch || t.setState(function () { return { "hover": !1 } }) }, b)), p && p(e) } }), A && n.l.createElement("i", { "class": "weui-loading" }), o) } }]), Button }(), d = r(82), p = r.n(d), h = r(2), m = r.n(h), g = r(12), v = r(3), y = r(17), b = r(23), S = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, _ = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); Object(b.g)(); var w = function (e) { function MULoading() { return function loading_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MULoading), function loading_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MULoading.__proto__ || Object.getPrototypeOf(MULoading)).apply(this, arguments)) } return function loading_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MULoading, y["a"]), _(MULoading, [{ "key": "render", "value": function render() { var e = this.props, t = e.color, r = e.size, o = "string" == typeof r ? r : String(r), a = { "width": r ? "" + v.default.pxTransform(parseInt(o, 10)) : "", "height": r ? "" + v.default.pxTransform(parseInt(o, 10)) : "" }, s = S({}, { "border": t ? "1px solid " + t : "", "border-color": t ? t + " transparent transparent transparent" : "" }, a); return n.l.createElement(i.a, { "className": "at-loading", "style": a }, n.l.createElement(i.a, { "className": "at-loading__ring", "style": s }), n.l.createElement(i.a, { "className": "at-loading__ring", "style": s }), n.l.createElement(i.a, { "className": "at-loading__ring", "style": s })) } }]), MULoading }(); w.defaultProps = { "size": 0, "color": "" }, w.propTypes = { "size": m.a.oneOfType([m.a.string, m.a.number]), "color": m.a.oneOfType([m.a.string, m.a.number]) }; var A = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function button_defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } var C = { "normal": "normal", "small": "small" }, T = { "default": "default", "primary": "primary", "secondary": "secondary" }, P = function (e) { function MUButton() { !function button_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUButton); var e = function button_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUButton.__proto__ || Object.getPrototypeOf(MUButton)).apply(this, arguments)), t = e.props, r = t.enableThrottle, n = t.throttleTimeout; return e.throttleClick = r ? p()(e.onClick, n) : e.onClick, e } return function button_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUButton, y["a"]), A(MUButton, [{ "key": "onClick", "value": function onClick(e) { this.props.disabled || (this.props.onClick && this.props.onClick(e), Object(g.b)({ "target": this, "event": g.a.BC, "beaconContent": this.props.beaconContent, "uiType": "MUButton" })) } }, { "key": "onGetUserInfo", "value": function onGetUserInfo(e) { this.props.onGetUserInfo && this.props.onGetUserInfo(e) } }, { "key": "onContact", "value": function onContact(e) { this.props.onContact && this.props.onContact(e) } }, { "key": "onGetPhoneNumber", "value": function onGetPhoneNumber(e) { this.props.onGetPhoneNumber && this.props.onGetPhoneNumber(e) } }, { "key": "onError", "value": function onError(e) { this.props.onError && this.props.onError(e) } }, { "key": "onOpenSetting", "value": function onOpenSetting(e) { this.props.onOpenSetting && this.props.onOpenSetting(e) } }, { "key": "onSumit", "value": function onSumit(e) { this.$scope.triggerEvent("submit", e.detail, { "bubbles": !0, "composed": !0 }) } }, { "key": "onReset", "value": function onReset(e) { this.$scope.triggerEvent("reset", e.detail, { "bubbles": !0, "composed": !0 }) } }, { "key": "render", "value": function render() { var e, t = this.props, r = t.size, o = void 0 === r ? "normal" : r, a = t.type, s = void 0 === a ? "" : a, u = t.circle, l = t.full, d = t.loading, p = t.disabled, h = t.customStyle, m = t.formType, g = t.openType, v = t.lang, y = t.sessionFrom, b = t.sendMessageTitle, S = t.sendMessagePath, _ = t.sendMessageImg, A = t.showMessageCard, P = t.appParameter, k = t.className, E = t.children, x = ["at-button"], O = (button_defineProperty(e = {}, "at-button--" + C[o], C[o]), button_defineProperty(e, "at-button--disabled", p), button_defineProperty(e, "at-button--" + s, T[s]), button_defineProperty(e, "at-button--circle", u), button_defineProperty(e, "at-button--full", l), e), I = "primary" === s ? "#fff" : "", R = "small" === o ? "30" : 0, M = null; d && (M = n.l.createElement(i.a, { "className": "at-button__icon" }, n.l.createElement(w, { "color": I, "size": R })), x.push("at-button--icon")); var B = n.l.createElement(f, { "className": "at-button__wxbutton", "lang": v, "type": "submit" === m || "reset" === m ? m : void 0 }); n.l.createElement(f, { "className": "at-button__wxbutton", "formType": m, "openType": g, "lang": v, "sessionFrom": y, "sendMessageTitle": b, "sendMessagePath": S, "sendMessageImg": _, "showMessageCard": A, "appParameter": P, "onGetUserInfo": this.onGetUserInfo.bind(this), "onGetPhoneNumber": this.onGetPhoneNumber.bind(this), "onOpenSetting": this.onOpenSetting.bind(this), "onError": this.onError.bind(this), "onContact": this.onContact.bind(this) }); return n.l.createElement(i.a, { "className": c()(x, O, k), "style": h, "onClick": this.throttleClick.bind(this) }, !p && B, !1, !1, M, n.l.createElement(i.a, { "className": "at-button__text" }, E)) } }]), MUButton }(); P.defaultProps = { "size": "normal", "type": "default", "circle": !1, "full": !1, "loading": !1, "disabled": !1, "customStyle": {}, "onClick": function onClick() { }, "formType": void 0, "openType": void 0, "lang": "en", "sessionFrom": "", "sendMessageTitle": "", "sendMessagePath": "", "sendMessageImg": "", "showMessageCard": !1, "appParameter": "", "onGetUserInfo": function onGetUserInfo() { }, "onContact": function onContact() { }, "onGetPhoneNumber": function onGetPhoneNumber() { }, "onError": function onError() { }, "onOpenSetting": function onOpenSetting() { }, "beaconId": "", "enableThrottle": !0, "throttleTimeout": 300 }, P.propTypes = { "size": m.a.oneOf(["normal", "small"]), "type": m.a.oneOf(["primary", "secondary", "default"]), "circle": m.a.bool, "full": m.a.bool, "loading": m.a.bool, "disabled": m.a.bool, "onClick": m.a.func, "customStyle": m.a.oneOfType([m.a.object, m.a.string]), "formType": m.a.oneOf(["submit", "reset", ""]), "openType": m.a.oneOf(["contact", "share", "getUserInfo", "getPhoneNumber", "launchApp", "openSetting", "feedback", "getRealnameAuthInfo", ""]), "lang": m.a.string, "sessionFrom": m.a.string, "sendMessageTitle": m.a.string, "sendMessagePath": m.a.string, "sendMessageImg": m.a.string, "showMessageCard": m.a.bool, "appParameter": m.a.string, "onGetUserInfo": m.a.func, "onContact": m.a.func, "onGetPhoneNumber": m.a.func, "onError": m.a.func, "onOpenSetting": m.a.func, "beaconId": m.a.string, "enableThrottle": m.a.bool, "throttleTimeout": m.a.number }, P = Object(o.a)([Object(g.c)(function (e) { return { "beaconId": e.beaconId, "beaconContent": e.beaconContent, "uiType": "MUButton" } })], P); t.a = P }, function (e, t, r) { "use strict"; r.d(t, "Cb", function () { return o }), r.d(t, "Bb", function () { return i }), r.d(t, "Db", function () { return a }), r.d(t, "Gb", function () { return s }), r.d(t, "Hb", function () { return c }), r.d(t, "Ab", function () { return u }), r.d(t, "zb", function () { return l }), r.d(t, "Fb", function () { return f }), r.d(t, "Eb", function () { return d }), r.d(t, "Lb", function () { return p }), r.d(t, "Jb", function () { return h }), r.d(t, "Ib", function () { return m }), r.d(t, "Mb", function () { return g }), r.d(t, "yb", function () { return v }), r.d(t, "xb", function () { return y }), r.d(t, "O", function () { return b }), r.d(t, "S", function () { return S }), r.d(t, "Kb", function () { return _ }), r.d(t, "Zb", function () { return w }), r.d(t, "pb", function () { return A }), r.d(t, "Q", function () { return C }), r.d(t, "Cc", function () { return T }), r.d(t, "U", function () { return P }), r.d(t, "Sb", function () { return k }), r.d(t, "Dc", function () { return E }), r.d(t, "Rb", function () { return x }), r.d(t, "yc", function () { return O }), r.d(t, "G", function () { return I }), r.d(t, "r", function () { return R }), r.d(t, "t", function () { return M }), r.d(t, "v", function () { return B }), r.d(t, "w", function () { return D }), r.d(t, "x", function () { return j }), r.d(t, "f", function () { return F }), r.d(t, "oc", function () { return L }), r.d(t, "gb", function () { return N }), r.d(t, "A", function () { return H }), r.d(t, "fb", function () { return U }), r.d(t, "u", function () { return W }), r.d(t, "T", function () { return G }), r.d(t, "C", function () { return V }), r.d(t, "bb", function () { return q }), r.d(t, "y", function () { return z }), r.d(t, "cc", function () { return X }), r.d(t, "vc", function () { return Q }), r.d(t, "Vb", function () { return K }), r.d(t, "jc", function () { return Y }), r.d(t, "D", function () { return J }), r.d(t, "H", function () { return Z }), r.d(t, "Ub", function () { return $ }), r.d(t, "ec", function () { return ee }), r.d(t, "dc", function () { return te }), r.d(t, "jb", function () { return re }), r.d(t, "bc", function () { return ne }), r.d(t, "P", function () { return oe }), r.d(t, "W", function () { return ie }), r.d(t, "V", function () { return ae }), r.d(t, "Yb", function () { return se }), r.d(t, "Pb", function () { return ce }), r.d(t, "Nb", function () { return ue }), r.d(t, "p", function () { return le }), r.d(t, "J", function () { return fe }), r.d(t, "rc", function () { return de }), r.d(t, "Ac", function () { return pe }), r.d(t, "K", function () { return he }), r.d(t, "L", function () { return me }), r.d(t, "s", function () { return ge }), r.d(t, "o", function () { return ve }), r.d(t, "F", function () { return ye }), r.d(t, "E", function () { return be }), r.d(t, "Xb", function () { return Se }), r.d(t, "Ic", function () { return _e }), r.d(t, "rb", function () { return we }), r.d(t, "qc", function () { return Ae }), r.d(t, "zc", function () { return Ce }), r.d(t, "I", function () { return Te }), r.d(t, "lc", function () { return Pe }), r.d(t, "X", function () { return ke }), r.d(t, "kc", function () { return Ee }), r.d(t, "b", function () { return xe }), r.d(t, "R", function () { return Oe }), r.d(t, "uc", function () { return Ie }), r.d(t, "Bc", function () { return Re }), r.d(t, "fc", function () { return Me }), r.d(t, "xc", function () { return Be }), r.d(t, "Ec", function () { return De }), r.d(t, "q", function () { return je }), r.d(t, "eb", function () { return Fe }), r.d(t, "nc", function () { return Le }), r.d(t, "M", function () { return Ne }), r.d(t, "mc", function () { return He }), r.d(t, "gc", function () { return Ue }), r.d(t, "hc", function () { return We }), r.d(t, "N", function () { return Ge }), r.d(t, "kb", function () { return Ve }), r.d(t, "k", function () { return qe }), r.d(t, "e", function () { return ze }), r.d(t, "cb", function () { return Xe }), r.d(t, "i", function () { return Qe }), r.d(t, "sc", function () { return Ke }), r.d(t, "tc", function () { return Ye }), r.d(t, "B", function () { return Je }), r.d(t, "pc", function () { return Ze }), r.d(t, "hb", function () { return $e }), r.d(t, "Hc", function () { return et }), r.d(t, "Z", function () { return tt }), r.d(t, "l", function () { return rt }), r.d(t, "a", function () { return nt }), r.d(t, "Ob", function () { return ot }), r.d(t, "Qb", function () { return it }), r.d(t, "Y", function () { return at }), r.d(t, "db", function () { return st }), r.d(t, "ob", function () { return ct }), r.d(t, "mb", function () { return ut }), r.d(t, "m", function () { return lt }), r.d(t, "n", function () { return ft }), r.d(t, "j", function () { return dt }), r.d(t, "wc", function () { return pt }), r.d(t, "h", function () { return ht }), r.d(t, "ic", function () { return mt }), r.d(t, "vb", function () { return gt }), r.d(t, "tb", function () { return vt }), r.d(t, "ub", function () { return yt }), r.d(t, "wb", function () { return bt }), r.d(t, "Fc", function () { return St }), r.d(t, "Gc", function () { return _t }), r.d(t, "ib", function () { return wt }), r.d(t, "c", function () { return At }), r.d(t, "sb", function () { return Ct }), r.d(t, "g", function () { return Tt }), r.d(t, "z", function () { return Pt }), r.d(t, "lb", function () { return kt }), r.d(t, "d", function () { return Et }), r.d(t, "Tb", function () { return xt }), r.d(t, "ab", function () { return Ot }), r.d(t, "ac", function () { return It }), r.d(t, "qb", function () { return Rt }), r.d(t, "nb", function () { return Mt }), r.d(t, "Wb", function () { return Bt }); var n = r(0), o = Object(n.q)("onBackgroundAudioPlay"), i = Object(n.q)("onBackgroundAudioPause"), a = Object(n.q)("onBackgroundAudioStop"), s = Object(n.q)("onBluetoothAdapterStateChange"), c = Object(n.q)("onBluetoothDeviceFound"), u = Object(n.q)("onBLEConnectionStateChange"), l = Object(n.q)("onBLECharacteristicValueChange"), f = Object(n.q)("onBeaconUpdate"), d = Object(n.q)("onBeaconServiceChange"), p = Object(n.q)("onUserCaptureScreen"), h = Object(n.q)("onHCEMessage"), m = Object(n.q)("onGetWifiList"), g = Object(n.q)("onWifiConnected"), v = Object(n.q)("offWifiConnected"), y = Object(n.q)("offGetWifiList"), b = Object(n.q)("getExtConfigSync"), S = Object(n.q)("getLogManager"), _ = Object(n.q)("onMemoryWarning"), w = Object(n.q)("reportAnalytics"), A = Object(n.q)("navigateToSmartGameProgram"), C = Object(n.q)("getFileSystemManager"), T = Object(n.q)("stopRecord"), P = Object(n.q)("getRecorderManager"), k = Object(n.q)("pauseVoice"), E = Object(n.q)("stopVoice"), x = Object(n.q)("pauseBackgroundAudio"), O = Object(n.q)("stopBackgroundAudio"), I = Object(n.q)("getBackgroundAudioManager"), R = Object(n.q)("createAudioContext"), M = Object(n.q)("createCameraContext"), B = Object(n.q)("createLivePlayerContext"), D = Object(n.q)("createLivePusherContext"), j = Object(n.q)("createMapContext"), F = Object(n.q)("canIUse"), L = Object(n.q)("showNavigationBarLoading"), N = Object(n.q)("hideNavigationBarLoading"), H = Object(n.q)("drawCanvas"), U = Object(n.q)("hideKeyboard"), W = Object(n.q)("createIntersectionObserver"), G = Object(n.q)("getMenuButtonBoundingClientRect"), V = Object(n.q)("getAccountInfoSync"), q = Object(n.q)("getUpdateManager"), z = Object(n.q)("createWorker"), X = Object(n.q)("saveImageToPhotosAlbum"), Q = Object(n.q)("startRecord"), K = Object(n.q)("playVoice"), Y = Object(n.q)("setInnerAudioOption"), J = Object(n.q)("getAvailableAudioSources"), Z = Object(n.q)("getBackgroundAudioPlayerState"), $ = Object(n.q)("playBackgroundAudio"), ee = Object(n.q)("seekBackgroundAudio"), te = Object(n.q)("saveVideoToPhotosAlbum"), re = Object(n.q)("loadFontFace"), ne = Object(n.q)("saveFile"), oe = Object(n.q)("getFileInfo"), ie = Object(n.q)("getSavedFileList"), ae = Object(n.q)("getSavedFileInfo"), se = Object(n.q)("removeSavedFile"), ce = Object(n.q)("openDocument"), ue = Object(n.q)("openBluetoothAdapter"), le = Object(n.q)("closeBluetoothAdapter"), fe = Object(n.q)("getBluetoothAdapterState"), de = Object(n.q)("startBluetoothDevicesDiscovery"), pe = Object(n.q)("stopBluetoothDevicesDiscovery"), he = Object(n.q)("getBluetoothDevices"), me = Object(n.q)("getConnectedBluetoothDevices"), ge = Object(n.q)("createBLEConnection"), ve = Object(n.q)("closeBLEConnection"), ye = Object(n.q)("getBLEDeviceServices"), be = Object(n.q)("getBLEDeviceCharacteristics"), Se = Object(n.q)("readBLECharacteristicValue"), _e = Object(n.q)("writeBLECharacteristicValue"), we = Object(n.q)("notifyBLECharacteristicValueChange"), Ae = Object(n.q)("startBeaconDiscovery"), Ce = Object(n.q)("stopBeaconDiscovery"), Te = Object(n.q)("getBeacons"), Pe = Object(n.q)("setScreenBrightness"), ke = Object(n.q)("getScreenBrightness"), Ee = Object(n.q)("setKeepScreenOn"), xe = Object(n.q)("addPhoneContact"), Oe = Object(n.q)("getHCEState"), Ie = Object(n.q)("startHCE"), Re = Object(n.q)("stopHCE"), Me = Object(n.q)("sendHCEMessage"), Be = Object(n.q)("startWifi"), De = Object(n.q)("stopWifi"), je = Object(n.q)("connectWifi"), Fe = Object(n.q)("getWifiList"), Le = Object(n.q)("setWifiList"), Ne = Object(n.q)("getConnectedWifi"), He = Object(n.q)("setTopBarText"), Ue = Object(n.q)("setBackgroundColor"), We = Object(n.q)("setBackgroundTextStyle"), Ge = Object(n.q)("getExtConfig"), Ve = Object(n.q)("login"), qe = Object(n.q)("checkSession"), ze = Object(n.q)("authorize"), Xe = Object(n.q)("getUserInfo"), Qe = Object(n.q)("checkIsSupportFacialRecognition"), Ke = Object(n.q)("startFacialRecognitionVerify"), Ye = Object(n.q)("startFacialRecognitionVerifyAndUploadVideo"), Je = Object(n.q)("faceVerifyForPay"), Ze = Object(n.q)("showShareMenu"), $e = Object(n.q)("hideShareMenu"), et = Object(n.q)("updateShareMenu"), tt = Object(n.q)("getShareInfo"), rt = Object(n.q)("chooseAddress"), nt = Object(n.q)("addCard"), ot = Object(n.q)("openCard"), it = Object(n.q)("openSetting"), at = Object(n.q)("getSetting"), st = Object(n.q)("getWeRunData"), ct = Object(n.q)("navigateToMiniProgram"), ut = Object(n.q)("navigateBackMiniProgram"), lt = Object(n.q)("chooseInvoice"), ft = Object(n.q)("chooseInvoiceTitle"), dt = Object(n.q)("checkIsSupportSoterAuthentication"), pt = Object(n.q)("startSoterAuthentication"), ht = Object(n.q)("checkIsSoterEnrolledInDevice"), mt = Object(n.q)("setEnableDebug"), gt = Object(n.q)("ocrIdCard"), vt = Object(n.q)("ocrBankCard"), yt = Object(n.q)("ocrDrivingLicense"), bt = Object(n.q)("ocrVehicleLicense"), St = Object(n.q)("textReview"), _t = Object(n.q)("textToAudio"), wt = Object(n.q)("imageAudit"), At = Object(n.q)("advancedGeneralIdentify"), Ct = Object(n.q)("objectDetectIdentify"), Tt = Object(n.q)("carClassify"), Pt = Object(n.q)("dishClassify"), kt = Object(n.q)("logoClassify"), Et = Object(n.q)("animalClassify"), xt = Object(n.q)("plantClassify"), Ot = Object(n.q)("getSwanId"), It = Object(n.q)("requestPolymerPayment"), Rt = Object(n.q)("navigateToSmartProgram"), Mt = Object(n.q)("navigateBackSmartProgram"), Bt = Object(n.q)("preloadSubPackage") }, function (e, t, r) { "use strict"; var n = r(1), o = r(0); t.a = function canvasToTempFilePath(e, t) { var r = e.canvasId, i = e.fileType, a = e.quality, s = e.success, c = e.fail, u = e.complete, l = "__taroref_" + r, f = Object(o.e)(l, t), d = Object(n.m)(f); try { var p = { "tempFilePath": d.querySelector("[canvasId=" + r + "]").toDataURL("image/" + (i || "png"), a), "res": "canvasToTempFilePath:ok" }; return s && s(p), u && u(p), Promise.resolve(p) } catch (e) { var h = { "errMsg": e.message }; return c && c(h), u && u(h), Promise.reject(h) } } }, function (e, t, r) { "use strict"; var n = r(0), o = r(21); t.a = function downloadFile(e) { var t = e.url, r = e.header, i = e.success, a = e.fail, s = e.complete, c = void 0, u = new Promise(function (e, u) { c = function createDownloadTask(e) { var t = e.url, r = e.header, i = e.success, a = e.error, s = void 0, c = "downloadFile", u = new XMLHttpRequest, l = { "headersReceived": Object(n.a)(), "progressUpdate": Object(n.a)() }; u.withCredentials = !0, u.open("GET", t, !0), u.responseType = "blob", Object(o.d)(u, r), u.onprogress = function (e) { var t = e.loaded, r = e.total; l.progressUpdate.trigger({ "progress": Math.round(t / r * 100), "totalBytesWritten": t, "totalBytesExpectedToWrite": r }) }, u.onreadystatechange = function () { u.readyState === o.b.HEADERS_RECEIVED && l.headersReceived.trigger({ "header": u.getAllResponseHeaders() }) }, u.onload = function () { var e = u.response, t = u.status; i({ "errMsg": c + ":ok", "statusCode": t, "tempFilePath": window.URL.createObjectURL(e) }) }, u.onabort = function () { clearTimeout(s), a({ "errMsg": c + ":fail abort" }) }, u.onerror = function (e) { a({ "errMsg": c + ":fail " + e.message }) }, function send() { u.send(), s = setTimeout(function () { u.onabort = null, u.onload = null, u.onprogress = null, u.onreadystatechange = null, u.onerror = null, f(), a({ "errMsg": c + ":fail timeout" }) }, o.a) }(); var f = function abort() { u.abort() }, d = l.headersReceived.add, p = l.headersReceived.remove, h = l.progressUpdate.add, m = l.progressUpdate.remove; return { "abort": f, "onHeadersReceived": d, "offHeadersReceived": p, "onProgressUpdate": h, "offProgressUpdate": m } }({ "url": t, "header": r, "success": function success(t) { i && i(t), s && s(t), e(t) }, "error": function error(e) { a && a(e), s && s(e), u(e) } }) }); return u.headersReceive = c.onHeadersReceived, u.progress = c.onProgressUpdate, u.abort = c.abort, u } }, function (e, t, r) { "use strict"; var n = r(0), o = r(21), i = function createUploadTask(e) { var t = e.url, r = e.filePath, i = e.fileName, a = e.formData, s = e.name, c = e.header, u = e.success, l = e.error, f = void 0, d = void 0, p = "uploadFile", h = new XMLHttpRequest, m = new FormData, g = { "headersReceived": Object(n.a)(), "progressUpdate": Object(n.a)() }; for (d in h.withCredentials = !0, h.open("POST", t), Object(o.d)(h, c), a) m.append(d, a[d]); h.upload.onprogress = function (e) { var t = e.loaded, r = e.total; g.progressUpdate.trigger({ "progress": Math.round(t / r * 100), "totalBytesSent": t, "totalBytesExpectedToSent": r }) }, h.onreadystatechange = function () { h.readyState === o.b.HEADERS_RECEIVED && g.headersReceived.trigger({ "header": h.getAllResponseHeaders() }) }, h.onload = function () { var e = h.status; u({ "errMsg": p + ":ok", "statusCode": e, "data": h.responseText || h.response }) }, h.onabort = function () { clearTimeout(f), l({ "errMsg": p + ":fail abort" }) }, h.onerror = function (e) { l({ "errMsg": p + ":fail " + e.message }) }; Object(o.c)(r).then(function (e) { var t = i || e.name || "file-" + Date.now(), r = new File([e], t, { "type": e.type }); m.append(s, r, t), function send() { h.send(m), f = setTimeout(function () { h.onabort = null, h.onload = null, h.upload.onprogress = null, h.onreadystatechange = null, h.onerror = null, v(), l({ "errMsg": p + ":fail timeout" }) }, o.a) }() }).catch(function (e) { l({ "errMsg": p + ":fail " + e.message }) }); var v = function abort() { h.abort() }, y = g.headersReceived.add, b = g.headersReceived.remove, S = g.progressUpdate.add, _ = g.progressUpdate.remove; return { "abort": v, "onHeadersReceived": y, "offHeadersReceived": b, "onProgressUpdate": S, "offProgressUpdate": _ } }; t.a = function uploadFile(e) { var t = e.url, r = e.filePath, n = e.fileName, o = e.name, a = e.header, s = e.formData, c = e.success, u = e.fail, l = e.complete, f = void 0, d = new Promise(function (e, d) { f = i({ "url": t, "header": a, "name": o, "filePath": r, "formData": s, "fileName": n, "success": function success(t) { c && c(t), l && l(t), e(t) }, "error": function error(e) { u && u(e), l && l(e), d(e) } }) }); return d.headersReceive = f.onHeadersReceived, d.progress = f.onProgressUpdate, d.abort = f.abort, d } }, function (e, t, r) { "use strict"; var n = r(0); t.a = function chooseImage(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "chooseImage" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.count, i = void 0 === o ? 1 : o, a = e.success, s = e.fail, c = e.complete, u = e.imageId, l = void 0 === u ? "taroChooseImage" : u, f = e.sourceType, d = void 0 === f ? ["album", "camera"] : f, p = { "errMsg": "chooseImage:ok", "tempFilePaths": [], "tempFiles": [] }, h = d && d.toString(), m = ["user", "environment", "camera"]; if (i && "number" != typeof i) return p.errMsg = Object(n.f)({ "name": "chooseImage", "para": "count", "correct": "Number", "wrong": i }), console.error(p.errMsg), "function" == typeof s && s(p), "function" == typeof c && c(p), Promise.reject(p); var g = document.getElementById(l); if (g) m.indexOf(h) > -1 ? g.setAttribute("capture", h) : g.removeAttribute("capture"); else { var v = document.createElement("input"); v.setAttribute("type", "file"), v.setAttribute("id", l), i > 1 && v.setAttribute("multiple", "multiple"), m.indexOf(h) > -1 && v.setAttribute("capture", h), v.setAttribute("accept", "image/*"), v.setAttribute("style", "position: fixed; top: -4000px; left: -3000px; z-index: -300;"), document.body.appendChild(v), g = document.getElementById(l) } var y = void 0, b = new Promise(function (e) { y = e }), S = document.createEvent("MouseEvents"); return S.initEvent("click", !0, !0), g.dispatchEvent(S), g.onchange = function (e) { var t = [].concat(function _toConsumableArray(e) { if (Array.isArray(e)) { for (var t = 0, r = Array(e.length); t < e.length; t++)r[t] = e[t]; return r } return Array.from(e) }(e.target.files)); (t = t.splice(0, i)) && t.forEach(function (e) { var t = new Blob([e], { "type": e.type }), r = URL.createObjectURL(t); p.tempFilePaths.push(r), p.tempFiles.push({ "path": r, "size": e.size, "type": e.type, "originalFileObj": e }) }), "function" == typeof a && a(p), "function" == typeof c && c(p), y(p), e.target.value = "" }, b } }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return setNavigationBarTitle }), r.d(t, "a", function () { return setNavigationBarColor }); var n = r(0); function setNavigationBarTitle(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "setNavigationBarTitle" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.title, i = e.success, a = e.fail, s = e.complete, c = { "errMsg": "setNavigationBarTitle:ok" }; return o && "string" == typeof o ? (document.title !== o && (document.title = o), "function" == typeof i && i(c), "function" == typeof s && s(c), Promise.resolve(c)) : (c.errMsg = Object(n.f)({ "name": "setNavigationBarTitle", "para": "title", "correct": "String", "wrong": o }), console.error(c.errMsg), "function" == typeof a && a(c), "function" == typeof s && s(c), Promise.reject(c)) } function setNavigationBarColor(e) { var t = document.createElement("meta"); t.setAttribute("name", "theme-color"), t.setAttribute("content", e.backgroundColor), document.head.appendChild(t) } }, function (e, t) { e.exports = function () { throw new Error("define cannot be used indirect") } }, function (e, t, r) { "use strict"; r.d(t, "c", function () { return initTabBarApis }), r.d(t, "j", function () { return switchTab }), r.d(t, "e", function () { return setTabBarBadge }), r.d(t, "d", function () { return removeTabBarBadge }), r.d(t, "i", function () { return showTabBarRedDot }), r.d(t, "b", function () { return hideTabBarRedDot }), r.d(t, "h", function () { return showTabBar }), r.d(t, "a", function () { return hideTabBar }), r.d(t, "g", function () { return setTabBarStyle }), r.d(t, "f", function () { return setTabBarItem }); var n = r(0), o = r(11), i = void 0, a = void 0; function initTabBarApis() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; i = e.state.__tabs, a = e } function switchTab() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "showTabBarRedDot" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.url, a = e.success, s = e.fail, c = e.complete; return new Promise(function (e, t) { o.a.eventCenter.trigger("__taroSwitchTab", { "url": i, "successHandler": function successHandler(t) { a && a(t), c && c(t), e(t) }, "errorHandler": function errorHandler(e) { s && s(e), c && c(e), t(e) } }) }) } function setTabBarBadge() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "setTabBarBadge" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.index, a = e.text, s = e.success, c = e.fail, u = e.complete, l = { "errMsg": "setTabBarBadge:ok" }; return "number" != typeof i ? (l.errMsg = Object(n.f)({ "name": "setTabBarBadge", "para": "index", "correct": "Number", "wrong": i }), console.error(l.errMsg), Object(n.d)(c, u)(l)) : "string" != typeof a ? (l.errMsg = Object(n.f)({ "name": "setTabBarBadge", "para": "text", "correct": "String", "wrong": a }), console.error(l.errMsg), Object(n.d)(c, u)(l)) : (o.a.eventCenter.trigger("__taroSetTabBarBadge", { "index": i, "text": a, "successHandler": Object(n.p)(s, u), "errorHandler": Object(n.d)(c, u) }), Object(n.p)(s, u)(l)) } function removeTabBarBadge() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "removeTabBarBadge" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.index, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "removeTabBarBadge:ok" }; return "number" != typeof i ? (u.errMsg = Object(n.f)({ "name": "removeTabBarBadge", "para": "index", "correct": "Number", "wrong": i }), console.error(u.errMsg), Object(n.d)(s, c)(u)) : (o.a.eventCenter.trigger("__taroRemoveTabBarBadge", { "index": i, "successHandler": Object(n.p)(a, c), "errorHandler": Object(n.d)(s, c) }), Object(n.p)(a, c)(u)) } function showTabBarRedDot() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "showTabBarRedDot" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.index, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "showTabBarRedDot:ok" }; return "number" != typeof i ? (u.errMsg = Object(n.f)({ "name": "showTabBarRedDot", "para": "index", "correct": "Number", "wrong": i }), console.error(u.errMsg), Object(n.d)(s, c)(u)) : (o.a.eventCenter.trigger("__taroShowTabBarRedDotHandler", { "index": i, "successHandler": Object(n.p)(a, c), "errorHandler": Object(n.d)(s, c) }), Object(n.p)(a, c)(u)) } function hideTabBarRedDot() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "hideTabBarRedDot" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.index, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "hideTabBarRedDot:ok" }; return "number" != typeof i ? (u.errMsg = Object(n.f)({ "name": "hideTabBarRedDot", "para": "index", "correct": "Number", "wrong": i }), console.error(u.errMsg), Object(n.d)(s, c)(u)) : (o.a.eventCenter.trigger("__taroHideTabBarRedDotHandler", { "index": i, "successHandler": Object(n.p)(a, c), "errorHandler": Object(n.d)(s, c) }), Object(n.p)(a, c)(u)) } function showTabBar() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "showTabBar" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.animation, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "showTabBar:ok" }; return e.hasOwnProperty("animation") && "boolean" != typeof i ? (u.errMsg = Object(n.f)({ "name": "showTabBar", "para": "animation", "correct": "Boolean", "wrong": i }), console.error(u.errMsg), Object(n.d)(s, c)(u)) : (o.a.eventCenter.trigger("__taroShowTabBar", { "animation": i, "successHandler": Object(n.p)(a, c), "errorHandler": Object(n.d)(a, c) }), Object(n.p)(a, c)(u)) } function hideTabBar() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "hideTabBar" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var i = e.animation, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "hideTabBar:ok" }; return e.hasOwnProperty("animation") && "boolean" != typeof i ? (u.errMsg = Object(n.f)({ "name": "hideTabBar", "para": "animation", "correct": "Boolean", "wrong": i }), console.error(u.errMsg), Object(n.d)(s, c)(u)) : (o.a.eventCenter.trigger("__taroHideTabBar", { "animation": i, "successHandler": Object(n.p)(a, c), "errorHandler": Object(n.d)(a, c) }), Object(n.p)(a, c)(u)) } function setTabBarStyle() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "setTabBarStyle" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.color, s = e.selectedColor, c = e.backgroundColor, u = e.borderStyle, l = e.success, f = e.fail, d = e.complete, p = { "errMsg": "setTabBarStyle:ok" }, h = void 0; if (o && !Object(n.j)(o) ? h = "color" : s && !Object(n.j)(s) ? h = "selectedColor" : c && !Object(n.j)(c) ? h = "backgroundColor" : u && !/^(black|white)$/.test(u) && (h = "borderStyle"), h) return p.errMsg = "setTabBarStyle:fail invalid " + h, Object(n.d)(f, d)(p); if (!i) return p.errMsg = "setTabBarStyle:fail", Promise.reject(p); var m = {}; o && (m.color = o), s && (m.selectedColor = s), c && (m.backgroundColor = c), u && (m.borderStyle = u); var g = Object.assign({}, i, m); return a.setState && a.setState({ "__tabs": g }), Object(n.p)(l, d)(p) } function setTabBarItem() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "setTabBarItem" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.index, s = e.text, c = e.iconPath, u = e.selectedIconPath, l = e.success, f = e.fail, d = e.complete, p = { "errMsg": "setTabBarItem:ok" }; if ("number" != typeof o) return p.errMsg = Object(n.f)({ "name": "setTabBarItem", "para": "index", "correct": "Number", "wrong": o }), console.error(p.errMsg), Object(n.d)(f, d)(p); if (!i || !i.list || !i.list[o]) return p.errMsg = "setTabBarItem:fail tabbar item not found", Object(n.d)(f, d)(p); var h = {}; s && (h.text = s), c && (h.iconPath = c), u && (h.selectedIconPath = u); var m = Object.assign({}, i); return m.list[o] = Object.assign({}, m.list[o], h), a.setState && a.setState({ "__tabs": m }), Object(n.p)(l, d)(p) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return chooseVideo }), r.d(t, "b", function () { return createVideoContext }); var n = r(0); function chooseVideo(e) { var t = Object(n.o)(e); if (!t.res) { var r = { "errMsg": "chooseVideo" + t.msg }; return console.error(r.errMsg), Promise.reject(r) } var o = e.count, i = void 0 === o ? 1 : o, a = e.success, s = e.fail, c = e.complete, u = { "errMsg": "chooseVideo:ok", "tempFilePaths": [], "tempFiles": [] }; if (i && "number" != typeof i) return u.errMsg = Object(n.f)({ "name": "chooseVideo", "para": "count", "correct": "Number", "wrong": i }), console.error(u.errMsg), "function" == typeof s && s(u), "function" == typeof c && c(u), Promise.reject(u); var l = document.createElement("input"); l.setAttribute("type", "file"), l.setAttribute("multiple", "multiple"), l.setAttribute("accept", "video/*"), l.setAttribute("style", "position: fixed; top: -4000px; left: -3000px; z-index: -300;"), document.body.appendChild(l); var f = void 0, d = new Promise(function (e) { f = e }), p = document.createEvent("MouseEvents"); return p.initEvent("click", !0, !0), l.dispatchEvent(p), l.onchange = function (e) { var t = [].concat(function _toConsumableArray(e) { if (Array.isArray(e)) { for (var t = 0, r = Array(e.length); t < e.length; t++)r[t] = e[t]; return r } return Array.from(e) }(e.target.files)); t && t.forEach(function (e) { var t = new Blob([e]), r = URL.createObjectURL(t); u.tempFilePaths.push(r), u.tempFiles.push({ "path": r, "size": e.size, "type": e.type }) }), "function" == typeof a && a(u), "function" == typeof c && c(u), f(u) }, d.finally(function () { document.body.removeChild(l) }), d } function createVideoContext(e, t) { var r = "__taroref_" + e; return Object(n.e)(r, t) } }, function (e, t, r) { "use strict"; var n = r(27); function serializeParams(e) { return e ? Object.keys(e).map(function (t) { return encodeURIComponent(t) + "=" + ("object" === n._typeof(e[t]) ? encodeURIComponent(JSON.stringify(e[t])) : encodeURIComponent(e[t])) }).join("&") : "" } function generateRequestUrlWithParams(e, t) { return (t = "string" == typeof t ? t : serializeParams(t)) && (e += (~e.indexOf("?") ? "&" : "?") + t), e = e.replace("?&", "?") } t.generateRequestUrlWithParams = generateRequestUrlWithParams, t.isObject = function isObject(e) { return "[object Object]" === Object.prototype.toString.call(e) }, t.isString = function isString(e) { return "[object String]" === Object.prototype.toString.call(e) }, t.serializeParams = serializeParams, t.transformRequestData = function transformRequestData(e) { var t = (e = e || {}).method, r = void 0 === t ? "GET" : t, o = e.url; if (!e || !e.url) return ""; var i = r.toUpperCase(); if ("HEAD" === i) e.url = generateRequestUrlWithParams(o, e.data); else if ("GET" === i) e.data = e.data; else if ("object" === n._typeof(e.data)) { var a = e.header && (e.header["Content-Type"] || e.header["content-type"]); a && a.indexOf("application/json") >= 0 ? e.data = JSON.stringify(e.data) : a && a.indexOf("application/x-www-form-urlencoded") >= 0 ? e.data = serializeParams(e.data) : e.data = e.data } else e.data = e.data } }, function (e, t, r) { "use strict"; var n = r(27), o = function () { function Chain(e, t, r) { void 0 === t && (t = []), void 0 === r && (r = 0), this.index = r, this.requestParams = e, this.interceptors = t } return Chain.prototype.proceed = function (e) { if (this.requestParams = e, this.index >= this.interceptors.length) throw new Error("chain 参数错误, 请勿直接修改 request.chain"); var t = this._getNextInterceptor()(this._getNextChain()), r = t.catch(function (e) { return Promise.reject(e) }); return "function" == typeof t.abort && (r.abort = t.abort), r }, Chain.prototype._getNextInterceptor = function () { return this.interceptors[this.index] }, Chain.prototype._getNextChain = function () { return new Chain(this.requestParams, this.interceptors, this.index + 1) }, Chain }(), i = function () { function Link(e) { this.linkInterceptor = e, this.chain = new o } return Link.prototype.request = function (e) { var t = this; return this.chain.interceptors = this.chain.interceptors.filter(function (e) { return e !== t.linkInterceptor }), this.chain.interceptors.push(this.linkInterceptor), this.chain.proceed(n.__assign({}, e)) }, Link.prototype.addInterceptor = function (e) { this.chain.interceptors.push(e) }, Link.prototype.cleanInterceptors = function () { this.chain = new o }, Link }(), a = function () { function FetchBase(e, t, r) { this.request = e, this.addInterceptor = t, this.cleanInterceptors = r } return FetchBase.prototype.getInstance = function () { return this }, FetchBase }(); t.FetchBase = a, t.Link = i }, function (e, t) { t.TIMING_KEYS = ["", "fetchStart", "domainLookupStart", "domainLookupEnd", "connectStart", "connectEnd", "requestStart", "responseStart", "responseEnd", "", "domInteractive", "", "domContentLoadedEventEnd", "", "loadEventStart", "", "msFirstPaint", "secureConnectionStart"] }, function (e, t) { var r = {}.hasOwnProperty; e.exports = function (e, t) { return r.call(e, t) } }, function (e, t, r) { var n = r(69), o = r(70); e.exports = function (e) { return n(o(e)) } }, function (e, t, r) { var n = r(164); e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (e) { return "String" == n(e) ? e.split("") : Object(e) } }, function (e, t) { e.exports = function (e) { if (null == e) throw TypeError("Can't call method on  " + e); return e } }, function (e, t) { var r = Math.ceil, n = Math.floor; e.exports = function (e) { return isNaN(e = +e) ? 0 : (e > 0 ? n : r)(e) } }, function (e, t, r) { var n = r(73), o = r(182), i = r(183), a = "[object Null]", s = "[object Undefined]", c = n ? n.toStringTag : void 0; e.exports = function baseGetTag(e) { return null == e ? void 0 === e ? s : a : c && c in Object(e) ? o(e) : i(e) } }, function (e, t, r) { var n = r(74).Symbol; e.exports = n }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(181), i = "object" == ("undefined" == typeof self ? "undefined" : n(self)) && self && self.Object === Object && self, a = o || i || Function("return this")(); e.exports = a }, , function (e, t, r) { "use strict"; var n, o, i, a = r(1), s = r(39), c = r.n(s), u = function Loading(e) { return a.l.createElement("div", { "className": "viewer-image-loading" }) }, l = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var f = function easeOutQuart(e, t, r, n) { return -(r - t) * ((e = e / n - 1) * e * e * e - 1) + t }; function setScope(e, t, r) { return e < t ? t : e > r ? r : e } function getDistanceBetweenTouches(e) { if (e.touches.length < 2) return 1; var t = e.touches[0].clientX, r = e.touches[0].clientY, n = e.touches[1].clientX, o = e.touches[1].clientY; return Math.sqrt(Math.pow(n - t, 2) + Math.pow(o - r, 2)) } var d, p, h = (o = n = function (e) { function ImageContainer(e, t) { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ImageContainer); var r = function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (ImageContainer.__proto__ || Object.getPrototypeOf(ImageContainer)).call(this, e, t)); return i.call(r), r.actualHeight = 0, r.actualWith = 0, r.originHeight = 0, r.originWidth = 0, r.originScale = 1, r.startLeft = 0, r.startTop = 0, r.startScale = 1, r.onTouchStartTime = 0, r.isTwoFingerMode = !1, r.oldPointLeft = 0, r.oldPointTop = 0, r._touchZoomDistanceStart = 0, r.haveCallMoveFn = !1, r.diffX = 0, r.diffY = 0, r.animationID = 0, r.animateStartTime = 0, r.animateStartValue = { "x": 0, "y": 0 }, r.animateFinalValue = { "x": 0, "y": 0 }, r } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(ImageContainer, a["e"]), l(ImageContainer, [{ "key": "componentWillMount", "value": function componentWillMount() { this.loadImg(this.props.src), window.addEventListener("popstate", this.handlePopState) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { this.unloadImg(), this.animationID && c.a.cancel(this.animationID), window.removeEventListener("popstate", this.handlePopState) } }, { "key": "render", "value": function render() { var e = this.props, t = e.screenWidth, r = e.screenHeight, n = e.src, o = e.left, i = this.state, s = i.isLoaded, c = i.left, l = i.top, f = i.scale, d = { "width": i.width, "height": i.height }, p = "translate3d(" + c + "px, " + l + "px, 0) scale(" + f + ")"; d.WebkitTransform = p, d.transform = p; var h = { "left": o, "width": t, "height": r }; return a.l.createElement("div", { "className": "viewer-image-container", "onTouchStart": this.handleTouchStart, "onTouchMove": this.handleTouchMove, "onTouchEnd": this.handleTouchEnd, "style": h }, s ? a.l.createElement("img", { "src": n, "style": d, "alt": "" }) : a.l.createElement(u, null)) } }]), ImageContainer }(), n.propTypes = { "maxZoomNum": a.d.number.isRequired, "handleStart": a.d.func.isRequired, "handleMove": a.d.func.isRequired, "handleEnd": a.d.func.isRequired }, n.contextTypes = { "onClose": a.d.func }, i = function _initialiseProps() { var e = this; this.state = { "width": 0, "height": 0, "scale": 1, "left": 0, "top": 0, "isLoaded": !1 }, this.handlePopState = function () { window.removeEventListener("popstate", e.handlePopState), e.context.onError({ "errMsg": "previewImage:fail cancel" }), e.context.onClose() }, this.onLoad = function () { e.actualWith = e.img.width, e.actualHeight = e.img.height; var t = e.props, r = t.screenHeight, n = t.screenWidth, o = 0; e.originWidth = n, e.originHeight = e.actualHeight / e.actualWith * n, e.originScale = 1, e.actualHeight / e.actualWith < r / n && (o = parseInt((r - e.originHeight) / 2, 10)), e.originTop = o, e.setState({ "width": e.originWidth, "height": e.originHeight, "scale": 1, "left": 0, "top": o, "isLoaded": !0 }) }, this.onError = function () { e.setState({ "isLoaded": !0 }) }, this.loadImg = function (t) { e.img = new Image, e.img.src = t, e.img.onload = e.onLoad, e.img.onerror = e.onError, e.setState({ "isLoaded": !1 }) }, this.unloadImg = function () { delete e.img.onerror, delete e.img.onload, delete e.img.src, delete e.img }, this.handleTouchStart = function (t) { switch (t.preventDefault(), t.stopPropagation(), e.animationID && c.a.cancel(e.animationID), t.touches.length) { case 1: var r = t.touches[0]; e.startX = r.clientX, e.startY = r.clientY, e.diffX = 0, e.diffY = 0, e.startLeft = e.state.left, e.startTop = e.state.top, e.onTouchStartTime = (new Date).getTime(), e.haveCallMoveFn = !1; break; case 2: e.isTwoFingerMode = !0; var n = Math.abs(Math.round((t.touches[0].clientX + t.touches[1].clientX) / 2)), o = Math.abs(Math.round((t.touches[0].clientY + t.touches[1].clientY) / 2)); e.startLeft = e.state.left, e.startTop = e.state.top, e.startScale = e.state.scale, e.oldPointLeft = n - e.startLeft, e.oldPointTop = o - e.startTop, e._touchZoomDistanceStart = getDistanceBetweenTouches(t) } }, this.handleTouchMove = function (t) { switch (t.preventDefault(), t.stopPropagation(), t.touches.length) { case 1: var r = t.touches[0], n = r.clientX - e.startX, o = r.clientY - e.startY; if (e.diffX = n, e.diffY = o, Math.abs(n) < 5 && Math.abs(o) < 5) return; var i = e.state.scale, a = i * e.originWidth; if (Math.abs(n) > Math.abs(o)) { if (e.state.scale === e.originScale && Math.abs(n) > 5) return e.haveCallMoveFn = !0, void e.callHandleMove(n); if (n < 0 && e.startLeft <= e.originWidth - a) return e.haveCallMoveFn = !0, void e.callHandleMove(n); if (n > 0 && e.startLeft >= 0) return e.haveCallMoveFn = !0, void e.callHandleMove(n) } var s = e.props.screenHeight, c = i * e.originHeight, u = (s - c) / 2, l = e.startLeft + n; (c > s || e.state.scale === e.originScale) && (u = e.startTop + o), e.setState({ "left": l, "top": u }); break; case 2: e._touchZoomDistanceEnd = getDistanceBetweenTouches(t); var f = Math.sqrt(e._touchZoomDistanceEnd / e._touchZoomDistanceStart), d = f * e.startScale, p = e.startLeft + (1 - f) * e.oldPointLeft, h = e.startTop + (1 - f) * e.oldPointTop; e.setState({ "left": p, "top": h, "scale": d }) } }, this.handleTouchEnd = function (t) { if (t.preventDefault(), e.isTwoFingerMode) { var r = t.touches.length; if (e.isTwoFingerMode = !1, 1 === r) { var n = t.touches[0]; e.startX = n.clientX, e.startY = n.clientY, e.diffX = 0, e.diffY = 0 } e.setState(function (t, n) { var o = setScope(t.scale, 1, n.maxZoomNum), i = o * e.originWidth, a = o * e.originHeight, s = o / e.startScale, c = setScope(e.startLeft + (1 - s) * e.oldPointLeft, e.originWidth - i, 0), u = void 0; return u = a > n.screenHeight ? setScope(e.startTop + (1 - s) * e.oldPointTop, n.screenHeight - a, 0) : (n.screenHeight - a) / 2, 1 === r && (e.startLeft = c, e.startTop = u, e.startScale = o), { "left": c, "top": u, "scale": o } }) } else { var o = (new Date).getTime() - e.onTouchStartTime, i = e.diffX, a = e.diffY; if (o < 300 && Math.abs(i) < 5 && Math.abs(a) < 5) return void setTimeout(e.context.onClose, 300); if (e.haveCallMoveFn) if (e.callHandleEnd(a < 30)) return void setTimeout(function () { e.setState({ "scale": e.originScale, "left": 0, "top": e.originTop }) }, 1e3 / 3); var s = void 0, c = void 0, u = e.state.scale * e.originHeight; s = 1e3 * i / o + e.startLeft, c = 1e3 * a / o + e.startTop, e.state.scale === e.originScale && (s = 0, c = u > e.props.screenHeight ? setScope(c, e.props.screenHeight - u, 0) : e.originTop), e.animateStartValue = { "x": e.state.left, "y": e.state.top }, e.animateFinalValue = { "x": s, "y": c }, e.animateStartTime = Date.now(), e.startAnimate() } }, this.startAnimate = function () { e.animationID = c()(function () { var t = Date.now() - e.animateStartTime, r = void 0, n = void 0; t > 1e3 ? e.setState(function (t, o) { var i = t.scale * e.originWidth, a = t.scale * e.originHeight; return r = setScope(t.left, e.originWidth - i, 0), n = a > o.screenHeight ? setScope(t.top, o.screenHeight - a, 0) : (o.screenHeight - a) / 2, { "left": r, "top": n } }) : (r = f(t, e.animateStartValue.x, e.animateFinalValue.x, 1e3), n = f(t, e.animateStartValue.y, e.animateFinalValue.y, 1e3), e.setState({ "left": r, "top": n }), e.startAnimate()) }) }, this.callHandleMove = function (t) { e.isCalledHandleStart || (e.isCalledHandleStart = !0, e.props.handleStart && e.props.handleStart()), e.props.handleMove(t) }, this.callHandleEnd = function (t) { if (e.isCalledHandleStart && (e.isCalledHandleStart = !1, e.props.handleEnd)) return e.props.handleEnd(t) } }, o), m = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, g = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var v, y, b = 200, S = (p = d = function (e) { function ListContainer(e, t) { !function ListContainer_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ListContainer); var r = function ListContainer_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (ListContainer.__proto__ || Object.getPrototypeOf(ListContainer)).call(this, e, t)); return r.state = { "left": 0 }, r.easing = function (e) { var t = e, n = r.props.screenWidth; return n / 2.5 * Math.sin(t / n * (Math.PI / 2)) + 0 }, r.handleStart = function () { r.startLeft = r.state.left, r.startTime = (new Date).getTime(), r.isNeedSpring = !1 }, r.handleMove = function (e) { var t = e; Math.abs(t) > r.props.screenWidth && (t < 0 && (t = -r.props.screenWidth), t > 0 && (t = r.props.screenWidth)), r.state.left >= 0 && t > 0 ? t = r.easing(t) : r.state.left <= -r.maxLeft && t < 0 && (t = -r.easing(-t)), r.setState({ "left": r.startLeft + t }) }, r.handleEnd = function (e) { var t = void 0, n = (new Date).getTime() - r.startTime; return (t = e && n < b ? r.state.left < r.startLeft ? r.props.index + 1 : r.props.index - 1 : Math.abs(Math.round(r.state.left / r.perDistance))) < 0 ? t = 0 : t > r.length - 1 && (t = r.length - 1), r.setState({ "left": -r.perDistance * t }), r.isNeedSpring = !0, t !== r.props.index && (r.props.changeIndex(t), !0) }, r.isNeedSpring = !1, r } return function ListContainer_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(ListContainer, a["e"]), g(ListContainer, [{ "key": "getChildContext", "value": function getChildContext() { return m({}, this.context) } }, { "key": "componentWillMount", "value": function componentWillMount() { var e = this.props, t = e.screenWidth, r = e.urls, n = e.index, o = e.gap; this.length = r.length, this.perDistance = t + o, this.maxLeft = this.perDistance * (this.length - 1), this.isNeedSpring = !1, this.setState({ "left": -this.perDistance * n }) } }, { "key": "componentWillReceiveProps", "value": function componentWillReceiveProps(e) { this.props.index !== e.index && (this.isNeedSpring = !0, this.setState({ "left": -this.perDistance * e.index })) } }, { "key": "render", "value": function render() { var e = this, t = this.props, r = t.maxZoomNum, n = t.screenWidth, o = t.screenHeight, i = t.urls, s = t.speed, c = this.state.left, u = {}; if (this.isNeedSpring) { var l = s + "ms"; u.WebkitTransitionDuration = l, u.transitionDuration = l } var f = "translate3d(" + c + "px, 0, 0)"; return u.WebkitTransform = f, u.transform = f, a.l.createElement("div", { "className": "viewer-list-container", "style": u }, i.map(function (t, i) { return a.l.createElement(h, { "key": i, "src": t, "maxZoomNum": r, "handleStart": e.handleStart, "handleMove": e.handleMove, "handleEnd": e.handleEnd, "left": e.perDistance * i, "screenWidth": n, "screenHeight": o }) })) } }]), ListContainer }(), d.propTypes = { "maxZoomNum": a.d.number.isRequired, "changeIndex": a.d.func.isRequired, "gap": a.d.number.isRequired, "speed": a.d.number.isRequired }, p), _ = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, w = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); function WrapViewer_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var A, C, T = "undefined" != typeof document && document.documentElement.clientWidth, P = "undefined" != typeof document && document.documentElement.clientHeight, k = (y = v = function (e) { function WrapViewer() { var e, t, r; !function WrapViewer_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, WrapViewer); for (var n = arguments.length, o = Array(n), i = 0; i < n; i++)o[i] = arguments[i]; return t = r = WrapViewer_possibleConstructorReturn(this, (e = WrapViewer.__proto__ || Object.getPrototypeOf(WrapViewer)).call.apply(e, [this].concat(o))), r.state = { "index": 0 }, r.changeIndex = function (e) { r.setState({ "index": e }) }, WrapViewer_possibleConstructorReturn(r, t) } return function WrapViewer_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(WrapViewer, a["b"]), w(WrapViewer, [{ "key": "getChildContext", "value": function getChildContext() { return _({}, this.context) } }, { "key": "componentDidMount", "value": function componentDidMount() { var e = this.props.index; this.setState({ "index": e }) } }, { "key": "render", "value": function render() { var e = this.props, t = e.zIndex, r = e.urls, n = e.maxZoomNum, o = e.gap, i = e.speed, s = this.state.index; return a.l.createElement("div", { "className": "wx-image-viewer", "style": { "zIndex": t } }, a.l.createElement("div", { "className": "viewer-cover" }), a.l.createElement(S, { "screenWidth": T, "screenHeight": P, "changeIndex": this.changeIndex, "urls": r, "maxZoomNum": n, "gap": o, "speed": i, "index": s })) } }]), WrapViewer }(), v.propTypes = { "index": a.d.number.isRequired, "urls": a.d.array.isRequired, "maxZoomNum": a.d.number.isRequired, "zIndex": a.d.number.isRequired, "gap": a.d.number.isRequired, "speed": a.d.number.isRequired }, y), E = (r(91), function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }()); var x = (C = A = function (e) { function WxImageViewer() { return function WxImageViewer_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, WxImageViewer), function WxImageViewer_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (WxImageViewer.__proto__ || Object.getPrototypeOf(WxImageViewer)).apply(this, arguments)) } return function WxImageViewer_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(WxImageViewer, a["b"]), E(WxImageViewer, [{ "key": "getChildContext", "value": function getChildContext() { var e = this.props; return { "onClose": e.onClose, "onError": e.onError } } }, { "key": "render", "value": function render() { return a.l.createPortal(a.l.createElement(k, this.props), document.body) } }]), WxImageViewer }(), A.propTypes = { "maxZoomNum": a.d.number, "zIndex": a.d.number, "index": a.d.number, "urls": a.d.array.isRequired, "gap": a.d.number, "speed": a.d.number, "onClose": a.d.func.isRequired, "onError": a.d.func.isRequired }, A.childContextTypes = { "onClose": a.d.func }, A.defaultProps = { "maxZoomNum": 4, "zIndex": 510, "index": 0, "gap": 10, "speed": 300 }, C); t.a = function previewImage() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.urls, r = e.current, n = e.success, o = e.fail, i = e.complete, s = document.createElement("div"), c = t.reduce(function (e, t, n) { return t === r ? n : e }, -1), u = { "urls": t, "onError": function onError(e) { o && o(e), i && i(e), Promise.reject(e) }, "onClose": function onClose() { Object(a.u)(s) } }; return c > -1 && (u.index = c), a.l.render(a.l.createElement(x, u), s), function onSuccess(e) { n && n(e), i && i(e), Promise.resolve(e) }({ "errMsg": "previewImage:ok" }) } }, function (e, t, r) { "use strict"; var n = r(0), o = r(11), i = r(1), a = (r(94), Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }), s = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var c = void 0, u = function (e) { function LocationChooser(e, t) { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, LocationChooser); var r = function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (LocationChooser.__proto__ || Object.getPrototypeOf(LocationChooser)).call(this, e, t)); return r.getWrapRef = function (e) { e && (r.wrapRef = e) }, r.show = function () { setTimeout(function () { r.wrapRef.style.top = "0" }) }, r.hide = function () { r.wrapRef.style.top = "100%" }, r.onBack = function () { r.props.handler({ "errMsg": "chooseLocation:fail cancel" }), r.hide() }, r.onSubmit = function () { r.props.handler(), r.hide() }, c = r, window.addEventListener("popstate", r.onBack), r } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(LocationChooser, o["a"].Component), s(LocationChooser, [{ "key": "componentWillUnmount", "value": function componentWillUnmount() { window.removeEventListener("popstate", this.onBack) } }, { "key": "render", "value": function render() { return i.l.createPortal(i.l.createElement("div", { "className": "taro_chooselocation", "ref": this.getWrapRef }, i.l.createElement("div", { "className": "taro_chooselocation_bar" }, i.l.createElement("div", { "className": "taro_chooselocation_back", "onClick": this.onBack }), i.l.createElement("p", { "className": "taro_chooselocation_title" }, "位置"), i.l.createElement("button", { "className": "taro_chooselocation_submit", "onClick": this.onSubmit }, "完成")), i.l.createElement("iframe", { "className": "taro_chooselocation_frame", "frameborder": "0", "src": "https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=" + LOCATION_APIKEY + "&referer=myapp" })), document.body) } }]), LocationChooser }(), l = function chooseLocation() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.success, r = e.fail, n = e.complete; return new Promise(function (e, o) { var s = document.createElement("div"), l = {}, f = function onError(e) { r && r(e), n && n(e), o(e) }; if (!LOCATION_APIKEY) return console.warn("chooseLocation api 依赖腾讯地图定位api，需要在defineConstants中配置LOCATION_APIKEY"), f({ "errMsg": "chooseLocation:fail LOCATION_APIKEY needed" }); i.l.render(i.l.createElement(u, { "handler": function handler(r) { r ? f(r) : l.latitude && l.longitude ? function onSuccess(r) { t && t(r), n && n(r), e(r) }(a({ "errMsg": "chooseLocation:ok" }, l)) : f({ "errMsg": "chooseLocation:fail" }), window.removeEventListener("message", d, !1), setTimeout(function () { i.l.unmountComponentAtNode(s) }, 300) } }), s); var d = function onMessage(e) { var t = e.data; t && "locationPicker" === t.module && (l.name = t.poiname, l.address = t.poiaddress, l.latitude = t.latlng.lat, l.longitude = t.latlng.lng) }; window.addEventListener("message", d, !1), c.show() }) }; r.d(t, "b", function () { return f }), r.d(t, "c", function () { return d }), r.d(t, "a", function () { return l }); var f = Object(n.l)("getLocation"), d = Object(n.l)("openLocation", { "scale": 18 }) }, function (e, t, r) { "use strict"; (function (e) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, n = Object.getOwnPropertySymbols, o = Object.prototype.hasOwnProperty, i = Object.prototype.propertyIsEnumerable; var a = function shouldUseNative() { try { if (!Object.assign) return !1; var e = new String("abc"); if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1; for (var t = {}, r = 0; r < 10; r++)t["_" + String.fromCharCode(r)] = r; if ("0123456789" !== Object.getOwnPropertyNames(t).map(function (e) { return t[e] }).join("")) return !1; var n = {}; return "abcdefghijklmnopqrst".split("").forEach(function (e) { n[e] = e }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("") } catch (e) { return !1 } }() ? Object.assign : function (e, t) { for (var r, a, s = function toObject(e) { if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(e) }(e), c = 1; c < arguments.length; c++) { for (var u in r = Object(arguments[c])) o.call(r, u) && (s[u] = r[u]); if (n) { a = n(r); for (var l = 0; l < a.length; l++)i.call(r, a[l]) && (s[a[l]] = r[a[l]]) } } return s }, s = encodeURIComponent; function isFunction(e) { return "function" == typeof e } var c = ("undefined" != typeof window ? window : e).localStorage, u = { "disabled": !1, "set": function set(e, t) { return void 0 === t ? u.remove(e) : (c.setItem(e, u.serialize(t)), t) }, "get": function get(e, t) { var r = u.deserialize(c.getItem(e)); return void 0 === r ? t : r }, "remove": function remove(e) { c.removeItem(e) }, "clear": function clear() { c.clear() }, "has": function has(e) { return void 0 !== u.get(e) }, "forEach": function forEach(e) { for (var t = 0; t < c.length; t++) { var r = c.key(t); e(r, u.get(r)) } }, "getAll": function getAll() { var e = {}; return u.forEach(function (t, r) { e[t] = r }), e }, "serialize": function serialize(e) { return JSON.stringify(e) }, "deserialize": function deserialize(e) { if ("string" == typeof e) try { return JSON.parse(e) } catch (t) { return e || void 0 } } }; try { u.set("__store__", "__store__"), "__store__" !== u.get("__store__") && (u.disabled = !0), u.remove("__store__") } catch (e) { u.disabled = !0 } u.enabled = !u.disabled; var l = "function" == typeof Symbol && "symbol" === r(Symbol.iterator) ? function (e) { return void 0 === e ? "undefined" : r(e) } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : void 0 === e ? "undefined" : r(e) }, f = "undefined" != typeof window ? window : e, d = "Promise" in f && l(isFunction(Promise)), p = function noop() { }, h = encodeURIComponent, m = f.document, g = m ? m.head || m.getElementsByTagName("head")[0] : null, v = 2e3, y = { "timeout": v, "retryTimes": 2, "backup": null, "params": {}, "jsonp": "callback", "name": null, "cache": !1, "useStore": !1, "storeCheck": null, "storeSign": null, "storeCheckKey": null, "dataCheck": null, "charset": "UTF-8" }, b = (new Date).getTime(); function generateJsonpUrlWithParams(e, t) { return t = "string" == typeof t ? t : function serializeParams(e) { return e ? Object.keys(e).map(function (t) { return t + "=" + s(e[t]) }).join("&") : "" }(t), e = (e += (~e.indexOf("?") ? "&" : "?") + t).replace("?&", "?") } function fetchData(e, t, r) { var n = t.originalUrl, o = t.charset, i = function getUrlQueryParamByName(e, t) { e || (e = window.location.href), t = t.replace(/[[]]/g, "\\$&"); var r = new RegExp("[?&]" + t + "(=([^&#]*)|&|#|$)").exec(e); return r ? r[2] ? decodeURIComponent(r[2].replace(/\+/g, " ")) : "" : null }(e, t.jsonp), a = "?" !== i && i || t.name || "__jsonp" + b++, s = arguments[3] || null; i ? "?" === i && (e = function updateQueryStringParamByName(e, t, r) { var n = new RegExp("([?&])" + t + "=.*?(&|$)", "i"), o = -1 !== e.indexOf("?") ? "&" : "?"; return e.match(n) ? e.replace(n, "$1" + t + "=" + r + "$2") : e + o + t + "=" + r }(e, t.jsonp, h(a))) : e += ("&" === e.split("").pop() ? "" : "&") + t.jsonp + "=" + h(a), t.cache || (e += ("&" === e.split("").pop() ? "" : "&") + "_=" + (new Date).getTime()), clearTimeout(f["timer_" + a]); var c = f[a]; f[a] = function (e) { if (c && c(e), cleanup(a), s && (e.__$$backupCall = s), t.dataCheck) { if (!1 !== t.dataCheck(e)) return setDataToStore({ "useStore": t.useStore, "storeKey": n, "data": e }), r(null, e); !1 === fallback(n, t, r) && r(new Error("Data check error, and no fallback")) } else setDataToStore({ "useStore": t.useStore, "storeKey": n, "data": e }), r(null, e) }; var u = function appendScriptTagToHead(e) { var t = e.url, r = e.charset; if (!m) return; var n = m.createElement("script"); n.type = "text/javascript", r && (n.charset = r); return n.src = t, g.appendChild(n), n }({ "url": e, "charset": o }), l = null != t.timeout ? t.timeout : v; function cleanup(e) { u.parentNode && u.parentNode.removeChild(u), f[e] = p, clearTimeout(f["timer_" + e]) } f["timer_" + a] = setTimeout(function () { return cleanup(a), "number" == typeof t.retryTimes && t.retryTimes > 0 ? (t.retryTimes--, fetchData(n, t, r)) : !1 === fallback(n, t, r) ? r(new Error("Timeout and no data return")) : void 0 }, l) } function storeCheckFn(e, t, r) { return !!(e && t && r) && (e[t] && e[t] === r) } function setDataToStore(e) { var t = e.useStore, r = e.storeKey, n = e.data; (t = !!t && u.enabled) && u.set(r, n) } function fallback(e, t, r) { var n = t.backup; if (n) { if ("string" == typeof n) return delete t.backup, fetchData(generateJsonpUrlWithParams(n, t.params), t, r, { "backup": n }); if (Array.isArray(n) && n.length) { var o = n.shift(); return fetchData(generateJsonpUrlWithParams(o, t.params), t, r, { "backup": o }) } } var i = function getDataFromStoreWithoutCheck(e) { var t = e.useStore, r = e.storeKey, n = e.dataCheck; if (t = !!t && u.enabled) { var o = u.get(r); if (!n || o && n && !1 !== n(o)) return o } return null }({ "useStore": t.useStore, "storeKey": e, "dataCheck": t.dataCheck }); return !!i && (r(null, i), !0) } t.a = function jsonp$1(e, t, r) { if (isFunction(e) ? (r = e, t = {}) : e && "object" === (void 0 === e ? "undefined" : l(e)) && (r = t, e = (t = e || {}).url), isFunction(t) && (r = t, t = {}), t || (t = {}), t = a({}, y, t), e = e || t.url, r = r || p, !e || "string" != typeof e) return r(new Error("Param url is needed!")), !jsonp$1.promiseClose && d ? new Promise(function (e, t) { return t(new Error("Param url is needed!")) }) : void 0; var n = generateJsonpUrlWithParams(e, t.params), o = function getDataFromStore(e) { var t = e.useStore, r = e.storeKey, n = e.storeCheck, o = e.storeCheckKey, i = e.storeSign, a = e.dataCheck; if (t = !!t && u.enabled) { var s = u.get(r); if ((n = n || storeCheckFn)(s, o, i) && (!a || s && a && !1 !== a(s))) return s } return null }({ "useStore": t.useStore, "storeKey": n, "storeCheck": t.storeCheck, "storeCheckKey": t.storeCheckKey, "storeSign": t.storeSign, "dataCheck": t.dataCheck }); return o ? (r(null, o), !jsonp$1.promiseClose && d ? new Promise(function (e) { return e(o) }) : void 0) : (t.originalUrl = n, !jsonp$1.promiseClose && d ? new Promise(function (e, o) { fetchData(n, t, function (t, n) { if (t) return r(t), o(t); r(null, n), e(n) }) }) : void fetchData(n, t, r)) } }).call(this, r(14)) }, function (e, t, r) { (e.exports ? function (t) { e.exports = t() } : r(61))(function () { "use strict"; var e, t = { "mobileDetectRules": { "phones": { "iPhone": "\\biPhone\\b|\\biPod\\b", "BlackBerry": "BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+", "Pixel": "; \\bPixel\\b", "HTC": "HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel", "Nexus": "Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6", "Dell": "Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b", "Motorola": "Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052", "Samsung": "\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F", "LG": "\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710", "Sony": "SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332", "Asus": "Asus.*Galaxy|PadFone.*Mobile", "Xiaomi": "^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G", "NokiaLumia": "Lumia [0-9]{3,4}", "Micromax": "Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b", "Palm": "PalmSource|Palm", "Vertu": "Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature", "Pantech": "PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790", "Fly": "IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250", "Wiko": "KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM", "iMobile": "i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)", "SimValley": "\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b", "Wolfgang": "AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q", "Alcatel": "Alcatel", "Nintendo": "Nintendo (3DS|Switch)", "Amoi": "Amoi", "INQ": "INQ", "OnePlus": "ONEPLUS", "GenericPhone": "Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser" }, "tablets": { "iPad": "iPad|iPad.*Mobile", "NexusTablet": "Android.*Nexus[\\s]+(7|9|10)", "GoogleTablet": "Android.*Pixel C", "SamsungTablet": "SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860", "Kindle": "Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)", "SurfaceTablet": "Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)", "HPTablet": "HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10", "AsusTablet": "^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b", "BlackBerryTablet": "PlayBook|RIM Tablet", "HTCtablet": "HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410", "MotorolaTablet": "xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617", "NookTablet": "Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2", "AcerTablet": "Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40", "ToshibaTablet": "Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO", "LGTablet": "\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b", "FujitsuTablet": "Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b", "PrestigioTablet": "PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002", "LenovoTablet": "Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L", "DellTablet": "Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7", "YarvikTablet": "Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b", "MedionTablet": "Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB", "ArnovaTablet": "97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2", "IntensoTablet": "INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004", "IRUTablet": "M702pro", "MegafonTablet": "MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b", "EbodaTablet": "E-Boda (Supreme|Impresspeed|Izzycomm|Essential)", "AllViewTablet": "Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)", "ArchosTablet": "\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b", "AinolTablet": "NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark", "NokiaLumiaTablet": "Lumia 2520", "SonyTablet": "Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712", "PhilipsTablet": "\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b", "CubeTablet": "Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT", "CobyTablet": "MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010", "MIDTablet": "M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10", "MSITablet": "MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b", "SMiTTablet": "Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)", "RockChipTablet": "Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A", "FlyTablet": "IQ310|Fly Vision", "bqTablet": "Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus", "HuaweiTablet": "MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19", "NecTablet": "\\bN-06D|\\bN-08D", "PantechTablet": "Pantech.*P4100", "BronchoTablet": "Broncho.*(N701|N708|N802|a710)", "VersusTablet": "TOUCHPAD.*[78910]|\\bTOUCHTAB\\b", "ZyncTablet": "z1000|Z99 2G|z930|z990|z909|Z919|z900", "PositivoTablet": "TB07STA|TB10STA|TB07FTA|TB10FTA", "NabiTablet": "Android.*\\bNabi", "KoboTablet": "Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build", "DanewTablet": "DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b", "TexetTablet": "NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE", "PlaystationTablet": "Playstation.*(Portable|Vita)", "TrekstorTablet": "ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab", "PyleAudioTablet": "\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b", "AdvanTablet": "Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ", "DanyTechTablet": "Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1", "GalapadTablet": "Android [0-9.]+; [a-z-]+; \\bG1\\b", "MicromaxTablet": "Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b", "KarbonnTablet": "Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b", "AllFineTablet": "Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide", "PROSCANTablet": "\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b", "YONESTablet": "BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026", "ChangJiaTablet": "TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503", "GUTablet": "TX-A1301|TX-M9002|Q702|kf026", "PointOfViewTablet": "TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10", "OvermaxTablet": "OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027", "HCLTablet": "HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync", "DPSTablet": "DPS Dream 9|DPS Dual 7", "VistureTablet": "V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10", "CrestaTablet": "CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989", "MediatekTablet": "\\bMT8125|MT8389|MT8135|MT8377\\b", "ConcordeTablet": "Concorde([ ]+)?Tab|ConCorde ReadMan", "GoCleverTablet": "GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042", "ModecomTablet": "FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003", "VoninoTablet": "\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b", "ECSTablet": "V07OT2|TM105A|S10OT1|TR10CS1", "StorexTablet": "eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab", "VodafoneTablet": "SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400", "EssentielBTablet": "Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2", "RossMoorTablet": "RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711", "iMobileTablet": "i-mobile i-note", "TolinoTablet": "tolino tab [0-9.]+|tolino shine", "AudioSonicTablet": "\\bC-22Q|T7-QC|T-17B|T-17P\\b", "AMPETablet": "Android.* A78 ", "SkkTablet": "Android.* (SKYPAD|PHOENIX|CYCLOPS)", "TecnoTablet": "TECNO P9|TECNO DP8D", "JXDTablet": "Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b", "iJoyTablet": "Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)", "FX2Tablet": "FX2 PAD7|FX2 PAD10", "XoroTablet": "KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151", "ViewsonicTablet": "ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a", "VerizonTablet": "QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1", "OdysTablet": "LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10", "CaptivaTablet": "CAPTIVA PAD", "IconbitTablet": "NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S", "TeclastTablet": "T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi", "OndaTablet": "\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b", "JaytechTablet": "TPC-PA762", "BlaupunktTablet": "Endeavour 800NG|Endeavour 1010", "DigmaTablet": "\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b", "EvolioTablet": "ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b", "LavaTablet": "QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b", "AocTablet": "MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712", "MpmanTablet": "MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010", "CelkonTablet": "CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b", "WolderTablet": "miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b", "MediacomTablet": "M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA", "MiTablet": "\\bMI PAD\\b|\\bHM NOTE 1W\\b", "NibiruTablet": "Nibiru M1|Nibiru Jupiter One", "NexoTablet": "NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI", "LeaderTablet": "TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100", "UbislateTablet": "UbiSlate[\\s]?7C", "PocketBookTablet": "Pocketbook", "KocasoTablet": "\\b(TB-1207)\\b", "HisenseTablet": "\\b(F5281|E2371)\\b", "Hudl": "Hudl HT7S3|Hudl 2", "TelstraTablet": "T-Hub2", "GenericTablet": "Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107" }, "oss": { "AndroidOS": "Android", "BlackBerryOS": "blackberry|\\bBB10\\b|rim tablet os", "PalmOS": "PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino", "SymbianOS": "Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b", "WindowsMobileOS": "Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;", "WindowsPhoneOS": "Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;", "iOS": "\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia", "iPadOS": "CPU OS 13", "SailfishOS": "Sailfish", "MeeGoOS": "MeeGo", "MaemoOS": "Maemo", "JavaOS": "J2ME/|\\bMIDP\\b|\\bCLDC\\b", "webOS": "webOS|hpwOS", "badaOS": "\\bBada\\b", "BREWOS": "BREW" }, "uas": { "Chrome": "\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?", "Dolfin": "\\bDolfin\\b", "Opera": "Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+", "Skyfire": "Skyfire", "Edge": "\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge", "IE": "IEMobile|MSIEMobile", "Firefox": "fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS", "Bolt": "bolt", "TeaShark": "teashark", "Blazer": "Blazer", "Safari": "Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari", "WeChat": "\\bMicroMessenger\\b", "UCBrowser": "UC.*Browser|UCWEB", "baiduboxapp": "baiduboxapp", "baidubrowser": "baidubrowser", "DiigoBrowser": "DiigoBrowser", "Mercury": "\\bMercury\\b", "ObigoBrowser": "Obigo", "NetFront": "NF-Browser", "GenericBrowser": "NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger", "PaleMoon": "Android.*PaleMoon|Mobile.*PaleMoon" }, "props": { "Mobile": "Mobile/[VER]", "Build": "Build/[VER]", "Version": "Version/[VER]", "VendorID": "VendorID/[VER]", "iPad": "iPad.*CPU[a-z ]+[VER]", "iPhone": "iPhone.*CPU[a-z ]+[VER]", "iPod": "iPod.*CPU[a-z ]+[VER]", "Kindle": "Kindle/[VER]", "Chrome": ["Chrome/[VER]", "CriOS/[VER]", "CrMo/[VER]"], "Coast": ["Coast/[VER]"], "Dolfin": "Dolfin/[VER]", "Firefox": ["Firefox/[VER]", "FxiOS/[VER]"], "Fennec": "Fennec/[VER]", "Edge": "Edge/[VER]", "IE": ["IEMobile/[VER];", "IEMobile [VER]", "MSIE [VER];", "Trident/[0-9.]+;.*rv:[VER]"], "NetFront": "NetFront/[VER]", "NokiaBrowser": "NokiaBrowser/[VER]", "Opera": [" OPR/[VER]", "Opera Mini/[VER]", "Version/[VER]"], "Opera Mini": "Opera Mini/[VER]", "Opera Mobi": "Version/[VER]", "UCBrowser": ["UCWEB[VER]", "UC.*Browser/[VER]"], "MQQBrowser": "MQQBrowser/[VER]", "MicroMessenger": "MicroMessenger/[VER]", "baiduboxapp": "baiduboxapp/[VER]", "baidubrowser": "baidubrowser/[VER]", "SamsungBrowser": "SamsungBrowser/[VER]", "Iron": "Iron/[VER]", "Safari": ["Version/[VER]", "Safari/[VER]"], "Skyfire": "Skyfire/[VER]", "Tizen": "Tizen/[VER]", "Webkit": "webkit[ /][VER]", "PaleMoon": "PaleMoon/[VER]", "SailfishBrowser": "SailfishBrowser/[VER]", "Gecko": "Gecko/[VER]", "Trident": "Trident/[VER]", "Presto": "Presto/[VER]", "Goanna": "Goanna/[VER]", "iOS": " \\bi?OS\\b [VER][ ;]{1}", "Android": "Android [VER]", "Sailfish": "Sailfish [VER]", "BlackBerry": ["BlackBerry[\\w]+/[VER]", "BlackBerry.*Version/[VER]", "Version/[VER]"], "BREW": "BREW [VER]", "Java": "Java/[VER]", "Windows Phone OS": ["Windows Phone OS [VER]", "Windows Phone [VER]"], "Windows Phone": "Windows Phone [VER]", "Windows CE": "Windows CE/[VER]", "Windows NT": "Windows NT [VER]", "Symbian": ["SymbianOS/[VER]", "Symbian/[VER]"], "webOS": ["webOS/[VER]", "hpwOS/[VER];"] }, "utils": { "Bot": "Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot", "MobileBot": "Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2", "DesktopMode": "WPDesktop", "TV": "SonyDTV|HbbTV", "WebKit": "(webkit)[ /]([\\w.]+)", "Console": "\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b", "Watch": "SM-V700" } }, "detectMobileBrowsers": { "fullPattern": /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i, "shortPattern": /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, "tabletPattern": /android|ipad|playbook|silk/i } }, r = Object.prototype.hasOwnProperty; function equalIC(e, t) { return null != e && null != t && e.toLowerCase() === t.toLowerCase() } function containsIC(e, t) { var r, n, o = e.length; if (!o || !t) return !1; for (r = t.toLowerCase(), n = 0; n < o; ++n)if (r === e[n].toLowerCase()) return !0; return !1 } function convertPropsToRegExp(e) { for (var t in e) r.call(e, t) && (e[t] = new RegExp(e[t], "i")) } function MobileDetect(e, t) { this.ua = function prepareUserAgent(e) { return (e || "").substr(0, 500) }(e), this._cache = {}, this.maxPhoneWidth = t || 600 } return t.FALLBACK_PHONE = "UnknownPhone", t.FALLBACK_TABLET = "UnknownTablet", t.FALLBACK_MOBILE = "UnknownMobile", e = "isArray" in Array ? Array.isArray : function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, function init() { var n, o, i, a, s, c, u = t.mobileDetectRules; for (n in u.props) if (r.call(u.props, n)) { for (o = u.props[n], e(o) || (o = [o]), s = o.length, a = 0; a < s; ++a)(c = (i = o[a]).indexOf("[VER]")) >= 0 && (i = i.substring(0, c) + "([\\w._\\+]+)" + i.substring(c + 5)), o[a] = new RegExp(i, "i"); u.props[n] = o } convertPropsToRegExp(u.oss), convertPropsToRegExp(u.phones), convertPropsToRegExp(u.tablets), convertPropsToRegExp(u.uas), convertPropsToRegExp(u.utils), u.oss0 = { "WindowsPhoneOS": u.oss.WindowsPhoneOS, "WindowsMobileOS": u.oss.WindowsMobileOS } }(), t.findMatch = function (e, t) { for (var n in e) if (r.call(e, n) && e[n].test(t)) return n; return null }, t.findMatches = function (e, t) { var n = []; for (var o in e) r.call(e, o) && e[o].test(t) && n.push(o); return n }, t.getVersionStr = function (e, n) { var o, i, a, s, c = t.mobileDetectRules.props; if (r.call(c, e)) for (a = (o = c[e]).length, i = 0; i < a; ++i)if (null !== (s = o[i].exec(n))) return s[1]; return null }, t.getVersion = function (e, r) { var n = t.getVersionStr(e, r); return n ? t.prepareVersionNo(n) : NaN }, t.prepareVersionNo = function (e) { var t; return 1 === (t = e.split(/[a-z._ \/\-]/i)).length && (e = t[0]), t.length > 1 && (e = t[0] + ".", t.shift(), e += t.join("")), Number(e) }, t.isMobileFallback = function (e) { return t.detectMobileBrowsers.fullPattern.test(e) || t.detectMobileBrowsers.shortPattern.test(e.substr(0, 4)) }, t.isTabletFallback = function (e) { return t.detectMobileBrowsers.tabletPattern.test(e) }, t.prepareDetectionCache = function (e, r, n) { if (void 0 === e.mobile) { var o, i, a; if (i = t.findMatch(t.mobileDetectRules.tablets, r)) return e.mobile = e.tablet = i, void (e.phone = null); if (o = t.findMatch(t.mobileDetectRules.phones, r)) return e.mobile = e.phone = o, void (e.tablet = null); t.isMobileFallback(r) ? void 0 === (a = MobileDetect.isPhoneSized(n)) ? (e.mobile = t.FALLBACK_MOBILE, e.tablet = e.phone = null) : a ? (e.mobile = e.phone = t.FALLBACK_PHONE, e.tablet = null) : (e.mobile = e.tablet = t.FALLBACK_TABLET, e.phone = null) : t.isTabletFallback(r) ? (e.mobile = e.tablet = t.FALLBACK_TABLET, e.phone = null) : e.mobile = e.tablet = e.phone = null } }, t.mobileGrade = function (e) { var t = null !== e.mobile(); return e.os("iOS") && e.version("iPad") >= 4.3 || e.os("iOS") && e.version("iPhone") >= 3.1 || e.os("iOS") && e.version("iPod") >= 3.1 || e.version("Android") > 2.1 && e.is("Webkit") || e.version("Windows Phone OS") >= 7 || e.is("BlackBerry") && e.version("BlackBerry") >= 6 || e.match("Playbook.*Tablet") || e.version("webOS") >= 1.4 && e.match("Palm|Pre|Pixi") || e.match("hp.*TouchPad") || e.is("Firefox") && e.version("Firefox") >= 12 || e.is("Chrome") && e.is("AndroidOS") && e.version("Android") >= 4 || e.is("Skyfire") && e.version("Skyfire") >= 4.1 && e.is("AndroidOS") && e.version("Android") >= 2.3 || e.is("Opera") && e.version("Opera Mobi") > 11 && e.is("AndroidOS") || e.is("MeeGoOS") || e.is("Tizen") || e.is("Dolfin") && e.version("Bada") >= 2 || (e.is("UC Browser") || e.is("Dolfin")) && e.version("Android") >= 2.3 || e.match("Kindle Fire") || e.is("Kindle") && e.version("Kindle") >= 3 || e.is("AndroidOS") && e.is("NookTablet") || e.version("Chrome") >= 11 && !t || e.version("Safari") >= 5 && !t || e.version("Firefox") >= 4 && !t || e.version("MSIE") >= 7 && !t || e.version("Opera") >= 10 && !t ? "A" : e.os("iOS") && e.version("iPad") < 4.3 || e.os("iOS") && e.version("iPhone") < 3.1 || e.os("iOS") && e.version("iPod") < 3.1 || e.is("Blackberry") && e.version("BlackBerry") >= 5 && e.version("BlackBerry") < 6 || e.version("Opera Mini") >= 5 && e.version("Opera Mini") <= 6.5 && (e.version("Android") >= 2.3 || e.is("iOS")) || e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3") || e.version("Opera Mobi") >= 11 && e.is("SymbianOS") ? "B" : (e.version("BlackBerry") < 5 || e.match("MSIEMobile|Windows CE.*Mobile") || e.version("Windows Mobile"), "C") }, t.detectOS = function (e) { return t.findMatch(t.mobileDetectRules.oss0, e) || t.findMatch(t.mobileDetectRules.oss, e) }, t.getDeviceSmallerSide = function () { return window.screen.width < window.screen.height ? window.screen.width : window.screen.height }, MobileDetect.prototype = { "constructor": MobileDetect, "mobile": function mobile() { return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.mobile }, "phone": function phone() { return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.phone }, "tablet": function tablet() { return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.tablet }, "userAgent": function userAgent() { return void 0 === this._cache.userAgent && (this._cache.userAgent = t.findMatch(t.mobileDetectRules.uas, this.ua)), this._cache.userAgent }, "userAgents": function userAgents() { return void 0 === this._cache.userAgents && (this._cache.userAgents = t.findMatches(t.mobileDetectRules.uas, this.ua)), this._cache.userAgents }, "os": function os() { return void 0 === this._cache.os && (this._cache.os = t.detectOS(this.ua)), this._cache.os }, "version": function version(e) { return t.getVersion(e, this.ua) }, "versionStr": function versionStr(e) { return t.getVersionStr(e, this.ua) }, "is": function is(e) { return containsIC(this.userAgents(), e) || equalIC(e, this.os()) || equalIC(e, this.phone()) || equalIC(e, this.tablet()) || containsIC(t.findMatches(t.mobileDetectRules.utils, this.ua), e) }, "match": function match(e) { return e instanceof RegExp || (e = new RegExp(e, "i")), e.test(this.ua) }, "isPhoneSized": function isPhoneSized(e) { return MobileDetect.isPhoneSized(e || this.maxPhoneWidth) }, "mobileGrade": function mobileGrade() { return void 0 === this._cache.grade && (this._cache.grade = t.mobileGrade(this)), this._cache.grade } }, "undefined" != typeof window && window.screen ? MobileDetect.isPhoneSized = function (e) { return e < 0 ? void 0 : t.getDeviceSmallerSide() <= e } : MobileDetect.isPhoneSized = function () { }, MobileDetect._impl = t, MobileDetect.version = "1.4.5 2021-03-13", MobileDetect }) }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return md5Util }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = 8; function hex_md5(e) { return function binl2hex(e) { for (var t = "", r = 0; r < 4 * e.length; r++)t += "0123456789abcdef".charAt(e[r >> 2] >> r % 4 * 8 + 4 & 15) + "0123456789abcdef".charAt(e[r >> 2] >> r % 4 * 8 & 15); return t }(function core_md5(e, t) { e[t >> 5] |= 128 << t % 32, e[14 + (t + 64 >>> 9 << 4)] = t; for (var r = 1732584193, n = -271733879, o = -1732584194, i = 271733878, a = 0; a < e.length; a += 16) { var s = r, c = n, u = o, l = i; r = md5_ff(r, n, o, i, e[a + 0], 7, -680876936), i = md5_ff(i, r, n, o, e[a + 1], 12, -389564586), o = md5_ff(o, i, r, n, e[a + 2], 17, 606105819), n = md5_ff(n, o, i, r, e[a + 3], 22, -1044525330), r = md5_ff(r, n, o, i, e[a + 4], 7, -176418897), i = md5_ff(i, r, n, o, e[a + 5], 12, 1200080426), o = md5_ff(o, i, r, n, e[a + 6], 17, -1473231341), n = md5_ff(n, o, i, r, e[a + 7], 22, -45705983), r = md5_ff(r, n, o, i, e[a + 8], 7, 1770035416), i = md5_ff(i, r, n, o, e[a + 9], 12, -1958414417), o = md5_ff(o, i, r, n, e[a + 10], 17, -42063), n = md5_ff(n, o, i, r, e[a + 11], 22, -1990404162), r = md5_ff(r, n, o, i, e[a + 12], 7, 1804603682), i = md5_ff(i, r, n, o, e[a + 13], 12, -40341101), o = md5_ff(o, i, r, n, e[a + 14], 17, -1502002290), n = md5_ff(n, o, i, r, e[a + 15], 22, 1236535329), r = md5_gg(r, n, o, i, e[a + 1], 5, -165796510), i = md5_gg(i, r, n, o, e[a + 6], 9, -1069501632), o = md5_gg(o, i, r, n, e[a + 11], 14, 643717713), n = md5_gg(n, o, i, r, e[a + 0], 20, -373897302), r = md5_gg(r, n, o, i, e[a + 5], 5, -701558691), i = md5_gg(i, r, n, o, e[a + 10], 9, 38016083), o = md5_gg(o, i, r, n, e[a + 15], 14, -660478335), n = md5_gg(n, o, i, r, e[a + 4], 20, -405537848), r = md5_gg(r, n, o, i, e[a + 9], 5, 568446438), i = md5_gg(i, r, n, o, e[a + 14], 9, -1019803690), o = md5_gg(o, i, r, n, e[a + 3], 14, -187363961), n = md5_gg(n, o, i, r, e[a + 8], 20, 1163531501), r = md5_gg(r, n, o, i, e[a + 13], 5, -1444681467), i = md5_gg(i, r, n, o, e[a + 2], 9, -51403784), o = md5_gg(o, i, r, n, e[a + 7], 14, 1735328473), n = md5_gg(n, o, i, r, e[a + 12], 20, -1926607734), r = md5_hh(r, n, o, i, e[a + 5], 4, -378558), i = md5_hh(i, r, n, o, e[a + 8], 11, -2022574463), o = md5_hh(o, i, r, n, e[a + 11], 16, 1839030562), n = md5_hh(n, o, i, r, e[a + 14], 23, -35309556), r = md5_hh(r, n, o, i, e[a + 1], 4, -1530992060), i = md5_hh(i, r, n, o, e[a + 4], 11, 1272893353), o = md5_hh(o, i, r, n, e[a + 7], 16, -155497632), n = md5_hh(n, o, i, r, e[a + 10], 23, -1094730640), r = md5_hh(r, n, o, i, e[a + 13], 4, 681279174), i = md5_hh(i, r, n, o, e[a + 0], 11, -358537222), o = md5_hh(o, i, r, n, e[a + 3], 16, -722521979), n = md5_hh(n, o, i, r, e[a + 6], 23, 76029189), r = md5_hh(r, n, o, i, e[a + 9], 4, -640364487), i = md5_hh(i, r, n, o, e[a + 12], 11, -421815835), o = md5_hh(o, i, r, n, e[a + 15], 16, 530742520), n = md5_hh(n, o, i, r, e[a + 2], 23, -995338651), r = md5_ii(r, n, o, i, e[a + 0], 6, -198630844), i = md5_ii(i, r, n, o, e[a + 7], 10, 1126891415), o = md5_ii(o, i, r, n, e[a + 14], 15, -1416354905), n = md5_ii(n, o, i, r, e[a + 5], 21, -57434055), r = md5_ii(r, n, o, i, e[a + 12], 6, 1700485571), i = md5_ii(i, r, n, o, e[a + 3], 10, -1894986606), o = md5_ii(o, i, r, n, e[a + 10], 15, -1051523), n = md5_ii(n, o, i, r, e[a + 1], 21, -2054922799), r = md5_ii(r, n, o, i, e[a + 8], 6, 1873313359), i = md5_ii(i, r, n, o, e[a + 15], 10, -30611744), o = md5_ii(o, i, r, n, e[a + 6], 15, -1560198380), n = md5_ii(n, o, i, r, e[a + 13], 21, 1309151649), r = md5_ii(r, n, o, i, e[a + 4], 6, -145523070), i = md5_ii(i, r, n, o, e[a + 11], 10, -1120210379), o = md5_ii(o, i, r, n, e[a + 2], 15, 718787259), n = md5_ii(n, o, i, r, e[a + 9], 21, -343485551), r = safe_add(r, s), n = safe_add(n, c), o = safe_add(o, u), i = safe_add(i, l) } return [r, n, o, i] }(function str2binl(e) { for (var t = [], r = (1 << o) - 1, n = 0; n < e.length * o; n += o)t[n >> 5] |= (e.charCodeAt(n / o) & r) << n % 32; return t }(e), e.length * o)) } function md5_cmn(e, t, r, n, o, i) { return safe_add(function bit_rol(e, t) { return e << t | e >>> 32 - t }(safe_add(safe_add(t, e), safe_add(n, i)), o), r) } function md5_ff(e, t, r, n, o, i, a) { return md5_cmn(t & r | ~t & n, e, t, o, i, a) } function md5_gg(e, t, r, n, o, i, a) { return md5_cmn(t & n | r & ~n, e, t, o, i, a) } function md5_hh(e, t, r, n, o, i, a) { return md5_cmn(t ^ r ^ n, e, t, o, i, a) } function md5_ii(e, t, r, n, o, i, a) { return md5_cmn(r ^ (t | ~n), e, t, o, i, a) } function safe_add(e, t) { var r = (65535 & e) + (65535 & t); return (e >> 16) + (t >> 16) + (r >> 16) << 16 | 65535 & r } function md5Util(e) { return hex_md5(e) } function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, r) { return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "writable": !0, "configurable": !0 } }), t && _setPrototypeOf(e, t) } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } function _possibleConstructorReturn(e, t) { if (t && ("object" === (void 0 === t ? "undefined" : n(t)) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) } function _createSuper(e) { var t = function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function _createSuperInternal() { var r, n = _getPrototypeOf(e); if (t) { var o = _getPrototypeOf(this).constructor; r = Reflect.construct(n, arguments, o) } else r = n.apply(this, arguments); return _possibleConstructorReturn(this, r) } } var i = "0123456789abcdefghijklmnopqrstuvwxyz"; function int2char(e) { return i.charAt(e) } function op_and(e, t) { return e & t } function op_or(e, t) { return e | t } function op_xor(e, t) { return e ^ t } function op_andnot(e, t) { return e & ~t } function lbit(e) { if (0 == e) return -1; var t = 0; return 0 == (65535 & e) && (e >>= 16, t += 16), 0 == (255 & e) && (e >>= 8, t += 8), 0 == (15 & e) && (e >>= 4, t += 4), 0 == (3 & e) && (e >>= 2, t += 2), 0 == (1 & e) && ++t, t } function cbit(e) { for (var t = 0; 0 != e;)e &= e - 1, ++t; return t } var a, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", u = "="; function hex2b64(e) { var t, r, n = ""; for (t = 0; t + 3 <= e.length; t += 3)r = parseInt(e.substring(t, t + 3), 16), n += c.charAt(r >> 6) + c.charAt(63 & r); for (t + 1 == e.length ? (r = parseInt(e.substring(t, t + 1), 16), n += c.charAt(r << 2)) : t + 2 == e.length && (r = parseInt(e.substring(t, t + 2), 16), n += c.charAt(r >> 2) + c.charAt((3 & r) << 4)); (3 & n.length) > 0;)n += u; return n } function b64tohex(e) { var t, r = "", n = 0, o = 0; for (t = 0; t < e.length && e.charAt(t) != u; ++t) { var i = c.indexOf(e.charAt(t)); i < 0 || (0 == n ? (r += int2char(i >> 2), o = 3 & i, n = 1) : 1 == n ? (r += int2char(o << 2 | i >> 4), o = 15 & i, n = 2) : 2 == n ? (r += int2char(o), r += int2char(i >> 2), o = 3 & i, n = 3) : (r += int2char(o << 2 | i >> 4), r += int2char(15 & i), n = 0)) } return 1 == n && (r += int2char(o << 2)), r } var f, h = function decode(e) { var t; if (void 0 === a) { var r = "0123456789ABCDEF", n = " \f\n\r\t \u2028\u2029"; for (a = {}, t = 0; t < 16; ++t)a[r.charAt(t)] = t; for (r = r.toLowerCase(), t = 10; t < 16; ++t)a[r.charAt(t)] = t; for (t = 0; t < n.length; ++t)a[n.charAt(t)] = -1 } var o = [], i = 0, s = 0; for (t = 0; t < e.length; ++t) { var c = e.charAt(t); if ("=" == c) break; if (-1 != (c = a[c])) { if (void 0 === c) throw new Error("Illegal character at offset " + t); i |= c, ++s >= 2 ? (o[o.length] = i, i = 0, s = 0) : i <<= 4 } } if (s) throw new Error("Hex encoding incomplete: 4 bits missing"); return o }, m = { "decode": function decode(e) { var t; if (void 0 === f) { var r = "= \f\n\r\t \u2028\u2029"; for (f = Object.create(null), t = 0; t < 64; ++t)f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)] = t; for (t = 0; t < r.length; ++t)f[r.charAt(t)] = -1 } var n = [], o = 0, i = 0; for (t = 0; t < e.length; ++t) { var a = e.charAt(t); if ("=" == a) break; if (-1 != (a = f[a])) { if (void 0 === a) throw new Error("Illegal character at offset " + t); o |= a, ++i >= 4 ? (n[n.length] = o >> 16, n[n.length] = o >> 8 & 255, n[n.length] = 255 & o, o = 0, i = 0) : o <<= 6 } } switch (i) { case 1: throw new Error("Base64 encoding incomplete: at least 2 bits missing"); case 2: n[n.length] = o >> 10; break; case 3: n[n.length] = o >> 16, n[n.length] = o >> 8 & 255 }return n }, "re": /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/, "unarmor": function unarmor(e) { var t = m.re.exec(e); if (t) if (t[1]) e = t[1]; else { if (!t[2]) throw new Error("RegExp out of sync"); e = t[2] } return m.decode(e) } }, g = function () { function Int10(e) { _classCallCheck(this, Int10), this.buf = [+(e || 0) || 0] } return _createClass(Int10, [{ "key": "mulAdd", "value": function mulAdd(e, t) { var r, n, o = this.buf, i = o.length; for (r = 0; r < i; ++r)(n = o[r] * e + t) < 1e13 ? t = 0 : n -= 1e13 * (t = 0 | n / 1e13), o[r] = n; t > 0 && (o[r] = t) } }, { "key": "sub", "value": function sub(e) { var t, r, n = this.buf, o = n.length; for (t = 0; t < o; ++t)(r = n[t] - e) < 0 ? (r += 1e13, e = 1) : e = 0, n[t] = r; for (; 0 === n[n.length - 1];)n.pop() } }, { "key": "toString", "value": function toString(e) { if (10 != (e || 10)) throw new Error("only base 10 is supported"); for (var t = this.buf, r = t[t.length - 1].toString(), n = t.length - 2; n >= 0; --n)r += (1e13 + t[n]).toString().substring(1); return r } }, { "key": "valueOf", "value": function valueOf() { for (var e = this.buf, t = 0, r = e.length - 1; r >= 0; --r)t = 1e13 * t + e[r]; return t } }, { "key": "simplify", "value": function simplify() { var e = this.buf; return 1 == e.length ? e[0] : this } }]), Int10 }(), v = "…", y = /^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/, b = /^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/; function stringCut(e, t) { return e.length > t && (e = e.substring(0, t) + v), e } var S = function () { function Stream(e, t) { _classCallCheck(this, Stream), this.hexDigits = "0123456789ABCDEF", e instanceof Stream ? (this.enc = e.enc, this.pos = e.pos) : (this.enc = e, this.pos = t) } return _createClass(Stream, [{ "key": "get", "value": function get(e) { if (void 0 === e && (e = this.pos++), e >= this.enc.length) throw new Error("Requesting byte offset ".concat(e, " on a stream of length ").concat(this.enc.length)); return "string" == typeof this.enc ? this.enc.charCodeAt(e) : this.enc[e] } }, { "key": "hexByte", "value": function hexByte(e) { return this.hexDigits.charAt(e >> 4 & 15) + this.hexDigits.charAt(15 & e) } }, { "key": "hexDump", "value": function hexDump(e, t, r) { for (var n = "", o = e; o < t; ++o)if (n += this.hexByte(this.get(o)), !0 !== r) switch (15 & o) { case 7: n += "  "; break; case 15: n += "\n"; break; default: n += " " }return n } }, { "key": "isASCII", "value": function isASCII(e, t) { for (var r = e; r < t; ++r) { var n = this.get(r); if (n < 32 || n > 176) return !1 } return !0 } }, { "key": "parseStringISO", "value": function parseStringISO(e, t) { for (var r = "", n = e; n < t; ++n)r += String.fromCharCode(this.get(n)); return r } }, { "key": "parseStringUTF", "value": function parseStringUTF(e, t) { for (var r = "", n = e; n < t;) { var o = this.get(n++); r += o < 128 ? String.fromCharCode(o) : o > 191 && o < 224 ? String.fromCharCode((31 & o) << 6 | 63 & this.get(n++)) : String.fromCharCode((15 & o) << 12 | (63 & this.get(n++)) << 6 | 63 & this.get(n++)) } return r } }, { "key": "parseStringBMP", "value": function parseStringBMP(e, t) { for (var r, n, o = "", i = e; i < t;)r = this.get(i++), n = this.get(i++), o += String.fromCharCode(r << 8 | n); return o } }, { "key": "parseTime", "value": function parseTime(e, t, r) { var n = this.parseStringISO(e, t), o = (r ? y : b).exec(n); return o ? (r && (o[1] = +o[1], o[1] += +o[1] < 70 ? 2e3 : 1900), n = o[1] + "-" + o[2] + "-" + o[3] + " " + o[4], o[5] && (n += ":" + o[5], o[6] && (n += ":" + o[6], o[7] && (n += "." + o[7]))), o[8] && (n += " UTC", "Z" != o[8] && (n += o[8], o[9] && (n += ":" + o[9]))), n) : "Unrecognized time: " + n } }, { "key": "parseInteger", "value": function parseInteger(e, t) { for (var r, n = this.get(e), o = n > 127, i = o ? 255 : 0, a = ""; n == i && ++e < t;)n = this.get(e); if (0 === (r = t - e)) return o ? -1 : 0; if (r > 4) { for (a = n, r <<= 3; 0 == (128 & (+a ^ i));)a = +a << 1, --r; a = "(" + r + " bit)\n" } o && (n -= 256); for (var s = new g(n), c = e + 1; c < t; ++c)s.mulAdd(256, this.get(c)); return a + s.toString() } }, { "key": "parseBitString", "value": function parseBitString(e, t, r) { for (var n = this.get(e), o = "(" + ((t - e - 1 << 3) - n) + " bit)\n", i = "", a = e + 1; a < t; ++a) { for (var s = this.get(a), c = a == t - 1 ? n : 0, u = 7; u >= c; --u)i += s >> u & 1 ? "1" : "0"; if (i.length > r) return o + stringCut(i, r) } return o + i } }, { "key": "parseOctetString", "value": function parseOctetString(e, t, r) { if (this.isASCII(e, t)) return stringCut(this.parseStringISO(e, t), r); var n = t - e, o = "(" + n + " byte)\n"; n > (r /= 2) && (t = e + r); for (var i = e; i < t; ++i)o += this.hexByte(this.get(i)); return n > r && (o += v), o } }, { "key": "parseOID", "value": function parseOID(e, t, r) { for (var n = "", o = new g, i = 0, a = e; a < t; ++a) { var s = this.get(a); if (o.mulAdd(128, 127 & s), i += 7, !(128 & s)) { if ("" === n) if ((o = o.simplify()) instanceof g) o.sub(80), n = "2." + o.toString(); else { var c = o < 80 ? o < 40 ? 0 : 1 : 2; n = c + "." + (o - 40 * c) } else n += "." + o.toString(); if (n.length > r) return stringCut(n, r); o = new g, i = 0 } } return i > 0 && (n += ".incomplete"), n } }]), Stream }(), _ = function () { function ASN1(e, t, r, n, o) { if (_classCallCheck(this, ASN1), !(n instanceof w)) throw new Error("Invalid tag value."); this.stream = e, this.header = t, this.length = r, this.tag = n, this.sub = o } return _createClass(ASN1, [{ "key": "typeName", "value": function typeName() { switch (this.tag.tagClass) { case 0: switch (this.tag.tagNumber) { case 0: return "EOC"; case 1: return "BOOLEAN"; case 2: return "INTEGER"; case 3: return "BIT_STRING"; case 4: return "OCTET_STRING"; case 5: return "NULL"; case 6: return "OBJECT_IDENTIFIER"; case 7: return "ObjectDescriptor"; case 8: return "EXTERNAL"; case 9: return "REAL"; case 10: return "ENUMERATED"; case 11: return "EMBEDDED_PDV"; case 12: return "UTF8String"; case 16: return "SEQUENCE"; case 17: return "SET"; case 18: return "NumericString"; case 19: return "PrintableString"; case 20: return "TeletexString"; case 21: return "VideotexString"; case 22: return "IA5String"; case 23: return "UTCTime"; case 24: return "GeneralizedTime"; case 25: return "GraphicString"; case 26: return "VisibleString"; case 27: return "GeneralString"; case 28: return "UniversalString"; case 30: return "BMPString" }return "Universal_" + this.tag.tagNumber.toString(); case 1: return "Application_" + this.tag.tagNumber.toString(); case 2: return "[" + this.tag.tagNumber.toString() + "]"; case 3: return "Private_" + this.tag.tagNumber.toString() } } }, { "key": "content", "value": function content(e) { if (void 0 === this.tag) return null; void 0 === e && (e = 1 / 0); var content = this.posContent(), t = Math.abs(this.length); if (!this.tag.isUniversal()) return null !== this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseOctetString(content, content + t, e); switch (this.tag.tagNumber) { case 1: return 0 === this.stream.get(content) ? "false" : "true"; case 2: return this.stream.parseInteger(content, content + t); case 3: return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseBitString(content, content + t, e); case 4: return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseOctetString(content, content + t, e); case 6: return this.stream.parseOID(content, content + t, e); case 16: case 17: return null !== this.sub ? "(" + this.sub.length + " elem)" : "(no elem)"; case 12: return stringCut(this.stream.parseStringUTF(content, content + t), e); case 18: case 19: case 20: case 21: case 22: case 26: return stringCut(this.stream.parseStringISO(content, content + t), e); case 30: return stringCut(this.stream.parseStringBMP(content, content + t), e); case 23: case 24: return this.stream.parseTime(content, content + t, 23 == this.tag.tagNumber) }return null } }, { "key": "toString", "value": function toString() { return this.typeName() + "@" + this.stream.pos + "[header:" + this.header + ",length:" + this.length + ",sub:" + (null === this.sub ? "null" : this.sub.length) + "]" } }, { "key": "toPrettyString", "value": function toPrettyString(e) { void 0 === e && (e = ""); var t = e + this.typeName() + " @" + this.stream.pos; if (this.length >= 0 && (t += "+"), t += this.length, this.tag.tagConstructed ? t += " (constructed)" : !this.tag.isUniversal() || 3 != this.tag.tagNumber && 4 != this.tag.tagNumber || null === this.sub || (t += " (encapsulates)"), t += "\n", null !== this.sub) { e += "  "; for (var r = 0, n = this.sub.length; r < n; ++r)t += this.sub[r].toPrettyString(e) } return t } }, { "key": "posStart", "value": function posStart() { return this.stream.pos } }, { "key": "posContent", "value": function posContent() { return this.stream.pos + this.header } }, { "key": "posEnd", "value": function posEnd() { return this.stream.pos + this.header + Math.abs(this.length) } }, { "key": "toHexString", "value": function toHexString() { return this.stream.hexDump(this.posStart(), this.posEnd(), !0) } }, { "key": "getHexStringValue", "value": function getHexStringValue() { var e = this.toHexString(), t = 2 * this.header, r = 2 * this.length; return e.substr(t, r) } }], [{ "key": "decodeLength", "value": function decodeLength(e) { var t = e.get(), r = 127 & t; if (r == t) return r; if (r > 6) throw new Error("Length over 48 bits not supported at position " + (e.pos - 1)); if (0 === r) return null; t = 0; for (var n = 0; n < r; ++n)t = 256 * t + e.get(); return t } }, { "key": "decode", "value": function decode(e) { var t; t = e instanceof S ? e : new S(e, 0); var r = new S(t), n = new w(t), o = ASN1.decodeLength(t) || 0, i = t.pos, a = i - r.pos, s = null, c = function getSub() { var e = []; if (null !== o) { for (var r = i + o; t.pos < r;)e[e.length] = ASN1.decode(t); if (t.pos != r) throw new Error("Content size is not correct for container starting at offset " + i) } else try { for (; ;) { var n = ASN1.decode(t); if (n.tag.isEOC()) break; e[e.length] = n } o = i - t.pos } catch (e) { throw new Error("Exception while decoding undefined length content: " + e) } return e }; if (n.tagConstructed) s = c(); else if (n.isUniversal() && (3 == n.tagNumber || 4 == n.tagNumber)) try { if (3 == n.tagNumber && 0 != t.get()) throw new Error("BIT STRINGs with unused bits cannot encapsulate."); s = c(); for (var u = 0; u < s.length; ++u)if (s[u].tag.isEOC()) throw new Error("EOC is not supposed to be actual content.") } catch (e) { s = null } if (null === s) { if (null === o) throw new Error("We can't skip over an invalid tag with undefined length at offset: ".concat(i)); t.pos = i + Math.abs(o) } return new ASN1(r, a, o, n, s) } }]), ASN1 }(), w = function () { function ASN1Tag(e) { _classCallCheck(this, ASN1Tag); var t = e.get(); if (this.tagClass = t >> 6, this.tagConstructed = 0 != (32 & t), this.tagNumber = 31 & t, 31 == this.tagNumber) { var r = new g; do { t = e.get(), r.mulAdd(128, 127 & t) } while (128 & t); this.tagNumber = r.simplify() } } return _createClass(ASN1Tag, [{ "key": "isUniversal", "value": function isUniversal() { return 0 === this.tagClass } }, { "key": "isEOC", "value": function isEOC() { return 0 === this.tagClass && 0 === this.tagNumber } }]), ASN1Tag }(), A = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997], C = (1 << 26) / A[A.length - 1], T = function () { function BigInteger(e, t, r) { _classCallCheck(this, BigInteger), null != e && ("number" == typeof e ? this.fromNumber(e, t, r) : null == t && "string" != typeof e ? this.fromString(e, 256) : this.fromString(e, t)) } return _createClass(BigInteger, [{ "key": "toString", "value": function toString(e) { if (this.s < 0) return "-" + this.negate().toString(e); var t; if (16 == e) t = 4; else if (8 == e) t = 3; else if (2 == e) t = 1; else if (32 == e) t = 5; else { if (4 != e) return this.toRadix(e); t = 2 } var r, n = (1 << t) - 1, o = !1, i = "", a = this.t, s = this.DB - a * this.DB % t; if (a-- > 0) for (s < this.DB && (r = this[a] >> s) > 0 && (o = !0, i = int2char(r)); a >= 0;)s < t ? (r = (this[a] & (1 << s) - 1) << t - s, r |= this[--a] >> (s += this.DB - t)) : (r = this[a] >> (s -= t) & n, s <= 0 && (s += this.DB, --a)), r > 0 && (o = !0), o && (i += int2char(r)); return o ? i : "0" } }, { "key": "negate", "value": function negate() { var e = nbi(); return BigInteger.ZERO.subTo(this, e), e } }, { "key": "abs", "value": function abs() { return this.s < 0 ? this.negate() : this } }, { "key": "compareTo", "value": function compareTo(e) { var t = this.s - e.s; if (0 != t) return t; var r = this.t; if (0 != (t = r - e.t)) return this.s < 0 ? -t : t; for (; --r >= 0;)if (0 != (t = this[r] - e[r])) return t; return 0 } }, { "key": "bitLength", "value": function bitLength() { return this.t <= 0 ? 0 : this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM) } }, { "key": "mod", "value": function mod(e) { var t = nbi(); return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(BigInteger.ZERO) > 0 && e.subTo(t, t), t } }, { "key": "modPowInt", "value": function modPowInt(e, t) { var r; return r = e < 256 || t.isEven() ? new k(t) : new E(t), this.exp(e, r) } }, { "key": "clone", "value": function clone() { var e = nbi(); return this.copyTo(e), e } }, { "key": "intValue", "value": function intValue() { if (this.s < 0) { if (1 == this.t) return this[0] - this.DV; if (0 == this.t) return -1 } else { if (1 == this.t) return this[0]; if (0 == this.t) return 0 } return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0] } }, { "key": "byteValue", "value": function byteValue() { return 0 == this.t ? this.s : this[0] << 24 >> 24 } }, { "key": "shortValue", "value": function shortValue() { return 0 == this.t ? this.s : this[0] << 16 >> 16 } }, { "key": "signum", "value": function signum() { return this.s < 0 ? -1 : this.t <= 0 || 1 == this.t && this[0] <= 0 ? 0 : 1 } }, { "key": "toByteArray", "value": function toByteArray() { var e = this.t, t = []; t[0] = this.s; var r, n = this.DB - e * this.DB % 8, o = 0; if (e-- > 0) for (n < this.DB && (r = this[e] >> n) != (this.s & this.DM) >> n && (t[o++] = r | this.s << this.DB - n); e >= 0;)n < 8 ? (r = (this[e] & (1 << n) - 1) << 8 - n, r |= this[--e] >> (n += this.DB - 8)) : (r = this[e] >> (n -= 8) & 255, n <= 0 && (n += this.DB, --e)), 0 != (128 & r) && (r |= -256), 0 == o && (128 & this.s) != (128 & r) && ++o, (o > 0 || r != this.s) && (t[o++] = r); return t } }, { "key": "equals", "value": function equals(e) { return 0 == this.compareTo(e) } }, { "key": "min", "value": function min(e) { return this.compareTo(e) < 0 ? this : e } }, { "key": "max", "value": function max(e) { return this.compareTo(e) > 0 ? this : e } }, { "key": "and", "value": function and(e) { var t = nbi(); return this.bitwiseTo(e, op_and, t), t } }, { "key": "or", "value": function or(e) { var t = nbi(); return this.bitwiseTo(e, op_or, t), t } }, { "key": "xor", "value": function xor(e) { var t = nbi(); return this.bitwiseTo(e, op_xor, t), t } }, { "key": "andNot", "value": function andNot(e) { var t = nbi(); return this.bitwiseTo(e, op_andnot, t), t } }, { "key": "not", "value": function not() { for (var e = nbi(), t = 0; t < this.t; ++t)e[t] = this.DM & ~this[t]; return e.t = this.t, e.s = ~this.s, e } }, { "key": "shiftLeft", "value": function shiftLeft(e) { var t = nbi(); return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t } }, { "key": "shiftRight", "value": function shiftRight(e) { var t = nbi(); return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t } }, { "key": "getLowestSetBit", "value": function getLowestSetBit() { for (var e = 0; e < this.t; ++e)if (0 != this[e]) return e * this.DB + lbit(this[e]); return this.s < 0 ? this.t * this.DB : -1 } }, { "key": "bitCount", "value": function bitCount() { for (var e = 0, t = this.s & this.DM, r = 0; r < this.t; ++r)e += cbit(this[r] ^ t); return e } }, { "key": "testBit", "value": function testBit(e) { var t = Math.floor(e / this.DB); return t >= this.t ? 0 != this.s : 0 != (this[t] & 1 << e % this.DB) } }, { "key": "setBit", "value": function setBit(e) { return this.changeBit(e, op_or) } }, { "key": "clearBit", "value": function clearBit(e) { return this.changeBit(e, op_andnot) } }, { "key": "flipBit", "value": function flipBit(e) { return this.changeBit(e, op_xor) } }, { "key": "add", "value": function add(e) { var t = nbi(); return this.addTo(e, t), t } }, { "key": "subtract", "value": function subtract(e) { var t = nbi(); return this.subTo(e, t), t } }, { "key": "multiply", "value": function multiply(e) { var t = nbi(); return this.multiplyTo(e, t), t } }, { "key": "divide", "value": function divide(e) { var t = nbi(); return this.divRemTo(e, t, null), t } }, { "key": "remainder", "value": function remainder(e) { var t = nbi(); return this.divRemTo(e, null, t), t } }, { "key": "divideAndRemainder", "value": function divideAndRemainder(e) { var t = nbi(), r = nbi(); return this.divRemTo(e, t, r), [t, r] } }, { "key": "modPow", "value": function modPow(e, t) { var r, n, o = e.bitLength(), i = nbv(1); if (o <= 0) return i; r = o < 18 ? 1 : o < 48 ? 3 : o < 144 ? 4 : o < 768 ? 5 : 6, n = o < 8 ? new k(t) : t.isEven() ? new x(t) : new E(t); var a = [], s = 3, c = r - 1, u = (1 << r) - 1; if (a[1] = n.convert(this), r > 1) { var l = nbi(); for (n.sqrTo(a[1], l); s <= u;)a[s] = nbi(), n.mulTo(l, a[s - 2], a[s]), s += 2 } var f, d, p = e.t - 1, h = !0, m = nbi(); for (o = nbits(e[p]) - 1; p >= 0;) { for (o >= c ? f = e[p] >> o - c & u : (f = (e[p] & (1 << o + 1) - 1) << c - o, p > 0 && (f |= e[p - 1] >> this.DB + o - c)), s = r; 0 == (1 & f);)f >>= 1, --s; if ((o -= s) < 0 && (o += this.DB, --p), h) a[f].copyTo(i), h = !1; else { for (; s > 1;)n.sqrTo(i, m), n.sqrTo(m, i), s -= 2; s > 0 ? n.sqrTo(i, m) : (d = i, i = m, m = d), n.mulTo(m, a[f], i) } for (; p >= 0 && 0 == (e[p] & 1 << o);)n.sqrTo(i, m), d = i, i = m, m = d, --o < 0 && (o = this.DB - 1, --p) } return n.revert(i) } }, { "key": "modInverse", "value": function modInverse(e) { var t = e.isEven(); if (this.isEven() && t || 0 == e.signum()) return BigInteger.ZERO; for (var r = e.clone(), n = this.clone(), o = nbv(1), i = nbv(0), a = nbv(0), s = nbv(1); 0 != r.signum();) { for (; r.isEven();)r.rShiftTo(1, r), t ? (o.isEven() && i.isEven() || (o.addTo(this, o), i.subTo(e, i)), o.rShiftTo(1, o)) : i.isEven() || i.subTo(e, i), i.rShiftTo(1, i); for (; n.isEven();)n.rShiftTo(1, n), t ? (a.isEven() && s.isEven() || (a.addTo(this, a), s.subTo(e, s)), a.rShiftTo(1, a)) : s.isEven() || s.subTo(e, s), s.rShiftTo(1, s); r.compareTo(n) >= 0 ? (r.subTo(n, r), t && o.subTo(a, o), i.subTo(s, i)) : (n.subTo(r, n), t && a.subTo(o, a), s.subTo(i, s)) } return 0 != n.compareTo(BigInteger.ONE) ? BigInteger.ZERO : s.compareTo(e) >= 0 ? s.subtract(e) : s.signum() < 0 ? (s.addTo(e, s), s.signum() < 0 ? s.add(e) : s) : s } }, { "key": "pow", "value": function pow(e) { return this.exp(e, new P) } }, { "key": "gcd", "value": function gcd(e) { var t = this.s < 0 ? this.negate() : this.clone(), r = e.s < 0 ? e.negate() : e.clone(); if (t.compareTo(r) < 0) { var n = t; t = r, r = n } var o = t.getLowestSetBit(), i = r.getLowestSetBit(); if (i < 0) return t; for (o < i && (i = o), i > 0 && (t.rShiftTo(i, t), r.rShiftTo(i, r)); t.signum() > 0;)(o = t.getLowestSetBit()) > 0 && t.rShiftTo(o, t), (o = r.getLowestSetBit()) > 0 && r.rShiftTo(o, r), t.compareTo(r) >= 0 ? (t.subTo(r, t), t.rShiftTo(1, t)) : (r.subTo(t, r), r.rShiftTo(1, r)); return i > 0 && r.lShiftTo(i, r), r } }, { "key": "isProbablePrime", "value": function isProbablePrime(e) { var t, r = this.abs(); if (1 == r.t && r[0] <= A[A.length - 1]) { for (t = 0; t < A.length; ++t)if (r[0] == A[t]) return !0; return !1 } if (r.isEven()) return !1; for (t = 1; t < A.length;) { for (var n = A[t], o = t + 1; o < A.length && n < C;)n *= A[o++]; for (n = r.modInt(n); t < o;)if (n % A[t++] == 0) return !1 } return r.millerRabin(e) } }, { "key": "copyTo", "value": function copyTo(e) { for (var t = this.t - 1; t >= 0; --t)e[t] = this[t]; e.t = this.t, e.s = this.s } }, { "key": "fromInt", "value": function fromInt(e) { this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0 } }, { "key": "fromString", "value": function fromString(e, t) { var r; if (16 == t) r = 4; else if (8 == t) r = 3; else if (256 == t) r = 8; else if (2 == t) r = 1; else if (32 == t) r = 5; else { if (4 != t) return void this.fromRadix(e, t); r = 2 } this.t = 0, this.s = 0; for (var n = e.length, o = !1, i = 0; --n >= 0;) { var a = 8 == r ? 255 & +e[n] : intAt(e, n); a < 0 ? "-" == e.charAt(n) && (o = !0) : (o = !1, 0 == i ? this[this.t++] = a : i + r > this.DB ? (this[this.t - 1] |= (a & (1 << this.DB - i) - 1) << i, this[this.t++] = a >> this.DB - i) : this[this.t - 1] |= a << i, (i += r) >= this.DB && (i -= this.DB)) } 8 == r && 0 != (128 & +e[0]) && (this.s = -1, i > 0 && (this[this.t - 1] |= (1 << this.DB - i) - 1 << i)), this.clamp(), o && BigInteger.ZERO.subTo(this, this) } }, { "key": "clamp", "value": function clamp() { for (var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e;)--this.t } }, { "key": "dlShiftTo", "value": function dlShiftTo(e, t) { var r; for (r = this.t - 1; r >= 0; --r)t[r + e] = this[r]; for (r = e - 1; r >= 0; --r)t[r] = 0; t.t = this.t + e, t.s = this.s } }, { "key": "drShiftTo", "value": function drShiftTo(e, t) { for (var r = e; r < this.t; ++r)t[r - e] = this[r]; t.t = Math.max(this.t - e, 0), t.s = this.s } }, { "key": "lShiftTo", "value": function lShiftTo(e, t) { for (var r = e % this.DB, n = this.DB - r, o = (1 << n) - 1, i = Math.floor(e / this.DB), a = this.s << r & this.DM, s = this.t - 1; s >= 0; --s)t[s + i + 1] = this[s] >> n | a, a = (this[s] & o) << r; for (var c = i - 1; c >= 0; --c)t[c] = 0; t[i] = a, t.t = this.t + i + 1, t.s = this.s, t.clamp() } }, { "key": "rShiftTo", "value": function rShiftTo(e, t) { t.s = this.s; var r = Math.floor(e / this.DB); if (r >= this.t) t.t = 0; else { var n = e % this.DB, o = this.DB - n, i = (1 << n) - 1; t[0] = this[r] >> n; for (var a = r + 1; a < this.t; ++a)t[a - r - 1] |= (this[a] & i) << o, t[a - r] = this[a] >> n; n > 0 && (t[this.t - r - 1] |= (this.s & i) << o), t.t = this.t - r, t.clamp() } } }, { "key": "subTo", "value": function subTo(e, t) { for (var r = 0, n = 0, o = Math.min(e.t, this.t); r < o;)n += this[r] - e[r], t[r++] = n & this.DM, n >>= this.DB; if (e.t < this.t) { for (n -= e.s; r < this.t;)n += this[r], t[r++] = n & this.DM, n >>= this.DB; n += this.s } else { for (n += this.s; r < e.t;)n -= e[r], t[r++] = n & this.DM, n >>= this.DB; n -= e.s } t.s = n < 0 ? -1 : 0, n < -1 ? t[r++] = this.DV + n : n > 0 && (t[r++] = n), t.t = r, t.clamp() } }, { "key": "multiplyTo", "value": function multiplyTo(e, t) { var r = this.abs(), n = e.abs(), o = r.t; for (t.t = o + n.t; --o >= 0;)t[o] = 0; for (o = 0; o < n.t; ++o)t[o + r.t] = r.am(0, n[o], t, o, 0, r.t); t.s = 0, t.clamp(), this.s != e.s && BigInteger.ZERO.subTo(t, t) } }, { "key": "squareTo", "value": function squareTo(e) { for (var t = this.abs(), r = e.t = 2 * t.t; --r >= 0;)e[r] = 0; for (r = 0; r < t.t - 1; ++r) { var n = t.am(r, t[r], e, 2 * r, 0, 1); (e[r + t.t] += t.am(r + 1, 2 * t[r], e, 2 * r + 1, n, t.t - r - 1)) >= t.DV && (e[r + t.t] -= t.DV, e[r + t.t + 1] = 1) } e.t > 0 && (e[e.t - 1] += t.am(r, t[r], e, 2 * r, 0, 1)), e.s = 0, e.clamp() } }, { "key": "divRemTo", "value": function divRemTo(e, t, r) { var n = e.abs(); if (!(n.t <= 0)) { var o = this.abs(); if (o.t < n.t) return null != t && t.fromInt(0), void (null != r && this.copyTo(r)); null == r && (r = nbi()); var i = nbi(), a = this.s, s = e.s, c = this.DB - nbits(n[n.t - 1]); c > 0 ? (n.lShiftTo(c, i), o.lShiftTo(c, r)) : (n.copyTo(i), o.copyTo(r)); var u = i.t, l = i[u - 1]; if (0 != l) { var f = l * (1 << this.F1) + (u > 1 ? i[u - 2] >> this.F2 : 0), d = this.FV / f, p = (1 << this.F1) / f, h = 1 << this.F2, m = r.t, g = m - u, v = null == t ? nbi() : t; for (i.dlShiftTo(g, v), r.compareTo(v) >= 0 && (r[r.t++] = 1, r.subTo(v, r)), BigInteger.ONE.dlShiftTo(u, v), v.subTo(i, i); i.t < u;)i[i.t++] = 0; for (; --g >= 0;) { var y = r[--m] == l ? this.DM : Math.floor(r[m] * d + (r[m - 1] + h) * p); if ((r[m] += i.am(0, y, r, g, 0, u)) < y) for (i.dlShiftTo(g, v), r.subTo(v, r); r[m] < --y;)r.subTo(v, r) } null != t && (r.drShiftTo(u, t), a != s && BigInteger.ZERO.subTo(t, t)), r.t = u, r.clamp(), c > 0 && r.rShiftTo(c, r), a < 0 && BigInteger.ZERO.subTo(r, r) } } } }, { "key": "invDigit", "value": function invDigit() { if (this.t < 1) return 0; var e = this[0]; if (0 == (1 & e)) return 0; var t = 3 & e; return (t = (t = (t = (t = t * (2 - (15 & e) * t) & 15) * (2 - (255 & e) * t) & 255) * (2 - ((65535 & e) * t & 65535)) & 65535) * (2 - e * t % this.DV) % this.DV) > 0 ? this.DV - t : -t } }, { "key": "isEven", "value": function isEven() { return 0 == (this.t > 0 ? 1 & this[0] : this.s) } }, { "key": "exp", "value": function exp(e, t) { if (e > 4294967295 || e < 1) return BigInteger.ONE; var r = nbi(), n = nbi(), o = t.convert(this), i = nbits(e) - 1; for (o.copyTo(r); --i >= 0;)if (t.sqrTo(r, n), (e & 1 << i) > 0) t.mulTo(n, o, r); else { var a = r; r = n, n = a } return t.revert(r) } }, { "key": "chunkSize", "value": function chunkSize(e) { return Math.floor(Math.LN2 * this.DB / Math.log(e)) } }, { "key": "toRadix", "value": function toRadix(e) { if (null == e && (e = 10), 0 == this.signum() || e < 2 || e > 36) return "0"; var t = this.chunkSize(e), r = Math.pow(e, t), n = nbv(r), o = nbi(), i = nbi(), a = ""; for (this.divRemTo(n, o, i); o.signum() > 0;)a = (r + i.intValue()).toString(e).substr(1) + a, o.divRemTo(n, o, i); return i.intValue().toString(e) + a } }, { "key": "fromRadix", "value": function fromRadix(e, t) { this.fromInt(0), null == t && (t = 10); for (var r = this.chunkSize(t), n = Math.pow(t, r), o = !1, i = 0, a = 0, s = 0; s < e.length; ++s) { var c = intAt(e, s); c < 0 ? "-" == e.charAt(s) && 0 == this.signum() && (o = !0) : (a = t * a + c, ++i >= r && (this.dMultiply(n), this.dAddOffset(a, 0), i = 0, a = 0)) } i > 0 && (this.dMultiply(Math.pow(t, i)), this.dAddOffset(a, 0)), o && BigInteger.ZERO.subTo(this, this) } }, { "key": "fromNumber", "value": function fromNumber(e, t, r) { if ("number" == typeof t) if (e < 2) this.fromInt(1); else for (this.fromNumber(e, r), this.testBit(e - 1) || this.bitwiseTo(BigInteger.ONE.shiftLeft(e - 1), op_or, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t);)this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(BigInteger.ONE.shiftLeft(e - 1), this); else { var n = [], o = 7 & e; n.length = 1 + (e >> 3), t.nextBytes(n), o > 0 ? n[0] &= (1 << o) - 1 : n[0] = 0, this.fromString(n, 256) } } }, { "key": "bitwiseTo", "value": function bitwiseTo(e, t, r) { var n, o, i = Math.min(e.t, this.t); for (n = 0; n < i; ++n)r[n] = t(this[n], e[n]); if (e.t < this.t) { for (o = e.s & this.DM, n = i; n < this.t; ++n)r[n] = t(this[n], o); r.t = this.t } else { for (o = this.s & this.DM, n = i; n < e.t; ++n)r[n] = t(o, e[n]); r.t = e.t } r.s = t(this.s, e.s), r.clamp() } }, { "key": "changeBit", "value": function changeBit(e, t) { var r = BigInteger.ONE.shiftLeft(e); return this.bitwiseTo(r, t, r), r } }, { "key": "addTo", "value": function addTo(e, t) { for (var r = 0, n = 0, o = Math.min(e.t, this.t); r < o;)n += this[r] + e[r], t[r++] = n & this.DM, n >>= this.DB; if (e.t < this.t) { for (n += e.s; r < this.t;)n += this[r], t[r++] = n & this.DM, n >>= this.DB; n += this.s } else { for (n += this.s; r < e.t;)n += e[r], t[r++] = n & this.DM, n >>= this.DB; n += e.s } t.s = n < 0 ? -1 : 0, n > 0 ? t[r++] = n : n < -1 && (t[r++] = this.DV + n), t.t = r, t.clamp() } }, { "key": "dMultiply", "value": function dMultiply(e) { this[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp() } }, { "key": "dAddOffset", "value": function dAddOffset(e, t) { if (0 != e) { for (; this.t <= t;)this[this.t++] = 0; for (this[t] += e; this[t] >= this.DV;)this[t] -= this.DV, ++t >= this.t && (this[this.t++] = 0), ++this[t] } } }, { "key": "multiplyLowerTo", "value": function multiplyLowerTo(e, t, r) { var n = Math.min(this.t + e.t, t); for (r.s = 0, r.t = n; n > 0;)r[--n] = 0; for (var o = r.t - this.t; n < o; ++n)r[n + this.t] = this.am(0, e[n], r, n, 0, this.t); for (var i = Math.min(e.t, t); n < i; ++n)this.am(0, e[n], r, n, 0, t - n); r.clamp() } }, { "key": "multiplyUpperTo", "value": function multiplyUpperTo(e, t, r) { --t; var n = r.t = this.t + e.t - t; for (r.s = 0; --n >= 0;)r[n] = 0; for (n = Math.max(t - this.t, 0); n < e.t; ++n)r[this.t + n - t] = this.am(t - n, e[n], r, 0, 0, this.t + n - t); r.clamp(), r.drShiftTo(1, r) } }, { "key": "modInt", "value": function modInt(e) { if (e <= 0) return 0; var t = this.DV % e, r = this.s < 0 ? e - 1 : 0; if (this.t > 0) if (0 == t) r = this[0] % e; else for (var n = this.t - 1; n >= 0; --n)r = (t * r + this[n]) % e; return r } }, { "key": "millerRabin", "value": function millerRabin(e) { var t = this.subtract(BigInteger.ONE), r = t.getLowestSetBit(); if (r <= 0) return !1; var n = t.shiftRight(r); (e = e + 1 >> 1) > A.length && (e = A.length); for (var o = nbi(), i = 0; i < e; ++i) { o.fromInt(A[Math.floor(Math.random() * A.length)]); var a = o.modPow(n, this); if (0 != a.compareTo(BigInteger.ONE) && 0 != a.compareTo(t)) { for (var s = 1; s++ < r && 0 != a.compareTo(t);)if (0 == (a = a.modPowInt(2, this)).compareTo(BigInteger.ONE)) return !1; if (0 != a.compareTo(t)) return !1 } } return !0 } }, { "key": "square", "value": function square() { var e = nbi(); return this.squareTo(e), e } }, { "key": "gcda", "value": function gcda(e, t) { var r = this.s < 0 ? this.negate() : this.clone(), n = e.s < 0 ? e.negate() : e.clone(); if (r.compareTo(n) < 0) { var o = r; r = n, n = o } var i = r.getLowestSetBit(), a = n.getLowestSetBit(); if (a < 0) t(r); else { i < a && (a = i), a > 0 && (r.rShiftTo(a, r), n.rShiftTo(a, n)); setTimeout(function gcda1() { (i = r.getLowestSetBit()) > 0 && r.rShiftTo(i, r), (i = n.getLowestSetBit()) > 0 && n.rShiftTo(i, n), r.compareTo(n) >= 0 ? (r.subTo(n, r), r.rShiftTo(1, r)) : (n.subTo(r, n), n.rShiftTo(1, n)), r.signum() > 0 ? setTimeout(gcda1, 0) : (a > 0 && n.lShiftTo(a, n), setTimeout(function () { t(n) }, 0)) }, 10) } } }, { "key": "fromNumberAsync", "value": function fromNumberAsync(e, t, r, n) { if ("number" == typeof t) if (e < 2) this.fromInt(1); else { this.fromNumber(e, r), this.testBit(e - 1) || this.bitwiseTo(BigInteger.ONE.shiftLeft(e - 1), op_or, this), this.isEven() && this.dAddOffset(1, 0); var o = this; setTimeout(function bnpfn1() { o.dAddOffset(2, 0), o.bitLength() > e && o.subTo(BigInteger.ONE.shiftLeft(e - 1), o), o.isProbablePrime(t) ? setTimeout(function () { n() }, 0) : setTimeout(bnpfn1, 0) }, 0) } else { var i = [], a = 7 & e; i.length = 1 + (e >> 3), t.nextBytes(i), a > 0 ? i[0] &= (1 << a) - 1 : i[0] = 0, this.fromString(i, 256) } } }]), BigInteger }(), P = function () { function NullExp() { _classCallCheck(this, NullExp) } return _createClass(NullExp, [{ "key": "convert", "value": function convert(e) { return e } }, { "key": "revert", "value": function revert(e) { return e } }, { "key": "mulTo", "value": function mulTo(e, t, r) { e.multiplyTo(t, r) } }, { "key": "sqrTo", "value": function sqrTo(e, t) { e.squareTo(t) } }]), NullExp }(), k = function () { function Classic(e) { _classCallCheck(this, Classic), this.m = e } return _createClass(Classic, [{ "key": "convert", "value": function convert(e) { return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e } }, { "key": "revert", "value": function revert(e) { return e } }, { "key": "reduce", "value": function reduce(e) { e.divRemTo(this.m, null, e) } }, { "key": "mulTo", "value": function mulTo(e, t, r) { e.multiplyTo(t, r), this.reduce(r) } }, { "key": "sqrTo", "value": function sqrTo(e, t) { e.squareTo(t), this.reduce(t) } }]), Classic }(), E = function () { function Montgomery(e) { _classCallCheck(this, Montgomery), this.m = e, this.mp = e.invDigit(), this.mpl = 32767 & this.mp, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t } return _createClass(Montgomery, [{ "key": "convert", "value": function convert(e) { var t = nbi(); return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(T.ZERO) > 0 && this.m.subTo(t, t), t } }, { "key": "revert", "value": function revert(e) { var t = nbi(); return e.copyTo(t), this.reduce(t), t } }, { "key": "reduce", "value": function reduce(e) { for (; e.t <= this.mt2;)e[e.t++] = 0; for (var t = 0; t < this.m.t; ++t) { var r = 32767 & e[t], n = r * this.mpl + ((r * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM; for (e[r = t + this.m.t] += this.m.am(0, n, e, t, 0, this.m.t); e[r] >= e.DV;)e[r] -= e.DV, e[++r]++ } e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e) } }, { "key": "mulTo", "value": function mulTo(e, t, r) { e.multiplyTo(t, r), this.reduce(r) } }, { "key": "sqrTo", "value": function sqrTo(e, t) { e.squareTo(t), this.reduce(t) } }]), Montgomery }(), x = function () { function Barrett(e) { _classCallCheck(this, Barrett), this.m = e, this.r2 = nbi(), this.q3 = nbi(), T.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e) } return _createClass(Barrett, [{ "key": "convert", "value": function convert(e) { if (e.s < 0 || e.t > 2 * this.m.t) return e.mod(this.m); if (e.compareTo(this.m) < 0) return e; var t = nbi(); return e.copyTo(t), this.reduce(t), t } }, { "key": "revert", "value": function revert(e) { return e } }, { "key": "reduce", "value": function reduce(e) { for (e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0;)e.dAddOffset(1, this.m.t + 1); for (e.subTo(this.r2, e); e.compareTo(this.m) >= 0;)e.subTo(this.m, e) } }, { "key": "mulTo", "value": function mulTo(e, t, r) { e.multiplyTo(t, r), this.reduce(r) } }, { "key": "sqrTo", "value": function sqrTo(e, t) { e.squareTo(t), this.reduce(t) } }]), Barrett }(); function nbi() { return new T(null) } function parseBigInt(e, t) { return new T(e, t) } T.prototype.am = function am3(e, t, r, n, o, i) { for (var a = 16383 & t, s = t >> 14; --i >= 0;) { var c = 16383 & this[e], u = this[e++] >> 14, l = s * c + u * a; o = ((c = a * c + ((16383 & l) << 14) + r[n] + o) >> 28) + (l >> 14) + s * u, r[n++] = 268435455 & c } return o }, T.prototype.DB = 28, T.prototype.DM = 268435455, T.prototype.DV = 1 << 28; T.prototype.FV = Math.pow(2, 52), T.prototype.F1 = 24, T.prototype.F2 = 4; var O, I, R = []; for (O = "0".charCodeAt(0), I = 0; I <= 9; ++I)R[O++] = I; for (O = "a".charCodeAt(0), I = 10; I < 36; ++I)R[O++] = I; for (O = "A".charCodeAt(0), I = 10; I < 36; ++I)R[O++] = I; function intAt(e, t) { var r = R[e.charCodeAt(t)]; return null == r ? -1 : r } function nbv(e) { var t = nbi(); return t.fromInt(e), t } function nbits(e) { var t, r = 1; return 0 != (t = e >>> 16) && (e = t, r += 16), 0 != (t = e >> 8) && (e = t, r += 8), 0 != (t = e >> 4) && (e = t, r += 4), 0 != (t = e >> 2) && (e = t, r += 2), 0 != (t = e >> 1) && (e = t, r += 1), r } T.ZERO = nbv(0), T.ONE = nbv(1); var M = function () { function Arcfour() { _classCallCheck(this, Arcfour), this.i = 0, this.j = 0, this.S = [] } return _createClass(Arcfour, [{ "key": "init", "value": function init(e) { var t, r, n; for (t = 0; t < 256; ++t)this.S[t] = t; for (r = 0, t = 0; t < 256; ++t)r = r + this.S[t] + e[t % e.length] & 255, n = this.S[t], this.S[t] = this.S[r], this.S[r] = n; this.i = 0, this.j = 0 } }, { "key": "next", "value": function next() { var e; return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, e = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = e, this.S[e + this.S[this.i] & 255] } }]), Arcfour }(); var B, D, j = 256, F = null; if (null == F) { F = [], D = 0; !function getRandomValues(e) { for (var t = 0, r = e.length; t < r; t++)e[t] = Math.floor(256 * Math.random()) }(new Uint32Array(256)) } function rng_get_byte() { if (null == B) { for (B = function prng_newstate() { return new M }(); D < j;) { var e = Math.floor(65536 * Math.random()); F[D++] = 255 & e } for (B.init(F), D = 0; D < F.length; ++D)F[D] = 0; D = 0 } return B.next() } var L = function () { function SecureRandom() { _classCallCheck(this, SecureRandom) } return _createClass(SecureRandom, [{ "key": "nextBytes", "value": function nextBytes(e) { for (var t = 0; t < e.length; ++t)e[t] = rng_get_byte() } }]), SecureRandom }(); var N = function () { function RSAKey() { _classCallCheck(this, RSAKey), this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null } return _createClass(RSAKey, [{ "key": "doPublic", "value": function doPublic(e) { return e.modPowInt(this.e, this.n) } }, { "key": "doPrivate", "value": function doPrivate(e) { if (null == this.p || null == this.q) return e.modPow(this.d, this.n); for (var t = e.mod(this.p).modPow(this.dmp1, this.p), r = e.mod(this.q).modPow(this.dmq1, this.q); t.compareTo(r) < 0;)t = t.add(this.p); return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r) } }, { "key": "setPublic", "value": function setPublic(e, t) { null != e && null != t && e.length > 0 && t.length > 0 ? (this.n = parseBigInt(e, 16), this.e = parseInt(t, 16)) : console.error("Invalid RSA public key") } }, { "key": "encrypt", "value": function encrypt(e) { var t = function pkcs1pad2(e, t) { if (t < e.length + 11) return console.error("Message too long for RSA"), null; for (var r = [], n = e.length - 1; n >= 0 && t > 0;) { var o = e.charCodeAt(n--); o < 128 ? r[--t] = o : o > 127 && o < 2048 ? (r[--t] = 63 & o | 128, r[--t] = o >> 6 | 192) : (r[--t] = 63 & o | 128, r[--t] = o >> 6 & 63 | 128, r[--t] = o >> 12 | 224) } r[--t] = 0; for (var i = new L, a = []; t > 2;) { for (a[0] = 0; 0 == a[0];)i.nextBytes(a); r[--t] = a[0] } return r[--t] = 2, r[--t] = 0, new T(r) }(e, this.n.bitLength() + 7 >> 3); if (null == t) return null; var r = this.doPublic(t); if (null == r) return null; var n = r.toString(16); return 0 == (1 & n.length) ? n : "0" + n } }, { "key": "setPrivate", "value": function setPrivate(e, t, r) { null != e && null != t && e.length > 0 && t.length > 0 ? (this.n = parseBigInt(e, 16), this.e = parseInt(t, 16), this.d = parseBigInt(r, 16)) : console.error("Invalid RSA private key") } }, { "key": "setPrivateEx", "value": function setPrivateEx(e, t, r, n, o, i, a, s) { null != e && null != t && e.length > 0 && t.length > 0 ? (this.n = parseBigInt(e, 16), this.e = parseInt(t, 16), this.d = parseBigInt(r, 16), this.p = parseBigInt(n, 16), this.q = parseBigInt(o, 16), this.dmp1 = parseBigInt(i, 16), this.dmq1 = parseBigInt(a, 16), this.coeff = parseBigInt(s, 16)) : console.error("Invalid RSA private key") } }, { "key": "generate", "value": function generate(e, t) { var r = new L, n = e >> 1; this.e = parseInt(t, 16); for (var o = new T(t, 16); ;) { for (; this.p = new T(e - n, 1, r), 0 != this.p.subtract(T.ONE).gcd(o).compareTo(T.ONE) || !this.p.isProbablePrime(10);); for (; this.q = new T(n, 1, r), 0 != this.q.subtract(T.ONE).gcd(o).compareTo(T.ONE) || !this.q.isProbablePrime(10);); if (this.p.compareTo(this.q) <= 0) { var i = this.p; this.p = this.q, this.q = i } var a = this.p.subtract(T.ONE), s = this.q.subtract(T.ONE), c = a.multiply(s); if (0 == c.gcd(o).compareTo(T.ONE)) { this.n = this.p.multiply(this.q), this.d = o.modInverse(c), this.dmp1 = this.d.mod(a), this.dmq1 = this.d.mod(s), this.coeff = this.q.modInverse(this.p); break } } } }, { "key": "decrypt", "value": function decrypt(e) { var t = parseBigInt(e, 16), r = this.doPrivate(t); return null == r ? null : function pkcs1unpad2(e, t) { var r = e.toByteArray(), n = 0; for (; n < r.length && 0 == r[n];)++n; if (r.length - n != t - 1 || 2 != r[n]) return null; ++n; for (; 0 != r[n];)if (++n >= r.length) return null; var o = ""; for (; ++n < r.length;) { var i = 255 & r[n]; i < 128 ? o += String.fromCharCode(i) : i > 191 && i < 224 ? (o += String.fromCharCode((31 & i) << 6 | 63 & r[n + 1]), ++n) : (o += String.fromCharCode((15 & i) << 12 | (63 & r[n + 1]) << 6 | 63 & r[n + 2]), n += 2) } return o }(r, this.n.bitLength() + 7 >> 3) } }, { "key": "generateAsync", "value": function generateAsync(e, t, r) { var n = new L, o = e >> 1; this.e = parseInt(t, 16); var i = new T(t, 16), a = this; setTimeout(function loop1() { var t = function loop4() { if (a.p.compareTo(a.q) <= 0) { var e = a.p; a.p = a.q, a.q = e } var t = a.p.subtract(T.ONE), n = a.q.subtract(T.ONE), o = t.multiply(n); 0 == o.gcd(i).compareTo(T.ONE) ? (a.n = a.p.multiply(a.q), a.d = i.modInverse(o), a.dmp1 = a.d.mod(t), a.dmq1 = a.d.mod(n), a.coeff = a.q.modInverse(a.p), setTimeout(function () { r() }, 0)) : setTimeout(loop1, 0) }, s = function loop3() { a.q = nbi(), a.q.fromNumberAsync(o, 1, n, function () { a.q.subtract(T.ONE).gcda(i, function (e) { 0 == e.compareTo(T.ONE) && a.q.isProbablePrime(10) ? setTimeout(t, 0) : setTimeout(loop3, 0) }) }) }; setTimeout(function loop2() { a.p = nbi(), a.p.fromNumberAsync(e - o, 1, n, function () { a.p.subtract(T.ONE).gcda(i, function (e) { 0 == e.compareTo(T.ONE) && a.p.isProbablePrime(10) ? setTimeout(s, 0) : setTimeout(loop2, 0) }) }) }, 0) }, 0) } }, { "key": "sign", "value": function sign(e, t, r) { var n = function pkcs1pad1(e, t) { if (t < e.length + 22) return console.error("Message too long for RSA"), null; for (var r = t - e.length - 6, n = "", o = 0; o < r; o += 2)n += "ff"; return parseBigInt("0001" + n + "00" + e, 16) }(function getDigestHeader(e) { return H[e] || "" }(r) + t(e).toString(), this.n.bitLength() / 4); if (null == n) return null; var o = this.doPrivate(n); if (null == o) return null; var i = o.toString(16); return 0 == (1 & i.length) ? i : "0" + i } }, { "key": "verify", "value": function verify(e, t, r) { var n = parseBigInt(t, 16), o = this.doPublic(n); return null == o ? null : function removeDigestHeader(e) { for (var t in H) if (H.hasOwnProperty(t)) { var r = H[t], n = r.length; if (e.substr(0, n) == r) return e.substr(n) } return e }(o.toString(16).replace(/^1f+00/, "")) == r(e).toString() } }]), RSAKey }(); var H = { "md2": "3020300c06082a864886f70d020205000410", "md5": "3020300c06082a864886f70d020505000410", "sha1": "3021300906052b0e03021a05000414", "sha224": "302d300d06096086480165030402040500041c", "sha256": "3031300d060960864801650304020105000420", "sha384": "3041300d060960864801650304020205000430", "sha512": "3051300d060960864801650304020305000440", "ripemd160": "3021300906052b2403020105000414" }; var U = function () { function ASN1Util() { _classCallCheck(this, ASN1Util) } return _createClass(ASN1Util, [{ "key": "integerToByteHex", "value": function integerToByteHex(e) { var t = e.toString(16); return t.length % 2 == 1 && (t = "0" + t), t } }, { "key": "bigIntToMinTwosComplementsHex", "value": function bigIntToMinTwosComplementsHex(e) { var t = e.toString(16); if ("-" != t.substr(0, 1)) t.length % 2 == 1 ? t = "0" + t : t.match(/^[0-7]/) || (t = "00" + t); else { var r = t.substr(1).length; r % 2 == 1 ? r += 1 : t.match(/^[0-7]/) || (r += 2); for (var n = "", o = 0; o < r; o++)n += "f"; t = new T(n, 16).xor(e).add(T.ONE).toString(16).replace(/^-/, "") } return t } }, { "key": "getPEMStringFromHex", "value": function getPEMStringFromHex(e, t) { return hextopem(e, t) } }, { "key": "newObject", "value": function newObject(e) { var t = z, r = X, n = Q, o = K, i = Y, a = Z, s = $, c = ee, u = te, l = re, f = ne, d = oe, p = ie, h = ae, m = se, g = ce, v = ue, y = this.newObject, b = Object.keys(e); if (1 != b.length) throw "key of param shall be only one."; var S = b[0]; if (-1 == ":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + S + ":")) throw "undefined key: " + S; if ("bool" == S) return new t(e[S]); if ("int" == S) return new r(e[S]); if ("bitstr" == S) return new n(e[S]); if ("octstr" == S) return new o(e[S]); if ("null" == S) return new i(e[S]); if ("oid" == S) return new a(e[S]); if ("enum" == S) return new s(e[S]); if ("utf8str" == S) return new c(e[S]); if ("numstr" == S) return new u(e[S]); if ("prnstr" == S) return new l(e[S]); if ("telstr" == S) return new f(e[S]); if ("ia5str" == S) return new d(e[S]); if ("utctime" == S) return new p(e[S]); if ("gentime" == S) return new h(e[S]); if ("seq" == S) { for (var _ = e[S], w = [], A = 0; A < _.length; A++) { var C = y(_[A]); w.push(C) } return new m({ "array": w }) } if ("set" == S) { for (var T = e[S], P = [], k = 0; k < T.length; k++) { var E = y(T[k]); P.push(E) } return new g({ "array": P }) } if ("tag" == S) { var x = e[S]; if ("[object Array]" === Object.prototype.toString.call(x) && 3 == x.length) { var O = y(x[2]); return new v({ "tag": x[0], "explicit": x[1], "obj": O }) } var I = {}; if (void 0 !== x.explicit && (I.explicit = x.explicit), void 0 !== x.tag && (I.tag = x.tag), void 0 === x.obj) throw "obj shall be specified for 'tag'."; return I.obj = y(x.obj), new v(I) } } }, { "key": "jsonToASN1HEX", "value": function jsonToASN1HEX(e) { return this.newObject(e).getEncodedHex() } }, { "key": "oidHexToIntfunction", "value": function oidHexToIntfunction(e) { var t = "", r = parseInt(e.substr(0, 2), 16); t = Math.floor(r / 40) + "." + r % 40; for (var n = "", o = 2; o < e.length; o += 2) { var i = ("00000000" + parseInt(e.substr(o, 2), 16).toString(2)).slice(-8); if (n += i.substr(1, 7), "0" == i.substr(0, 1)) t = t + "." + new T(n, 2).toString(10), n = "" } return t } }, { "key": "oidIntToHex", "value": function oidIntToHex(e) { var t = function itox(e) { var t = e.toString(16); return 1 == t.length && (t = "0" + t), t }, r = function roidtox(e) { var r = "", n = new T(e, 10).toString(2), o = 7 - n.length % 7; 7 == o && (o = 0); for (var i = "", a = 0; a < o; a++)i += "0"; n = i + n; for (var s = 0; s < n.length - 1; s += 7) { var c = n.substr(s, 7); s != n.length - 7 && (c = "1" + c), r += t(parseInt(c, 2)) } return r }; if (!e.match(/^[0-9.]+$/)) throw "malformed oid string: " + e; var n = "", o = e.split("."), i = 40 * parseInt(o[0]) + parseInt(o[1]); n += t(i), o.splice(0, 2); for (var a = 0; a < o.length; a++)n += r(o[a]); return n } }]), ASN1Util }(), W = function () { function ASN1Object() { _classCallCheck(this, ASN1Object), this.hV = "" } return _createClass(ASN1Object, [{ "key": "getLengthHexFromValue", "value": function getLengthHexFromValue() { if (void 0 === this.hV || null == this.hV) throw "this.hV is null or undefined."; if (this.hV.length % 2 == 1) throw "value hex must be even length: n=" + this.hV.length + ",v=" + this.hV; var e = this.hV.length / 2, t = e.toString(16); if (t.length % 2 == 1 && (t = "0" + t), e < 128) return t; var r = t.length / 2; if (r > 15) throw "ASN.1 length too long to represent by 8x: n = " + e.toString(16); return (128 + r).toString(16) + t } }, { "key": "getEncodedHex", "value": function getEncodedHex() { return (null == this.hTLV || this.isModified) && (this.hV = this.getFreshValueHex(), this.hL = this.getLengthHexFromValue(), this.hTLV = this.hT + this.hL + this.hV, this.isModified = !1), this.hTLV } }, { "key": "getValueHex", "value": function getValueHex() { return this.getEncodedHex(), this.hV } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return "" } }]), ASN1Object }(), G = function (e) { _inherits(DERAbstractString, W); var t = _createSuper(DERAbstractString); function DERAbstractString(e) { var r; return _classCallCheck(this, DERAbstractString), r = t.call(this), void 0 !== e && ("string" == typeof e ? r.setString(e) : void 0 !== e.str ? r.setString(e.str) : void 0 !== e.hex && r.setStringHex(e.hex)), r } return _createClass(DERAbstractString, [{ "key": "getString", "value": function getString() { return this.s } }, { "key": "setString", "value": function setString(e) { this.hTLV = null, this.isModified = !0, this.s = e, this.hV = stohex(this.s) } }, { "key": "setStringHex", "value": function setStringHex(e) { this.hTLV = null, this.isModified = !0, this.s = null, this.hV = e } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERAbstractString }(), V = function (e) { _inherits(DERAbstractTime, W); var t = _createSuper(DERAbstractTime); function DERAbstractTime(e) { return _classCallCheck(this, DERAbstractTime), t.call(this) } return _createClass(DERAbstractTime, [{ "key": "localDateToUTC", "value": function localDateToUTC(e) { var t = e.getTime() + 6e4 * e.getTimezoneOffset(); return new Date(t) } }, { "key": "formatDate", "value": function formatDate(e, t, r) { var n = this.zeroPadding, o = this.localDateToUTC(e), i = String(o.getFullYear()); "utc" == t && (i = i.substr(2, 2)); var a = i + n(String(o.getMonth() + 1), 2) + n(String(o.getDate()), 2) + n(String(o.getHours()), 2) + n(String(o.getMinutes()), 2) + n(String(o.getSeconds()), 2); if (!0 === r) { var s = o.getMilliseconds(); if (0 != s) { var c = n(String(s), 3); a = a + "." + (c = c.replace(/[0]+$/, "")) } } return a + "Z" } }, { "key": "zeroPadding", "value": function zeroPadding(e, t) { return e.length >= t ? e : new Array(t - e.length + 1).join("0") + e } }, { "key": "getString", "value": function getString() { return this.s } }, { "key": "setString", "value": function setString(e) { this.hTLV = null, this.isModified = !0, this.s = e, this.hV = stohex(e) } }, { "key": "setStringHex", "value": function setStringHex(e) { this.hTLV = null, this.isModified = !0, this.s = null, this.hV = e } }, { "key": "setByDate", "value": function setByDate(e) { this.hTLV = null, this.isModified = !0, this.date = e, this.s = this.formatDate(this.date, "utc"), this.hV = stohex(this.s) } }, { "key": "setByDateValue", "value": function setByDateValue(e, t, r, n, o, i) { var a = new Date(Date.UTC(e, t - 1, r, n, o, i, 0)); this.setByDate(a) } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERAbstractTime }(), q = function (e) { _inherits(DERAbstractStructured, W); var t = _createSuper(DERAbstractStructured); function DERAbstractStructured(e) { var r; return _classCallCheck(this, DERAbstractStructured), (r = t.call(this)).asn1Array = [], void 0 !== e && void 0 !== e.array && (r.asn1Array = e.array), r } return _createClass(DERAbstractStructured, [{ "key": "setByASN1ObjectArray", "value": function setByASN1ObjectArray(e) { this.hTLV = null, this.isModified = !0, this.asn1Array = e } }, { "key": "appendASN1Object", "value": function appendASN1Object(e) { this.hTLV = null, this.isModified = !0, this.asn1Array.push(e) } }]), DERAbstractStructured }(), z = function (e) { _inherits(DERBoolean, W); var t = _createSuper(DERBoolean); function DERBoolean() { var e; return _classCallCheck(this, DERBoolean), (e = t.call(this)).hT = "01", e.hTLV = "0101ff", e } return DERBoolean }(), X = function (e) { _inherits(DERInteger, W); var t = _createSuper(DERInteger); function DERInteger(e) { var r; return _classCallCheck(this, DERInteger), (r = t.call(this)).hT = "02", void 0 !== e && (void 0 !== e.bigint ? r.setByBigInteger(e.bigint) : void 0 !== e.int ? r.setByInteger(e.int) : "number" == typeof e ? r.setByInteger(e) : void 0 !== e.hex && r.setValueHex(e.hex)), r } return _createClass(DERInteger, [{ "key": "setByBigInteger", "value": function setByBigInteger(e) { this.hTLV = null, this.isModified = !0, this.hV = (new U).bigIntToMinTwosComplementsHex(e) } }, { "key": "setByInteger", "value": function setByInteger(e) { var t = new T(String(e), 10); this.setByBigInteger(t) } }, { "key": "setValueHex", "value": function setValueHex(e) { this.hV = e } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERInteger }(), Q = function (e) { _inherits(DERBitString, W); var t = _createSuper(DERBitString); function DERBitString(e) { var r; if (_classCallCheck(this, DERBitString), r = t.call(this), void 0 !== e && void 0 !== e.obj) { var n = (new U).newObject(e.obj); e.hex = "00" + n.getEncodedHex() } return void 0 !== e && ("string" == typeof e && e.toLowerCase().match(/^[0-9a-f]+$/) ? r.setHexValueIncludingUnusedBits(e) : void 0 !== e.hex ? r.setHexValueIncludingUnusedBits(e.hex) : void 0 !== e.bin ? r.setByBinaryString(e.bin) : void 0 !== e.array && r.setByBooleanArray(e.array)), r.hT = "03", r } return _createClass(DERBitString, [{ "key": "setHexValueIncludingUnusedBits", "value": function setHexValueIncludingUnusedBits(e) { this.hTLV = null, this.isModified = !0, this.hV = e } }, { "key": "setUnusedBitsAndHexValue", "value": function setUnusedBitsAndHexValue(e, t) { if (e < 0 || 7 < e) throw "unused bits shall be from 0 to 7: u = " + e; var r = "0" + e; this.hTLV = null, this.isModified = !0, this.hV = r + t } }, { "key": "setByBinaryString", "value": function setByBinaryString(e) { var t = 8 - (e = e.replace(/0+$/, "")).length % 8; 8 == t && (t = 0); for (var r = 0; r <= t; r++)e += "0"; for (var n = "", o = 0; o < e.length - 1; o += 8) { var i = e.substr(o, 8), a = parseInt(i, 2).toString(16); 1 == a.length && (a = "0" + a), n += a } this.hTLV = null, this.isModified = !0, this.hV = "0" + t + n } }, { "key": "setByBooleanArray", "value": function setByBooleanArray(e) { for (var t = "", r = 0; r < e.length; r++)1 == e[r] ? t += "1" : t += "0"; this.setByBinaryString(t) } }, { "key": "newFalseArray", "value": function newFalseArray(e) { for (var t = new Array(e), r = 0; r < e; r++)t[r] = !1; return t } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERBitString }(), K = function (e) { _inherits(DEROctetString, G); var t = _createSuper(DEROctetString); function DEROctetString(e) { var r; if (_classCallCheck(this, DEROctetString), r = t.call(this, e), void 0 !== e && void 0 !== e.obj) { var n = (new U).newObject(e.obj); e.hex = n.getEncodedHex() } return r.hT = "04", r } return DEROctetString }(), Y = function (e) { _inherits(DERNull, W); var t = _createSuper(DERNull); function DERNull() { var e; return _classCallCheck(this, DERNull), (e = t.call(this)).hT = "05", e.hTLV = "0500", e } return DERNull }(), J = {}, Z = function (e) { _inherits(DERObjectIdentifier, W); var t = _createSuper(DERObjectIdentifier); function DERObjectIdentifier(e) { var r; return _classCallCheck(this, DERObjectIdentifier), (r = t.call(this)).hT = "06", void 0 !== e && ("string" == typeof e ? e.match(/^[0-2].[0-9.]+$/) ? r.setValueOidString(e) : r.setValueName(e) : void 0 !== e.oid ? r.setValueOidString(e.oid) : void 0 !== e.hex ? r.setValueHex(e.hex) : void 0 !== e.name && r.setValueName(e.name)), r } return _createClass(DERObjectIdentifier, [{ "key": "itox", "value": function itox(e) { var t = e.toString(16); return 1 == t.length && (t = "0" + t), t } }, { "key": "roidtox", "value": function roidtox(e) { var t = "", r = new T(e, 10).toString(2), n = 7 - r.length % 7; 7 == n && (n = 0); for (var o = "", i = 0; i < n; i++)o += "0"; r = o + r; for (var a = 0; a < r.length - 1; a += 7) { var s = r.substr(a, 7); a != r.length - 7 && (s = "1" + s), t += this.itox(parseInt(s, 2)) } return t } }, { "key": "setValueHex", "value": function setValueHex(e) { this.hTLV = null, this.isModified = !0, this.s = null, this.hV = e } }, { "key": "setValueOidString", "value": function setValueOidString(e) { if (!e.match(/^[0-9.]+$/)) throw "malformed oid string: " + e; var t = "", r = e.split("."), n = 40 * parseInt(r[0]) + parseInt(r[1]); t += this.itox(n), r.splice(0, 2); for (var o = 0; o < r.length; o++)t += this.roidtox(r[o]); this.hTLV = null, this.isModified = !0, this.s = null, this.hV = t } }, { "key": "setValueName", "value": function setValueName(e) { var t = J.OID.name2oid(e); if ("" === t) throw "DERObjectIdentifier oidName undefined: " + e; this.setValueOidString(t) } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERObjectIdentifier }(), $ = function (e) { _inherits(DEREnumerated, W); var t = _createSuper(DEREnumerated); function DEREnumerated(e) { var r; return _classCallCheck(this, DEREnumerated), (r = t.call(this)).hT = "0a", void 0 !== e && (void 0 !== e.int ? r.setByInteger(e.int) : "number" == typeof e ? r.setByInteger(e) : void 0 !== e.hex && r.setValueHex(e.hex)), r } return _createClass(DEREnumerated, [{ "key": "setByBigInteger", "value": function setByBigInteger(e) { this.hTLV = null, this.isModified = !0, this.hV = (new U).bigIntToMinTwosComplementsHex(e) } }, { "key": "setByInteger", "value": function setByInteger(e) { var t = new T(String(e), 10); this.setByBigInteger(t) } }, { "key": "setValueHex", "value": function setValueHex(e) { this.hV = e } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DEREnumerated }(), ee = function (e) { _inherits(DERUTF8String, G); var t = _createSuper(DERUTF8String); function DERUTF8String(e) { var r; return _classCallCheck(this, DERUTF8String), (r = t.call(this, e)).hT = "0c", r } return DERUTF8String }(), te = function (e) { _inherits(DERNumericString, G); var t = _createSuper(DERNumericString); function DERNumericString(e) { var r; return _classCallCheck(this, DERNumericString), (r = t.call(this, e)).hT = "12", r } return DERNumericString }(), re = function (e) { _inherits(DERPrintableString, G); var t = _createSuper(DERPrintableString); function DERPrintableString(e) { var r; return _classCallCheck(this, DERPrintableString), (r = t.call(this, e)).hT = "13", r } return DERPrintableString }(), ne = function (e) { _inherits(DERTeletexString, G); var t = _createSuper(DERTeletexString); function DERTeletexString(e) { var r; return _classCallCheck(this, DERTeletexString), (r = t.call(this, e)).hT = "14", r } return DERTeletexString }(), oe = function (e) { _inherits(DERIA5String, G); var t = _createSuper(DERIA5String); function DERIA5String(e) { var r; return _classCallCheck(this, DERIA5String), (r = t.call(this, e)).hT = "16", r } return DERIA5String }(), ie = function (e) { _inherits(DERUTCTime, V); var t = _createSuper(DERUTCTime); function DERUTCTime(e) { var r; return _classCallCheck(this, DERUTCTime), (r = t.call(this, e)).hT = "17", void 0 !== e && (void 0 !== e.str ? r.setString(e.str) : "string" == typeof e && e.match(/^[0-9]{12}Z$/) ? r.setString(e) : void 0 !== e.hex ? r.setStringHex(e.hex) : void 0 !== e.date && r.setByDate(e.date)), r } return _createClass(DERUTCTime, [{ "key": "setByDate", "value": function setByDate(e) { this.hTLV = null, this.isModified = !0, this.date = e, this.s = this.formatDate(this.date, "utc"), this.hV = stohex(this.s) } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return void 0 === this.date && void 0 === this.s && (this.date = new Date, this.s = this.formatDate(this.date, "utc"), this.hV = stohex(this.s)), this.hV } }]), DERUTCTime }(), ae = function (e) { _inherits(DERGeneralizedTime, V); var t = _createSuper(DERGeneralizedTime); function DERGeneralizedTime(e) { var r; return _classCallCheck(this, DERGeneralizedTime), (r = t.call(this, e)).hT = "18", r.withMillis = !1, void 0 !== e && (void 0 !== e.str ? r.setString(e.str) : "string" == typeof e && e.match(/^[0-9]{14}Z$/) ? r.setString(e) : void 0 !== e.hex ? r.setStringHex(e.hex) : void 0 !== e.date && r.setByDate(e.date), !0 === e.millis && (r.withMillis = !0)), r } return _createClass(DERGeneralizedTime, [{ "key": "setByDate", "value": function setByDate(e) { this.hTLV = null, this.isModified = !0, this.date = e, this.s = this.formatDate(this.date, "gen", this.withMillis), this.hV = stohex(this.s) } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return void 0 === this.date && void 0 === this.s && (this.date = new Date, this.s = this.formatDate(this.date, "gen", this.withMillis), this.hV = stohex(this.s)), this.hV } }]), DERGeneralizedTime }(), se = function (e) { _inherits(DERSequence, q); var t = _createSuper(DERSequence); function DERSequence(e) { var r; return _classCallCheck(this, DERSequence), (r = t.call(this, e)).hT = "30", r } return _createClass(DERSequence, [{ "key": "getFreshValueHex", "value": function getFreshValueHex() { for (var e = "", t = 0; t < this.asn1Array.length; t++) { e += this.asn1Array[t].getEncodedHex() } return this.hV = e, this.hV } }]), DERSequence }(), ce = function (e) { _inherits(DERSet, q); var t = _createSuper(DERSet); function DERSet(e) { var r; return _classCallCheck(this, DERSet), (r = t.call(this, e)).hT = "31", r.sortFlag = !0, void 0 !== e && void 0 !== e.sortflag && 0 == e.sortflag && (r.sortFlag = !1), r } return _createClass(DERSet, [{ "key": "getFreshValueHex", "value": function getFreshValueHex() { for (var e = [], t = 0; t < this.asn1Array.length; t++) { var r = this.asn1Array[t]; e.push(r.getEncodedHex()) } return 1 == this.sortFlag && e.sort(), this.hV = e.join(""), this.hV } }]), DERSet }(), ue = function (e) { _inherits(DERTaggedObject, W); var t = _createSuper(DERTaggedObject); function DERTaggedObject(e) { var r; return _classCallCheck(this, DERTaggedObject), (r = t.call(this)).hT = "a0", r.hV = "", r.isExplicit = !0, r.asn1Object = null, void 0 !== e && (void 0 !== e.tag && (r.hT = e.tag), void 0 !== e.explicit && (r.isExplicit = e.explicit), void 0 !== e.obj && (r.asn1Object = e.obj, r.setASN1Object(r.isExplicit, r.hT, r.asn1Object))), r } return _createClass(DERTaggedObject, [{ "key": "setASN1Object", "value": function setASN1Object(e, t, r) { this.hT = t, this.isExplicit = e, this.asn1Object = r, this.isExplicit ? (this.hV = this.asn1Object.getEncodedHex(), this.hTLV = null, this.isModified = !0) : (this.hV = null, this.hTLV = r.getEncodedHex(), this.hTLV = this.hTLV.replace(/^../, t), this.isModified = !1) } }, { "key": "getFreshValueHex", "value": function getFreshValueHex() { return this.hV } }]), DERTaggedObject }(), le = function (e) { _inherits(JSEncryptRSAKey, N); var t = _createSuper(JSEncryptRSAKey); function JSEncryptRSAKey(e) { var r; return _classCallCheck(this, JSEncryptRSAKey), r = t.call(this), e && ("string" == typeof e ? r.parseKey(e) : (JSEncryptRSAKey.hasPrivateKeyProperty(e) || JSEncryptRSAKey.hasPublicKeyProperty(e)) && r.parsePropertiesFrom(e)), r } return _createClass(JSEncryptRSAKey, [{ "key": "parseKey", "value": function parseKey(e) { try { var t = 0, r = 0, n = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e) ? h(e) : m.unarmor(e), o = _.decode(n); if (3 === o.sub.length && (o = o.sub[2].sub[0]), 9 === o.sub.length) { t = o.sub[1].getHexStringValue(), this.n = parseBigInt(t, 16), r = o.sub[2].getHexStringValue(), this.e = parseInt(r, 16); var i = o.sub[3].getHexStringValue(); this.d = parseBigInt(i, 16); var a = o.sub[4].getHexStringValue(); this.p = parseBigInt(a, 16); var s = o.sub[5].getHexStringValue(); this.q = parseBigInt(s, 16); var c = o.sub[6].getHexStringValue(); this.dmp1 = parseBigInt(c, 16); var u = o.sub[7].getHexStringValue(); this.dmq1 = parseBigInt(u, 16); var l = o.sub[8].getHexStringValue(); this.coeff = parseBigInt(l, 16) } else { if (2 !== o.sub.length) return !1; var f = o.sub[1].sub[0]; t = f.sub[0].getHexStringValue(), this.n = parseBigInt(t, 16), r = f.sub[1].getHexStringValue(), this.e = parseInt(r, 16) } return !0 } catch (e) { return !1 } } }, { "key": "getPrivateBaseKey", "value": function getPrivateBaseKey() { var e = { "array": [new X({ "int": 0 }), new X({ "bigint": this.n }), new X({ "int": this.e }), new X({ "bigint": this.d }), new X({ "bigint": this.p }), new X({ "bigint": this.q }), new X({ "bigint": this.dmp1 }), new X({ "bigint": this.dmq1 }), new X({ "bigint": this.coeff })] }; return new se(e).getEncodedHex() } }, { "key": "getPrivateBaseKeyB64", "value": function getPrivateBaseKeyB64() { return hex2b64(this.getPrivateBaseKey()) } }, { "key": "getPublicBaseKey", "value": function getPublicBaseKey() { var e = new se({ "array": [new Z({ "oid": "1.2.840.113549.1.1.1" }), new Y] }), t = new se({ "array": [new X({ "bigint": this.n }), new X({ "int": this.e })] }), r = new Q({ "hex": "00" + t.getEncodedHex() }); return new se({ "array": [e, r] }).getEncodedHex() } }, { "key": "getPublicBaseKeyB64", "value": function getPublicBaseKeyB64() { return hex2b64(this.getPublicBaseKey()) } }, { "key": "getPrivateKey", "value": function getPrivateKey() { var e = "-----BEGIN RSA PRIVATE KEY-----\n"; return e += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + "\n", e += "-----END RSA PRIVATE KEY-----" } }, { "key": "getPublicKey", "value": function getPublicKey() { var e = "-----BEGIN PUBLIC KEY-----\n"; return e += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + "\n", e += "-----END PUBLIC KEY-----" } }, { "key": "parsePropertiesFrom", "value": function parsePropertiesFrom(e) { this.n = e.n, this.e = e.e, e.hasOwnProperty("d") && (this.d = e.d, this.p = e.p, this.q = e.q, this.dmp1 = e.dmp1, this.dmq1 = e.dmq1, this.coeff = e.coeff) } }], [{ "key": "wordwrap", "value": function wordwrap(e, t) { if (!e) return e; var r = "(.{1," + (t = t || 64) + "})( +|$\n?)|(.{1," + t + "})"; return e.match(RegExp(r, "g")).join("\n") } }, { "key": "hasPublicKeyProperty", "value": function hasPublicKeyProperty(e) { return (e = e || {}).hasOwnProperty("n") && e.hasOwnProperty("e") } }, { "key": "hasPrivateKeyProperty", "value": function hasPrivateKeyProperty(e) { return (e = e || {}).hasOwnProperty("n") && e.hasOwnProperty("e") && e.hasOwnProperty("d") && e.hasOwnProperty("p") && e.hasOwnProperty("q") && e.hasOwnProperty("dmp1") && e.hasOwnProperty("dmq1") && e.hasOwnProperty("coeff") } }]), JSEncryptRSAKey }(); ((function () { function JSEncrypt(e) { _classCallCheck(this, JSEncrypt), e = e || {}, this.default_key_size = parseInt(e.default_key_size || "", 10) || 1024, this.default_public_exponent = e.default_public_exponent || "010001", this.log = e.log || !1, this.key = null } return _createClass(JSEncrypt, [{ "key": "setKey", "value": function setKey(e) { this.log && this.key && console.warn("A key was already set, overriding existing."), this.key = new le(e) } }, { "key": "setPrivateKey", "value": function setPrivateKey(e) { this.setKey(e) } }, { "key": "setPublicKey", "value": function setPublicKey(e) { this.setKey(e) } }, { "key": "decrypt", "value": function decrypt(e) { try { return this.getKey().decrypt(b64tohex(e)) } catch (e) { return !1 } } }, { "key": "encrypt", "value": function encrypt(e) { try { return hex2b64(this.getKey().encrypt(e)) } catch (e) { return !1 } } }, { "key": "sign", "value": function sign(e, t, r) { try { return hex2b64(this.getKey().sign(e, t, r)) } catch (e) { return !1 } } }, { "key": "verify", "value": function verify(e, t, r) { try { return this.getKey().verify(e, b64tohex(t), r) } catch (e) { return !1 } } }, { "key": "getKey", "value": function getKey(e) { if (!this.key) { if (this.key = new le, e && "[object Function]" === {}.toString.call(e)) return void this.key.generateAsync(this.default_key_size, this.default_public_exponent, e); this.key.generate(this.default_key_size, this.default_public_exponent) } return this.key } }, { "key": "getPrivateKey", "value": function getPrivateKey() { return this.getKey().getPrivateKey() } }, { "key": "getPrivateKeyB64", "value": function getPrivateKeyB64() { return this.getKey().getPrivateBaseKeyB64() } }, { "key": "getPublicKey", "value": function getPublicKey() { return this.getKey().getPublicKey() } }, { "key": "getPublicKeyB64", "value": function getPublicKeyB64() { return this.getKey().getPublicBaseKeyB64() } }]), JSEncrypt })()).version = "3.0.0-rc.1"; var fe, de, pe, he = he || function (e, t) { var r = {}, n = r.lib = {}, o = function s() { }, i = n.Base = { "extend": function extend(e) { o.prototype = this; var t = new o; return e && t.mixIn(e), t.hasOwnProperty("init") || (t.init = function () { t.$super.init.apply(this, arguments) }), t.init.prototype = t, t.$super = this, t }, "create": function create() { var e = this.extend(); return e.init.apply(e, arguments), e }, "init": function init() { }, "mixIn": function mixIn(e) { for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]); e.hasOwnProperty("toString") && (this.toString = e.toString) }, "clone": function clone() { return this.init.prototype.extend(this) } }, a = n.WordArray = i.extend({ "init": function init(e, t) { e = this.words = e || [], this.sigBytes = null != t ? t : 4 * e.length }, "toString": function toString(e) { return (e || c).stringify(this) }, "concat": function concat(e) { var t = this.words, r = e.words, n = this.sigBytes; if (e = e.sigBytes, this.clamp(), n % 4) for (var o = 0; o < e; o++)t[n + o >>> 2] |= (r[o >>> 2] >>> 24 - o % 4 * 8 & 255) << 24 - (n + o) % 4 * 8; else if (65535 < r.length) for (o = 0; o < e; o += 4)t[n + o >>> 2] = r[o >>> 2]; else t.push.apply(t, r); return this.sigBytes += e, this }, "clamp": function clamp() { var t = this.words, r = this.sigBytes; t[r >>> 2] &= 4294967295 << 32 - r % 4 * 8, t.length = e.ceil(r / 4) }, "clone": function clone() { var e = i.clone.call(this); return e.words = this.words.slice(0), e }, "random": function random(t) { for (var r = [], n = 0; n < t; n += 4)r.push(4294967296 * e.random() | 0); return new a.init(r, t) } }), s = r.enc = {}, c = s.Hex = { "stringify": function stringify(e) { var t = e.words; e = e.sigBytes; for (var r = [], n = 0; n < e; n++) { var o = t[n >>> 2] >>> 24 - n % 4 * 8 & 255; r.push((o >>> 4).toString(16)), r.push((15 & o).toString(16)) } return r.join("") }, "parse": function parse(e) { for (var t = e.length, r = [], n = 0; n < t; n += 2)r[n >>> 3] |= parseInt(e.substr(n, 2), 16) << 24 - n % 8 * 4; return new a.init(r, t / 2) } }, u = s.Latin1 = { "stringify": function stringify(e) { var t = e.words; e = e.sigBytes; for (var r = [], n = 0; n < e; n++)r.push(String.fromCharCode(t[n >>> 2] >>> 24 - n % 4 * 8 & 255)); return r.join("") }, "parse": function parse(e) { for (var t = e.length, r = [], n = 0; n < t; n++)r[n >>> 2] |= (255 & e.charCodeAt(n)) << 24 - n % 4 * 8; return new a.init(r, t) } }, l = s.Utf8 = { "stringify": function stringify(e) { try { return decodeURIComponent(escape(u.stringify(e))) } catch (e) { throw Error("Malformed UTF-8 data") } }, "parse": function parse(e) { return u.parse(unescape(encodeURIComponent(e))) } }, f = n.BufferedBlockAlgorithm = i.extend({ "reset": function reset() { this._data = new a.init, this._nDataBytes = 0 }, "_append": function _append(e) { "string" == typeof e && (e = l.parse(e)), this._data.concat(e), this._nDataBytes += e.sigBytes }, "_process": function _process(t) { var r = this._data, n = r.words, o = r.sigBytes, i = this.blockSize, s = o / (4 * i); if (t = (s = t ? e.ceil(s) : e.max((0 | s) - this._minBufferSize, 0)) * i, o = e.min(4 * t, o), t) { for (var c = 0; c < t; c += i)this._doProcessBlock(n, c); c = n.splice(0, t), r.sigBytes -= o } return new a.init(c, o) }, "clone": function clone() { var e = i.clone.call(this); return e._data = this._data.clone(), e }, "_minBufferSize": 0 }); n.Hasher = f.extend({ "cfg": i.extend(), "init": function init(e) { this.cfg = this.cfg.extend(e), this.reset() }, "reset": function reset() { f.reset.call(this), this._doReset() }, "update": function update(e) { return this._append(e), this._process(), this }, "finalize": function finalize(e) { return e && this._append(e), this._doFinalize() }, "blockSize": 16, "_createHelper": function _createHelper(e) { return function (t, r) { return new e.init(r).finalize(t) } }, "_createHmacHelper": function _createHmacHelper(e) { return function (t, r) { return new d.HMAC.init(e, r).finalize(t) } } }); var d = r.algo = {}; return r }(Math); de = (fe = he).lib.WordArray, fe.enc.Base64 = { "stringify": function stringify(e) { var t = e.words, r = e.sigBytes, n = this._map; e.clamp(), e = []; for (var o = 0; o < r; o += 3)for (var i = (t[o >>> 2] >>> 24 - o % 4 * 8 & 255) << 16 | (t[o + 1 >>> 2] >>> 24 - (o + 1) % 4 * 8 & 255) << 8 | t[o + 2 >>> 2] >>> 24 - (o + 2) % 4 * 8 & 255, a = 0; 4 > a && o + .75 * a < r; a++)e.push(n.charAt(i >>> 6 * (3 - a) & 63)); if (t = n.charAt(64)) for (; e.length % 4;)e.push(t); return e.join("") }, "parse": function parse(e) { var t = e.length, r = this._map; (n = r.charAt(64)) && -1 != (n = e.indexOf(n)) && (t = n); for (var n = [], o = 0, i = 0; i < t; i++)if (i % 4) { var a = r.indexOf(e.charAt(i - 1)) << i % 4 * 2, s = r.indexOf(e.charAt(i)) >>> 6 - i % 4 * 2; n[o >>> 2] |= (a | s) << 24 - o % 4 * 8, o++ } return de.create(n, o) }, "_map": "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" }, function (e) { function p(e, t, r, n, o, i, a) { return ((e = e + (t & r | ~t & n) + o + a) << i | e >>> 32 - i) + t } function d(e, t, r, n, o, i, a) { return ((e = e + (t & n | r & ~n) + o + a) << i | e >>> 32 - i) + t } function l(e, t, r, n, o, i, a) { return ((e = e + (t ^ r ^ n) + o + a) << i | e >>> 32 - i) + t } function s(e, t, r, n, o, i, a) { return ((e = e + (r ^ (t | ~n)) + o + a) << i | e >>> 32 - i) + t } for (var t = he, r = (o = t.lib).WordArray, n = o.Hasher, o = t.algo, i = [], a = 0; 64 > a; a++)i[a] = 4294967296 * e.abs(e.sin(a + 1)) | 0; o = o.MD5 = n.extend({ "_doReset": function _doReset() { this._hash = new r.init([1732584193, 4023233417, 2562383102, 271733878]) }, "_doProcessBlock": function _doProcessBlock(e, t) { for (var r = 0; 16 > r; r++) { var n = e[c = t + r]; e[c] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8) } r = this._hash.words; var o, a, c = e[t + 0], u = (n = e[t + 1], e[t + 2]), f = e[t + 3], h = e[t + 4], m = e[t + 5], g = e[t + 6], v = e[t + 7], y = e[t + 8], b = e[t + 9], S = e[t + 10], _ = e[t + 11], w = e[t + 12], A = e[t + 13], C = e[t + 14], T = e[t + 15], P = r[0], k = s(k = s(k = s(k = s(k = l(k = l(k = l(k = l(k = d(k = d(k = d(k = d(k = p(k = p(k = p(k = p(k = r[1], a = p(a = r[2], o = p(o = r[3], P = p(P, k, a, o, c, 7, i[0]), k, a, n, 12, i[1]), P, k, u, 17, i[2]), o, P, f, 22, i[3]), a = p(a, o = p(o, P = p(P, k, a, o, h, 7, i[4]), k, a, m, 12, i[5]), P, k, g, 17, i[6]), o, P, v, 22, i[7]), a = p(a, o = p(o, P = p(P, k, a, o, y, 7, i[8]), k, a, b, 12, i[9]), P, k, S, 17, i[10]), o, P, _, 22, i[11]), a = p(a, o = p(o, P = p(P, k, a, o, w, 7, i[12]), k, a, A, 12, i[13]), P, k, C, 17, i[14]), o, P, T, 22, i[15]), a = d(a, o = d(o, P = d(P, k, a, o, n, 5, i[16]), k, a, g, 9, i[17]), P, k, _, 14, i[18]), o, P, c, 20, i[19]), a = d(a, o = d(o, P = d(P, k, a, o, m, 5, i[20]), k, a, S, 9, i[21]), P, k, T, 14, i[22]), o, P, h, 20, i[23]), a = d(a, o = d(o, P = d(P, k, a, o, b, 5, i[24]), k, a, C, 9, i[25]), P, k, f, 14, i[26]), o, P, y, 20, i[27]), a = d(a, o = d(o, P = d(P, k, a, o, A, 5, i[28]), k, a, u, 9, i[29]), P, k, v, 14, i[30]), o, P, w, 20, i[31]), a = l(a, o = l(o, P = l(P, k, a, o, m, 4, i[32]), k, a, y, 11, i[33]), P, k, _, 16, i[34]), o, P, C, 23, i[35]), a = l(a, o = l(o, P = l(P, k, a, o, n, 4, i[36]), k, a, h, 11, i[37]), P, k, v, 16, i[38]), o, P, S, 23, i[39]), a = l(a, o = l(o, P = l(P, k, a, o, A, 4, i[40]), k, a, c, 11, i[41]), P, k, f, 16, i[42]), o, P, g, 23, i[43]), a = l(a, o = l(o, P = l(P, k, a, o, b, 4, i[44]), k, a, w, 11, i[45]), P, k, T, 16, i[46]), o, P, u, 23, i[47]), a = s(a, o = s(o, P = s(P, k, a, o, c, 6, i[48]), k, a, v, 10, i[49]), P, k, C, 15, i[50]), o, P, m, 21, i[51]), a = s(a, o = s(o, P = s(P, k, a, o, w, 6, i[52]), k, a, f, 10, i[53]), P, k, S, 15, i[54]), o, P, n, 21, i[55]), a = s(a, o = s(o, P = s(P, k, a, o, y, 6, i[56]), k, a, T, 10, i[57]), P, k, g, 15, i[58]), o, P, A, 21, i[59]), a = s(a, o = s(o, P = s(P, k, a, o, h, 6, i[60]), k, a, _, 10, i[61]), P, k, u, 15, i[62]), o, P, b, 21, i[63]); r[0] = r[0] + P | 0, r[1] = r[1] + k | 0, r[2] = r[2] + a | 0, r[3] = r[3] + o | 0 }, "_doFinalize": function _doFinalize() { var t = this._data, r = t.words, n = 8 * this._nDataBytes, o = 8 * t.sigBytes; r[o >>> 5] |= 128 << 24 - o % 32; var i = e.floor(n / 4294967296); for (r[15 + (o + 64 >>> 9 << 4)] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8), r[14 + (o + 64 >>> 9 << 4)] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8), t.sigBytes = 4 * (r.length + 1), this._process(), r = (t = this._hash).words, n = 0; 4 > n; n++)o = r[n], r[n] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8); return t }, "clone": function clone() { var e = n.clone.call(this); return e._hash = this._hash.clone(), e } }), t.MD5 = n._createHelper(o), t.HmacMD5 = n._createHmacHelper(o) }(Math), function () { var e, t = he, r = (e = t.lib).Base, n = e.WordArray, o = (e = t.algo).EvpKDF = r.extend({ "cfg": r.extend({ "keySize": 4, "hasher": e.MD5, "iterations": 1 }), "init": function init(e) { this.cfg = this.cfg.extend(e) }, "compute": function compute(e, t) { for (var r = (s = this.cfg).hasher.create(), o = n.create(), i = o.words, a = s.keySize, s = s.iterations; i.length < a;) { c && r.update(c); var c = r.update(e).finalize(t); r.reset(); for (var u = 1; u < s; u++)c = r.finalize(c), r.reset(); o.concat(c) } return o.sigBytes = 4 * a, o } }); t.EvpKDF = function (e, t, r) { return o.create(r).compute(e, t) } }(), he.lib.Cipher || function (e) { var t = (p = he).lib, r = t.Base, n = t.WordArray, o = t.BufferedBlockAlgorithm, i = p.enc.Base64, a = p.algo.EvpKDF, s = t.Cipher = o.extend({ "cfg": r.extend(), "createEncryptor": function createEncryptor(e, t) { return this.create(this._ENC_XFORM_MODE, e, t) }, "createDecryptor": function createDecryptor(e, t) { return this.create(this._DEC_XFORM_MODE, e, t) }, "init": function init(e, t, r) { this.cfg = this.cfg.extend(r), this._xformMode = e, this._key = t, this.reset() }, "reset": function reset() { o.reset.call(this), this._doReset() }, "process": function process(e) { return this._append(e), this._process() }, "finalize": function finalize(e) { return e && this._append(e), this._doFinalize() }, "keySize": 4, "ivSize": 4, "_ENC_XFORM_MODE": 1, "_DEC_XFORM_MODE": 2, "_createHelper": function _createHelper(e) { return { "encrypt": function encrypt(t, r, n) { return ("string" == typeof r ? h : d).encrypt(e, t, r, n) }, "decrypt": function decrypt(t, r, n) { return ("string" == typeof r ? h : d).decrypt(e, t, r, n) } } } }); t.StreamCipher = s.extend({ "_doFinalize": function _doFinalize() { return this._process(!0) }, "blockSize": 1 }); var c = p.mode = {}, u = function x(e, t, r) { var n = this._iv; n ? this._iv = void 0 : n = this._prevBlock; for (var o = 0; o < r; o++)e[t + o] ^= n[o] }, l = (t.BlockCipherMode = r.extend({ "createEncryptor": function createEncryptor(e, t) { return this.Encryptor.create(e, t) }, "createDecryptor": function createDecryptor(e, t) { return this.Decryptor.create(e, t) }, "init": function init(e, t) { this._cipher = e, this._iv = t } })).extend(); l.Encryptor = l.extend({ "processBlock": function processBlock(e, t) { var r = this._cipher, n = r.blockSize; u.call(this, e, t, n), r.encryptBlock(e, t), this._prevBlock = e.slice(t, t + n) } }), l.Decryptor = l.extend({ "processBlock": function processBlock(e, t) { var r = this._cipher, n = r.blockSize, o = e.slice(t, t + n); r.decryptBlock(e, t), u.call(this, e, t, n), this._prevBlock = o } }), c = c.CBC = l, l = (p.pad = {}).Pkcs7 = { "pad": function pad(e, t) { for (var r, o = (r = (r = 4 * t) - e.sigBytes % r) << 24 | r << 16 | r << 8 | r, i = [], a = 0; a < r; a += 4)i.push(o); r = n.create(i, r), e.concat(r) }, "unpad": function unpad(e) { e.sigBytes -= 255 & e.words[e.sigBytes - 1 >>> 2] } }, t.BlockCipher = s.extend({ "cfg": s.cfg.extend({ "mode": c, "padding": l }), "reset": function reset() { s.reset.call(this); var e = (t = this.cfg).iv, t = t.mode; if (this._xformMode == this._ENC_XFORM_MODE) var r = t.createEncryptor; else r = t.createDecryptor, this._minBufferSize = 1; this._mode = r.call(t, this, e && e.words) }, "_doProcessBlock": function _doProcessBlock(e, t) { this._mode.processBlock(e, t) }, "_doFinalize": function _doFinalize() { var e = this.cfg.padding; if (this._xformMode == this._ENC_XFORM_MODE) { e.pad(this._data, this.blockSize); var t = this._process(!0) } else t = this._process(!0), e.unpad(t); return t }, "blockSize": 4 }); var f = t.CipherParams = r.extend({ "init": function init(e) { this.mixIn(e) }, "toString": function toString(e) { return (e || this.formatter).stringify(this) } }), d = (c = (p.format = {}).OpenSSL = { "stringify": function stringify(e) { var t = e.ciphertext; return ((e = e.salt) ? n.create([1398893684, 1701076831]).concat(e).concat(t) : t).toString(i) }, "parse": function parse(e) { var t = (e = i.parse(e)).words; if (1398893684 == t[0] && 1701076831 == t[1]) { var r = n.create(t.slice(2, 4)); t.splice(0, 4), e.sigBytes -= 16 } return f.create({ "ciphertext": e, "salt": r }) } }, t.SerializableCipher = r.extend({ "cfg": r.extend({ "format": c }), "encrypt": function encrypt(e, t, r, n) { n = this.cfg.extend(n); var o = e.createEncryptor(r, n); return t = o.finalize(t), o = o.cfg, f.create({ "ciphertext": t, "key": r, "iv": o.iv, "algorithm": e, "mode": o.mode, "padding": o.padding, "blockSize": e.blockSize, "formatter": n.format }) }, "decrypt": function decrypt(e, t, r, n) { return n = this.cfg.extend(n), t = this._parse(t, n.format), e.createDecryptor(r, n).finalize(t.ciphertext) }, "_parse": function _parse(e, t) { return "string" == typeof e ? t.parse(e, this) : e } })), p = (p.kdf = {}).OpenSSL = { "execute": function execute(e, t, r, o) { return o || (o = n.random(8)), e = a.create({ "keySize": t + r }).compute(e, o), r = n.create(e.words.slice(t), 4 * r), e.sigBytes = 4 * t, f.create({ "key": e, "iv": r, "salt": o }) } }, h = t.PasswordBasedCipher = d.extend({ "cfg": d.cfg.extend({ "kdf": p }), "encrypt": function encrypt(e, t, r, n) { return r = (n = this.cfg.extend(n)).kdf.execute(r, e.keySize, e.ivSize), n.iv = r.iv, (e = d.encrypt.call(this, e, t, r.key, n)).mixIn(r), e }, "decrypt": function decrypt(e, t, r, n) { return n = this.cfg.extend(n), t = this._parse(t, n.format), r = n.kdf.execute(r, e.keySize, e.ivSize, t.salt), n.iv = r.iv, d.decrypt.call(this, e, t, r.key, n) } }) }(), function () { for (var e = he, t = e.lib.BlockCipher, r = e.algo, n = [], o = [], i = [], a = [], s = [], c = [], u = [], l = [], f = [], d = [], p = [], h = 0; 256 > h; h++)p[h] = 128 > h ? h << 1 : h << 1 ^ 283; var m = 0, g = 0; for (h = 0; 256 > h; h++) { var v = (v = g ^ g << 1 ^ g << 2 ^ g << 3 ^ g << 4) >>> 8 ^ 255 & v ^ 99; n[m] = v, o[v] = m; var y = p[m], b = p[y], S = p[b], _ = 257 * p[v] ^ 16843008 * v; i[m] = _ << 24 | _ >>> 8, a[m] = _ << 16 | _ >>> 16, s[m] = _ << 8 | _ >>> 24, c[m] = _, _ = 16843009 * S ^ 65537 * b ^ 257 * y ^ 16843008 * m, u[v] = _ << 24 | _ >>> 8, l[v] = _ << 16 | _ >>> 16, f[v] = _ << 8 | _ >>> 24, d[v] = _, m ? (m = y ^ p[p[p[S ^ y]]], g ^= p[p[g]]) : m = g = 1 } var w = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]; r = r.AES = t.extend({ "_doReset": function _doReset() { for (var e = (r = this._key).words, t = r.sigBytes / 4, r = 4 * ((this._nRounds = t + 6) + 1), o = this._keySchedule = [], i = 0; i < r; i++)if (i < t) o[i] = e[i]; else { var a = o[i - 1]; i % t ? 6 < t && 4 == i % t && (a = n[a >>> 24] << 24 | n[a >>> 16 & 255] << 16 | n[a >>> 8 & 255] << 8 | n[255 & a]) : (a = n[(a = a << 8 | a >>> 24) >>> 24] << 24 | n[a >>> 16 & 255] << 16 | n[a >>> 8 & 255] << 8 | n[255 & a], a ^= w[i / t | 0] << 24), o[i] = o[i - t] ^ a } for (e = this._invKeySchedule = [], t = 0; t < r; t++)i = r - t, a = t % 4 ? o[i] : o[i - 4], e[t] = 4 > t || 4 >= i ? a : u[n[a >>> 24]] ^ l[n[a >>> 16 & 255]] ^ f[n[a >>> 8 & 255]] ^ d[n[255 & a]] }, "encryptBlock": function encryptBlock(e, t) { this._doCryptBlock(e, t, this._keySchedule, i, a, s, c, n) }, "decryptBlock": function decryptBlock(e, t) { var r = e[t + 1]; e[t + 1] = e[t + 3], e[t + 3] = r, this._doCryptBlock(e, t, this._invKeySchedule, u, l, f, d, o), r = e[t + 1], e[t + 1] = e[t + 3], e[t + 3] = r }, "_doCryptBlock": function _doCryptBlock(e, t, r, n, o, i, a, s) { for (var c = this._nRounds, u = e[t] ^ r[0], l = e[t + 1] ^ r[1], f = e[t + 2] ^ r[2], d = e[t + 3] ^ r[3], p = 4, h = 1; h < c; h++) { var m = n[u >>> 24] ^ o[l >>> 16 & 255] ^ i[f >>> 8 & 255] ^ a[255 & d] ^ r[p++], g = n[l >>> 24] ^ o[f >>> 16 & 255] ^ i[d >>> 8 & 255] ^ a[255 & u] ^ r[p++], v = n[f >>> 24] ^ o[d >>> 16 & 255] ^ i[u >>> 8 & 255] ^ a[255 & l] ^ r[p++]; d = n[d >>> 24] ^ o[u >>> 16 & 255] ^ i[l >>> 8 & 255] ^ a[255 & f] ^ r[p++], u = m, l = g, f = v } m = (s[u >>> 24] << 24 | s[l >>> 16 & 255] << 16 | s[f >>> 8 & 255] << 8 | s[255 & d]) ^ r[p++], g = (s[l >>> 24] << 24 | s[f >>> 16 & 255] << 16 | s[d >>> 8 & 255] << 8 | s[255 & u]) ^ r[p++], v = (s[f >>> 24] << 24 | s[d >>> 16 & 255] << 16 | s[u >>> 8 & 255] << 8 | s[255 & l]) ^ r[p++], d = (s[d >>> 24] << 24 | s[u >>> 16 & 255] << 16 | s[l >>> 8 & 255] << 8 | s[255 & f]) ^ r[p++], e[t] = m, e[t + 1] = g, e[t + 2] = v, e[t + 3] = d }, "keySize": 8 }); e.AES = t._createHelper(r) }(), he.mode.ECB = ((pe = he.lib.BlockCipherMode.extend()).Encryptor = pe.extend({ "processBlock": function processBlock(e, t) { this._cipher.encryptBlock(e, t) } }), pe.Decryptor = pe.extend({ "processBlock": function processBlock(e, t) { this._cipher.decryptBlock(e, t) } }), pe) }, function (e, t, r) { "use strict"; t.__esModule = !0; var n = function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e } }(r(148)); t.default = n.default || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e } }, function (e, t, r) { var n = r(84), o = r(34), i = "Expected a function"; e.exports = function throttle(e, t, r) { var a = !0, s = !0; if ("function" != typeof e) throw new TypeError(i); return o(r) && (a = "leading" in r ? !!r.leading : a, s = "trailing" in r ? !!r.trailing : s), n(e, t, { "leading": a, "maxWait": t, "trailing": s }) } }, , function (e, t, r) { var n = r(34), o = r(184), i = r(185), a = "Expected a function", s = Math.max, c = Math.min; e.exports = function debounce(e, t, r) { var u, l, f, d, p, h, m = 0, g = !1, v = !1, y = !0; if ("function" != typeof e) throw new TypeError(a); function invokeFunc(t) { var r = u, n = l; return u = l = void 0, m = t, d = e.apply(n, r) } function shouldInvoke(e) { var r = e - h; return void 0 === h || r >= t || r < 0 || v && e - m >= f } function timerExpired() { var e = o(); if (shouldInvoke(e)) return trailingEdge(e); p = setTimeout(timerExpired, function remainingWait(e) { var r = t - (e - h); return v ? c(r, f - (e - m)) : r }(e)) } function trailingEdge(e) { return p = void 0, y && u ? invokeFunc(e) : (u = l = void 0, d) } function debounced() { var e = o(), r = shouldInvoke(e); if (u = arguments, l = this, h = e, r) { if (void 0 === p) return function leadingEdge(e) { return m = e, p = setTimeout(timerExpired, t), g ? invokeFunc(e) : d }(h); if (v) return clearTimeout(p), p = setTimeout(timerExpired, t), invokeFunc(h) } return void 0 === p && (p = setTimeout(timerExpired, t)), d } return t = i(t) || 0, n(r) && (g = !!r.leading, f = (v = "maxWait" in r) ? s(i(r.maxWait) || 0, t) : f, y = "trailing" in r ? !!r.trailing : y), debounced.cancel = function cancel() { void 0 !== p && clearTimeout(p), m = 0, u = h = l = p = void 0 }, debounced.flush = function flush() { return void 0 === p ? d : trailingEdge(o()) }, debounced } }, , function (e, t, r) { (function (e) { var t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, n = "undefined" != typeof window && window.Math === Math ? window : "object" === (void 0 === e ? "undefined" : t(e)) ? e : this; n.Promise || (n.Promise = r(87)), n.regeneratorRuntime || (n.regeneratorRuntime = r(90)) }).call(this, r(14)) }, function (e, t, r) { "use strict"; (function (t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, n = setTimeout; function noop() { } function Promise(e) { if (!(this instanceof Promise)) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof e) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], doResolve(e, this) } function handle(e, t) { for (; 3 === e._state;)e = e._value; 0 !== e._state ? (e._handled = !0, Promise._immediateFn(function () { var r = 1 === e._state ? t.onFulfilled : t.onRejected; if (null !== r) { var n; try { n = r(e._value) } catch (e) { return void reject(t.promise, e) } resolve(t.promise, n) } else (1 === e._state ? resolve : reject)(t.promise, e._value) })) : e._deferreds.push(t) } function resolve(e, t) { try { if (t === e) throw new TypeError("A promise cannot be resolved with itself."); if (t && ("object" === (void 0 === t ? "undefined" : r(t)) || "function" == typeof t)) { var n = t.then; if (t instanceof Promise) return e._state = 3, e._value = t, void finale(e); if ("function" == typeof n) return void doResolve(function bind(e, t) { return function () { e.apply(t, arguments) } }(n, t), e) } e._state = 1, e._value = t, finale(e) } catch (t) { reject(e, t) } } function reject(e, t) { e._state = 2, e._value = t, finale(e) } function finale(e) { 2 === e._state && 0 === e._deferreds.length && Promise._immediateFn(function () { e._handled || Promise._unhandledRejectionFn(e._value) }); for (var t = 0, r = e._deferreds.length; t < r; t++)handle(e, e._deferreds[t]); e._deferreds = null } function doResolve(e, t) { var r = !1; try { e(function (e) { r || (r = !0, resolve(t, e)) }, function (e) { r || (r = !0, reject(t, e)) }) } catch (e) { if (r) return; r = !0, reject(t, e) } } Promise.prototype.catch = function (e) { return this.then(null, e) }, Promise.prototype.then = function (e, t) { var r = new this.constructor(noop); return handle(this, new function Handler(e, t, r) { this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = r }(e, t, r)), r }, Promise.prototype.finally = function (e) { var t = this.constructor; return this.then(function (r) { return t.resolve(e()).then(function () { return r }) }, function (r) { return t.resolve(e()).then(function () { return t.reject(r) }) }) }, Promise.all = function (e) { return new Promise(function (t, n) { if (!e || void 0 === e.length) throw new TypeError("Promise.all accepts an array"); var o = Array.prototype.slice.call(e); if (0 === o.length) return t([]); var i = o.length; function res(e, a) { try { if (a && ("object" === (void 0 === a ? "undefined" : r(a)) || "function" == typeof a)) { var s = a.then; if ("function" == typeof s) return void s.call(a, function (t) { res(e, t) }, n) } o[e] = a, 0 == --i && t(o) } catch (e) { n(e) } } for (var a = 0; a < o.length; a++)res(a, o[a]) }) }, Promise.resolve = function (e) { return e && "object" === (void 0 === e ? "undefined" : r(e)) && e.constructor === Promise ? e : new Promise(function (t) { t(e) }) }, Promise.reject = function (e) { return new Promise(function (t, r) { r(e) }) }, Promise.race = function (e) { return new Promise(function (t, r) { for (var n = 0, o = e.length; n < o; n++)e[n].then(t, r) }) }, Promise._immediateFn = "function" == typeof t && function (e) { t(e) } || function (e) { n(e, 0) }, Promise._unhandledRejectionFn = function _unhandledRejectionFn(e) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e) }, e.exports = Promise }).call(this, r(88).setImmediate) }, function (e, t, r) { (function (e) { var n = void 0 !== e && e || "undefined" != typeof self && self || window, o = Function.prototype.apply; function Timeout(e, t) { this._id = e, this._clearFn = t } t.setTimeout = function () { return new Timeout(o.call(setTimeout, n, arguments), clearTimeout) }, t.setInterval = function () { return new Timeout(o.call(setInterval, n, arguments), clearInterval) }, t.clearTimeout = t.clearInterval = function (e) { e && e.close() }, Timeout.prototype.unref = Timeout.prototype.ref = function () { }, Timeout.prototype.close = function () { this._clearFn.call(n, this._id) }, t.enroll = function (e, t) { clearTimeout(e._idleTimeoutId), e._idleTimeout = t }, t.unenroll = function (e) { clearTimeout(e._idleTimeoutId), e._idleTimeout = -1 }, t._unrefActive = t.active = function (e) { clearTimeout(e._idleTimeoutId); var t = e._idleTimeout; t >= 0 && (e._idleTimeoutId = setTimeout(function onTimeout() { e._onTimeout && e._onTimeout() }, t)) }, r(89), t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate }).call(this, r(14)) }, function (e, t, r) { (function (e, t) { !function (e, r) { "use strict"; if (!e.setImmediate) { var n, o = 1, i = {}, a = !1, s = e.document, c = Object.getPrototypeOf && Object.getPrototypeOf(e); c = c && c.setTimeout ? c : e, "[object process]" === {}.toString.call(e.process) ? function installNextTickImplementation() { n = function registerImmediate(e) { t.nextTick(function () { runIfPresent(e) }) } }() : !function canUsePostMessage() { if (e.postMessage && !e.importScripts) { var t = !0, r = e.onmessage; return e.onmessage = function () { t = !1 }, e.postMessage("", "*"), e.onmessage = r, t } }() ? e.MessageChannel ? function installMessageChannelImplementation() { var e = new MessageChannel; e.port1.onmessage = function (e) { runIfPresent(e.data) }, n = function registerImmediate(t) { e.port2.postMessage(t) } }() : s && "onreadystatechange" in s.createElement("script") ? function installReadyStateChangeImplementation() { var e = s.documentElement; n = function registerImmediate(t) { var r = s.createElement("script"); r.onreadystatechange = function () { runIfPresent(t), r.onreadystatechange = null, e.removeChild(r), r = null }, e.appendChild(r) } }() : function installSetTimeoutImplementation() { n = function registerImmediate(e) { setTimeout(runIfPresent, 0, e) } }() : function installPostMessageImplementation() { var t = "setImmediate$" + Math.random() + "$", r = function onGlobalMessage(r) { r.source === e && "string" == typeof r.data && 0 === r.data.indexOf(t) && runIfPresent(+r.data.slice(t.length)) }; e.addEventListener ? e.addEventListener("message", r, !1) : e.attachEvent("onmessage", r), n = function registerImmediate(r) { e.postMessage(t + r, "*") } }(), c.setImmediate = function setImmediate(e) { "function" != typeof e && (e = new Function("" + e)); for (var t = new Array(arguments.length - 1), r = 0; r < t.length; r++)t[r] = arguments[r + 1]; var a = { "callback": e, "args": t }; return i[o] = a, n(o), o++ }, c.clearImmediate = clearImmediate } function clearImmediate(e) { delete i[e] } function runIfPresent(e) { if (a) setTimeout(runIfPresent, 0, e); else { var t = i[e]; if (t) { a = !0; try { !function run(e) { var t = e.callback, n = e.args; switch (n.length) { case 0: t(); break; case 1: t(n[0]); break; case 2: t(n[0], n[1]); break; case 3: t(n[0], n[1], n[2]); break; default: t.apply(r, n) } }(t) } finally { clearImmediate(e), a = !1 } } } } }("undefined" == typeof self ? void 0 === e ? this : e : self) }).call(this, r(14), r(32)) }, function (e, t, r) { (function (e) { var t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !function (r) { "use strict"; var n, o = Object.prototype, i = o.hasOwnProperty, a = "function" == typeof Symbol ? Symbol : {}, s = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", u = a.toStringTag || "@@toStringTag", l = "object" === t(e), f = r.regeneratorRuntime; if (f) l && (e.exports = f); else { (f = r.regeneratorRuntime = l ? e.exports : {}).wrap = wrap; var d = "suspendedStart", p = "suspendedYield", h = "executing", m = "completed", g = {}, v = {}; v[s] = function () { return this }; var y = Object.getPrototypeOf, b = y && y(y(values([]))); b && b !== o && i.call(b, s) && (v = b); var S = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(v); GeneratorFunction.prototype = S.constructor = GeneratorFunctionPrototype, GeneratorFunctionPrototype.constructor = GeneratorFunction, GeneratorFunctionPrototype[u] = GeneratorFunction.displayName = "GeneratorFunction", f.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === GeneratorFunction || "GeneratorFunction" === (t.displayName || t.name)) }, f.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, u in e || (e[u] = "GeneratorFunction")), e.prototype = Object.create(S), e }, f.awrap = function (e) { return { "__await": e } }, defineIteratorMethods(AsyncIterator.prototype), AsyncIterator.prototype[c] = function () { return this }, f.AsyncIterator = AsyncIterator, f.async = function (e, t, r, n) { var o = new AsyncIterator(wrap(e, t, r, n)); return f.isGeneratorFunction(t) ? o : o.next().then(function (e) { return e.done ? e.value : o.next() }) }, defineIteratorMethods(S), S[u] = "Generator", S[s] = function () { return this }, S.toString = function () { return "[object Generator]" }, f.keys = function (e) { var t = []; for (var r in e) t.push(r); return t.reverse(), function next() { for (; t.length;) { var r = t.pop(); if (r in e) return next.value = r, next.done = !1, next } return next.done = !0, next } }, f.values = values, Context.prototype = { "constructor": Context, "reset": function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = n, this.done = !1, this.delegate = null, this.method = "next", this.arg = n, this.tryEntries.forEach(resetTryEntry), !e) for (var t in this) "t" === t.charAt(0) && i.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = n) }, "stop": function stop() { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, "dispatchException": function dispatchException(e) { if (this.done) throw e; var t = this; function handle(r, o) { return a.type = "throw", a.arg = e, t.next = r, o && (t.method = "next", t.arg = n), !!o } for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r], a = o.completion; if ("root" === o.tryLoc) return handle("end"); if (o.tryLoc <= this.prev) { var s = i.call(o, "catchLoc"), c = i.call(o, "finallyLoc"); if (s && c) { if (this.prev < o.catchLoc) return handle(o.catchLoc, !0); if (this.prev < o.finallyLoc) return handle(o.finallyLoc) } else if (s) { if (this.prev < o.catchLoc) return handle(o.catchLoc, !0) } else { if (!c) throw new Error("try statement without catch or finally"); if (this.prev < o.finallyLoc) return handle(o.finallyLoc) } } } }, "abrupt": function abrupt(e, t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var n = this.tryEntries[r]; if (n.tryLoc <= this.prev && i.call(n, "finallyLoc") && this.prev < n.finallyLoc) { var o = n; break } } o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null); var a = o ? o.completion : {}; return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, g) : this.complete(a) }, "complete": function complete(e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), g }, "finish": function finish(e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), g } }, "catch": function _catch(e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.tryLoc === e) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r) } return o } } throw new Error("illegal catch attempt") }, "delegateYield": function delegateYield(e, t, r) { return this.delegate = { "iterator": values(e), "resultName": t, "nextLoc": r }, "next" === this.method && (this.arg = n), g } } } function wrap(e, t, r, n) { var o = t && t.prototype instanceof Generator ? t : Generator, i = Object.create(o.prototype), a = new Context(n || []); return i._invoke = function makeInvokeMethod(e, t, r) { var n = d; return function invoke(o, i) { if (n === h) throw new Error("Generator is already running"); if (n === m) { if ("throw" === o) throw i; return doneResult() } for (r.method = o, r.arg = i; ;) { var a = r.delegate; if (a) { var s = maybeInvokeDelegate(a, r); if (s) { if (s === g) continue; return s } } if ("next" === r.method) r.sent = r._sent = r.arg; else if ("throw" === r.method) { if (n === d) throw n = m, r.arg; r.dispatchException(r.arg) } else "return" === r.method && r.abrupt("return", r.arg); n = h; var c = tryCatch(e, t, r); if ("normal" === c.type) { if (n = r.done ? m : p, c.arg === g) continue; return { "value": c.arg, "done": r.done } } "throw" === c.type && (n = m, r.method = "throw", r.arg = c.arg) } } }(e, r, a), i } function tryCatch(e, t, r) { try { return { "type": "normal", "arg": e.call(t, r) } } catch (e) { return { "type": "throw", "arg": e } } } function Generator() { } function GeneratorFunction() { } function GeneratorFunctionPrototype() { } function defineIteratorMethods(e) { ["next", "throw", "return"].forEach(function (t) { e[t] = function (e) { return this._invoke(t, e) } }) } function AsyncIterator(e) { var r; this._invoke = function enqueue(n, o) { function callInvokeWithMethodAndArg() { return new Promise(function (r, a) { !function invoke(r, n, o, a) { var s = tryCatch(e[r], e, n); if ("throw" !== s.type) { var c = s.arg, u = c.value; return u && "object" === (void 0 === u ? "undefined" : t(u)) && i.call(u, "__await") ? Promise.resolve(u.__await).then(function (e) { invoke("next", e, o, a) }, function (e) { invoke("throw", e, o, a) }) : Promise.resolve(u).then(function (e) { c.value = e, o(c) }, a) } a(s.arg) }(n, o, r, a) }) } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg() } } function maybeInvokeDelegate(e, t) { var r = e.iterator[t.method]; if (r === n) { if (t.delegate = null, "throw" === t.method) { if (e.iterator.return && (t.method = "return", t.arg = n, maybeInvokeDelegate(e, t), "throw" === t.method)) return g; t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method") } return g } var o = tryCatch(r, e.iterator, t.arg); if ("throw" === o.type) return t.method = "throw", t.arg = o.arg, t.delegate = null, g; var i = o.arg; return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = n), t.delegate = null, g) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, g) } function pushTryEntry(e) { var t = { "tryLoc": e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function resetTryEntry(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function Context(e) { this.tryEntries = [{ "tryLoc": "root" }], e.forEach(pushTryEntry, this), this.reset(!0) } function values(e) { if (e) { var t = e[s]; if (t) return t.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var r = -1, o = function next() { for (; ++r < e.length;)if (i.call(e, r)) return next.value = e[r], next.done = !1, next; return next.value = n, next.done = !0, next }; return o.next = o } } return { "next": doneResult } } function doneResult() { return { "value": n, "done": !0 } } }(function () { return this }() || Function("return this")()) }).call(this, r(42)(e)) }, function (e, t, r) { }, , function (e, t, r) { (function (t) { (function () { var r, n, o, i, a, s; "undefined" != typeof performance && null !== performance && performance.now ? e.exports = function () { return performance.now() } : null != t && t.hrtime ? (e.exports = function () { return (r() - a) / 1e6 }, n = t.hrtime, i = (r = function getNanoSeconds() { var e; return 1e9 * (e = n())[0] + e[1] })(), s = 1e9 * t.uptime(), a = i - s) : Date.now ? (e.exports = function () { return Date.now() - o }, o = Date.now()) : (e.exports = function () { return (new Date).getTime() - o }, o = (new Date).getTime()) }).call(this) }).call(this, r(32)) }, function (e, t, r) { }, , function (e, t, r) { e.exports = r(97).default, e.exports.default = e.exports }, function (e, t, r) { "use strict"; var n; Object.defineProperty(t, "__esModule", { "value": !0 }), function (e) { e.API_NOT_EXIST = "api_not_exist", e.INVOKE_FAIL = "api_invoke_fail" }(n || (n = {})); var o = "undefined" != typeof window && void 0 !== window.navigator ? window.navigator.userAgent.toLowerCase() : "", i = /micromessenger/i.test(o), a = (/(iphone|ipad|ipod|ios)/i.test(o), /(android)/i.test(o), /muapp\//i.test(o)), s = /(alipayclient)/i.test(o), c = /unicom/i.test(o), u = /MPBank\//i.test(o); /micromessenger/.test(o) && /wxwork/.test(o); function getChannel() { return function extractChannelFromUrl() { var e = window.location.pathname.match(/^\/([0-9a-zA-Z])+\//g); return e && e.length > 0 ? e[0].replace(/\//g, "") : "" }() || "MOCK" } var l = { "3SPDAPP": "spdbank", "3PHDAPP": "spdbank", "3AQYAPP": "iqiyi", "3GDCMAPP": "gdcm", "3CEBZXAPP": "muapp", "3CEBAPP": "guangda-bank", "3HBAPP": "hebao", "3HBWAP": "hebao", "3AXFAPP": "muapp", "3TXSPAPP": "tencent-video", "3HWQBAPP": "huawei", "3VKAPP": "muapp", "native": "native-h5", "3GZSPDAPP": "andfinance", "3ANDJRAPP": "andfinance", "3WQBAPP": "wopay", "3ICBCAPP": "icbc", "3YDSJDAPP": /phd_native_app/.test(o) ? "xiangyujry" : "xiangyu", "3HZWAPP": "haiziwang", "3YZTAPP": "yzt", "3CCCXAPP": "caocao", "3T8TAPP": "t8t" }; var f = function getMappedBridge() { var e = ""; return e = i ? "weixin" : s ? "alipay" : a ? "muapp" : u ? "cmb" : c ? "unicom" : function getChannelMappedBridge() { var e = getChannel(), t = l[e]; return t || l.native }(), r(98)("./" + e + "-js-sdk").default }(); var d = function getMainEntry() { return f ? new f : {} }(); t.BridgeInstance = d, t.default = d }, , function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function AlipayBridge() { this.init(), this.channel = n.getChannel(), this.lock = !1 } return AlipayBridge.prototype.init = function () { this.loadScript() }, AlipayBridge.prototype.loadScript = function () { var e = document.createElement("script"); e.type = "text/javascript"; var t = window.location.protocol; e.src = t + "//as.alipayobjects.com/g/component/antbridge/1.1.4/antbridge.min.js"; var r = document.getElementsByTagName("script")[0]; r.parentNode.insertBefore(e, r), e.onload = function () { var e = document.createEvent("Event"); e.initEvent("alipayScriptLoad", !0, !0), document.dispatchEvent(e) } }, AlipayBridge.prototype.initAliPayConfig = function (e) { var t = this; if (this.lock) return document.removeEventListener("optionMenu", this.optionMenuFn), void document.addEventListener("optionMenu", this.optionMenuFn, !1); this.lock = !0, this.registerEventPromise(this.setOptMenu), this.optionMenuFn = function (r) { r && r.preventDefault(), t.onMenuShare(e) }, document.addEventListener("optionMenu", this.optionMenuFn, !1) }, AlipayBridge.prototype.setOptMenu = function () { var e; null === (e = window.AlipayJSBridge) || void 0 === e || e.call("setOptionMenu", { "icontype": "more", "redDot": "-1" }) }, AlipayBridge.prototype.registerEventPromise = function (e) { if (window.AlipayJSBridge) return e(); document.addEventListener("AlipayJSBridgeReady", e, !1) }, AlipayBridge.prototype.chooseImage = function (e) { return this.registerEventPromise(function chooseImageImpl() { return new Promise(function (t, r) { var o = e || {}, i = o.count, a = void 0 === i ? 9 : i, s = o.success, c = o.fail, u = o.encoderOptions, l = o.imageType, f = void 0 === l ? "image/jpeg" : l, d = o.limit, p = (e || {}).sourceType; p = n.adaperSourceType(p, "alipay"), window.AlipayJSBridge.call("chooseImage", { "count": a, "sourceType": p }, function (e) { var o = e.apFilePaths, i = void 0 === o ? [] : o, a = e.apFilePathsV2, l = e.scene, p = a || i; if ("string" == typeof p) try { p = JSON.parse(p) } catch (e) { console.error("支付宝拍照获取图片地址解析报错"), r("支付宝拍照获取图片地址解析报错") } var h = p[0]; n.imageToBase64({ "src": h, "type": f, "encoderOptions": u, "limit": d }).then(function (e) { var r = { "src": e, "tempFilePaths": p, "tempFiles": p.map(function (e) { return { "path": e } }), "base64": e, "scene": "camera" === l ? "camera" : "album" }; n.isFunction(s) && s(r), t(r) }).catch(function () { n.isFunction(c) && c(), r(e) }) }, !1) }) }) }, AlipayBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a, s, c; return n.__generator(this, function (u) { return t = { "coordinateSystem": "GCJ-02" }, i = (r = e || {}).success, a = r.fail, s = r.eventType, c = function getAliLocation() { return new Promise(function (r) { window.AlipayJSBridge.call("getCurrentLocation", { "bizType": "zhaolian", "cacheTimeout": 1 }, function (c) { c.error && (t.latitude = n.LBS_CODE.refuse, t.longitude = n.LBS_CODE.refuse, t.tag = s, o.getLocationFailModal(e), n.isFunction(a) && a(t), r(t)), t.latitude = c.latitude, t.longitude = c.longitude, t.tag = s, n.isFunction(i) && i(t), r(t) }) }) }, [2, this.registerEventPromise(c)] }) }) }, AlipayBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, AlipayBridge.prototype.closeWebView = function () { return this.registerEventPromise(function closeWebViewImpl() { return window.AlipayJSBridge.call("closeWebview") }) }, AlipayBridge.prototype.setNavigationBarTitle = function (e) { var t = e.title; if (window.navigator.userAgent.toLowerCase().indexOf("miniprogram") > -1) return o.setNavigationBarTitleInNativeH5(e); return this.registerEventPromise(function setTitleImpl() { return window.AlipayJSBridge.call("setTitle", { "title": t }) }) }, AlipayBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, AlipayBridge.prototype.shareToChannel = function (e, t, r) { var n = this, o = (t || {}).success, i = r || o || function fn() { }, a = -1; switch ("function" == typeof t.clickChannel && t.clickChannel(), e) { case "Weibo": a = 2; break; case "ALPContact": a = 5; break; case "ALPTimeLine": a = 6; break; case "Weixin": default: a = 7 }var s = { "contentType": "url", "title": t.title, "content": t.desc, "iconUrl": t.imgUrl, "imageUrl": t.imgUrl, "captureScreen": !1, "url": t.link, "otherParams": { "bizType": "COMMON_SHARE_S", "title": t.title, "desc": t.desc, "btn2A": t.link, "preContent": (t.aliSlogan2 || "打开支付宝首页") + " 搜索“", "endContent": "”" + (t.aliSlogan1 || "") } }; t.extra && Object.assign(s, t.extra); return this.registerEventPromise(function shareToChannelImpl() { return window.AlipayJSBridge.call("shareToChannelForSearchCodeSafety", { "name": e, "param": s }, function (e) { "function" == typeof n.options.saveShareInfo && n.options.saveShareInfo(a, t.activityCode), setTimeout(i, 400, e) }) }) }, AlipayBridge.prototype.onMenuShare = function (e) { var t = this; if (this.initAliPayConfig(e), "function" == typeof e.beforeShare) { var r = e.beforeShare(); if (void 0 !== r && !r) return } var n = ["Weibo", "ALPContact", "ALPTimeLine", "SMS", "Weixin", "WeixinTimeLine", "QQ", "QQZone", "DingTalkSession"]; return this.registerEventPromise(function menuShareImpl() { return window.AlipayJSBridge.call("startShare", { "onlySelectChannel": n }, function (r) { var o = r.channelName; if (-1 !== n.indexOf(o)) { var i = e.callback; t.shareToChannel(o, e, i) } }) }) }, AlipayBridge.prototype.chooseAliPaySDK = function (e) { var t = e.orderStr, r = e.onCallBack, o = e.onSuccess; return this.registerEventPromise(function chooseAlipayImpl() { return window.AlipayJSBridge.call("tradePay", { "orderStr": t }, function (e) { n.isFunction(r) && r(e), n.isFunction(o) && o(e) }) }) }, AlipayBridge.prototype.selectAlipayAddress = function (e) { return r(100).am.selectAddress(e) }, AlipayBridge.prototype.pushWindow = function (e) { return new Promise(function (t, r) { try { window.AlipayJSBridge.call("pushWindow", { "url": e.url, "param": n.__assign({ "readTitle": e.readTitle || !0, "showOptionMenu": e.showOptionMenu || !1 }, e) }), n.isFunction(e.success) && e.success(""), t("") } catch (t) { n.isFunction(e.fail) && e.fail(t), r(t) } }) }, AlipayBridge.prototype.chooseContact = function (e) { return new Promise(function (t, r) { try { window.AlipayJSBridge.call("chooseContact", n.__assign({}, n.adaperChooseContactParams(e, "alipay")), function (r) { var o = n.adaperContactRes(r, "alipay"); n.isFunction(e.success) && e.success(o), t(o) }) } catch (t) { n.isFunction(e.fail) && e.fail(t), r(t) } }) }, AlipayBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = window.am = window.am || {}; document.addEventListener("resume", function (e) { var t = (e.data || {}).address; if (window.am._addressFn) try { t && (window.am._addressId = t.addressId), window.am._addressFn(t) } catch (e) { console.error(e) } }, !1), n.selectAddress = function (e) { this._addressFn = e; var t = ""; this._addressId && (t = "&aid=" + this._addressId), function callBridge() { var e = Array.prototype.slice.call(arguments, 0), t = function fn() { window.AlipayJSBridge.call.apply(null, e) }; window.AlipayJSBridge ? t() : document.addEventListener("AlipayJSBridgeReady", t, !1) }("pushWindow", { "url": "https://publicexprod.alipay.com/deliveraddress/index.htm?type=2" + t, "param": { "showTitleBar": !0, "showToolBar": !1, "showTitlebar": !0, "showToolbar": !1 } }) }, t.am = n }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function AndFinanceBridge() { } return AndFinanceBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, AndFinanceBridge.prototype.getLocation = function (e) { return o.getLocationInNativeH5(e) }, AndFinanceBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, AndFinanceBridge.prototype.closeWebView = function () { var e, t, r; null === (r = null === (t = null === (e = window.webkit) || void 0 === e ? void 0 : e.messageHandlers) || void 0 === t ? void 0 : t.callNative) || void 0 === r || r.postMessage({ "methodName": "finish", "body": {} }) }, AndFinanceBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, AndFinanceBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, AndFinanceBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, AndFinanceBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function CaocaoBridge() { } return CaocaoBridge.prototype.getLocation = function (e) { return o.getLocationInNativeH5(e) }, CaocaoBridge.prototype.closeWebView = function () { !function setupWebViewJavascriptBridge(e) { if (window.WebViewJavascriptBridge) return e(window.WebViewJavascriptBridge); if (window.WVJBCallbacks) return window.WVJBCallbacks.push(e); window.WVJBCallbacks = [e]; var t = window.document.createElement("iframe"); t.style.display = "none", t.src = "wvjbscheme://__BRIDGE_LOADED__", window.document.documentElement.appendChild(t), setTimeout(function () { window.document.documentElement.removeChild(t) }, 0) }(function (e) { e.callHandler("nativeClosePage", {}) }) }, CaocaoBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, CaocaoBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, CaocaoBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, CaocaoBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, CaocaoBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, CaocaoBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function CmbBridge() { this.initBridge() } return CmbBridge.prototype.initBridge = function () { r(104) }, CmbBridge.prototype.chooseImage = function (e) { return new Promise(function (t, r) { var o, i = n.__assign({ "params": { "maxCount": 1 } }, e), a = i.params, s = i.success, c = i.fail, u = i.imageType, l = void 0 === u ? "image/jpeg" : u, f = i.encoderOptions, d = i.limit, p = i.sourceType; p = n.adaperSourceType(p, "cmb"), null === (o = window.cmblapi) || void 0 === o || o.chooseImage({ "action": p, "params": a, "success": function success(e) { var r = e.src, o = void 0 === r ? "" : r; if (o) n.imageToBase64({ "src": o, "type": l, "encoderOptions": f, "limit": d }).then(function (r) { var i = n.__assign({ "tempFilePaths": [o], "tempFiles": [{ "path": o }], "base64": r, "scene": "camera" }, e); n.isFunction(s) && s(i), t(i) }); else { var i = e.picData && e.picData[0].originPicData; o = "data:image/png;base64," + i; var a = n.__assign({ "tempFilePaths": [o], "tempFiles": [{ "path": o }], "base64": o, "scene": "camera" }, e); n.isFunction(s) && s(a), t(a) } }, "fail": function fail(e) { n.isFunction(c) && c(), r(e) } }) }) }, CmbBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a; return n.__generator(this, function (s) { return r = (t = e || {}).success, i = t.fail, a = t.eventType, [2, new Promise(function (t) { var s; null === (s = window.cmblapi) || void 0 === s || s.getLocation({ "mapType": "bd", "useCache": !0, "success": function success(e) { var o = e.latitude, i = e.longitude; n.isFunction(r) && r({ "latitude": o, "longitude": i, "tag": a }), t({ "latitude": o, "longitude": i, "tag": a }) }, "fail": function fail(r) { var s = r && r.errCode, c = "101002" === s || "101001" === s || "102001" === s ? n.LBS_CODE.refuse : n.LBS_CODE.default; o.getLocationFailModal(e), n.isFunction(i) && i(r), t({ "latitude": c, "longitude": c, "tag": a }) } }) })] }) }) }, CmbBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, CmbBridge.prototype.closeWebView = function () { var e; null === (e = window.cmblapi) || void 0 === e || e.popWindow() }, CmbBridge.prototype.getMPBankVersion = function () { var e = window.navigator.userAgent.match(/MPBank\/([\d.]+)/i); return e && e[1] || "" }, CmbBridge.prototype.MPBankVersionCompare = function (e) { var t = this.getMPBankVersion().split("."); if (t.length < 3) return -1; for (var r = e.split("."), n = 0; n < 3; n++) { if (t[n] - r[n] < 0) return -1; if (t[n] - r[n] > 0) return 1 } return 0 }, CmbBridge.prototype.setNavigationBarUI = function (e, t, r, o) { var i; void 0 === t && (t = {}), void 0 === r && (r = function success() { }), void 0 === o && (o = function fail() { }), this.MPBankVersionCompare("7.4.0") >= 0 && (null === (i = window.cmblapi) || void 0 === i || i[e](n.__assign(n.__assign({}, t), { "success": r, "fail": o }))) }, CmbBridge.prototype.setNavigationBarTitle = function (e) { void 0 === e && (e = {}); var t = e.title, r = e.titleColor, i = e.success; return new Promise(function (a) { var s, c; null === (c = null === (s = window.cmblapi) || void 0 === s ? void 0 : s.setNavigationBarTitle) || void 0 === c || c.call(s, { "title": t, "titleColor": r, "success": function success() { n.isFunction(i) && i(), a("") }, "fail": function fail() { return o.setNavigationBarTitleInNativeH5(e) } }) }) }, CmbBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, CmbBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, CmbBridge.prototype.followSubscription = function (e) { void 0 === e && (e = {}); var t = n.getCurrentEnv() || "prod", r = n.CMB_ZH_PARAMS[t] || n.CMB_ZH_PARAMS.st, o = { "func": "followSubscription", "params": JSON.stringify(r) }, i = e.success, a = e.fail; return new Promise(function (e, t) { var r, s; null === (s = null === (r = window.cmblapi) || void 0 === r ? void 0 : r.callZhaoHuFunc) || void 0 === s || s.call(r, { "funcParam": o, "success": function success(t) { n.isFunction(i) && i(t), e(t) }, "fail": function fail(e) { n.isFunction(a) && a(e), t(e) } }) }) }, CmbBridge.prototype.pushWindow = function (e) { void 0 === e && (e = {}); var t = e.url; return new Promise(function (r, o) { var i, a; null === (a = null === (i = window.cmblapi) || void 0 === i ? void 0 : i.pushWindow) || void 0 === a || a.call(i, n.__assign(n.__assign({ "url": t, "navigationBarProperties": { "showNavigationBar": !1 } }, e), { "success": function success(t) { n.isFunction(e.success) && e.success(t), r(t) }, "fail": function fail(t) { n.isFunction(e.fail) && e.fail(t), o(t) } })) }) }, CmbBridge.prototype.chooseContact = function (e) { return void 0 === e && (e = {}), new Promise(function (t) { var r, o; null === (o = null === (r = window.cmblapi) || void 0 === r ? void 0 : r.queryContact) || void 0 === o || o.call(r, n.__assign(n.__assign({}, n.adaperChooseContactParams(e, "cmb")), { "success": function success(r) { var o = n.adaperContactRes(r, "cmb"); n.isFunction(e.success) && e.success(o), t(o) }, "fail": function fail(r) { var o = n.__assign({ "isLimit": 4 == +r.errCode }, r); n.isFunction(e.success) && e.success(o), t(o) } })) }) }, CmbBridge }(); t.default = i }, function (e, r, n) { "use strict"; var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; Object.defineProperty(r, "__esModule", { "value": !0 }); var i = function createCommonjsModule(e, t) { return e(t = { "exports": {} }, t.exports), t.exports }(function (e, t) { window, e.exports = function (e) { var r = {}; function t(n) { if (r[n]) return r[n].exports; var o = r[n] = { "i": n, "l": !1, "exports": {} }; return e[n].call(o.exports, o, o.exports, t), o.l = !0, o.exports } return t.m = e, t.c = r, t.d = function (e, r, n) { t.o(e, r) || Object.defineProperty(e, r, { "enumerable": !0, "get": n }) }, t.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { "value": "Module" }), Object.defineProperty(e, "__esModule", { "value": !0 }) }, t.t = function (e, r) { if (1 & r && (e = t(e)), 8 & r) return e; if (4 & r && "object" == (void 0 === e ? "undefined" : o(e)) && e && e.__esModule) return e; var n = Object.create(null); if (t.r(n), Object.defineProperty(n, "default", { "enumerable": !0, "value": e }), 2 & r && "string" != typeof e) for (var i in e) t.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, t.n = function (e) { var r = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(r, "a", r), r }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "", t(t.s = 0) }([function (e, t, r) { var n, o; void 0 === (o = "function" == typeof (n = function i(r) { function i(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } Object.defineProperty(r, "__esModule", { "value": !0 }), r.default = void 0; var n = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.callbackFuncs = {}, this.haveShowed = !1 } return (t = [{ "key": "version", "value": function value() { return { "version": "7.5.0", "buildTime": "20191120175955", "env": "pro.min" } } }, { "key": "_appVersion", "value": function value() { try { var e = navigator.userAgent.toLowerCase(), t = e.match(/mpbank\/(\d+\.\d+\.\d+)/); return t ? t[1] : "" } catch (e) { return "" } } }, { "key": "_cmblsJSExecutor", "value": function value(e) { window.cmblsExecutor ? window.cmblsExecutor.executeCmbls("1.0", e) : document.addEventListener("CMBLSExecutorReady", function () { window.cmblsExecutor.executeCmbls("1.0", e) }, !1) } }, { "key": "_defineUpgradePromptCallback", "value": function value() { window.CMBLS = window.CMBLS || {}; var e = window.CMBLS.PromptTool; window.CMBLS.PromptTool = {}, window.CMBLS.PromptTool.successCallback = function (e, t) { }, window.CMBLS.PromptTool.failCallback = function (t, r) { window.CMBLS.PromptTool = e }; var t = window.CMBLS.TPAppCall; window.CMBLS.TPAppCall = {}, window.CMBLS.TPAppCall.successCallback = function (e, r) { window.CMBLS.TPAppCall = t }, window.CMBLS.TPAppCall.failCallback = function (e, r) { window.CMBLS.TPAppCall = t }, window.CMBLS.PromptTool.cmblapiUpgradePromptConfirm = function (t) { var r = navigator.userAgent.toLowerCase(); if (r.indexOf("android") > -1) { var n = encodeURIComponent("market://details?id=cmb.pb"), o = "http://cmbls/TPAppCall?id=CmblapiTPAppCall&data=" + n; window.cmblapi._cmblsJSExecutor(o) } else if (r.indexOf("iphone") > -1) { var n = encodeURIComponent("itms-apps://itunes.apple.com/cn/app/zhao-shang-yin-xing/id392899425?mt=8"), o = "http://cmbls/TPAppCall?id=CmblapiTPAppCall&data=" + n; window.cmblapi._cmblsJSExecutor(o) } window.CMBLS.PromptTool = e }, window.CMBLS.PromptTool.cmblapiUpgradePromptCancel = function (t) { window.CMBLS.PromptTool = e } } }, { "key": "_upgradePrompt", "value": function value() { this._defineUpgradePromptCallback(); var e = encodeURIComponent(JSON.stringify([{ "title": "App升级提示", "content": "您的xllxllApp版本过低，可能会导致无法正常使用当前功能", "buttonStyle": [{ "id": "1", "text": "稍后更新", "callback": "cmblapiUpgradePromptCancel" }, { "id": "2", "text": "立即更新", "callback": "cmblapiUpgradePromptConfirm" }] }])), t = "http://cmbls/PromptTool?id=upgradePrompt&type=dialog&dialog_style=" + e; this._cmblsJSExecutor(t) } }, { "key": "cmblapiCall", "value": function value(e, t) { try { (t = t || {})._jsVer = "7.5.0", t._jsBuildTime = "20191120175955"; var r = (new Date).getTime().toString() + Math.round(1e4 * Math.random()).toString(); if (null == r || "" === r) return; for (var n in t) if ("function" == typeof t[n]) { var o = r + n; this.callbackFuncs[o] = t[n] } var i = JSON.stringify(t); if (null == i || "" === i) return; window.cmblapiBridge ? window.cmblapiBridge.invoke(r, e, i) : document.addEventListener("cmblapiJSBridgeReady", function () { window.cmblapiBridge.invoke(r, e, i) }, !1) } catch (e) { console.log(e) } } }, { "key": "callback", "value": function value(e, t, r) { try { if (null == e || "" === e) return; if (null == t || "" === t) return; var n = this.callbackFuncs[e + t]; if ("function" == typeof n) if (null == r || "" === r) n(); else { var o = JSON.parse(r); if (o.errCode && 1 === o.errCode && 0 == this.haveShowed) return this.haveShowed = !0, void this._upgradePrompt(); n(o) } } catch (e) { console.log(e) } } }, { "key": "callbackWithObj", "value": function value(e, t, r) { if (r.errCode && 1 === r.errCode && 0 == this.haveShowed) return this.haveShowed = !0, void this._upgradePrompt(); try { if (null == e || "" === e) return; if (null == t || "" === t) return; var n = this.callbackFuncs[e + t]; "function" == typeof n && (null == r || "" === r ? n() : n(r)) } catch (e) { console.log(e) } } }, { "key": "checkJsApi", "value": function value(e) { this.cmblapiCall("checkJsApi", e) } }, { "key": "getSystemInfo", "value": function value(e) { this.cmblapiCall("getSystemInfo", e) } }, { "key": "requestUserPermission", "value": function value(e) { this.cmblapiCall("requestUserPermission", e) } }, { "key": "config", "value": function value(e) { this.cmblapiCall("config", e) } }, { "key": "getLocation", "value": function value(e) { this.cmblapiCall("getLocation", e) } }, { "key": "showNavigationBar", "value": function value(e) { this.cmblapiCall("showNavigationBar", e) } }, { "key": "hideNavigationBar", "value": function value(e) { this.cmblapiCall("hideNavigationBar", e) } }, { "key": "setNavigationBarStyle", "value": function value(e) { this.cmblapiCall("setNavigationBarStyle", e) } }, { "key": "setNavigationBarTitle", "value": function value(e) { this.cmblapiCall("setNavigationBarTitle", e) } }, { "key": "setLeftNavigationBar", "value": function value(e) { this.cmblapiCall("setLeftNavigationBar", e) } }, { "key": "setRightNavigationBar", "value": function value(e) { this.cmblapiCall("setRightNavigationBar", e) } }, { "key": "pushWindow", "value": function value(e) { this.cmblapiCall("pushWindow", e) } }, { "key": "popWindow", "value": function value(e) { this.cmblapiCall("popWindow", e) } }, { "key": "setWindowProperties", "value": function value(e) { this.cmblapiCall("setWindowProperties", e) } }, { "key": "setStatusBarStyle", "value": function value(e) { this.cmblapiCall("setStatusBarStyle", e) } }, { "key": "shareInfo", "value": function value(e) { this.cmblapiCall("shareInfo", e) } }, { "key": "shareInfoWithUI", "value": function value(e) { this.cmblapiCall("shareInfoWithUI", e) } }, { "key": "createShortcut", "value": function value(e) { this.cmblapiCall("createShortcut", e) } }, { "key": "makePhoneCall", "value": function value(e) { this.cmblapiCall("makePhoneCall", e) } }, { "key": "watchShake", "value": function value(e) { this.cmblapiCall("watchShake", e) } }, { "key": "queryContact", "value": function value(e) { this.cmblapiCall("queryContact", e) } }, { "key": "callAndroidNFC", "value": function value(e) { this.cmblapiCall("callAndroidNFC", e) } }, { "key": "callBluetoothFunc", "value": function value(e) { this.cmblapiCall("callBluetoothFunc", e) } }, { "key": "callZhaoHuFunc", "value": function value(e) { this.cmblapiCall("callZhaoHuFunc", e) } }, { "key": "makeBarcodeImage", "value": function value(e) { this.cmblapiCall("makeBarcodeImage", e) } }, { "key": "scanBarcode", "value": function value(e) { this.cmblapiCall("scanBarcode", e) } }, { "key": "scanIDCard", "value": function value(e) { this.cmblapiCall("scanIDCard", e) } }, { "key": "scanBankCard", "value": function value(e) { this.cmblapiCall("scanBankCard", e) } }, { "key": "callOtherApp", "value": function value(e) { this.cmblapiCall("callOtherApp", e) } }, { "key": "jumpSetting", "value": function value(e) { this.cmblapiCall("jumpSetting", e) } }, { "key": "appStorage", "value": function value(e) { this.cmblapiCall("appStorage", e) } }, { "key": "chooseImage", "value": function value(e) { this.cmblapiCall("chooseImage", e) } }, { "key": "saveImageToAlbum", "value": function value(e) { this.cmblapiCall("saveImageToAlbum", e) } }, { "key": "snapshotPage", "value": function value(e) { this.cmblapiCall("snapshotPage", e) } }, { "key": "addAppEventListener", "value": function value(e) { this.cmblapiCall("addAppEventListener", e) } }, { "key": "login", "value": function value(e) { this.cmblapiCall("login", e) } }, { "key": "merchantLogin", "value": function value(e) { this.cmblapiCall("merchantLogin", e) } }, { "key": "setBrightness", "value": function value(e) { this.cmblapiCall("setBrightness", e) } }, { "key": "applet", "value": function value(e) { this.cmblapiCall("applet", e) } }, { "key": "merchantOpenAPI", "value": function value(e) { this.cmblapiCall("merchantOpenAPI", e) } }, { "key": "footprint", "value": function value(e) { this.cmblapiCall("footprint", e) } }, { "key": "CTID", "value": function value(e) { this.cmblapiCall("CTID", e) } }, { "key": "clearNavigationBar", "value": function value(e) { this.cmblapiCall("clearNavigationBar", e) } }, { "key": "callAIAssistFunc", "value": function value(e) { this.cmblapiCall("callAIAssistFunc", e) } }]) && i(e.prototype, t), e; var t }(); void 0 === window.cmblapi && (window.cmblapi = new n); var o = window.cmblapi; r.default = o, e.exports = t.default }) ? n.apply(t, [t]) : n) || (e.exports = o) }]) }), a = function unwrapExports(e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e }(i), s = i.cmblapi; r.cmblapi = s, r.default = a }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function GdcmBridge() { } return GdcmBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, GdcmBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, GdcmBridge.prototype.getLocation = function (e) { return o.getLocationInNativeH5(e) }, GdcmBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, GdcmBridge.prototype.closeWebView = function () { return n.temporarilyNotSupport("closeWebView") }, GdcmBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, GdcmBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, GdcmBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function GuangDaBankBridge() { } return GuangDaBankBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, GuangDaBankBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, GuangDaBankBridge.prototype.getLocation = function (e) { return o.getLocationInNativeH5(e) }, GuangDaBankBridge.prototype.closeWebView = function () { var e; return (null === (e = window.jsInterface) || void 0 === e ? void 0 : e.close) ? (window.jsInterface.close(), Promise.resolve("")) : window.close ? (window.close(), Promise.resolve("")) : Promise.reject("请手动关闭页面") }, GuangDaBankBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, GuangDaBankBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, GuangDaBankBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, GuangDaBankBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function HaiziwangBridge() { } return HaiziwangBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i; return n.__generator(this, function (a) { return r = (t = e || {}).success, i = t.eventType, [2, new Promise(function (t) { var a, s, c, u = null, l = (u = n.isIOS ? null === (a = window.app) || void 0 === a ? void 0 : a.jsNavtiveSyncHandle('{"targetClass":"KTemaiJsConfig","methodType":"1","methodName":"getdinfo","parm":[]}') : null === (c = null === (s = window.localjs) || void 0 === s ? void 0 : s.getdinfo) || void 0 === c ? void 0 : c.call(s)) && JSON.parse(u) || {}, f = { "longitude": l[7], "latitude": l[8], "coordinateSystem": l[9], "tag": i }; if (!(f && f.latitude && f.longitude && f.coordinateSystem)) return o.getLocationInNativeH5(e).then(function (e) { n.isFunction(r) && r(e), t(e) }); n.isFunction(r) && r(f), t(f) })] }) }) }, HaiziwangBridge.prototype.closeWebView = function () { var e, t, r, o; n.isIOS ? null === (t = null === (e = window.app) || void 0 === e ? void 0 : e.jsNavtiveHandle) || void 0 === t || t.call(e, '{"targetClass":"","methodType":"0","methodName":"closeAction","parm":[]}') : null === (o = null === (r = window.localjs) || void 0 === r ? void 0 : r.gofinish) || void 0 === o || o.call(r) }, HaiziwangBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, HaiziwangBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, HaiziwangBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, HaiziwangBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, HaiziwangBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, HaiziwangBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function GdcmBridge() { } return GdcmBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, GdcmBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, GdcmBridge.prototype.getLocation = function (e) { return o.getLocationInNativeH5(e) }, GdcmBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, GdcmBridge.prototype.closeWebView = function () { return n.temporarilyNotSupport("closeWebView") }, GdcmBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, GdcmBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, GdcmBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function HuaweiBridge() { this.init() } return HuaweiBridge.prototype.loadScript = function () { var e = document.createElement("script"); e.type = "text/javascript", e.src = "https://appdlssl.hicloud.com/dl/appdl/hms/jssdk/hmssdk1.0.2.js"; var t = document.getElementsByTagName("script")[0]; t.parentNode.insertBefore(e, t), e.onload = function () { var e = document.createEvent("Event"); e.initEvent("huaweiScriptLoad", !0, !0), document.dispatchEvent(e) } }, HuaweiBridge.prototype.init = function () { var e = this; this.loadScript(), this.channel = n.getChannel(), this.apiHost = n.getApiHost("auth"), window.getIMEI = function (t) { var r, n; "user deny" !== t.userDeny && t.imei && (e.imei = JSON.parse(t.imei)), null === (n = null === (r = window.hiWalletJavaScript) || void 0 === r ? void 0 : r.getDeviceInfo) || void 0 === n || n.call(r, "submitCode") }, window.submitCode = function (t) { void 0 === t && (t = {}); var r = e.apiHost + "/standard/callback/auth.jhtml", o = { "mac": t.mac, "androidId": t.androidId, "manufacturer": t.brand, "resolution": t.resolution, "phoneModel": t.modle, "os": "Android", "osVersion": t.systemVersion }, i = ""; if ("user deny" !== t.userDeny) for (var a = 0, s = Object.keys(o); a < s.length; a++) { var c = s[a]; i += c + "=" + o[c] + "&" } var u = n.getParam("appId") || "", l = n.getParam("merchantId") || "", f = n.getParam("reqServiceId") || ""; window.location.replace(r + "?authcode=" + encodeURIComponent(e.serverAuthCode) + "\n      &appId=" + u + "&channelId=" + e.channel + "&merchantId=" + l + "\n      &reqServiceId=" + f + "&imei=" + e.imei + "&" + i) } }, HuaweiBridge.prototype.bind = function () { var e, t, r, n, o, i, a = this; if (!window.hbs.isSupport()) return this.closeWebView(), Promise.reject("华为钱包jsbridge初始化失败"); null === (t = null === (e = window.hbs) || void 0 === e ? void 0 : e.config) || void 0 === t || t.call(e, { "appId": "100373589", "jsApiList": ["signIn"] }), null === (n = null === (r = window.hbs) || void 0 === r ? void 0 : r.ready) || void 0 === n || n.call(r, function () { window.hbs.signIn({ "scope": "https://www.huawei.com/auth/account/base.profile", "needAuthCode": !0 }, function (e) { var t; a.serverAuthCode = null == e ? void 0 : e.serverAuthCode, null === (t = window.hiWalletJavaScript) || void 0 === t || t.getIMEIWithUUID("getIMEI") }, function (e) { var t; return "1" === (null === (t = null == e ? void 0 : e.code) || void 0 === t ? void 0 : t.toString()) ? (a.closeWebView(), Promise.resolve("")) : (a.closeWebView(), Promise.reject("抱歉，授权失败，请稍后再试！")) }) }), null === (i = null === (o = window.hbs) || void 0 === o ? void 0 : o.error) || void 0 === i || i.call(o, function () { return a.closeWebView(), Promise.resolve("") }) }, HuaweiBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, HuaweiBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, HuaweiBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, void 0, function () { var t; return n.__generator(this, function (r) { return t = (e || {}).eventType, [2, new Promise(function (r, i) { var a, s, c = { "coordinateSystem": "WGS-84" }, u = (e || {}).success; if (!window.hiWalletJavaScript) return o.getLocationInNativeH5(e).then(function (e) { r(e) }); null === (s = null === (a = window.hiWalletJavaScript) || void 0 === a ? void 0 : a.getBDLocation) || void 0 === s || s.call(a, "getLocation"), window.getLocation = function (i) { if ("user deny" === i.userDeny) return o.getLocationInNativeH5(e).then(function (e) { r(e) }); c.longitude = i.longitude, c.latitude = i.latitude, c.tag = t, n.isFunction(u) && u(c), r(c) } })] }) }) }, HuaweiBridge.prototype.closeWebView = function () { var e, t; return null === (t = null === (e = window.hiWalletJavaScript) || void 0 === e ? void 0 : e.finishWebviewAndActivity) || void 0 === t || t.call(e, ""), Promise.resolve("") }, HuaweiBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, HuaweiBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, HuaweiBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, HuaweiBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function ICBCBridge() { var e = r(111).hybrid_app; this.hybridApp = e } return ICBCBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a = this; return n.__generator(this, function (s) { return r = (t = e || {}).success, i = t.eventType, [2, new Promise(function (t, s) { window.onLocationRes = function (a) { if (!a) return o.getLocationInNativeH5(e); n.isFunction(r) && r({ "longitude": a.longitude, "latitude": a.latitude, "coordinateSystem": "bd-09", "tag": i }), t({ "longitude": a.longitude, "latitude": a.latitude, "coordinateSystem": "bd-09", "tag": i }) }, a.hybridApp.getMyLocation("onLocationRes") })] }) }) }, ICBCBridge.prototype.closeWebView = function () { this.hybridApp.back() }, ICBCBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, ICBCBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, ICBCBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, ICBCBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("") }, ICBCBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, ICBCBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = {}, o = navigator.userAgent; function connectWebViewJavascriptBridge(e) { if (window.WebViewJavascriptBridge) return e(WebViewJavascriptBridge); if (document.addEventListener("WebViewJavascriptBridgeReady", function () { e(WebViewJavascriptBridge) }, !1), window.WVJBCallbacks) return window.WVJBCallbacks.push(e); window.WVJBCallbacks = [e]; var t = document.createElement("iFrame"); t.style.display = "none", t.src = "wvjbscheme://__BRIDGE_LOADED__", document.documentElement.appendChild(t), setTimeout(function () { document.documentElement.removeChild(t) }) } n.elifeVer = function () { try { var e = navigator.userAgent.match(new RegExp("fullversion:(\\d.\\d.\\d.\\d)")); return null == e && (e = navigator.userAgent.match(new RegExp("fullversion:(\\d.\\d.\\d)"))), e = null == e ? "0" : e, e = "" == (e = parseInt(e[1].replace(/\./g, ""))) ? "1000" : e } catch (e) { return "1000" } }, n.isRELIphone = function () { return o.indexOf("ICBCiPhoneBS") > -1 }, n.isRELAndroid = function () { return o.indexOf("ICBCAndroidBS") > -1 }, n.isAndroid = function () { return o.indexOf("Android") > -1 }, n.isIPhone = function () { return o.indexOf("iPhone") > -1 }, n.GetNativeFunctionAndroid = function (e) { setTimeout(function () { switch (e.keyword) { case "open": (function callLogin(e) { var t = "merLogin.do?loginParams=" + e; $.ajax({ "type": "POST", "url": t, "dataType": "json", "async": !1, "success": function success(e) { $("#cust_id").text(e.cust_id), $("#phone").text(e.phone), null != e.longitude && null != e.latitude && $("#longitudeAndlatitude").text(e.longitude + "," + e.latitude), $("#cisno").text(e.cisno), $("#third_cisno").text(e.third_cisno), $("#isNewUser").text(e.isNewUser), $("#city_name").text(e.city_name), $("#city_code").text(e.city_code), $("#special").text(e.special), $("#device_id").text(e.device_id), $("#currentTimeMillis").text(e.currentTimeMillis), $("#loginSuc").text("中途登录成功！") }, "error": function error(e, t, r) { alert($.parseXML(e) + "," + t + "," + r) } }) })(prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['open','" + e.callMethod + "']}")); break; case "showToolBar": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['showToolBar','" + e.isShow + "']}"); break; case "back": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['back','']}"); break; case "openGPS": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['openGPS','']}"); break; case "closeGPS": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['closeGPS','']}"); break; case "getMyLocation": (function getGps(e) { null != e && "" != e ? $("#myLocal").text(e.longitude + "," + e.latitude) : $("#myLocal").text("定位获取失败！") })(prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['getMyLocation','" + e.getGps + "']}")); break; case "callPhoneNumber": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['callPhoneNumber','" + e.tel + "']}"); break; case "share": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['share','" + e.shareInfo + "']}"); break; case "openAddress": prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['openAddress','" + e.custId + "','" + e.appId + "']}"); break; case "getDefaultAddress": (function callBackAddress(e) { alert(e += "") })(prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['getDefaultAddress','" + e.custId + "','" + e.appId + "'],callBack:" + e.callback + "}")); break; case "getThirdScan": (function thirdScanCallback(e) { alert(e += "") })(prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['getThirdScan','" + e.callback + "']}")); break; case "getThirdARScan": (function thirdARScanCallback(e) { alert(e += "") })(prompt("callNativeMethod", "{obj:Native,func:DataConfigServiceServer,args:['getThirdARScan','" + e.callback + "']}")) } }) }, connectWebViewJavascriptBridge(function (e) { e.init() }); var i = { "callHandler": function callHandler(e, t, r) { connectWebViewJavascriptBridge(function (n) { n.callHandler(e, t, r) }) }, "send": function send(e, t) { connectWebViewJavascriptBridge(function (r) { r.send(e, t) }) } }; window.ICBCBridge = i, n.merLogin = function (e) { n.isAndroid() ? null != e ? n.elifeVer() < "213" ? Myutils.open(e) : n.GetNativeFunctionAndroid({ "keyword": "open", "callMethod": e }) : n.elifeVer() < "213" ? Myutils.open("callLogin") : n.GetNativeFunctionAndroid({ "keyword": "open", "callMethod": "callLogin" }) : null != e ? window.ICBCBridge.callHandler("Myutils.open", e) : window.ICBCBridge.callHandler("Myutils.open", "callLogin") }, n.showToolBar = function (e) { n.isAndroid() ? n.elifeVer() < "213" ? Myutils.showToolBar(e) : n.GetNativeFunctionAndroid({ "keyword": "showToolBar", "isShow": e }) : window.ICBCBridge.callHandler("Myutils.showToolBar", e) }, n.back = function () { n.isAndroid() ? n.elifeVer() < "213" ? Myutils.back() : n.GetNativeFunctionAndroid({ "keyword": "back" }) : window.ICBCBridge.callHandler("Myutils.back") }, n.openGPS = function () { n.isAndroid() ? n.elifeVer() < "213" ? Myutils.openGPS() : n.GetNativeFunctionAndroid({ "keyword": "openGPS" }) : window.ICBCBridge.callHandler("Myutils.openGPS") }, n.closeGPS = function () { n.isAndroid() ? n.elifeVer() < "213" ? Myutils.closeGPS() : n.GetNativeFunctionAndroid({ "keyword": "closeGPS" }) : window.ICBCBridge.callHandler("Myutils.closeGPS") }, n.getMyLocation = function (e) { n.isAndroid() ? null != e ? n.elifeVer() < "213" ? Myutils.getMyLocation(e) : n.GetNativeFunctionAndroid({ "keyword": "getMyLocation", "getGps": e }) : n.elifeVer() < "213" ? Myutils.getMyLocation("getGps") : n.GetNativeFunctionAndroid({ "keyword": "getMyLocation", "getGps": "getGps" }) : null != e ? window.ICBCBridge.callHandler("Myutils.getMyLocation", e) : window.ICBCBridge.callHandler("Myutils.getMyLocation", "getGps") }, n.callPhoneNumber = function (e) { n.isAndroid() ? n.elifeVer() < "213" ? Myutils.callPhoneNumber(e) : n.GetNativeFunctionAndroid({ "keyword": "callPhoneNumber", "tel": e }) : window.ICBCBridge.callHandler("Myutils.callPhoneNumber", e) }, n.base64Encode = function (e) { _utf8_encode = function _utf8_encode(e) { e = e.replace(/\r\n/g, "\n"); for (var t = "", r = 0; r < e.length; r++) { var n = e.charCodeAt(r); n < 128 ? t += String.fromCharCode(n) : n > 127 && n < 2048 ? (t += String.fromCharCode(n >> 6 | 192), t += String.fromCharCode(63 & n | 128)) : (t += String.fromCharCode(n >> 12 | 224), t += String.fromCharCode(n >> 6 & 63 | 128), t += String.fromCharCode(63 & n | 128)) } return t }, _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var t, r, n, o, i, a, s, c = "", u = 0; for (e = _utf8_encode(e); u < e.length;)o = (t = e.charCodeAt(u++)) >> 2, i = (3 & t) << 4 | (r = e.charCodeAt(u++)) >> 4, a = (15 & r) << 2 | (n = e.charCodeAt(u++)) >> 6, s = 63 & n, isNaN(r) ? a = s = 64 : isNaN(n) && (s = 64), c = c + _keyStr.charAt(o) + _keyStr.charAt(i) + _keyStr.charAt(a) + _keyStr.charAt(s); return c }, n.share = function (e) { if (ICBCUtilTools.isAndroid()) { if (n.elifeVer() < "213") return void window.Myutils.share(e); n.GetNativeFunctionAndroid({ "keyword": "share", "shareInfo": e }) } else ICBCUtilTools.isiPhone() && window.ICBCBridge.callHandler("Myutils.share", n.base64Encode(e)) }, n.getDefaultAddress = function (e, t) { if (ICBCUtilTools.isAndroid()) n.GetNativeFunctionAndroid({ "keyword": "getDefaultAddress", "custId": e, "appId": t, "callback": "callBackAddress" }); else if (ICBCUtilTools.isiPhone()) { var r = { "custId": e, "appId": t, "callback": "callBackAddress" }; r = JSON.stringify(r), window.ICBCBridge.callHandler("Myutils.getDefaultAddress", n.base64Encode(r)) } }, n.openAddress = function (e, t) { if (ICBCUtilTools.isAndroid()) n.GetNativeFunctionAndroid({ "keyword": "openAddress", "custId": e, "appId": t }); else if (ICBCUtilTools.isiPhone()) { var r = { "custId": e, "appId": t }; r = JSON.stringify(r), window.ICBCBridge.callHandler("Myutils.openAddress", n.base64Encode(r)) } }, n.getThirdScan = function () { ICBCUtilTools.isAndroid() ? n.GetNativeFunctionAndroid({ "keyword": "getThirdScan", "callback": "thirdScanCallback" }) : ICBCUtilTools.isiPhone() && window.WebViewJavascriptBridge.callHandler("Myutils.getThirdScan", "thirdScanCallback") }, n.getThirdARScan = function () { ICBCUtilTools.isAndroid() ? n.GetNativeFunctionAndroid({ "keyword": "getThirdARScan", "callback": "thirdARScanCallback" }) : ICBCUtilTools.isiPhone() && window.WebViewJavascriptBridge.callHandler("Myutils.getThirdARScan", "thirdARScanCallback") }, t.hybrid_app = n }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function IqiyiBridge() { this.init() } return IqiyiBridge.prototype.init = function () { this.loadScript() }, IqiyiBridge.prototype.loadScript = function () { var e = document.createElement("script"); e.src = "https://statics-web.iqiyi.com/common/jssdk/iqiyiJsBridge-v2-min.js"; var t = document.getElementsByTagName("script")[0]; t.parentNode.insertBefore(e, t) }, IqiyiBridge.prototype.chooseImage = function (e) { var t = (e || {}).success, r = (e || {}).sourceType; return r = n.adaperSourceType(r, "iqiyi"), new Promise(function (e) { var o, i; null === (i = null === (o = window.iqiyi) || void 0 === o ? void 0 : o.commonInvoke) || void 0 === i || i.call(o, "JSBRIDGE_OPEN_CAMERA_CAPTURE_VIDEO", { "device": r }, function (r) { n.isFunction(t) && t(r), e(r) }) }) }, IqiyiBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, void 0, function () { var t, r, i; return n.__generator(this, function (a) { return r = (t = e || {}).success, i = t.eventType, [2, new Promise(function (t, a) { var s, c; null === (c = null === (s = window.iqiyi) || void 0 === s ? void 0 : s.commonInvoke) || void 0 === c || c.call(s, "JSBRIDGE_GET_COORDINATES", null, function (a) { if (1 !== a.result) { var s = null == a ? void 0 : a.msg; return console.error("getLocation occur error: " + s + ", begin to invoke native getLocation method"), o.getLocationInNativeH5(e).then(function (e) { t(e) }) } a.tag = i, n.isFunction(r) && r(a), t(a) }) })] }) }) }, IqiyiBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, IqiyiBridge.prototype.closeWebView = function () { var e, t; return null === (t = null === (e = window.iqiyi) || void 0 === e ? void 0 : e.closePage) || void 0 === t || t.call(e), Promise.resolve("") }, IqiyiBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, IqiyiBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, IqiyiBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, IqiyiBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7), o = r(5), i = function () { function MuappBridge() { } return MuappBridge.prototype.chooseImage = function (e) { return new Promise(function (t, r) { var o, i, a, s = e || {}, c = s.size, u = void 0 === c ? 400 : c, l = s.maskType, f = void 0 === l ? 0 : l, d = s.success, p = s.fail, h = (e || {}).sourceType; h = n.adaperSourceType(h, "muapp"); try { null === (a = null === (i = null === (o = window.top.muna) || void 0 === o ? void 0 : o.CameraPlugin) || void 0 === i ? void 0 : i.pickPhoto) || void 0 === a || a.call(i, { "type": h, "size": u, "maskType": f, "success": function success(e) { var r = "data:image/png;base64, " + e.image, o = { "src": r, "tempFilePaths": [r], "tempFiles": [{ "path": r }], "base64": r, "scene": 0 === h ? "camera" : "album" }; n.isFunction(d) && d(o), t(o) }, "fail": function fail(e) { n.isFunction(p) && p(e), r(e) } }) } catch (e) { r(e) } }) }, MuappBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, o, i, a, s, c, u; return n.__generator(this, function (l) { return t = e || {}, r = n.__assign({ "useCache": !1, "useGps": !0, "needAddress": !1 }, t), o = r.useCache, i = r.useGps, a = r.needAddress, s = r.success, c = r.fail, u = r.eventType, [2, new Promise(function (e, t) { var r, l, f; try { null === (f = null === (l = null === (r = window.top.muna) || void 0 === r ? void 0 : r.GeolocationPlugin) || void 0 === l ? void 0 : l.getLocationOnce) || void 0 === f || f.call(l, o, i, a, function (t) { var r = n.__assign({ "tag": u }, t); n.isFunction(s) && s(r), e(r) }, function (t) { var r = t.errCode, o = { "longitude": n.LBS_CODE.default, "latitude": n.LBS_CODE.default, "tag": u }; 2 === r && (o = { "longitude": n.LBS_CODE.refuse, "latitude": n.LBS_CODE.refuse, "tag": u }), n.isFunction(c) && c(o), e(o) }, u) } catch (e) { n.isFunction(c) && c(e), t(e) } })] }) }) }, MuappBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, MuappBridge.prototype.screenRecord = function (e) { return new Promise(function (t, r) { var n, o, i, a; try { var s = e.config; if (e && e.config) { var c = "muapp://screenrecord/startRecord?config=" + s; null === (a = null === (i = null === (o = null === (n = null === window || void 0 === window ? void 0 : window.top) || void 0 === n ? void 0 : n.muapp) || void 0 === o ? void 0 : o.PagerJumpPlugin) || void 0 === i ? void 0 : i.navigateTo) || void 0 === a || a.call(i, c, e.successCallBack, e.failCallBack), t(!0) } } catch (e) { r("调用原生录屏失败") } }) }, MuappBridge.prototype.setNavigationBarTitle = function (e) { var t = e.title, r = void 0 === t ? "" : t; return new Promise(function (e, t) { var n, o, i; try { null === (i = null === (o = null === (n = window.top.muapp) || void 0 === n ? void 0 : n.H5TitleBarPlugin) || void 0 === o ? void 0 : o.setNativeBarTitle) || void 0 === i || i.call(o, r), document.title = r, e("") } catch (e) { t(e) } }) }, MuappBridge.prototype.onMenuShare = function (e) { var t = e.title, r = e.desc, n = e.link, o = e.imgUrl, i = e.typeList, a = e.showShareBtn, s = void 0 === a || a; return new Promise(function (e, a) { var c, u, l, f, d, p, h, m, g; try { null === (l = null === (u = null === (c = window.top.muna) || void 0 === c ? void 0 : c.SharePlugin) || void 0 === u ? void 0 : u.onShare) || void 0 === l || l.call(u, { "data": { "title": t, "desc": r, "link": n, "imgUrl": o, "typeList": i }, "success": function success() { e("") }, "cancel": function cancel() { a() } }), s ? (null === (g = null === (m = null === (h = window.top.muapp) || void 0 === h ? void 0 : h.H5TitleBarPlugin) || void 0 === m ? void 0 : m.addShareButton) || void 0 === g || g.call(m, 1), e("")) : (null === (p = null === (d = null === (f = window.top.muna) || void 0 === f ? void 0 : f.SharePlugin) || void 0 === d ? void 0 : d.share) || void 0 === p || p.call(d), e("")) } catch (e) { a("err: " + JSON.stringify(e)) } }) }, MuappBridge.prototype.closeWebView = function () { var e, t, r; return null === (r = null === (t = null === (e = window.top.muna) || void 0 === e ? void 0 : e.UiKitPlugin) || void 0 === t ? void 0 : t.webClose) || void 0 === r || r.call(t), Promise.resolve("") }, MuappBridge.prototype.setNavigationNarRightTextTitle = function (e) { var t = e || {}, r = t.titleJson, o = t.successCallback; return new Promise(function (e, t) { var i, a, s; try { null === (s = null === (a = null === (i = window.top.muapp) || void 0 === i ? void 0 : i.H5TitleBarPlugin) || void 0 === a ? void 0 : a.setRightTextTitle) || void 0 === s || s.call(a, o, r), e("") } catch (e) { console.error("调用muapp setRightTextTitle 异常: " + e), t(n.ErrMsg.INVOKE_FAIL) } }) }, MuappBridge.prototype.setNavigationBarGoBackAction = function (e) { var t = e.backParam, r = e.successCallback, o = e.errorCallback; return new Promise(function (e, i) { var a, s, c; try { null === (c = null === (s = null === (a = window.top.muapp) || void 0 === a ? void 0 : a.H5TitleBarPlugin) || void 0 === s ? void 0 : s.goBackAction) || void 0 === c || c.call(s, r, t, o), e("") } catch (e) { console.error("调用muapp goBackAction 异常: " + e), i(n.ErrMsg.INVOKE_FAIL) } }) }, MuappBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, MuappBridge.prototype.chooseAliPaySDK = function (e) { var t = e.aliparams, r = void 0 === t ? "" : t, o = e.orderStr, i = void 0 === o ? "" : o, a = e.onSuccess, s = e.onFail; return new Promise(function (e, t) { var o, c, u; try { null === (u = null === (c = null === (o = window.top.muapp) || void 0 === o ? void 0 : o.AliPayPlugin) || void 0 === c ? void 0 : c.alipayAction) || void 0 === u || u.call(c, r || i, function (t) { n.isFunction(a) && a(t), e(t) }, function (e) { n.isFunction(s) && s(e), t(e) }) } catch (e) { t("err: " + JSON.stringify(e)) } }) }, MuappBridge.prototype.chooseContactMain = function (e, t) { var r, o, i; null === (i = null === (o = null === (r = window.top.muapp) || void 0 === r ? void 0 : r.PagerJumpPlugin) || void 0 === o ? void 0 : o.route) || void 0 === i || i.call(o, "muapp://functionalExt/selectedContactInfo", function (r) { var o = n.adaperContactRes(r, "muapp") || {}; n.isFunction(e.success) && e.success(o), t(o) }) }, MuappBridge.prototype.chooseContact = function (e) { var t = this; return void 0 === e && (e = {}), new Promise(function (r) { var n, i, a; if (o.isAndroid()) { var s = e.needRequest, c = void 0 === s ? 0 : s; null === (a = null === (i = null === (n = window.muapp) || void 0 === n ? void 0 : n.PagerJumpPlugin) || void 0 === i ? void 0 : i.route) || void 0 === a || a.call(i, "muapp://mupermission/checkPermission?permission=contact&needRequest=" + c, function (n) { void 0 === n && (n = {}), "1" === n.result ? t.chooseContactMain(e, r) : r({ "isLimit": !0 }) }) } else t.chooseContactMain(e, r) }) }, MuappBridge.prototype.checkPermission = function (e) { var t = e || {}, r = t.needRequest, n = void 0 === r ? 1 : r, o = t.permission, i = t.eventType; return new Promise(function (e, r) { var a, s, c, u; try { if (t && t.permission) { var l = "muapp://functionalExt/checkPermission?permission=" + o + "&eventType=" + i + "&needRequest=" + n; null === (u = null === (c = null === (s = null === (a = null === window || void 0 === window ? void 0 : window.top) || void 0 === a ? void 0 : a.muapp) || void 0 === s ? void 0 : s.PagerJumpPlugin) || void 0 === c ? void 0 : c.navigateTo) || void 0 === u || u.call(c, l, function (t) { void 0 === t && (t = {}), e(t) }) } else r("参数有误") } catch (e) { r(e) } }) }, MuappBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function SpdbankBridge() { this.init() } return SpdbankBridge.prototype.init = function () { window.callbackFromNative = function (e, t) { "string" == typeof t && (t = JSON.parse(t)), window[e] && window[e](t) }; !function appendScript(e) { e.forEach(function (e) { var t = document.createElement("script"); t.type = "text/javascript", t.src = "https://munaResource/" + e + ".js", document.body.appendChild(t) }) }(["UiKitPlugin", "GeolocationPlugin", "CameraPlugin", "VideoPlugin"]) }, SpdbankBridge.prototype.chooseImage = function (e) { var t = e || {}, r = t.success, o = t.fail; if (window.top.muna) { var i = (e || {}).size, a = void 0 === i ? 400 : i, s = (e || {}).sourceType; return s = n.adaperSourceType(s, "spdbank"), new Promise(function (e, t) { var i, c, u; null === (u = null === (c = null === (i = window.top.muna) || void 0 === i ? void 0 : i.CameraPlugin) || void 0 === c ? void 0 : c.takePhoto) || void 0 === u || u.call(c, s, a, function (t) { var o = t.image, i = n.__assign({ "base64": o, "tempFilePaths": [o], "tempFiles": [{ "path": o }], "scene": 0 === s ? "camera" : "album" }, t); n.isFunction(r) && r(i), e(i) }, function () { n.isFunction(o) && o(), t("") }) }) } return window.callbackTakePicture = function (e) { "1" === e.status ? setTimeout(function () { n.isFunction(r) && r({ "base64": e.data }) }, 200) : n.isFunction(o) && o("相机调用失败") }, window.location.href = SpdbankBridge.PHOTO_SCHEME, Promise.resolve("") }, SpdbankBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i; return n.__generator(this, function (a) { return r = (t = e || {}).success, i = t.eventType, window.top.muna ? [2, new Promise(function (t, a) { var s, c, u; null === (u = null === (c = null === (s = window.top.muna) || void 0 === s ? void 0 : s.GeolocationPlugin) || void 0 === c ? void 0 : c.getLocationOnce) || void 0 === u || u.call(c, !1, !0, !0, function (e) { e.tag = i, n.isFunction(r) && r({ "longitude": e.longitude, "latitude": e.latitude, "coordinateSystem": "WGS-84", "tag": i }), t(e) }, function () { return o.getLocationInNativeH5(e).then(function (e) { t(e) }) }, i) })] : (window.callbackGetPosition = function (t) { if (!t.latitude || !t.longitude) return o.getLocationInNativeH5(e); n.isFunction(r) && r(t) }, window.location.href = SpdbankBridge.LOCATION_SCHEME, [2, Promise.resolve("")]) }) }) }, SpdbankBridge.prototype.closeWebView = function () { var e, t, r; if (window.top.muna) { var o = null === (e = window.top.muna) || void 0 === e ? void 0 : e.UiKitPlugin; try { return n.isFunction(null == o ? void 0 : o.sdkExit) && (null === (t = null == o ? void 0 : o.sdkExit) || void 0 === t || t.call(o)), n.isFunction(null == o ? void 0 : o.webClose) && (null === (r = null == o ? void 0 : o.webClose) || void 0 === r || r.call(o)), Promise.resolve("") } catch (e) { return console.log(e), n.temporarilyNotSupport("onMenuShare") } } return window.location.href = SpdbankBridge.CLOSE_SCHEME, Promise.resolve("") }, SpdbankBridge.prototype.chooseVideo = function (e) { var t = e || {}, r = t.success, o = t.fail, i = window.top.muna; return new Promise(function (e, t) { var a, s, c, u; n.isIOS ? null === (s = null === (a = null == i ? void 0 : i.CameraPlugin) || void 0 === a ? void 0 : a.takePhoto) || void 0 === s || s.call(a, 4, 100, function (i) { var a = i.video; "" !== a ? (n.isFunction(r) && r.apply(null, [{ "video": a, "videoData": a }]), e(n.__assign(n.__assign({}, i), { "videoData": a }))) : (n.isFunction(o) && o.apply(null, ["视频录制失败"]), t("视频录制失败")) }, function (e) { 1 !== e.errCode && t("录制视频出错，请确认开启摄像头权限。") }) : null === (u = null === (c = null == i ? void 0 : i.VideoPlugin) || void 0 === c ? void 0 : c.record) || void 0 === u || u.call(c, 5, function (i) { var a = i.video; "" !== a ? (n.isFunction(r) && r.apply(null, [{ "video": a, "videoData": a }]), e(n.__assign(n.__assign({}, i), { "videoData": a }))) : (n.isFunction(o) && o.apply(null, ["视频录制失败"]), t("视频录制失败")) }, function (e) { 1 !== e.errCode && t("录制视频出错，请确认开启摄像头权限。") }) }) }, SpdbankBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, SpdbankBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, SpdbankBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, SpdbankBridge.CLOSE_SCHEME = "spdbapp://api/closeWebview", SpdbankBridge.PHOTO_SCHEME = "spdbapp://api/takePicture?callbackId=callbackTakePicture", SpdbankBridge.LOCATION_SCHEME = "spdbapp://api/getPosition?callbackId=callbackGetPosition", SpdbankBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function T8tBridge() { this.bridge = {}, this.registerNativeApis() } return T8tBridge.prototype.registerNativeApis = function () { window.bridge = this.initBridge(), this.bridge = window.bridge, window.callbackFromNative = this.bridge.callbackFromNative }, T8tBridge.prototype.initBridge = function () { var e = function () { var e = {}, t = { "SUCCESS": 200, "FAIL": -1, "APP_ERROR": 500, "NO_API": 401 }, r = { "takePicture": "imageData", "getPosition": "lbsData", "closeWebview": "close", "setTitle": "close" }; return { "callNative": function callNative(t, o, i, a) { var s = a || {}; switch (i) { case "takePicture": s = { "data": { "openType": 1, "maxSize": 400 }, "callback": "callbackFromNative", "name": "biz.album" }; break; case "getPosition": s = { "callback": "callbackFromNative", "name": "map.getLocation" }; break; case "closeWebview": s = { "data": { "pageCount": 1 }, "name": "navigation.closePage" }; break; case "setTitle": s = { "data": a, "name": "navigation.setNavigationBar" }; break; default: return void console.error("回调函数不存在") }e[r[i]] = { "success": t, "fail": o }, n.isIOS ? window.webkit.messageHandlers.T8TJSbridge.postMessage(JSON.stringify(s)) : T8TJSbridge.postMessage(JSON.stringify(s)) }, "callbackFromNative": function callbackFromNative(r) { var n = JSON.parse(r), o = ""; if ("close" != (o = n.data && n.data.imageData ? "imageData" : n.data && (n.data.longitude || n.data.latitude) ? "lbsData" : "close")) { var i = e[o]; switch (o) { case "imageData": var a = { "base64": n.data.imageData[0] }; n.status == t.SUCCESS ? i.success && i.success.apply(null, [a]) : i.fail && i.fail.apply(null, [a]); break; case "lbsData": var s = { "longitude": n.data.longitude, "latitude": n.data.latitude, "coordinateSystem": n.data.coordinateSystem || "GCJ-02" }; n.status == t.SUCCESS ? i.success && i.success.apply(null, [s]) : i.fail && i.fail.apply(null, [s]) } } }, "errorCallback": function errorCallback() { }, "status": t } }(); return "takePicture getPosition closeWebview setTitle".split(" ").forEach(function (t) { e[t] = function (r) { var n = r || {}; n.data = n.data || {}, e.callNative(n.success, n.fail, t, n.data) } }), e }, T8tBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a = this; return n.__generator(this, function (s) { return r = (t = e || {}).success, i = t.eventType, [2, new Promise(function (t) { a.bridge.getPosition({ "success": function success(e) { var o = n.__assign({ "tag": i }, e); n.isFunction(r) && r(o), t(o) }, "fail": function fail() { return o.getLocationInNativeH5(e).then(function (e) { t(e) }) } }) })] }) }) }, T8tBridge.prototype.chooseImage = function (e) { var t = this, r = e || {}, o = r.success, i = r.fail; return new Promise(function (e, r) { t.bridge.takePicture({ "success": function success(t) { n.isFunction(o) && o(t); var i = t.base64 || t.image || t.photo; i || r(new Error("base64字段不存在")); var a = i.replace(/data:image.*?;base64,/, ""); e({ "src": ("data:image/jpeg;base64," + a).replace(/\s*/g, "") }) }, "fail": function fail(e) { n.isFunction(i) && i(e), r(e) } }) }) }, T8tBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, T8tBridge.prototype.closeWebView = function () { return this.bridge.closeWebview(), Promise.resolve("") }, T8tBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), this.bridge.setTitle({ "data": e }), Promise.resolve("") }, T8tBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, T8tBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, T8tBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function TencentVideoBridge() { } return TencentVideoBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, TencentVideoBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, TencentVideoBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a; return n.__generator(this, function (s) { return r = (t = e || {}).eventType, i = t.success, a = t.fail, [2, new Promise(function (t, s) { window.TenvideoJSBridge.invoke("getLocation", {}, function (c) { var u = { "coordinateSystem": "GCJ-02" }; try { if (0 !== JSON.parse(c).errCode && "0" !== JSON.parse(c).errCode) return o.getLocationInNativeH5(e).then(function (e) { t(e) }); u.latitude = JSON.parse(c).result.lat, u.longitude = JSON.parse(c).result.lon, u.tag = r, n.isFunction(i) && i({ "latitude": JSON.parse(c).result.lat, "longitude": JSON.parse(c).result.lon, "tag": r }), t(u) } catch (e) { n.isFunction(a) && a(), s(e) } }) })] }) }) }, TencentVideoBridge.prototype.setNavigationBarTitle = function (e) { return o.setNavigationBarTitleInNativeH5(e) }, TencentVideoBridge.prototype.closeWebView = function () { var e; return null === (e = window.TenvideoJSBridge) || void 0 === e || e.invoke("close"), Promise.resolve("") }, TencentVideoBridge.prototype.onMenuShare = function (e) { return n.temporarilyNotSupport("onMenuShare") }, TencentVideoBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, TencentVideoBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function UnicomBridge() { this.bridge = {}, this.init(), this.registerNativeApis() } return UnicomBridge.prototype.init = function () { this.loadScript() }, UnicomBridge.prototype.loadScript = function () { var e = document.createElement("script"); e.type = "text/javascript"; var t = window.location.protocol; e.src = t + "//img.client.10010.com/mslab/libs/msJSBridge-0.9.js"; var r = document.getElementsByTagName("script")[0]; r.parentNode.insertBefore(e, r), e.onload = function () { var e = document.createEvent("Event"); e.initEvent("unicomScriptLoad", !0, !0), document.dispatchEvent(e) } }, UnicomBridge.prototype.initBridge = function () { var e = function () { var e = { "takePhotoOrCamera": "takePhotoOrCamera", "takePhoto": "photoData", "getGeoLocation": "lbsData", "close": "close", "openNewWindow": "openNewWindow" }, t = {}, r = { "NO_RESULT": 0, "SUCCESS": 1, "PROGRESS": 2, "URL_ERROR": 3, "PLUGIN_NOT_FOUNT": 4, "NO_PERMISSION": 5, "INVALID_ACTION": 6, "ILLEGAL_ARGUMENT": 7, "JSON_EXCEPTION": 8, "EXCEPTION": 9, "CUSTOM_ERROR": 10, "TIMEOUT": 11, "PERMISSION_DENIED": 12 }; return { "callNative": function callNative(r, o, i, a, s) { t[e[r]] = { "success": a, "fail": s }; var c = { "type": r, "msg": o, "url": encodeURI(i) }, u = JSON.stringify(c); n.isIOS ? window.location.href = encodeURI("clientAction=" + u) : "takePhotoOrCamera" === r || "openNewWindow" === r ? window.js_invoke.interact(u) : "takePhoto" === r && null !== o && "{}" !== JSON.stringify(o) ? window.js_invoke[r](u) : window.js_invoke[r]() }, "callbackFromNative": function callbackFromNative(e, n) { var o, i, a, s = t[e], c = JSON.parse(n); s ? (c.status === r.SUCCESS ? null === (o = s.success) || void 0 === o || o.apply(null, [c]) : c.status === r.PROGRESS ? null === (i = s.progress) || void 0 === i || i.apply(null, [c]) : null === (a = s.fail) || void 0 === a || a.apply(null, [c]), c.keepCallback || delete t[e]) : console.error("回调函数不存在") }, "status": r, "callbacksMap": e } }(); for (var t in e.callbacksMap) e.callbacksMap[t] && (e[t] = function (t) { return function (r) { var n = r || {}, o = n.msgStr, i = n.success, a = n.fail, s = n.url, c = void 0 === s ? "" : s; e.callNative(t, o, c, i, a) } }(t)); return e.setNavigationBarTitle = function (e) { window.clientGetJsTitle = function () { return e.title } }, e }, UnicomBridge.prototype.registerNativeApis = function () { window.bridge = this.initBridge(), this.bridge = window.bridge }, UnicomBridge.prototype.registerEventPromise = function (e) { return "undefined" != typeof ms ? e() : new Promise(function (t, r) { document.addEventListener("unicomScriptLoad", function () { e().then(function (e) { t(e || "") }).catch(function (e) { r(e) }) }, !1) }) }, UnicomBridge.prototype.getLocation = function (e) { var t = { "coordinateSystem": "BD-09" }, r = e || {}, i = r.eventType, a = r.success; return this.registerEventPromise(function getUniLocation() { return new Promise(function (r) { ms.getLocationInfo(e).then(function (e) { t.latitude = e.latitude, t.longitude = e.longitude, t.tag = i, n.isFunction(a) && a(t), r(t) }).catch(function () { return o.getLocationInNativeH5(e).then(function (e) { r(e) }) }) }) }) }, UnicomBridge.prototype.chooseImage = function (e) { if (-1 !== n.compareUniComVersion("8.0704")) { var t = e || {}, r = t.sizeType, o = t.size, i = void 0 === o ? 400 : o, a = t.success, s = t.fail, c = t.complete, u = (e || {}).sourceType; u = n.adaperSourceType(u, "newUnicom"); return this.registerEventPromise(function unicomChooseImage() { return new Promise(function (t, o) { ms.chooseImage(n.__assign(n.__assign({}, e), { "sourceType": u, "compressSize": "compressed" === r[0] ? i : 400 })).then(function (e) { if (e && e.imageData) { var r = "data:image/png;base64," + e.imageData, o = n.__assign({ "src": r, "tempFilePaths": [r], "tempFiles": [{ "path": r }], "base64": r, "scene": u || "camera" }, e); n.isFunction(a) && a(o), t(o) } }).catch(function (e) { var t = { "errAuthMsg": "抱歉，相机出现问题。请您到手机 - 设置 - 应用管理 - 权限管理 中检查是否开启了相机权限。", "errOtherMsg": JSON.stringify(e), "errMsg": "拍照调用失败或取消" }; n.isFunction(s) && s(t), console.error(t.errMsg), o(t.errMsg) }).finally(function () { n.isFunction(c) && c() }) }) }) } var l = this.bridge.takePhoto, f = e || {}, d = f.success, p = f.fail, h = f.authParams, m = void 0 === h ? {} : h, g = f.enableAuthPopup, v = void 0 !== g && g, y = (e || {}).sourceType; y = n.adaperSourceType(y, "unicom"); var b = v && -1 !== n.compareUniComVersion("7.0403"), S = { "authorTitle": "自拍照需要手机相机权限", "authorMsg": "仅用于确定您本人，保障资金安全，不允许将无法使用服务", "cancelTitle": "取消", "sureTitle": "去设置", "cameraSide": y, "photoQuality": "low", "onSuccess": "bridge.callbackFromNative", "onFail": "bridge.callbackFromNative" }, _ = null; return b && (_ = n.__assign(n.__assign({}, S), m)), new Promise(function (e, t) { l({ "msgStr": _, "success": function success(t) { if (t && t.photo) { var r = "data:image/png;base64," + t.photo, o = n.__assign({ "src": r, "tempFilePaths": [r], "tempFiles": [{ "path": r }], "base64": r, "scene": "camera" }, t); n.isFunction(d) && d(o), e(o) } }, "fail": function fail(e) { var r = n.__assign({ "errAuthMsg": "抱歉，相机出现问题。请您到手机 - 设置 - 应用管理 - 权限管理 中检查是否开启了相机权限。", "errOtherMsg": JSON.stringify(e), "errMsg": "拍照调用失败或取消" }, e); n.isFunction(p) && p(r), console.error(r.errMsg), t(r.errMsg) } }) }) }, UnicomBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, UnicomBridge.prototype.closeWebView = function () { return this.registerEventPromise(function unicomNavigateClose() { return new Promise(function (e) { ms.navigateClose(), e("") }) }) }, UnicomBridge.prototype.setNavigationBarTitle = function (e) { return this.registerEventPromise(function unicomSetNavigationBarTitle() { return new Promise(function (t) { ms.setNavigationBarTitle(e && e.title || ""), t("") }) }) }, UnicomBridge.prototype.onMenuShare = function (e) { var t = e.title, r = e.desc, o = e.link, i = e.imgUrl, a = e.success, s = e.cancle; return this.registerEventPromise(function unicomOnMenuShare() { return new Promise(function (c, u) { ms.showShareMenu(n.__assign(n.__assign({}, e), { "shareTitle": t, "shareContent": r, "shareURL": o, "shareIconURL": i, "shareStyle": "webpage" })).then(function (e) { n.isFunction(a) && a(e), c(e) }).catch(function (e) { n.isFunction(s) && s(e), u(e) }) }) }) }, UnicomBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, UnicomBridge.prototype.pushWindow = function (e) { var t = e.url, r = e.requestType, o = void 0 === r ? 1 : r, i = e.fullScreen, a = void 0 === i ? 0 : i, s = t; 1 == o && (s = -1 !== s.indexOf("?") ? s + "&unicomClientMethod=unicomClientGet" : s + "?unicomClientMethod=unicomClientGet"), 1 == a && (s = -1 !== s.indexOf("?") ? s + "&webViewNavIsHidden=true" : s + "?webViewNavIsHidden=true"); return this.registerEventPromise(function unicomnNavigateTo() { return new Promise(function (t) { ms.navigateTo(n.__assign(n.__assign({}, e), { "target": encodeURI(s) })), t("") }) }) }, UnicomBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o, i = r(10), a = r(16), s = function () { function WechatBridge(e) { this.env = n.getCurrentEnv(), this.params = n.__assign({ "jsApiList": ["chooseImage", "previewImage", "uploadImage", "getLocation", "closeWindow", "chooseWXPay", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "onMenuShareQZone", "miniProgram"], "openTagList": ["wx-open-subscribe"] }, e), this.channel = e && e.channel || n.getChannel(), this.authApiHost = n.getApiHost("auth"), this.mgpApiHost = n.getApiHost("mgp"), this.appId = n.isWorkWx ? n.WXWORK_APPID_MAP[this.env] : e && e.appId || n.getAppId(this.env, this.channel), this.wechatSign = this.mgpApiHost + "/?operationId=xll.basic.wechat.jsSdkSign", o = r(123) } return WechatBridge.prototype.initWechat = function (e) { return void 0 === e && (e = {}), n.__awaiter(this, void 0, void 0, function () { var t, r, i, s, c, u, l, f, d, p, h, m, g, v, y, b, S, _; return n.__generator(this, function (w) { switch (w.label) { case 0: n.isFunction(e.ready) && o.ready(e.ready), n.isFunction(e.error) && o.error(e.error), t = e.debug, r = void 0 !== t && t, i = e.appId, s = void 0 === i ? this.appId : i, c = n.buildEnvParams(e), u = c.EnvParams, l = c.reqEnvParams, f = window.location.href.split("#")[0], d = {}, w.label = 1; case 1: return w.trys.push([1, 6, , 7]), p = {}, n.isWorkWx ? [4, a.customFetch({ "url": n.WXWORK_SIGNATURE[this.env], "method": "POST", "data": { "appId": s, "url": f, "EnvParams": u, "reqEnvParams": l } })] : [3, 3]; case 2: return p = w.sent(), [3, 5]; case 3: return [4, a.customFetch({ "url": this.wechatSign, "method": "POST", "data": { "data": { "url": f, "appId": s }, "EnvParams": u, "reqEnvParams": l } })]; case 4: p = w.sent(), w.label = 5; case 5: return d = null == p ? void 0 : p.data, [3, 7]; case 6: return h = w.sent(), console.error("wechat get signature occur error: " + h), [3, 7]; case 7: return g = (m = d || {}).timestamp, v = void 0 === g ? "" : g, y = m.nonceStr, b = void 0 === y ? "" : y, S = m.signature, _ = void 0 === S ? "" : S, o.config({ "debug": r, "appId": s, "timestamp": v, "nonceStr": b, "signature": _, "jsApiList": this.params.jsApiList, "openTagList": this.params.openTagList }), [2] } }) }) }, WechatBridge.prototype.goWechatAuth = function (e) { var t = Object.assign({}, { "callbackUrl": this.authApiHost + "/wechat/callback/auth.jhtml?channel=" + this.channel, "redirectUrl": window.location.href, "scope": "snsapi_userinfo", "forceLogin": !0 }, e), r = t.callbackUrl, n = t.redirectUrl, o = t.scope; -1 === ["snsapi_base", "snsapi_userinfo"].join("").indexOf(o) && (o = "snsapi_userinfo"), n = n.replace(/[?&]from=(\w)*&isappinstalled=1/, ""), t.forceLogin ? n && n.replace("#noForceLogin", "") : n && -1 === n.indexOf("#noForceLogin") && (n += "#noForceLogin"); var i = WechatBridge.WECHAT_AUTH_URL + "?appid=" + this.appId + "\n    &redirect_uri=" + encodeURIComponent(r) + "&response_type=code\n    &scope=" + o + "&state=" + encodeURIComponent(n) + "#wechat_redirect"; window.location.replace(i) }, WechatBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, a, s, c; return n.__generator(this, function (u) { return t = { "coordinateSystem": "WGS-84" }, a = (r = e || {}).eventType, s = r.success, c = r.fail, [2, new Promise(function (r) { o.ready(function () { o.getLocation({ "type": e && e.type || "wgs84", "success": function success(e) { t.latitude = e.latitude, t.longitude = e.longitude, t.tag = a, n.isFunction(s) && s(t), r(t) }, "fail": function fail(t) { return console.error(t), i.getLocationInNativeH5(e).then(function (e) { r(e) }) }, "cancel": function cancel() { t.latitude = n.LBS_CODE.refuse, t.longitude = n.LBS_CODE.refuse, t.tag = a, n.isFunction(c) && c(t), r(t) } }) }) })] }) }) }, WechatBridge.prototype.getLocalImgData = function (e, t, r, i, a, s) { void 0 === s && (s = ["camera", "album"]), o.getLocalImgData({ "localId": e, "success": function success(r) { var o = r.localData.replace("data:image/jgp", "data:image/jpeg"); -1 === o.search(/data:image\/(jpe?g|png|gif)/) && (o = "data:image/jpeg;base64, " + o); var a = { "src": o, "localId": e, "tempFilePaths": [o], "tempFiles": [{ "path": o }], "base64": o, "scene": "camera" === s.toString() ? "camera" : "album" }; n.isFunction(i) && i(a), t(a) }, "fail": function fail() { console.error("相片预览失败"), n.isFunction(a) && a("相片预览失败"), r("相片预览失败") } }) }, WechatBridge.prototype.getBase64ImgData = function (e) { var t = this, r = e.localId, n = void 0 === r ? "" : r, o = e.success, i = e.fail, a = e.sourceType; return new Promise(function (e, r) { t.getLocalImgData(n, e, r, o, i, a) }) }, WechatBridge.prototype.chooseImage = function (e) { var t = this, r = n.__assign({ "count": 9, "sizeType": ["original", "compressed"], "size": 400, "maskType": 0 }, e), i = r.count, a = r.sizeType, s = r.success, c = r.fail, u = r.sourceType; return u = n.adaperSourceType(u, "weixin"), new Promise(function (e, r) { o.ready(function () { o.chooseImage({ "count": i, "sizeType": a, "sourceType": u, "success": function success(o) { var i = o.localIds, a = void 0 === i ? [""] : i, l = a[0]; window.__wxjs_is_wkwebview ? t.getLocalImgData(l, e, r, s, c, u) : t.getBase64ImgData({ "localId": l, "success": s, "fail": c, "sourceType": u }).then(function (t) { var r = t.base64, o = { "src": l, "localId": l, "tempFilePaths": a, "tempFiles": a.map(function (e) { return { "path": e } }), "base64": r, "scene": "camera" === u.toString() ? "camera" : "album" }; n.isFunction(s) && s(o), e(o) }) }, "fail": function fail() { console.error("拍照接口调用失败"), n.isFunction(c) && c(), r({ "errMsg": "拍照接口调用失败", "backup": !0 }) } }) }) }) }, WechatBridge.prototype.uploadImage = function (e) { var t = e.localId, r = e.success, i = e.fail; return new Promise(function (e, a) { setTimeout(function () { o.uploadImage({ "localId": t, "isShowProgressTips": 0, "success": function success(t) { n.isFunction(r) && r(t), e(t.serverId) }, "fail": function fail() { console.error("微信图片上传失败"), n.isFunction(i) && i(), a("微信图片上传失败") } }) }, 100) }) }, WechatBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, WechatBridge.prototype.previewImage = function (e) { var t = e.urls, r = e.current, i = e.success, a = e.fail; return new Promise(function (e, s) { o.ready(function () { o.previewImage({ "current": r || t[0], "urls": t, "success": function success(t) { n.isFunction(i) && i(t), e(t) }, "fail": function fail(e) { n.isFunction(a) && a(e), s(e) } }) }) }) }, WechatBridge.prototype.chooseWXPay = function (e) { var t = "", r = e || {}, i = r.timeStamp, a = r.nonceStr, s = r.signType, c = r.paySign, u = r.success, l = r.fail; return new Promise(function (r, f) { o.chooseWXPay({ "timestamp": "" + i, "nonceStr": a, "package": e.package, "signType": s, "paySign": c, "success": function success(e) { "chooseWXPay:ok" === e.errMsg ? (t = "true", n.isFunction(u) && u(t), r(t)) : (t = "fail", n.isFunction(l) && l(t), r(t)) }, "fail": function fail() { t = "fail", n.isFunction(l) && l(t), f(t) }, "cancel": function cancel() { t = "cancel", n.isFunction(l) && l(t), f(t) } }) }) }, WechatBridge.prototype.closeWebView = function () { return o.closeWindow(), Promise.resolve() }, WechatBridge.prototype.setNavigationBarTitle = function (e) { return i.setNavigationBarTitleInNativeH5(e) }, WechatBridge.prototype.onMenuShare = function (e) { o.ready(function () { o.onMenuShareTimeline(e), o.onMenuShareAppMessage(e), o.onMenuShareQQ(e), o.onMenuShareWeibo(e), o.onMenuShareQZone(e) }) }, WechatBridge.WECHAT_AUTH_URL = "https://open.weixin.qq.com/connect/oauth2/authorize", WechatBridge }(); t.default = s }, function (e, t, r) { "use strict"; (function (e) { Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(27), o = r(64); "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== e || "undefined" != typeof self && self; var i = function createCommonjsModule(e, t) { return e(t = { "exports": {} }, t.exports), t.exports }(function (e, t) { e.exports = function () { var e = function ts() { return Date.now() }, t = 8; function hex_md5(e) { return function binl2hex(e) { for (var t = "", r = 0; r < 4 * e.length; r++)t += "0123456789abcdef".charAt(e[r >> 2] >> r % 4 * 8 + 4 & 15) + "0123456789abcdef".charAt(e[r >> 2] >> r % 4 * 8 & 15); return t }(function core_md5(e, t) { e[t >> 5] |= 128 << t % 32, e[14 + (t + 64 >>> 9 << 4)] = t; for (var r = 1732584193, n = -271733879, o = -1732584194, i = 271733878, a = 0; a < e.length; a += 16) { var s = r, c = n, u = o, l = i; r = md5_ff(r, n, o, i, e[a + 0], 7, -680876936), i = md5_ff(i, r, n, o, e[a + 1], 12, -389564586), o = md5_ff(o, i, r, n, e[a + 2], 17, 606105819), n = md5_ff(n, o, i, r, e[a + 3], 22, -1044525330), r = md5_ff(r, n, o, i, e[a + 4], 7, -176418897), i = md5_ff(i, r, n, o, e[a + 5], 12, 1200080426), o = md5_ff(o, i, r, n, e[a + 6], 17, -1473231341), n = md5_ff(n, o, i, r, e[a + 7], 22, -45705983), r = md5_ff(r, n, o, i, e[a + 8], 7, 1770035416), i = md5_ff(i, r, n, o, e[a + 9], 12, -1958414417), o = md5_ff(o, i, r, n, e[a + 10], 17, -42063), n = md5_ff(n, o, i, r, e[a + 11], 22, -1990404162), r = md5_ff(r, n, o, i, e[a + 12], 7, 1804603682), i = md5_ff(i, r, n, o, e[a + 13], 12, -40341101), o = md5_ff(o, i, r, n, e[a + 14], 17, -1502002290), n = md5_ff(n, o, i, r, e[a + 15], 22, 1236535329), r = md5_gg(r, n, o, i, e[a + 1], 5, -165796510), i = md5_gg(i, r, n, o, e[a + 6], 9, -1069501632), o = md5_gg(o, i, r, n, e[a + 11], 14, 643717713), n = md5_gg(n, o, i, r, e[a + 0], 20, -373897302), r = md5_gg(r, n, o, i, e[a + 5], 5, -701558691), i = md5_gg(i, r, n, o, e[a + 10], 9, 38016083), o = md5_gg(o, i, r, n, e[a + 15], 14, -660478335), n = md5_gg(n, o, i, r, e[a + 4], 20, -405537848), r = md5_gg(r, n, o, i, e[a + 9], 5, 568446438), i = md5_gg(i, r, n, o, e[a + 14], 9, -1019803690), o = md5_gg(o, i, r, n, e[a + 3], 14, -187363961), n = md5_gg(n, o, i, r, e[a + 8], 20, 1163531501), r = md5_gg(r, n, o, i, e[a + 13], 5, -1444681467), i = md5_gg(i, r, n, o, e[a + 2], 9, -51403784), o = md5_gg(o, i, r, n, e[a + 7], 14, 1735328473), n = md5_gg(n, o, i, r, e[a + 12], 20, -1926607734), r = md5_hh(r, n, o, i, e[a + 5], 4, -378558), i = md5_hh(i, r, n, o, e[a + 8], 11, -2022574463), o = md5_hh(o, i, r, n, e[a + 11], 16, 1839030562), n = md5_hh(n, o, i, r, e[a + 14], 23, -35309556), r = md5_hh(r, n, o, i, e[a + 1], 4, -1530992060), i = md5_hh(i, r, n, o, e[a + 4], 11, 1272893353), o = md5_hh(o, i, r, n, e[a + 7], 16, -155497632), n = md5_hh(n, o, i, r, e[a + 10], 23, -1094730640), r = md5_hh(r, n, o, i, e[a + 13], 4, 681279174), i = md5_hh(i, r, n, o, e[a + 0], 11, -358537222), o = md5_hh(o, i, r, n, e[a + 3], 16, -722521979), n = md5_hh(n, o, i, r, e[a + 6], 23, 76029189), r = md5_hh(r, n, o, i, e[a + 9], 4, -640364487), i = md5_hh(i, r, n, o, e[a + 12], 11, -421815835), o = md5_hh(o, i, r, n, e[a + 15], 16, 530742520), n = md5_hh(n, o, i, r, e[a + 2], 23, -995338651), r = md5_ii(r, n, o, i, e[a + 0], 6, -198630844), i = md5_ii(i, r, n, o, e[a + 7], 10, 1126891415), o = md5_ii(o, i, r, n, e[a + 14], 15, -1416354905), n = md5_ii(n, o, i, r, e[a + 5], 21, -57434055), r = md5_ii(r, n, o, i, e[a + 12], 6, 1700485571), i = md5_ii(i, r, n, o, e[a + 3], 10, -1894986606), o = md5_ii(o, i, r, n, e[a + 10], 15, -1051523), n = md5_ii(n, o, i, r, e[a + 1], 21, -2054922799), r = md5_ii(r, n, o, i, e[a + 8], 6, 1873313359), i = md5_ii(i, r, n, o, e[a + 15], 10, -30611744), o = md5_ii(o, i, r, n, e[a + 6], 15, -1560198380), n = md5_ii(n, o, i, r, e[a + 13], 21, 1309151649), r = md5_ii(r, n, o, i, e[a + 4], 6, -145523070), i = md5_ii(i, r, n, o, e[a + 11], 10, -1120210379), o = md5_ii(o, i, r, n, e[a + 2], 15, 718787259), n = md5_ii(n, o, i, r, e[a + 9], 21, -343485551), r = safe_add(r, s), n = safe_add(n, c), o = safe_add(o, u), i = safe_add(i, l) } return [r, n, o, i] }(function str2binl(e) { for (var r = [], n = (1 << t) - 1, o = 0; o < e.length * t; o += t)r[o >> 5] |= (e.charCodeAt(o / t) & n) << o % 32; return r }(e), e.length * t)) } function md5_cmn(e, t, r, n, o, i) { return safe_add(function bit_rol(e, t) { return e << t | e >>> 32 - t }(safe_add(safe_add(t, e), safe_add(n, i)), o), r) } function md5_ff(e, t, r, n, o, i, a) { return md5_cmn(t & r | ~t & n, e, t, o, i, a) } function md5_gg(e, t, r, n, o, i, a) { return md5_cmn(t & n | r & ~n, e, t, o, i, a) } function md5_hh(e, t, r, n, o, i, a) { return md5_cmn(t ^ r ^ n, e, t, o, i, a) } function md5_ii(e, t, r, n, o, i, a) { return md5_cmn(r ^ (t | ~n), e, t, o, i, a) } function safe_add(e, t) { var r = (65535 & e) + (65535 & t), n = (e >> 16) + (t >> 16) + (r >> 16); return n << 16 | 65535 & r } var r = function arr(e) { for (var arr = e.split(""), t = [], r = arr.length, n = 0; n < r; n++)t.push(arr[n].charCodeAt()); return t }, n = function sum(e) { for (var sum = 0, t = 0; t < e.length; t++)sum += parseInt(e[t]); return sum }, o = function bin(e) { var t = [], r = e < 0; e = parseInt(r ? -e : e, 10); do { var n = e % 2; t.unshift(n), e = (e - n) / 2 } while (e > 0); return (r ? "-" : "") + t.join("") }, i = function xor(e, t) { for (var r = o(e).split(""), n = o(t).split(""), i = r.length, a = n.length, s = Math.min(i, a), c = [], u = 0; u < s; u++)c.unshift([] + [] + (r.pop() == n.pop() ? +[] : 1)); return i > s && (c = r.concat(c)), a > s && (c = n.concat(c)), parseInt(c.join(""), 2) }, a = "_" + ([] + [] + !1)[3], s = function mix(e, t) { var r = t.toString(36), n = ([] + [] + !1)[3] + ([] + [] + [][+[]])[+[]] + "b" + ([] + [] + !1)[3] + ([] + [] + !0)[+[]] + "r"; return "" + e[n](+[], 8) + r + e[n](-8) }, c = function filter(e, t) { for (var r = [], n = 0; n < e.length; n++)t(e[n], n) && r.push(e[n]); return r }, u = function reverse(e) { for (var t = (e = e.toString()).length, r = e[0], n = 0; n < t - 1; n++)r += e[t - 1 - n]; return parseInt(r) }; function _sign() { var t = e(), a = function count(e) { var t = o(e); return n(t.split("")) }, l = n(r(t.toString())), f = a(l), d = function xorTs(e) { return i(a(t), e) }(f), p = hex_md5("" + l + d + t), h = t % 2, m = c(p.split(""), function (e, t) { return (t + h) % 2 }).join(""); return s(m, u(t)) } return { "sign": function sign() { var e = {}; return e[a] = _sign(), e }, "appendTo": function appendTo(e) { var t = _sign(), r = a + "=" + t, n = document.createElement("a"); n.href = e; var o = n.search; return n.search = o + (o ? "&" : "") + r, n.href } } }() }), a = new RegExp(["\ud83c[\udf00-\udfff]", "\ud83d[\udc00-\ude4f]", "\ud83d[\ude80-\udeff]"].join("|"), "g"), s = function isEmoji(e) { return void 0 === e && (e = ""), null !== ("" + e).match(a) }, c = function loadFetchApis() { var e = window && window.navigator.userAgent.toLowerCase(); return /muapp\//i.test(e) ? r(120).default : r(122).default }(); function isObject(e) { var t = n._typeof(e); return null != e && ("object" === t || "function" === t) } var u = "object" === (void 0 === e ? "undefined" : n._typeof(e)) && null !== e && e.Object === Object && e, l = "object" === ("undefined" == typeof globalThis ? "undefined" : n._typeof(globalThis)) && null !== globalThis && globalThis.Object == Object && globalThis, f = "object" === ("undefined" == typeof self ? "undefined" : n._typeof(self)) && null !== self && self.Object === Object && self, d = l || u || f || Function("return this")(); function debounce(e, t, r) { var n, o, i, a, s, c, u = 0, l = !1, f = !1, p = !0, h = !t && 0 !== t && "function" == typeof d.requestAnimationFrame; if ("function" != typeof e) throw new TypeError("Expected a function"); function invokeFunc(t) { var r = n, i = o; return n = o = void 0, u = t, a = e.apply(i, r) } function startTimer(e, t) { return h ? (d.cancelAnimationFrame(s), d.requestAnimationFrame(e)) : setTimeout(e, t) } function trailingEdge(e) { return s = void 0, p && n ? invokeFunc(e) : (n = o = void 0, a) } function shouldInvoke(e) { var r = e - c; return void 0 === c || r >= (t || 0) || r < 0 || f && e - u >= i } function timerExpired() { var e = Date.now(); if (shouldInvoke(e)) return trailingEdge(e); s = startTimer(timerExpired, function remainingWait(e) { var r = e - u, n = (t = t || 0) - (e - c); return f ? Math.min(n, i - r) : n }(e)) } function debounced() { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; var i = Date.now(), d = shouldInvoke(i); if (n = e, o = this, c = i, d) { if (void 0 === s) return function leadingEdge(e) { return u = e, s = startTimer(timerExpired, t), l ? invokeFunc(e) : a }(c); if (f) return s = startTimer(timerExpired, t), invokeFunc(c) } return void 0 === s && (s = startTimer(timerExpired, t)), a } return t = +t || 0, isObject(r) && (l = !!r.leading, i = (f = "maxWait" in r) ? Math.max(+r.maxWait || 0, t) : i, p = "trailing" in r ? !!r.trailing : p), debounced.cancel = function cancel() { void 0 !== s && function cancelTimer(e) { if (h) return d.cancelAnimationFrame(e); clearTimeout(e) }(s), u = 0, n = c = o = s = void 0 }, debounced.flush = function flush() { return void 0 === s ? a : trailingEdge(Date.now()) }, debounced.pending = function pending() { return void 0 !== s }, debounced } var p = c.request, h = function pureRequest(e) { return n.__awaiter(void 0, void 0, Promise, function () { var t, r, o; return n.__generator(this, function (i) { if (!e.url) return console.error("url is required"), [2]; if (e.header = n.__assign({ "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" }, e.header), e.headers) { e.header = n.__assign(n.__assign({}, e.header), e.headers); try { delete e.headers } catch (e) { console.log("delete options headers occur error: " + e) } } if (t = ["Content-Type", "content-type"], e.header) { (r = t.filter(function (t) { return "multipart/form-data" === e.header[t] })) && r.length > 0 && t.map(function (t) { try { delete e.header[t] } catch (e) { console.log("delete options header Content-Type occur error: " + e) } }); try { delete e.header["content-type"] } catch (e) { console.log("delete options header content-type occur error: " + e) } } if (e.credentials = e.credentials || "include", e.data) for (o in e.data) if (s(e.data[o])) return console.error("不支持Emoji表情符"), [2]; return e.invokeApiType = e.invokeApiType || "pureRequest", e.throttle && (p = function throttle(e, t, r) { var n = !0, o = !0; if ("function" != typeof e) throw new TypeError("Expected a function"); return isObject(r) && (n = "leading" in r ? !!r.leading : n, o = "trailing" in r ? !!r.trailing : o), debounce(e, t, { "leading": n, "trailing": o, "maxWait": t }) }(p, e.throttleWait || 200)), [2, p(e).then(function (e) { var t = e.data; return Promise.resolve(t.clone()) }).catch(function (e) { return Promise.reject(e) })] }) }) }; function timeoutInterceptor(e) { var t, r = e.requestParams, n = new Promise(function (n, o) { var i = setTimeout(function () { i = null, o(new Error("网络链接超时,请稍后再试！")) }, r && r.timeout || 6e4); (t = e.proceed(r)).then(function (e) { i && (clearTimeout(i), n(e)) }).catch(function (e) { i && clearTimeout(i), o(e) }) }); return t.abort && (n.abort = t.abort), n } function logInterceptor(e) { var t = e.requestParams, r = t.method, n = t.data, o = t.url; console.log("http " + (r || "GET") + " --\x3e " + o + " data: ", n); var i = e.proceed(t), a = i.then(function (e) { return console.log("http <-- " + o + " result:", e), e }); return i.abort && (a.abort = i.abort), a } var m = function request(e) { return n.__awaiter(void 0, void 0, Promise, function () { var t, r, o, a, s, c; return n.__generator(this, function (u) { t = ""; try { t = i.sign()._s || "" } catch (e) { t = "" } r = { "sign": t }, e.data = e.data || {}, o = "", a = {}; try { o = e.data.reqEnvParams || "", a = JSON.parse(o) } catch (e) { o = "", a = {} } s = o ? a : {}; try { e.data.reqEnvParams = JSON.stringify(n.__assign(n.__assign({}, r), s)) } catch (t) { e.data.reqEnvParams = "" } return "GET" === (c = (e.method || "GET").toUpperCase()) ? e.data = n.__assign({}, e.data) : "POST" === c && "undefined" != typeof FormData && e.data instanceof FormData && e.data.set("reqEnvParams", e.data.reqEnvParams), e.invokeApiType = "request", [2, h(e).then(function (e) { return n.__awaiter(void 0, void 0, Promise, function () { return n.__generator(this, function (t) { return [2, Promise.resolve(e.clone())] }) }) }).catch(function (e) { return Promise.reject(e) })] }) }) }, g = function customFetch(e) { return n.__awaiter(void 0, void 0, Promise, function () { var t, r, a, s, c, u, l, f, d, p, m, g; return n.__generator(this, function (v) { t = ""; try { t = i.sign()._s || "" } catch (e) { t = "" } r = { "sign": t }, e.data = e.data || {}; try { a = e.data.EnvParams || "", s = e.data.reqEnvParams || "" } catch (e) { a = "", s = "" } u = o.isObject(a) && 0 !== Object.keys(a || {}).length, l = o.isString(a) && a.length > 0, f = ["EnvParams", "reqEnvParams"], d = u || l ? a : s; try { c = o.isString(d) ? JSON.parse(d) : d } catch (e) { c = {} } if (p = o.isObject(c) ? c : {}, m = JSON.stringify(n.__assign(n.__assign({}, r), p)), f.forEach(function (t) { e.data[t] = m }), "GET" === (g = (e.method || "GET").toUpperCase())) e.data = n.__assign({}, e.data); else if ("POST" === g && "undefined" != typeof FormData && e.data instanceof FormData) try { f.forEach(function (t) { e.data.set(t, m) }) } catch (e) { console.warn("convert data into FormData occur error: " + JSON.stringify(e)) } return e.invokeApiType = "customFetch", [2, h(e).then(function (e) { return n.__awaiter(void 0, void 0, Promise, function () { var t; return n.__generator(this, function (r) { return t = e.clone(), [2, Promise.resolve(t.json())] }) }) }).catch(function (e) { return Promise.reject(e) })] }) }) }, v = c.addInterceptor, y = c.cleanInterceptors, b = function () { console.error("h5渠道不支持该api") }, S = { "request": m, "pureRequest": h, "customFetch": g, "addInterceptor": v, "cleanInterceptors": y, "timeoutInterceptor": timeoutInterceptor, "logInterceptor": logInterceptor, "setMiniCookies": b }; t.addInterceptor = v, t.cleanInterceptors = y, t.customFetch = g, t.default = S, t.logInterceptor = logInterceptor, t.pureRequest = h, t.request = m, t.setMiniCookies = b, t.timeoutInterceptor = timeoutInterceptor }).call(this, r(14)) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(27), o = r(65), i = r(121), a = { "searchParams": "URLSearchParams" in self, "iterable": "Symbol" in self && "iterator" in Symbol, "blob": "FileReader" in self && "Blob" in self && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), "formData": "FormData" in self, "arrayBuffer": "ArrayBuffer" in self }; function normalizeName(e) { if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function normalizeValue(e) { return "string" != typeof e && (e = String(e)), e } function iteratorFor(e) { var t = { "next": function next() { var t = e.shift(); return { "done": void 0 === t, "value": t } } }; return a.iterable && (t[Symbol.iterator] = function () { return t }), t } function Headers(e) { this.map = {}, e instanceof Headers ? e.forEach(function (e, t) { this.append(t, e) }, this) : Array.isArray(e) ? e.forEach(function (e) { this.append(e[0], e[1]) }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) { this.append(t, e[t]) }, this) } function parseHeaders(e) { var t = new Headers; return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function (e) { var r = e.split(":"), n = r.shift().trim(); if (n) { var o = r.join(":").trim(); t.append(n, o) } }), t } function request(e) { var t = e || {}, r = t.useMunaAjax, o = void 0 !== r && r, a = t.data, s = void 0 === a ? {} : a, c = o ? window.top.muna.ajax : window.top.muna.httpRequest || window.top.muna.ajax, u = n.__assign(n.__assign({}, s), function dataToJson(e) { void 0 === e && (e = {}); var t = "object" === n._typeof(e.data) ? { "data": JSON.stringify(e.data) } : { "data": e.data }; return e.data || (t = {}), t }(s)); return new Promise(function (t, r) { return c({ "url": e.url, "method": e.method || "GET", "data": u, "headers": e.header, "dataType": e.dataType, "success": function success(r, n, o) { var a = { "status": o.status, "statusCode": o.status, "statusText": o.statusText, "headers": parseHeaders(o.getAllResponseHeaders() || ""), "data": JSON.parse(r), "url": o.requestUrl }, s = new i.Response(a, e), c = { "statusCode": "", "header": {}, "data": {} }; c.statusCode = o.status, c.header = {}, c.data = s, t(c) }, "error": function error(n, o) { if (n.status < 599) { var a = { "status": n.status, "statusCode": n.status, "statusText": n.statusText, "headers": parseHeaders(n.getAllResponseHeaders() || "") }; a.url = n.requestUrl; var s = new i.Response(a, e), c = { "statusCode": n.status, "header": {}, "data": {} }; c.data = s, t(c) } else r(n.statusText) } }) }) } Headers.prototype.append = function (e, t) { e = normalizeName(e), t = normalizeValue(t); var r = this.map[e]; this.map[e] = r ? r + ", " + t : t }, Headers.prototype.delete = function (e) { delete this.map[normalizeName(e)] }, Headers.prototype.get = function (e) { return e = normalizeName(e), this.has(e) ? this.map[e] : null }, Headers.prototype.has = function (e) { return this.map.hasOwnProperty(normalizeName(e)) }, Headers.prototype.set = function (e, t) { this.map[normalizeName(e)] = normalizeValue(t) }, Headers.prototype.forEach = function (e, t) { for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this) }, Headers.prototype.keys = function () { var e = []; return this.forEach(function (t, r) { e.push(r) }), iteratorFor(e) }, Headers.prototype.values = function () { var e = []; return this.forEach(function (t) { e.push(t) }), iteratorFor(e) }, Headers.prototype.entries = function () { var e = []; return this.forEach(function (t, r) { e.push([r, t]) }), iteratorFor(e) }; var s = new o.Link(function requestInterceptor(e) { return request(e.requestParams) }), c = s.request.bind(s), u = s.addInterceptor.bind(s), l = s.cleanInterceptors.bind(s), f = new o.FetchBase(c, u, l); t.default = f }, function (e, t, r) { "use strict"; var n = function () { function Response(e, t) { this.resInit = e, this.optionsInit = t, this.ok = e.statusCode >= 200 && e.statusCode < 300, this.statusText = "", this.status = e.statusCode, this.url = t.url, this.headers = { "keys": function keys() { return Object.keys(e.header) }, "entries": function entries() { var entries = []; return Object.keys(e.header).forEach(function (t) { entries.push([t, e.header[t]]) }), entries }, "get": function get(t) { return e.header[t.toLowerCase()] }, "has": function has(t) { return t.toLowerCase() in e.header } } } return Response.prototype.text = function () { return Promise.resolve(JSON.stringify(this.resInit.data)) }, Response.prototype.json = function () { return Promise.resolve(this.resInit.data) }, Response.prototype.blob = function () { return Promise.resolve(new Blob([this.resInit.data])) }, Response.prototype.clone = function () { return new Response(this.resInit, this.optionsInit) }, Response }(); t.Response = n }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(27), o = r(64), i = r(65), a = { "searchParams": "URLSearchParams" in self, "iterable": "Symbol" in self && "iterator" in Symbol, "blob": "FileReader" in self && "Blob" in self && function () { try { return new Blob, !0 } catch (e) { return !1 } }(), "formData": "FormData" in self, "arrayBuffer": "ArrayBuffer" in self }; if (a.arrayBuffer) var s = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], c = ArrayBuffer.isView || function (e) { return e && s.indexOf(Object.prototype.toString.call(e)) > -1 }; function normalizeName(e) { if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name"); return e.toLowerCase() } function normalizeValue(e) { return "string" != typeof e && (e = String(e)), e } function iteratorFor(e) { var t = { "next": function next() { var t = e.shift(); return { "done": void 0 === t, "value": t } } }; return a.iterable && (t[Symbol.iterator] = function () { return t }), t } function Headers(e) { this.map = {}, e instanceof Headers ? e.forEach(function (e, t) { this.append(t, e) }, this) : Array.isArray(e) ? e.forEach(function (e) { this.append(e[0], e[1]) }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) { this.append(t, e[t]) }, this) } function consumed(e) { if (e.bodyUsed) return Promise.reject(new TypeError("Already read")); e.bodyUsed = !0 } function fileReaderReady(e) { return new Promise(function (t, r) { e.onload = function () { t(e.result) }, e.onerror = function () { r(e.error) } }) } function readBlobAsArrayBuffer(e) { var t = new FileReader, r = fileReaderReady(t); return t.readAsArrayBuffer(e), r } function bufferClone(e) { if (e.slice) return e.slice(0); var t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function Body() { return this.bodyUsed = !1, this._initBody = function (e) { this._bodyInit = e, e ? "string" == typeof e ? this._bodyText = e : a.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : a.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : a.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : a.arrayBuffer && a.blob && function isDataView(e) { return e && DataView.prototype.isPrototypeOf(e) }(e) ? (this._bodyArrayBuffer = bufferClone(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : a.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || c(e)) ? this._bodyArrayBuffer = bufferClone(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "", this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : a.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8")) }, a.blob && (this.blob = function () { var e = consumed(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error("could not read FormData body as blob"); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? consumed(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(readBlobAsArrayBuffer) }), this.text = function () { var e = consumed(this); if (e) return e; if (this._bodyBlob) return function readBlobAsText(e) { var t = new FileReader, r = fileReaderReady(t); return t.readAsText(e), r }(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(function readArrayBufferAsText(e) { for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++)r[n] = String.fromCharCode(t[n]); return r.join("") }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error("could not read FormData body as text"); return Promise.resolve(this._bodyText) }, a.formData && (this.formData = function () { return this.text().then(decode) }), this.json = function () { return this.text().then(JSON.parse) }, this } Headers.prototype.append = function (e, t) { e = normalizeName(e), t = normalizeValue(t); var r = this.map[e]; this.map[e] = r ? r + ", " + t : t }, Headers.prototype.delete = function (e) { delete this.map[normalizeName(e)] }, Headers.prototype.get = function (e) { return e = normalizeName(e), this.has(e) ? this.map[e] : null }, Headers.prototype.has = function (e) { return this.map.hasOwnProperty(normalizeName(e)) }, Headers.prototype.set = function (e, t) { this.map[normalizeName(e)] = normalizeValue(t) }, Headers.prototype.forEach = function (e, t) { for (var r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this) }, Headers.prototype.keys = function () { var e = []; return this.forEach(function (t, r) { e.push(r) }), iteratorFor(e) }, Headers.prototype.values = function () { var e = []; return this.forEach(function (t) { e.push(t) }), iteratorFor(e) }, Headers.prototype.entries = function () { var e = []; return this.forEach(function (t, r) { e.push([r, t]) }), iteratorFor(e) }, a.iterable && (Headers.prototype[Symbol.iterator] = Headers.prototype.entries); var u = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; function Request(e, t) { var r = (t = t || {}).body; if (e instanceof Request) { if (e.bodyUsed) throw new TypeError("Already read"); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new Headers(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || null == e._bodyInit || (r = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "same-origin", !t.headers && this.headers || (this.headers = new Headers(t.headers)), this.method = function normalizeMethod(e) { var t = e.toUpperCase(); return u.indexOf(t) > -1 ? t : e }(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && r) throw new TypeError("Body not allowed for GET or HEAD requests"); this._initBody(r) } function decode(e) { var t = new FormData; return e.trim().split("&").forEach(function (e) { if (e) { var r = e.split("="), n = r.shift().replace(/\+/g, " "), o = r.join("=").replace(/\+/g, " "); t.append(decodeURIComponent(n), decodeURIComponent(o)) } }), t } function Response(e, t) { t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new Headers(t.headers), this.url = t.url || "", this._initBody(e) } Request.prototype.clone = function () { return new Request(this, { "body": this._bodyInit }) }, Body.call(Request.prototype), Body.call(Response.prototype), Response.prototype.clone = function () { return new Response(this._bodyInit, { "status": this.status, "statusText": this.statusText, "headers": new Headers(this.headers), "url": this.url }) }, Response.error = function () { var e = new Response(null, { "status": 0, "statusText": "" }); return e.type = "error", e }; var l = [301, 302, 303, 307, 308]; Response.redirect = function (e, t) { if (-1 === l.indexOf(t)) throw new RangeError("Invalid status code"); return new Response(null, { "status": t, "headers": { "location": e } }) }; var f = self.DOMException; try { new f } catch (e) { (f = function DOMException(e, t) { this.message = e, this.name = t; var r = Error(e); this.stack = r.stack }).prototype = Object.create(Error.prototype), f.prototype.constructor = f } function fetch(e, t) { return new Promise(function (r, n) { var o = new Request(e, t); if (o.signal && o.signal.aborted) return n(new f("Aborted", "AbortError")); var i = new XMLHttpRequest; function abortXhr() { i.abort() } i.onload = function () { var e = { "status": i.status, "statusText": i.statusText, "headers": function parseHeaders(e) { var t = new Headers; return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function (e) { var r = e.split(":"), n = r.shift().trim(); if (n) { var o = r.join(":").trim(); t.append(n, o) } }), t }(i.getAllResponseHeaders() || "") }; e.url = "responseURL" in i ? i.responseURL : e.headers.get("X-Request-URL"); var t = "response" in i ? i.response : i.responseText; r(new Response(t, e)) }, i.onerror = function () { n(new TypeError("Network request failed")) }, i.ontimeout = function () { n(new TypeError("Network request failed")) }, i.onabort = function () { n(new f("Aborted", "AbortError")) }, i.open(o.method, o.url, !0), "include" === o.credentials ? i.withCredentials = !0 : "omit" === o.credentials && (i.withCredentials = !1), "responseType" in i && a.blob && (i.responseType = "blob"), o.headers.forEach(function (e, t) { i.setRequestHeader(t, e) }), o.signal && (o.signal.addEventListener("abort", abortXhr), i.onreadystatechange = function () { 4 === i.readyState && o.signal.removeEventListener("abort", abortXhr) }), i.send(void 0 === o._bodyInit ? null : o._bodyInit) }) } fetch.polyfill = !0, self.fetch || (self.fetch = fetch, self.Headers = Headers, self.Request = Request, self.Response = Response); var d = new i.Link(function requestInterceptor(e) { return function request(e) { "string" == typeof (e = e || {}) && (e = { "url": e }); var t = e.success, r = e.complete, i = e.fail, a = e.url, s = {}, c = {}; s.method = e.method || "GET"; var u = s.method && s.method.toUpperCase(); if (s.cache = e.cache || "default", "GET" === u || "HEAD" === u) a = o.generateRequestUrlWithParams(a, e.data); else if ("object" === n._typeof(e.data)) { var l = e.header && (e.header["Content-Type"] || e.header["content-type"]); l && l.indexOf("application/json") >= 0 ? s.body = JSON.stringify(e.data) : l && l.indexOf("application/x-www-form-urlencoded") >= 0 ? s.body = o.serializeParams(e.data) : s.body = e.data } else s.body = e.data; return e.header && (s.headers = e.header), e.mode && (s.mode = e.mode), s.credentials = e.credentials, fetch(a, s).then(function (e) { return c.statusCode = e.status, c.header = {}, e.headers.forEach(function (e, t) { c.header[t] = e }), Promise.resolve(e) }).then(function (e) { return c.data = e, "function" == typeof t && t(c), "function" == typeof r && r(c), c }).catch(function (e) { return "function" == typeof i && i(e), "function" == typeof r && r(c), Promise.reject(e) }) }(e.requestParams) }), p = d.request.bind(d), h = d.addInterceptor.bind(d), m = d.cleanInterceptors.bind(d), g = new i.FetchBase(p, h, m); t.default = g }, function (e, t) { function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e } var r; r = window, e.exports = function (e, t) { if (!e.jWeixin) { var r, n, o = { "config": "preVerifyJSAPI", "onMenuShareTimeline": "menu:share:timeline", "onMenuShareAppMessage": "menu:share:appmessage", "onMenuShareQQ": "menu:share:qq", "onMenuShareWeibo": "menu:share:weiboApp", "onMenuShareQZone": "menu:share:QZone", "previewImage": "imagePreview", "getLocation": "geoLocation", "openProductSpecificView": "openProductViewWithPid", "addCard": "batchAddCard", "openCard": "batchViewCard", "chooseWXPay": "getBrandWCPayRequest", "openEnterpriseRedPacket": "getRecevieBizHongBaoRequest", "startSearchBeacons": "startMonitoringBeacons", "stopSearchBeacons": "stopMonitoringBeacons", "onSearchBeacons": "onBeaconsInRange", "consumeAndShareCard": "consumedShareCard", "openAddress": "editAddress" }, i = function () { var e = {}; for (var t in o) e[o[t]] = t; return e }(), a = e.document, s = a.title, c = navigator.userAgent.toLowerCase(), u = navigator.platform.toLowerCase(), l = !(!u.match("mac") && !u.match("win")), f = -1 != c.indexOf("wxdebugger"), d = -1 != c.indexOf("micromessenger"), p = -1 != c.indexOf("android"), h = -1 != c.indexOf("iphone") || -1 != c.indexOf("ipad"), m = (n = c.match(/micromessenger\/(\d+\.\d+\.\d+)/) || c.match(/micromessenger\/(\d+\.\d+)/)) ? n[1] : "", g = { "initStartTime": L(), "initEndTime": 0, "preVerifyStartTime": 0, "preVerifyEndTime": 0 }, v = { "version": 1, "appId": "", "initTime": 0, "preVerifyTime": 0, "networkType": "", "isPreVerifyOk": 1, "systemType": h ? 1 : p ? 2 : -1, "clientVersion": m, "url": encodeURIComponent(location.href) }, y = {}, b = { "_completes": [] }, S = { "state": 0, "data": {} }; O(function () { g.initEndTime = L() }); var _ = !1, w = [], T = (_defineProperty(r = { "config": function config(t) { B("config", y = t); var r = !1 !== y.check; O(function () { if (r) M(o.config, { "verifyJsApiList": C(y.jsApiList), "verifyOpenTagList": C(y.openTagList) }, function () { b._complete = function (e) { g.preVerifyEndTime = L(), S.state = 1, S.data = e }, b.success = function (e) { v.isPreVerifyOk = 0 }, b.fail = function (e) { b._fail ? b._fail(e) : S.state = -1 }; var e = b._completes; return e.push(function () { !function () { if (!(l || f || y.debug || m < "6.0.2" || v.systemType < 0)) { var e = new Image; v.appId = y.appId, v.initTime = g.initEndTime - g.initStartTime, v.preVerifyTime = g.preVerifyEndTime - g.preVerifyStartTime, T.getNetworkType({ "isInnerInvoke": !0, "success": function success(t) { v.networkType = t.networkType; var r = "https://open.weixin.qq.com/sdk/report?v=" + v.version + "&o=" + v.isPreVerifyOk + "&s=" + v.systemType + "&c=" + v.clientVersion + "&a=" + v.appId + "&n=" + v.networkType + "&i=" + v.initTime + "&p=" + v.preVerifyTime + "&u=" + v.url; e.src = r } }) } }() }), b.complete = function (t) { for (var r = 0, n = e.length; r < n; ++r)e[r](); b._completes = [] }, b }()), g.preVerifyStartTime = L(); else { S.state = 1; for (var e = b._completes, t = 0, n = e.length; t < n; ++t)e[t](); b._completes = [] } }), T.invoke || (T.invoke = function (t, r, n) { e.WeixinJSBridge && WeixinJSBridge.invoke(t, x(r), n) }, T.on = function (t, r) { e.WeixinJSBridge && WeixinJSBridge.on(t, r) }) }, "ready": function ready(e) { 0 != S.state ? e() : (b._completes.push(e), !d && y.debug && e()) }, "error": function error(e) { m < "6.0.2" || (-1 == S.state ? e(S.data) : b._fail = e) }, "checkJsApi": function checkJsApi(e) { M("checkJsApi", { "jsApiList": C(e.jsApiList) }, (e._complete = function (e) { if (p) { var t = e.checkResult; t && (e.checkResult = JSON.parse(t)) } e = function (e) { var t = e.checkResult; for (var r in t) { var n = i[r]; n && (t[n] = t[r], delete t[r]) } return e }(e) }, e)) }, "onMenuShareTimeline": function onMenuShareTimeline(e) { P(o.onMenuShareTimeline, { "complete": function complete() { M("shareTimeline", { "title": e.title || s, "desc": e.title || s, "img_url": e.imgUrl || "", "link": e.link || location.href, "type": e.type || "link", "data_url": e.dataUrl || "" }, e) } }, e) }, "onMenuShareAppMessage": function onMenuShareAppMessage(e) { P(o.onMenuShareAppMessage, { "complete": function complete(t) { "favorite" === t.scene ? M("sendAppMessage", { "title": e.title || s, "desc": e.desc || "", "link": e.link || location.href, "img_url": e.imgUrl || "", "type": e.type || "link", "data_url": e.dataUrl || "" }) : M("sendAppMessage", { "title": e.title || s, "desc": e.desc || "", "link": e.link || location.href, "img_url": e.imgUrl || "", "type": e.type || "link", "data_url": e.dataUrl || "" }, e) } }, e) }, "onMenuShareQQ": function onMenuShareQQ(e) { P(o.onMenuShareQQ, { "complete": function complete() { M("shareQQ", { "title": e.title || s, "desc": e.desc || "", "img_url": e.imgUrl || "", "link": e.link || location.href }, e) } }, e) }, "onMenuShareWeibo": function onMenuShareWeibo(e) { P(o.onMenuShareWeibo, { "complete": function complete() { M("shareWeiboApp", { "title": e.title || s, "desc": e.desc || "", "img_url": e.imgUrl || "", "link": e.link || location.href }, e) } }, e) }, "onMenuShareQZone": function onMenuShareQZone(e) { P(o.onMenuShareQZone, { "complete": function complete() { M("shareQZone", { "title": e.title || s, "desc": e.desc || "", "img_url": e.imgUrl || "", "link": e.link || location.href }, e) } }, e) }, "updateTimelineShareData": function updateTimelineShareData(e) { M("updateTimelineShareData", { "title": e.title, "link": e.link, "imgUrl": e.imgUrl }, e) }, "updateAppMessageShareData": function updateAppMessageShareData(e) { M("updateAppMessageShareData", { "title": e.title, "desc": e.desc, "link": e.link, "imgUrl": e.imgUrl }, e) }, "startRecord": function startRecord(e) { M("startRecord", {}, e) }, "stopRecord": function stopRecord(e) { M("stopRecord", {}, e) }, "onVoiceRecordEnd": function onVoiceRecordEnd(e) { P("onVoiceRecordEnd", e) }, "playVoice": function playVoice(e) { M("playVoice", { "localId": e.localId }, e) }, "pauseVoice": function pauseVoice(e) { M("pauseVoice", { "localId": e.localId }, e) }, "stopVoice": function stopVoice(e) { M("stopVoice", { "localId": e.localId }, e) }, "onVoicePlayEnd": function onVoicePlayEnd(e) { P("onVoicePlayEnd", e) }, "uploadVoice": function uploadVoice(e) { M("uploadVoice", { "localId": e.localId, "isShowProgressTips": 0 == e.isShowProgressTips ? 0 : 1 }, e) }, "downloadVoice": function downloadVoice(e) { M("downloadVoice", { "serverId": e.serverId, "isShowProgressTips": 0 == e.isShowProgressTips ? 0 : 1 }, e) }, "translateVoice": function translateVoice(e) { M("translateVoice", { "localId": e.localId, "isShowProgressTips": 0 == e.isShowProgressTips ? 0 : 1 }, e) }, "chooseImage": function chooseImage(e) { M("chooseImage", { "scene": "1|2", "count": e.count || 9, "sizeType": e.sizeType || ["original", "compressed"], "sourceType": e.sourceType || ["album", "camera"] }, (e._complete = function (e) { if (p) { var t = e.localIds; try { t && (e.localIds = JSON.parse(t)) } catch (e) { } } }, e)) }, "getLocation": function getLocation(e) { }, "previewImage": function previewImage(e) { M(o.previewImage, { "current": e.current, "urls": e.urls }, e) }, "uploadImage": function uploadImage(e) { M("uploadImage", { "localId": e.localId, "isShowProgressTips": 0 == e.isShowProgressTips ? 0 : 1 }, e) }, "downloadImage": function downloadImage(e) { M("downloadImage", { "serverId": e.serverId, "isShowProgressTips": 0 == e.isShowProgressTips ? 0 : 1 }, e) }, "getLocalImgData": function getLocalImgData(e) { !1 === _ ? (_ = !0, M("getLocalImgData", { "localId": e.localId }, (e._complete = function (e) { if (_ = !1, 0 < w.length) { var t = w.shift(); wx.getLocalImgData(t) } }, e))) : w.push(e) }, "getNetworkType": function getNetworkType(e) { M("getNetworkType", {}, (e._complete = function (e) { e = function (e) { var t = e.errMsg; e.errMsg = "getNetworkType:ok"; var r = e.subtype; if (delete e.subtype, r) e.networkType = r; else { var n = t.indexOf(":"), o = t.substring(n + 1); switch (o) { case "wifi": case "edge": case "wwan": e.networkType = o; break; default: e.errMsg = "getNetworkType:fail" } } return e }(e) }, e)) }, "openLocation": function openLocation(e) { M("openLocation", { "latitude": e.latitude, "longitude": e.longitude, "name": e.name || "", "address": e.address || "", "scale": e.scale || 28, "infoUrl": e.infoUrl || "" }, e) } }, "getLocation", function getLocation(e) { M(o.getLocation, { "type": (e = e || {}).type || "wgs84" }, (e._complete = function (e) { delete e.type }, e)) }), _defineProperty(r, "hideOptionMenu", function hideOptionMenu(e) { M("hideOptionMenu", {}, e) }), _defineProperty(r, "showOptionMenu", function showOptionMenu(e) { M("showOptionMenu", {}, e) }), _defineProperty(r, "closeWindow", function closeWindow(e) { M("closeWindow", {}, e = e || {}) }), _defineProperty(r, "hideMenuItems", function hideMenuItems(e) { M("hideMenuItems", { "menuList": e.menuList }, e) }), _defineProperty(r, "showMenuItems", function showMenuItems(e) { M("showMenuItems", { "menuList": e.menuList }, e) }), _defineProperty(r, "hideAllNonBaseMenuItem", function hideAllNonBaseMenuItem(e) { M("hideAllNonBaseMenuItem", {}, e) }), _defineProperty(r, "showAllNonBaseMenuItem", function showAllNonBaseMenuItem(e) { M("showAllNonBaseMenuItem", {}, e) }), _defineProperty(r, "scanQRCode", function scanQRCode(e) { M("scanQRCode", { "needResult": (e = e || {}).needResult || 0, "scanType": e.scanType || ["qrCode", "barCode"] }, (e._complete = function (e) { if (h) { var t = e.resultStr; if (t) { var r = JSON.parse(t); e.resultStr = r && r.scan_code && r.scan_code.scan_result } } }, e)) }), _defineProperty(r, "openAddress", function openAddress(e) { M(o.openAddress, {}, (e._complete = function (e) { e = function (e) { return e.postalCode = e.addressPostalCode, delete e.addressPostalCode, e.provinceName = e.proviceFirstStageName, delete e.proviceFirstStageName, e.cityName = e.addressCitySecondStageName, delete e.addressCitySecondStageName, e.countryName = e.addressCountiesThirdStageName, delete e.addressCountiesThirdStageName, e.detailInfo = e.addressDetailInfo, delete e.addressDetailInfo, e }(e) }, e)) }), _defineProperty(r, "openProductSpecificView", function openProductSpecificView(e) { M(o.openProductSpecificView, { "pid": e.productId, "view_type": e.viewType || 0, "ext_info": e.extInfo }, e) }), _defineProperty(r, "addCard", function addCard(e) { for (var t = e.cardList, r = [], n = 0, i = t.length; n < i; ++n) { var a = t[n], s = { "card_id": a.cardId, "card_ext": a.cardExt }; r.push(s) } M(o.addCard, { "card_list": r }, (e._complete = function (e) { var t = e.card_list; if (t) { for (var r = 0, n = (t = JSON.parse(t)).length; r < n; ++r) { var o = t[r]; o.cardId = o.card_id, o.cardExt = o.card_ext, o.isSuccess = !!o.is_succ, delete o.card_id, delete o.card_ext, delete o.is_succ } e.cardList = t, delete e.card_list } }, e)) }), _defineProperty(r, "chooseCard", function chooseCard(e) { M("chooseCard", { "app_id": y.appId, "location_id": e.shopId || "", "sign_type": e.signType || "SHA1", "card_id": e.cardId || "", "card_type": e.cardType || "", "card_sign": e.cardSign, "time_stamp": e.timestamp + "", "nonce_str": e.nonceStr }, (e._complete = function (e) { e.cardList = e.choose_card_info, delete e.choose_card_info }, e)) }), _defineProperty(r, "openCard", function openCard(e) { for (var t = e.cardList, r = [], n = 0, i = t.length; n < i; ++n) { var a = t[n], s = { "card_id": a.cardId, "code": a.code }; r.push(s) } M(o.openCard, { "card_list": r }, e) }), _defineProperty(r, "consumeAndShareCard", function consumeAndShareCard(e) { M(o.consumeAndShareCard, { "consumedCardId": e.cardId, "consumedCode": e.code }, e) }), _defineProperty(r, "chooseWXPay", function chooseWXPay(e) { M(o.chooseWXPay, V(e), e) }), _defineProperty(r, "openEnterpriseRedPacket", function openEnterpriseRedPacket(e) { M(o.openEnterpriseRedPacket, V(e), e) }), _defineProperty(r, "startSearchBeacons", function startSearchBeacons(e) { M(o.startSearchBeacons, { "ticket": e.ticket }, e) }), _defineProperty(r, "stopSearchBeacons", function stopSearchBeacons(e) { M(o.stopSearchBeacons, {}, e) }), _defineProperty(r, "onSearchBeacons", function onSearchBeacons(e) { P(o.onSearchBeacons, e) }), _defineProperty(r, "openEnterpriseChat", function openEnterpriseChat(e) { M("openEnterpriseChat", { "useridlist": e.userIds, "chatname": e.groupName }, e) }), _defineProperty(r, "launchMiniProgram", function launchMiniProgram(e) { M("launchMiniProgram", { "targetAppId": e.targetAppId, "path": function (e) { if ("string" == typeof e && 0 < e.length) { var t = e.split("?")[0], r = e.split("?")[1]; return t += ".html", void 0 !== r ? t + "?" + r : t } }(e.path), "envVersion": e.envVersion }, e) }), _defineProperty(r, "openBusinessView", function openBusinessView(e) { M("openBusinessView", { "businessType": e.businessType, "queryString": e.queryString || "", "envVersion": e.envVersion }, (e._complete = function (e) { if (p) { var t = e.extraData; if (t) try { e.extraData = JSON.parse(t) } catch (t) { e.extraData = {} } } }, e)) }), _defineProperty(r, "miniProgram", { "navigateBack": function navigateBack(e) { e = e || {}, O(function () { M("invokeMiniProgramAPI", { "name": "navigateBack", "arg": { "delta": e.delta || 1 } }, e) }) }, "navigateTo": function navigateTo(e) { O(function () { M("invokeMiniProgramAPI", { "name": "navigateTo", "arg": { "url": e.url } }, e) }) }, "redirectTo": function redirectTo(e) { O(function () { M("invokeMiniProgramAPI", { "name": "redirectTo", "arg": { "url": e.url } }, e) }) }, "switchTab": function switchTab(e) { O(function () { M("invokeMiniProgramAPI", { "name": "switchTab", "arg": { "url": e.url } }, e) }) }, "reLaunch": function reLaunch(e) { O(function () { M("invokeMiniProgramAPI", { "name": "reLaunch", "arg": { "url": e.url } }, e) }) }, "postMessage": function postMessage(e) { O(function () { M("invokeMiniProgramAPI", { "name": "postMessage", "arg": e.data || {} }, e) }) }, "getEnv": function getEnv(t) { O(function () { t({ "miniprogram": "miniprogram" === e.__wxjs_environment }) }) } }), r), k = 1, E = {}; return a.addEventListener("error", function (e) { if (!p) { var t = e.target, r = t.tagName, n = t.src; if (("IMG" == r || "VIDEO" == r || "AUDIO" == r || "SOURCE" == r) && -1 != n.indexOf("wxlocalresource://")) { e.preventDefault(), e.stopPropagation(); var o = t["wx-id"]; if (o || (o = k++, t["wx-id"] = o), E[o]) return; E[o] = !0, wx.ready(function () { wx.getLocalImgData({ "localId": n, "success": function success(e) { t.src = e.localData } }) }) } } }, !0), a.addEventListener("load", function (e) { if (!p) { var t = e.target, r = t.tagName; if (t.src, "IMG" == r || "VIDEO" == r || "AUDIO" == r || "SOURCE" == r) { var n = t["wx-id"]; n && (E[n] = !1) } } }, !0), t && (e.wx = e.jWeixin = T), T } function M(t, r, n) { e.WeixinJSBridge ? WeixinJSBridge.invoke(t, x(r), function (e) { A(t, e, n) }) : B(t, n) } function P(t, r, n) { e.WeixinJSBridge ? WeixinJSBridge.on(t, function (e) { n && n.trigger && n.trigger(e), A(t, e, r) }) : B(t, n || r) } function x(e) { return (e = e || {}).appId = y.appId, e.verifyAppId = y.appId, e.verifySignType = "sha1", e.verifyTimestamp = y.timestamp + "", e.verifyNonceStr = y.nonceStr, e.verifySignature = y.signature, e } function V(e) { return { "timeStamp": e.timestamp + "", "nonceStr": e.nonceStr, "package": e.package, "paySign": e.paySign, "signType": e.signType || "SHA1" } } function A(e, t, r) { "openEnterpriseChat" != e && "openBusinessView" !== e || (t.errCode = t.err_code), delete t.err_code, delete t.err_desc, delete t.err_detail; var n = t.errMsg; n || (n = t.err_msg, delete t.err_msg, n = function (e, t) { var r = e, n = i[r]; n && (r = n); var o = "ok"; if (t) { var a = t.indexOf(":"); "confirm" == (o = t.substring(a + 1)) && (o = "ok"), "failed" == o && (o = "fail"), -1 != o.indexOf("failed_") && (o = o.substring(7)), -1 != o.indexOf("fail_") && (o = o.substring(5)), "access denied" != (o = (o = o.replace(/_/g, " ")).toLowerCase()) && "no permission to execute" != o || (o = "permission denied"), "config" == r && "function not exist" == o && (o = "ok"), "" == o && (o = "fail") } return t = r + ":" + o }(e, n), t.errMsg = n), (r = r || {})._complete && (r._complete(t), delete r._complete), n = t.errMsg || "", y.debug && !r.isInnerInvoke && alert(JSON.stringify(t)); var o = n.indexOf(":"); switch (n.substring(o + 1)) { case "ok": r.success && r.success(t); break; case "cancel": r.cancel && r.cancel(t); break; default: r.fail && r.fail(t) }r.complete && r.complete(t) } function C(e) { if (e) { for (var t = 0, r = e.length; t < r; ++t) { var n = e[t], i = o[n]; i && (e[t] = i) } return e } } function B(e, t) { if (!(!y.debug || t && t.isInnerInvoke)) { var r = i[e]; r && (e = r), t && t._complete && delete t._complete, console.log('"' + e + '",', t || "") } } function L() { return (new Date).getTime() } function O(t) { d && (e.WeixinJSBridge ? t() : a.addEventListener && a.addEventListener("WeixinJSBridgeReady", t, !1)) } }(r) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = r(125), a = function () { function WoPayBridge() { } return WoPayBridge.prototype.chooseImage = function (e) { return new Promise(function (t, r) { var o = e.success, a = e.fail; try { i.default.camera({ "success": function success(e) { n.isFunction(o) && o({ "src": "data:image/png;base64, " + e.data }), t({ "src": "data:image/png;base64, " + e.data }) } }) } catch (e) { n.isFunction(a) && a(), r(e) } }) }, WoPayBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r; return n.__generator(this, function (a) { return t = e.eventType, r = e.success, [2, new Promise(function (a, s) { i.default.getLocation({ "appId": "woyidai11", "appName": "沃易贷xll好期贷", "address": !0, "success": function success(e) { var o = { "longitude": e.longitude, "latitude": e.latitude, "coordinateSystem": "WGS-84", "tag": t }; n.isFunction(r) && r(o), a(o) }, "failed": function failed(t) { return o.getLocationInNativeH5(e).then(function (e) { a(e) }) } }) })] }) }) }, WoPayBridge.prototype.closeWebView = function () { i.default.rollback() }, WoPayBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, WoPayBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, WoPayBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, WoPayBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("") }, WoPayBridge }(); t.default = a }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = function () { var e = function versionCompare(e, t) { if ((e = e || "0.0.0") === (t = t || "0.0.0")) return !1; for (var r = e.split("."), n = t.split("."), o = Math.max(r.length, n.length), i = 0; i < o; i++) { var a = n[i], s = r[i]; if (a < s) return !1; if (a > s) return !0 } return !1 }, t = function isClientSupport() { var t = navigator.userAgent; if (-1 == t.indexOf("wopaywallet")) return console.log("当前客户端版本过低，请使用沃钱包3.9.0及其以后的版本"), !1; for (var r = t.split(" "), n = 0; n < r.length; n++)if (-1 != r[n].indexOf("wopaywallet")) { var o = e("3.8.2", r[n].substring(12)); return o || console.log("当前客户端版本过低，请使用沃钱包3.9.0及其以后的版本"), o } }, r = function deviceType() { var e = /(android)/i.test(navigator.userAgent), t = /(iPhone|iPad|iPod)/i.test(navigator.userAgent); return e ? 1 : t ? 2 : 0 }, n = function wpWebJavasriptBridge(e) { if (2 != r()) { if (window.WebViewJavascriptBridge) return e(window.WebViewJavascriptBridge) } else { if (window.WebViewJavascriptBridge) return e(window.WebViewJavascriptBridge); if (window.WVJBCallbacks) return window.WVJBCallbacks.push(e); window.WVJBCallbacks = [e]; var t = document.createElement("iframe"); t.style.display = "none", t.src = "https://__bridge_loaded__", document.documentElement.appendChild(t), setTimeout(function () { document.documentElement.removeChild(t) }, 0) } }, o = function jsInvoke(e) { switch (r()) { case 1: case 2: n(e) } }, i = function wopay_js_invoke(e) { switch (r()) { case 1: if (void 0 === e[1]) window.injs.excute(e[0], e[1]); else { var t = e[1], n = "{"; void 0 === t.packageName ? n += '"packageName":"",' : n = n + '"packageName":"' + t.packageName + '",', void 0 === t.needLogin ? n += '"needLogin":"",' : n = n + '"needLogin":"' + t.packageName + '",', void 0 === t.target ? n += '"target":"",' : n = n + '"target":"' + t.target + '",', void 0 === t.content ? n += '"content":{},' : n = n + '"content":' + t.content + ",", void 0 === t.callbackName ? n += '"callbackName":""}' : n = n + '"callbackName":"' + t.callbackName + '"}', window.injs.excute(e[0], n) } break; case 2: window.webkit.messageHandlers.wopay_invoke.postMessage(e) } }, a = "undefined" != typeof WoPayExports ? WoPayExports : {}; if (a.isClientSupport = t, a.refresh = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "refresh"; o(function options(t) { t.callHandler("wopay_invoke", e) }) } else i(e) }, a.refreshError = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "refreshError"; o(function options(t) { t.callHandler("wopay_invoke", e) }) } else i(e) }, a.rollback = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "rollback"; o(function options(t) { t.callHandler("wopay_invoke", e) }) } else i(e) }, a.dismiss = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "dismiss"; o(function options(t) { t.callHandler("wopay_invoke", e) }) } else i(e) }, a.camera = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "camera"; o(function options(t) { t.callHandler("wopay_invoke", e, function (t) { 2 == r() ? e.success && e.success(t) : e.success && e.success(JSON.parse(t)) }) }) } else i(e) }, a.photos = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "photos"; o(function options(t) { t.callHandler("wopay_invoke", e, function (t) { 2 == r() ? e.success && e.success(t) : e.success && e.success(JSON.parse(t)) }) }) } else i(e) }, a.isQQInstall = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "isQQInstall"; o(function options(t) { t.callHandler("wopay_invoke", e, function (t) { 2 == r() ? e.success && e.success(t) : e.success && e.success(JSON.parse(t)) }) }) } else console.log("当前客户端版本过低，请使用沃钱包3.9.0及其以后的版本") }, a.newPage = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "newPage"; o(function options(t) { t.callHandler("wopay_invoke", e) }) } else console.log("当前客户端版本过低，请使用沃钱包3.9.0及其以后的版本") }, a.getLocation = function (e) { if (t()) { void 0 === e && (e = {}), e.method = "getLocation"; o(function options(t) { t.callHandler("wopay_invoke", e, function (t) { if (2 == r()) "1" == t.resultCode ? e.success && e.success(t) : e.failed && e.failed(); else { var n = JSON.parse(t); "1" == n.resultCode ? e.success && e.success(n) : e.failed && e.failed() } }) }) } else console.log("当前客户端版本过低，请使用沃钱包3.9.0及其以后的版本") }, 1 == r()) { var s, c = function _doSend(e, t) { if (t) { var r = "cb_" + g++ + "_" + (new Date).getTime(); m[r] = t, e.callbackId = r } l.push(e), s.src = p + "://" + h }, u = function _dispatchMessageFromNative(e) { setTimeout(function () { var t, r = JSON.parse(e); if (r.responseId) { if (!(t = m[r.responseId])) return; t(r.responseData), delete m[r.responseId] } else { if (r.callbackId) { var n = r.callbackId; t = function responseCallback(e) { c({ "responseId": n, "responseData": e }) } } var o = v._messageHandler; r.handlerName && (o = d[r.handlerName]); try { o(r.data, t) } catch (e) { "undefined" != typeof console && console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.", r, e) } } }) }; if (window.WebViewJavascriptBridge) return a; var l = [], f = [], d = {}, p = "yy", h = "__QUEUE_MESSAGE__/", m = {}, g = 1, v = window.WebViewJavascriptBridge = { "init": function init(e) { if (v._messageHandler) throw new Error("WebViewJavascriptBridge.init called twice"); v._messageHandler = e; var t = f; f = null; for (var r = 0; r < t.length; r++)u(t[r]) }, "send": function send(e, t) { c({ "data": e }, t) }, "registerHandler": function registerHandler(e, t) { d[e] = t }, "callHandler": function callHandler(e, t, r) { c({ "handlerName": e, "data": t }, r) }, "_fetchQueue": function _fetchQueue() { var e = JSON.stringify(l); l = [], s.src = p + "://return/_fetchQueue/" + encodeURIComponent(e) }, "_handleMessageFromNative": function _handleMessageFromNative(e) { console.log(JSON.parse(e)), f && f.push(e), u(e) } }, y = document; !function _createQueueReadyIframe(e) { (s = e.createElement("iframe")).style.display = "none", e.documentElement.appendChild(s) }(y); var b = y.createEvent("Events"); b.initEvent("WebViewJavascriptBridgeReady"), b.bridge = v, y.dispatchEvent(b) } return a }(); t.default = n }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function XiangYuBridge() { this.bridge = {}, this.registerNativeApis() } return XiangYuBridge.prototype.registerNativeApis = function () { window.bridge = this.initBridge(), this.bridge = window.bridge, window.callbackFromNative = this.bridge.callbackFromNative }, XiangYuBridge.prototype.initBridge = function () { var e = !1, t = function () { var t = Math.floor(2e9 * Math.random()), r = {}, n = { "NO_RESULT": 0, "SUCCESS": 1, "PROGRESS": 2, "URL_ERROR": 3, "PLUGIN_NOT_FOUNT": 4, "NO_PERMISSION": 5, "INVALID_ACTION": 6, "ILLEGAL_ARGUMENT": 7, "JSON_EXCEPTION": 8, "EXCEPTION": 9, "CUSTOM_ERROR": 10, "TIMEOUT": 11, "PERMISSION_DENIED": 12 }; return { "callNative": function callNative(e, n, o, i) { var a = "nativeCallback" + t; t += t, r[a] = { "success": e, "fail": n }; var s = i || {}, c = "sjdApp://api/" + o + "?callbackId=" + a + "&args=" + JSON.stringify(s), u = document.createElement("iframe"); u.setAttribute("src", c), document.documentElement.appendChild(u), u.style.display = "none", setTimeout(function () { u.parentNode.removeChild(u), u = null }, 100) }, "callbackFromNative": function callbackFromNative(t, o) { var i = r[t], a = JSON.parse(o); if (i) { if (Number(a.status) === n.SUCCESS) { if (e) return void (i.success && i.success.apply(null, [Object.assign(a.data, { "coordinateSystem": "WGS-84" })])); i.success && i.success.apply(null, [a.data]) } else if (Number(a.status) === n.PROGRESS) { if (e) return void (i.success && i.success.apply(null, [Object.assign(a.data, { "coordinateSystem": "WGS-84" })])); i.progress && i.progress.apply(null, [a.data]) } else Number(a.status) === n.PERMISSION_DENIED ? i.fail && i.fail.apply(null, [""]) : i.fail && i.fail.apply(null, [a]); a.keepCallback || delete r[t] } }, "errorCallback": function errorCallback() { }, "status": n } }(); return "takePicture getPosition closeWebview".split(" ").forEach(function (r) { t[r] = function (n) { var o = n || {}; o.data = o.data || {}, e = "getPosition" === r, t.callNative(o.success, o.fail, r, o.data) } }), t }, XiangYuBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, i, a = this; return n.__generator(this, function (s) { return r = (t = e || {}).eventType, i = t.success, [2, new Promise(function (t) { a.bridge.getPosition({ "success": function success(e) { var o = n.__assign({ "tag": r }, e); n.isFunction(i) && i(o), t(o) }, "fail": function fail() { return o.getLocationInNativeH5(e).then(function (e) { t(e) }) } }) })] }) }) }, XiangYuBridge.prototype.chooseImage = function (e) { var t = this, r = e || {}, o = r.success, i = r.fail; return new Promise(function (e, r) { t.bridge.takePicture({ "success": function success(t) { n.isFunction(o) && o(t), e(t) }, "fail": function fail(e) { n.isFunction(i) && i(e), r(e) } }) }) }, XiangYuBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, XiangYuBridge.prototype.closeWebView = function () { return this.bridge.closeWebview(), Promise.resolve("") }, XiangYuBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, XiangYuBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, XiangYuBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, XiangYuBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10); function setupWebViewJavascriptBridge(e) { if (window.WebViewJavascriptBridge) return e(WebViewJavascriptBridge); if (document.addEventListener("WebViewJavascriptBridgeReady", function () { e(WebViewJavascriptBridge) }, !1), window.WVJBCallbacks) return window.WVJBCallbacks.push(e); window.WVJBCallbacks = [e]; var t = document.createElement("iframe"); t.style.display = "none", t.src = "wvjbscheme://__BRIDGE_LOADED__", document.documentElement.appendChild(t), setTimeout(function () { document.documentElement.removeChild(t) }, 0) } var i = function () { function XiangYuJRYBridge() { } return XiangYuJRYBridge.prototype.getLocation = function (e) { return n.__awaiter(this, void 0, Promise, function () { var t, r, o; return n.__generator(this, function (i) { return r = (t = e || {}).eventType, o = t.success, [2, new Promise(function (e) { setupWebViewJavascriptBridge(function (t) { t.registerHandler("hybridMessageToNative"), t.callHandler("hybridMessageToNative", JSON.stringify({ "tagName": "hybrid_get_lat_lon", "params": "" }), function (t) { var i = JSON.parse(t), a = { "longitude": i.lon, "latitude": i.lat, "coordinateSystem": "WGS-84", "tag": r }; n.isFunction(o) && o(a), e(a) }) }) })] }) }) }, XiangYuJRYBridge.prototype.closeWebView = function () { setupWebViewJavascriptBridge(function (e) { e.registerHandler("hybridMessageToNative"), e.callHandler("hybridMessageToNative", JSON.stringify({ "tagName": "hybrid_page_back", "params": 1 })) }) }, XiangYuJRYBridge.prototype.chooseImage = function () { return n.temporarilyNotSupport("chooseImage") }, XiangYuJRYBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, XiangYuJRYBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, XiangYuJRYBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, XiangYuJRYBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, XiangYuJRYBridge }(); t.default = i }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { "value": !0 }); var n = r(7); r(9); var o = r(10), i = function () { function YZTBridge() { this.initBridge() } return YZTBridge.prototype.initBridge = function () { r(129) }, YZTBridge.prototype.getLocation = function (e) { return void 0 === e && (e = {}), n.__awaiter(this, void 0, Promise, function () { var t, r; return n.__generator(this, function (i) { return t = e.eventType, r = e.success, [2, new Promise(function (i, a) { var s; null === (s = window.H5Bridge) || void 0 === s || s.call("executeH5InfoAction", { "action": "obtainLbs" }, function (e) { if (e && "object" === n._typeof(e)) { var o = e.latitude, a = e.longitude; n.isFunction(r) && r({ "longitude": a, "latitude": o, "coordinateSystem": "WGS-84", "tag": t }), i({ "longitude": a, "latitude": o, "coordinateSystem": "WGS-84" }) } }, function () { return o.getLocationInNativeH5(e).then(function (e) { i(e) }) }, null, "YYSBasicMessagePlugin") })] }) }) }, YZTBridge.prototype.closeWebView = function () { var e; null === (e = window.H5Bridge) || void 0 === e || e.call("closeAllPage", !0, function () { console.log("close success") }, function () { console.log("close error") }, null, "YYSNavigationbarPlugin") }, YZTBridge.prototype.chooseVideo = function () { return n.temporarilyNotSupport("chooseVideo") }, YZTBridge.prototype.setNavigationBarTitle = function (e) { return void 0 === e && (e = {}), o.setNavigationBarTitleInNativeH5(e) }, YZTBridge.prototype.onMenuShare = function () { return n.temporarilyNotSupport("onMenuShare") }, YZTBridge.prototype.uploadImage = function () { return n.temporarilyNotSupport("uploadImage") }, YZTBridge.prototype.chooseImage = function (e) { var t = e || {}, r = t.success, o = t.sourceType, i = void 0 === o ? ["camera", "album"] : o; return new Promise(function (e, t) { H5Bridge.call("fetchPhoto", ["2048"], function (t) { if (t && "object" === n._typeof(t)) { var o = "data:image/jpeg;base64," + t.base64Img, a = n.__assign({ "src": o, "tempFilePaths": [o], "tempFiles": [{ "path": o }], "base64": o, "scene": "camera" === i.toString() ? "camera" : "album" }, t); n.isFunction(r) && r(a), e(a) } }, function () { console.log("choose image error") }, null, "YYSCameraPlugin") }) }, YZTBridge }(); t.default = i }, function (module, exports, __webpack_require__) { "use strict"; var yzt = {}, cordova = {}; yzt.os = {}, yzt.os.isIOS = /iOS|iPhone|iPad|iPod/i.test(navigator.userAgent), yzt.os.isAndroid = !yzt.os.isIOS, yzt.callbackname = function () { return "yztapi_callback_" + (new Date).getTime() + "_" + Math.floor(1e4 * Math.random()) }, yzt.callbacks = {}, yzt.addCallback = function (e, t, r) { delete yzt.callbacks[e], yzt.callbacks[e] = { "callback": t, "userdata": r } }; var messagesFromNative = []; function typeName(e) { return Object.prototype.toString.call(e).slice(8, -1) } function massageArgsJsToNative(e) { if (!e || "Array" !== typeName(e)) return e; var t = []; return e.forEach(function (e, r) { "ArrayBuffer" === typeName(e) ? t.push({ "YYSType": "ArrayBuffer", "data": base64.fromArrayBuffer(e) }) : t.push(e) }), t } function isArray(e) { return "[object Array]" === Object.prototype.toString.call(e) } cordova.iosExec = {}, cordova.callbackId = Math.floor(2e9 * Math.random()), cordova.callbacks = {}, cordova.callbackStatus = { "NO_RESULT": 0, "OK": 1, "CLASS_NOT_FOUND_EXCEPTION": 2, "ILLEGAL_ACCESS_EXCEPTION": 3, "INSTANTIATION_EXCEPTION": 4, "MALFORMED_URL_EXCEPTION": 5, "IO_EXCEPTION": 6, "INVALID_ACTION": 7, "JSON_EXCEPTION": 8, "ERROR": 9 }, cordova.callbackSuccess = function (e, t) { cordova.callbackFromNative(e, !0, t.status, [t.message], t.keepCallback) }, cordova.callbackError = function (e, t) { cordova.callbackFromNative(e, !1, t.status, [t.message], t.keepCallback) }, cordova.callbackFromNative = function (e, t, r, n, o) { try { var i = cordova.callbacks[e]; i && (t && r == cordova.callbackStatus.OK ? i.success && i.success.apply(null, n) : t || i.fail && i.fail.apply(null, n), o || delete cordova.callbacks[e]) } catch (r) { var a = "Error in " + (t ? "Success" : "Error") + " callbackId: " + e + " : " + r; throw console && console.log && console.log(a), r } }, cordova.require = function (e) { return cordova.iosExec }, cordova.massageMessageNativeToJs = function (e) { if ("ArrayBuffer" === e.YYSType) { e = function base64ToArrayBuffer(e) { return function stringToArrayBuffer(e) { for (var t = new Uint8Array(e.length), r = 0; r < e.length; r++)t[r] = e.charCodeAt(r); return t.buffer }(atob(e)) }(e.data) } return e }, cordova.convertMessageToArgsNativeToJs = function (e) { var t = []; return e && e.hasOwnProperty("YYSType") ? "MultiPart" === e.YYSType ? e.messages.forEach(function (e) { t.push(massageMessageNativeToJs(e)) }) : t.push(massageMessageNativeToJs(e)) : t.push(e), t }, cordova.require("cordova/exec").nativeCallback = function (e, t, r, n, o) { var i = 0 === t || 1 === t, a = cordova.convertMessageToArgsNativeToJs(r); setTimeout(function () { cordova.callbackFromNative(e, i, t, a, n) }, 0) }, yzt.callback = function (e) { var t = yzt.callbacks[e.callbackname]; if (void 0 !== t && (void 0 !== t.userdata && (t.userdata.callbackData = e), null != t.callback)) { if (!1 === t.callback(e, t.userdata)) return; delete yzt.callbacks[e.callbackname] } }, yzt.call = function (e, t, r, n, o, i) { void 0 === i || null == i || "" == i ? "executeH5InfoAction" === e ? yzt.post(r, n, "YYSBasicMessagePlugin", "executeH5InfoAction", t) : "closeAllPage" === e && yzt.post(r, n, "YYSNavigationbarPlugin", "closeAllPage", t) : yzt.post(r, n, i, e, t) }, yzt.post = function (e, t, r, n, o) { o = o || []; var i = r + cordova.callbackId++; if ((e || t) && (cordova.callbacks[i] = { "success": e, "fail": t }), yzt.os.isIOS) { var a = [i, r, n, [o = massageArgsJsToNative(o)]]; window.webkit.messageHandlers.cordova.postMessage(a) } else if (yzt.os.isAndroid) { var s = window.prompt("", "gap_init:3"), c = Number(s); console.log("bridgeSecret", s, "num->>" + c), isArray(o) || (o = [o]); var u = window._cordovaNative.exec(c, r, n, i, JSON.stringify(o)); u && (messagesFromNative.push(u), nextTick(processMessages)) } }; var resolvedPromise = "undefined" == typeof Promise ? null : Promise.resolve(), nextTick = resolvedPromise ? function (e) { resolvedPromise.then(e) } : function (e) { setTimeout(e) }, isProcessing = !1; function processMessages() { if (!isProcessing && 0 !== messagesFromNative.length) { isProcessing = !0; try { var e = popMessageFromQueue(); if ("*" == e && 0 === messagesFromNative.length) return void nextTick(pollOnce); processMessage(e) } finally { isProcessing = !1, messagesFromNative.length > 0 && nextTick(processMessages) } } } function processMessage(message) { var firstChar = message.charAt(0); if ("J" == firstChar) eval(message.slice(1)); else if ("S" == firstChar || "F" == firstChar) { var success = "S" == firstChar, keepCallback = "1" == message.charAt(1), spaceIdx = message.indexOf(" ", 2), status = +message.slice(2, spaceIdx), nextSpaceIdx = message.indexOf(" ", spaceIdx + 1), callbackId = message.slice(spaceIdx + 1, nextSpaceIdx), payloadMessage = message.slice(nextSpaceIdx + 1), payload = []; buildPayload(payload, payloadMessage), cordova.callbackFromNative(callbackId, success, status, payload, keepCallback) } else console.log("processMessage failed: invalid message: " + JSON.stringify(message)) } function popMessageFromQueue() { var e = messagesFromNative.shift(); if ("*" == e) return "*"; var t = e.indexOf(" "), r = +e.slice(0, t), n = e.substr(t + 1, r); return (e = e.slice(t + r + 1)) && messagesFromNative.unshift(e), n } function buildPayload(e, t) { var r = t.charAt(0); if ("s" == r) e.push(t.slice(1)); else if ("t" == r) e.push(!0); else if ("f" == r) e.push(!1); else if ("N" == r) e.push(null); else if ("n" == r) e.push(+t.slice(1)); else if ("A" == r) { var n = t.slice(1); e.push(base64.toArrayBuffer(n)) } else if ("S" == r) e.push(window.atob(t.slice(1))); else if ("M" == r) for (var o = t.slice(1); "" !== o;) { var i = o.indexOf(" "), a = +o.slice(0, i), s = o.substr(i + 1, a); o = o.slice(i + a + 1), buildPayload(e, s) } else e.push(JSON.parse(t)) } yzt.dispatchEvent = function (e) { e || (e = { "name": "webviewLoadComplete" }); var t = {}; try { (t = new Event(e.name)).para = e.para } catch (r) { (t = document.createEvent("HTMLEvents")).initEvent(e.name, !1, !1) } window.dispatchEvent(t) }, yzt.addEventListener = window.addEventListener, window.H5Bridge = yzt, window.cordova = cordova }, function (e, t, r) { (function (n) { var o, i, a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, s = ["wrMjdA==", "w6Yqw5E=", "FcKEw5PChHE=", "wqJGw5wdKw==", "KMKcbXHCkA==", "w47DqMOcNMKoDyzDpywiAxwOw40=", "wrLCv8OaIcOfacKew6DChDom", "MnzCiz3CjcOqKg==", "HcKXwpLCk1NawqrDjsOc", "w61Hw4/DksOm", "w696w6zDp8OxSsKVw4w=", "N8Ofw45Zw60=", "w4xtEsKweB8=", "B8KBwrU=", "w5B4OCnChkHDnw==", "w5TCjcO8Gg3CvsO3WMKZ", "NH3CngTCjcOqNcOZ", "clvCuMOo", "wqtLDETDgyDCsQ==", "Wgx8Nw==", "JMKoUGjCoA==", "QBZmMQ==", "w4/Dv8Kf", "UhnDoMO3w7A5wqxHw4Rlw5o=", "GSHCuWTDhw==", "AUUYw6U=", "S3ZiRMOJ", "wp1Hw41o", "e8Orw6sIwrIt", "PcKeaQ==", "aMO2w6ofwrwtwoccKQ==", "wqFPw5gUIQ==", "w5bCrsKVwpTDisK6UcK6QA==", "wrLCtcOlOg==", "w7t8HhHDjcObXsOfE8OpwoY=", "w7bDicOUGw==", "IzNBNg==", "w5nDsAjDpEvCtAnCgsKz", "SxfDnA==", "wpXCgF3CnyU=", "FsOibsOZcg==", "e1A4w4fCmjhK", "wqlcFVXDnifCrcKqTA==", "wpjDsXQ=", "w4jDscKGw6s=", "FcOkeg==", "w6Inw4TClk3Dg1TCmhrCug==", "wr8WwonCvcODRw==", "bV0Iw6TCng==", "TX87", "wq5gw4nCi23DjVzClzTCvcKkw6TCrTHCscOvJ8Osw5dUw43DgsKSecKEw64=", "wqAGwoLDpANaSibDpsOcJiVLw7s4Xg==", "w6Z0Ag==", "OEvChz4w", "w6nDlcKM", "w5/Ch8ObCg4=", "MX7CuwIW", "PMKad1XCgDI=", "IHvCqUUj", "D8OTecOTSw==", "XMOxw5Ulwpk=", "wrLDpG7Dm8OQ", "w4U6w7XCqkQ=", "DxRBN3I=", "Zx/DhsOEW8OfKMOfWcOh", "w4nDnXrDvsOS", "w4rCk8KxwqTDrw==", "w5RuPgnClA==", "DXnDlwnCoQ==", "wrDDoEHDqMOueDQ=", "wqrDt0JBw4Q=", "clQr", "DFjDlTDCqQ==", "w6PCkwQ3dA==", "wqtGKWvDmA==", "EHrDiQ==", "bMOrw5YfwqEwwpAL", "w7DDpV3DkcON", "w57ClsOOHT7CocO8T8Ksw7k=", "JEnCrgHCsQ==", "woLCnmvCpzU=", "aEHCosOu", "w7bDg8O0GxTCjw7Cjw==", "TWomwoUn", "wobCk0rCnjUxNg==", "w5vCujYfwqY=", "FcKow7LClms=", "SBnDrcO7w6Q5wq13", "w45lDcKbdVg8QxcRw5/Dhxs=", "w7Alw4LCln0=", "WBx+KsOKGsKtXsK6FQsSGMOOw4NvDAV4", "w4LDohvDv23CshjCg8K1", "IcK8w57CgnhIfMOSQ3BFOQ==", "w5HDqMOBIMK1CA==", "GcOow6J6w7RDag==", "wpLDimTDmQ==", "dUfCv8OoB1jCgcOoYV7CpMOUwoo9NA==", "O8OqZMOCY05ofsOLSSkH", "dkvCs8O0a1rCiMOtbV7Dq8OewoMwNcOFw65BRg9mw4LCjMKs", "EcOjw6RWw6FCfmQ6w4haMkXDg0PClxXCsA==", "w7xEKgjDsQ==", "w7DDoUPDkcOXZcKRQ8KN", "wqnCssO8K8OLeA==", "YBDDo8Oww4A=", "w73DgsKVw58=", "cGwywr4l", "wo4weMOxWQ==", "wpMKwpg=", "N8Oww60ZwrY4wopDJBNkR8Khd3XCqMKww5E=", "w5DDv1fCrMOZZzs=", "w7zCrwcXagzCn8OB", "woXDu3I=", "HcO9b8OV", "w4zCjw8BcA==", "wrHDpFHDqMK8aDTCuGnDl8KO", "Pz9BNlp7w4Y=", "w7fCi8O/FzE=", "wrTDo3ZTw4VPwr7ClA==", "w5jDqgDDsw==", "wrkYwrTCrcOeQ8KoaQ==", "w7VnFRnDicOMdMOUBMOlwo7CscK4", "wr1ICWLDnj/CuMK/SsKE", "w5TCrsKSwpXDrsK4UA==", "Dy7CvmnDhMObHcKowoY=", "w4XDmcOEHRY=", "VifDu8OAw4U=", "bTjDo8OFVg==", "wq/CvMO6K8OPbcKAwoPCkDwqwqc=", "P1zCiloADwPCtlJtOhTCgMORA8KRw4rDtAtK", "WgtgOw==", "YgLDicOVbMOZI8OU", "A08Qw68=", "w4h9CsKhbg==", "d8OgwoLDgQs=", "wqjCoVHCl2kMw6x+w5jCrE0=", "w5DDqcOhMDXCsi/CunDDtgEow57DjkA1wpnCv2sgw7Q=", "wrTCtcO3KsORf8KYw4LCkSwgwqtgw5RbdA==", "RkjCp8OsPA==", "w5vCpgwxcQ==", "wq5Xw5w=", "woLCu8OQCsOe", "AsKywo3Clmg=", "UDojwp9zwpXDqSnCiMO9woJ4w6XDosKWK8KM", "w71rw6/DpMOxXQ==", "MMKPwofColU=", "CTXCuH/DlsOA", "bEU3w4fCgw==", "UXcCw6LCgQ==", "w6XDn8KJw48Kw6rDoxI=", "JsK+w4HCqlVW", "RmAvw77CuA==", "w5LDrMKAw6E=", "EwdQE2M=", "PMKQelPCmDINc2g=", "wpzCk1bCiig2", "wrbDqmLDvcOsbiPClXzDgcKZ", "cQTDgsOEWcOXKcOUbA==", "dkHCh8OvM0/ClsOPZUPCtQ==", "w5lhGA==", "wocKwpk=", "G03Cvw83", "woMtwonDsBQ=", "w7DDoFPDi8ONcA==", "O1HCklwP", "w7V6HxPDlMOM", "wqo8wqjCsMOk", "Pl3CuzjCgQ==", "wrMzYsOQWzV7wpnCrQ==", "OsOhwppewqYZS17DncKXDG0=", "woNVw5FqwrDDgkYAYA==", "OBh3K1c=", "HcKKwqXCg1tlwqM=", "wopUw7oSMQ==", "wpHDmkHCu0g=", "C8O1ZsOfcg==", "wrRPCg==", "w6xBwo7CuzpZAC7DksOL", "w4/Cm8OLGh7Cqw==", "cHsew4fClQ==", "AMKLwpLCklFDwqvDmw==", "w5XDkcK3w6gm", "MlXCgFYJCz/DpFl4KQ/Cl8ON", "Pn/Cux7CoA==", "NS9GJ0Y=", "GXDDiijCvQjCnFXDhTgIMg==", "w4NnwozChi0=", "w4LCrMKAwpLDng==", "w6XDrMOiFMKD", "YUbCqsOyBV4=", "c8OVw4sIwrw=", "woTCmWvCmS43Ni4=", "WHxDfcOdCMOFc8K4wpwh", "CVMFw65ifsOdwqBf", "w77DlcKOw6sWw6TDuhhNw7Rrd8OULA==", "w6lIOh7CiFbDmMKScw==", "w64lZsOAQjI8wpTCpA==", "JFXCgFoVHArDpA==", "w5fCssKjwpLDucK0WsKz", "wrLDt1jDucOzfyjCpng=", "w4vDisKyw70n", "MWvCow==", "VyDDr8Oxw7I=", "wr4CwoXCqsOYWA==", "wqrCtcO4KcOcZA==", "wolHw51kwrM=", "wozDsXE=", "wrbCosO5OsOHeMKVw5PCgA==", "UngDw5fChA==", "wqfDqXPCk2PDtg==", "LsKgw5XCikNvew==", "w4DDrA7Dt2bCuwPCn8Kz", "Qw7DicO7", "IGnCvCg=", "w6HChCQbeg==", "wrbDq2zCsg==", "eHlfb09lwpHDoBAlf8O3wpLDuX/CuQ==", "w692H8KKWA==", "A3shw4dZ", "DmfDkR7CqwjCgGTDkg==", "wplDw4pIwrfDmko=", "w6XDicOTKwfCkgU=", "AMKLwpTCsmB5wrHDjsOBGUE=", "wrorw4rCiW/DhV7DgnXCo8Klwr3DsmrCqMK6Z8Oj", "EQluK8OHVMO2LMK7AR44C8OHw5ww", "wo1zJQHChkvDmcOwAsOdwpjCiwbDnMOgwp3DtQ==", "E8KBwrU=", "KcO9wptfwrkvUUU=", "wrNEw4MFPQPDoTMZ"]; o = s, i = 351, function e(t) { for (; --t;)o.push(o.shift()) }(++i); var c, u, l = function b(e, t) { var r, n = s[e -= 0]; if (void 0 === b.aARBCs) { (r = function f() { var e; try { e = Function('return (function() {}.constructor("return this")( ));')() } catch (t) { e = window } return e }()).atob || (r.atob = function (e) { for (var t, r, n = String(e).replace(/=+$/, ""), o = 0, i = 0, a = ""; r = n.charAt(i++); ~r && (t = o % 4 ? 64 * t + r : r, o++ % 4) ? a += String.fromCharCode(255 & t >> (-2 * o & 6)) : 0)r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r); return a }); b.BCstrn = function r(e, t) { for (var n, o = [], i = 0, a = "", s = "", c = 0, u = (e = atob(e)).length; c < u; c++)s += "%" + ("00" + e.charCodeAt(c).toString(16)).slice(-2); e = decodeURIComponent(s); for (var l = 0; l < 256; l++)o[l] = l; for (l = 0; l < 256; l++)i = (i + o[l] + t.charCodeAt(l % t.length)) % 256, n = o[l], o[l] = o[i], o[i] = n; l = 0, i = 0; for (var f = 0; f < e.length; f++)i = (i + o[l = (l + 1) % 256]) % 256, n = o[l], o[l] = o[i], o[i] = n, a += String.fromCharCode(e.charCodeAt(f) ^ o[(o[l] + o[i]) % 256]); return a }, b.DNxENN = {}, b.aARBCs = !0 } var o = b.DNxENN[e]; return void 0 === o ? (void 0 === b.yvFtsN && (b.yvFtsN = !0), n = b.BCstrn(n, t), b.DNxENN[e] = n) : n = o, n }; c = function () { var e = { "UlmCi": "n is out of range", "meBCS": function meBCS(e, t) { return e + t }, "gdcBT": "appEnv", "DkFDv": function DkFDv(e, t) { return e < t }, "vVLpK": l("0x3", "besE"), "LVrIT": function LVrIT(e, t) { return e <= t }, "WCBmE": function WCBmE(e, t) { return e(t) }, "TLwIE": function TLwIE(e, t) { return e + t }, "JHKFk": function JHKFk(e, t) { return e % t }, "LvbuF": function LvbuF(e, t) { return e === t }, "ZTBiW": function ZTBiW(e, t) { return e + t }, "YUtPO": "prd", "DQbQV": function DQbQV(e, t) { return e !== t }, "bGWjZ": "=(\\w+)", "gKOiH": function gKOiH(e, t) { return e < t }, "QEsLn": "bCtSQ", "kDDLx": function kDDLx(e, t) { return e + t }, "TVmcZ": function TVmcZ(e, t) { return e + t }, "KVlCS": "owUMZ", "pFpzP": "XbONi", "tFbKZ": "app", "oNEib": function oNEib(e, t) { return e + t }, "XaMSB": function XaMSB(e, t, r) { return e(t, r) }, "wqhBS": function wqhBS(e, t) { return e ^ t }, "aqptU": function aqptU(e, t) { return e | t }, "LFoMh": l("0x4", "vnTa"), "kQNco": function kQNco(e, t) { return e !== t }, "EraNE": function EraNE(e, t) { return e + t }, "hQPLz": ".xll.cn", "hfRiq": function hfRiq(e) { return e() }, "ewCPO": function ewCPO(e, t) { return e === t }, "XtJIV": function XtJIV(e, t) { return e + t }, "HGOHT": ";path=/;expires=", "PTgDw": function PTgDw(e, t, r) { return e(t, r) }, "xctCd": "JOccr", "LKFVa": function LKFVa(e, t, r) { return e(t, r) }, "aSTjX": function aSTjX(e, t, r, n) { return e(t, r, n) }, "BRaVJ": function BRaVJ(e, t) { return e < t }, "tWIZT": function tWIZT(e, t) { return e + t }, "keQFE": l("0x5", "8DFs"), "sQjkv": function sQjkv(e, t) { return e === t }, "SKTCK": function SKTCK(e, t) { return e(t) }, "rhSJi": function rhSJi(e, t) { return e + t }, "hPTrT": "bYgAy", "VumKy": l("0x6", "G1%L"), "kAaYb": "0123456789abcdef", "aehNr": function aehNr(e, t) { return e * t }, "BmccR": function BmccR(e, t) { return e >> t }, "vKOzD": function vKOzD(e, t) { return e >> t }, "cwUXd": function cwUXd(e, t) { return e << t }, "wFdqr": function wFdqr(e, t) { return e & t }, "ynInU": function ynInU(e, t, r, n, o, i, a) { return e(t, r, n, o, i, a) }, "rMkZm": function rMkZm(e, t) { return e ^ t }, "mYeEl": function mYeEl(e, t) { return e >> t }, "qPQuH": function qPQuH(e, t) { return e + t }, "UpDkV": function UpDkV(e, t) { return e % t }, "SCOqH": l("0x7", "besE"), "klxsG": function klxsG(e, t) { return e + t }, "BEnsh": function BEnsh(e, t, r) { return e(t, r) }, "JPOsZ": function JPOsZ(e, t) { return e - t }, "wkOFY": function wkOFY(e, t) { return e + t }, "WUAqU": "/wsb/dfstr.js?ver=0.1&ts=", "YgOYA": l("0x8", "Rh#G"), "kfDjY": "byteArray", "rWmxI": l("0x9", "*KE["), "FzqCn": "localStorage", "cYBEc": "sessionStorage", "ngdot": l("0xa", "9eF5"), "RfCyP": function RfCyP(e, t) { return e || t }, "UjBFR": function UjBFR(e, t) { return e || t }, "JCmEV": l("0xb", "CgqD"), "qjgrs": "das_h5_fingerprint", "SMYkt": "das_h5_interaction", "dEmBx": l("0xc", "eJ[O"), "fdCml": l("0xd", "vnTa") }; function dR() { return (new Date).getTime() } function dS(e, t) { for (var r = "", n = e + t, o = e; o < n; o++)r += String.fromCharCode(o); return r } var t, n, o, i = (t = "", t += dS(65, 26), t += dS(97, 26), (t += e.BEnsh(dS, 48, 10)) + "-_"); function e2(t) { if ("PVIJW" === l("0xe", "&dn%")) { if (8 <= n) throw new Error(e[l("0xf", "]5[6")]); var r = eg(t); return parseInt(e.meBCS("", r.substr(n)) + r.substr(0, n), 2) } for (var n = t[l("0x10", "46Sm")](eg).join(""), o = [], a = (n += new Array(6 - n.length % 6 + 1).join("0")).length, s = 0; e[l("0x11", "vnTa")](s, a); s += 6)if ("iODsN" !== e[l("0x12", "9Rrf")]) { var c = fr(e.gdcBT), u = c && c.toLowerCase(); if (c = "prd" === u ? "prod" : u) return c } else { var f = n.substr(s, 6); o.push(i.charAt(parseInt(f, 2))) } return o.join("") } function ee(e) { return ey(e.toString(16).toLowerCase(), 2) } function eg(e) { return ey(e.toString(2), 8) } function ei(t, r) { if (e.LVrIT(8, r)) throw new Error(l("0x13", "uBG#")); var n = e.WCBmE(eg, t); return parseInt(e.TLwIE("", n[l("0x14", "gVP7")](r)) + n.substr(0, r), 2) } function em(e, t, r) { var n = e[t]; e[t] = e[r], e[r] = n } function er(t, r) { var n = t.length; if (e[l("0x15", "9Rrf")](0, e.JHKFk(n, r))) throw new Error("target must be N times"); for (var o = [], i = n / r, a = 0; e.DkFDv(a, n); a += i)o.push(t[l("0x16", "I[gC")](a, i)); return o } function ey(t, r, n) { e.LvbuF(void 0, n) && (n = "0"); var o = t.length; return o < r ? "" + new Array(e.ZTBiW(r - o, 1)).join(n) + t : r < o ? t.substr(0, r) : t } function eD(t) { var r = { "NBYLv": function NBYLv(e, t, r) { return e(t, r) } }; return t.toString(2)[l("0x17", "f)2u")]("").map(function (e) { return r[l("0x18", "f)2u")](parseInt, e, 10) }).reduce(function (t, r) { return e.ZTBiW(t, r) }, 0) } function eM(e) { return e.toString = function () { return "wsbtr() { [native code] }" }, e } function eO(e, t) { return void 0 === e && (e = ""), void 0 === t && (t = 1), e.split("").map(function (e) { var r = e.charCodeAt(0); if (97 <= r && r <= 122) { var n = r + t; return 122 < n ? n -= 26 : n < 97 && (n = 26 + n), String.fromCharCode(n) } return e }).join("") } function eU(t) { if (void 0 === t && (t = window.location[l("0x19", "eQIN")]), fn()) { var r = fr(l("0x1a", "9eF5")), n = r && r.toLowerCase(); if (r = e[l("0x1b", "f)2u")] === n ? l("0x1c", "uWDi") : n) return r } if (e[l("0x1d", "Twr*")](-1, t.indexOf(l("0x1e", "pm*j"))) || /\d{1,3}(\.\d{1,3}){3}/.test(t)) return "se"; var o = /.*-(.*)\.xll\.cn/.exec(t); return o ? o[1] : "prod" } function eZ(t) { for (var r = document.getElementsByTagName("script"), n = new RegExp(e.ZTBiW("/" + "wsbtr.js".replace(".", "\\.") + ".*[?&]", t) + e.bGWjZ, "i"), o = null, i = 0, a = r[l("0x1f", "ei$g")]; e.gKOiH(i, a); i++) { var s = r[i].src; if (s && (o = n.exec(s))) break } return o ? o[1] : null } function f7() { var e = f() ? window.wsbtrStorage && window.wsbtrStorage.ctype : eZ("ctype"); if (e) return e[l("0x20", "N[u^")](); if ("2ZFB" === fb()) return n.ali; var t = navigator[l("0x21", "besE")][l("0x22", "&dn%")](); return /alipayclient\//.test(t) ? n.ali : n[l("0x23", "*KE[")] } (o = n = n || {}).ali = "ALI", o[l("0x24", "LEM3")] = "PAR", o.sef = "SEF"; var s = "M_C_I_K"; function fb() { if (e[l("0x25", "9bL#")] !== e.pFpzP) { var t = ""; if (t = f() ? window.wsbtrStorage && window.wsbtrStorage.app : eZ(e[l("0x26", "LEM3")])) return t; var r = new RegExp("(^|&)(?:loanChannel|channel)=([^&]*)(&|$)"), n = window.location.search[l("0x27", "SOre")](1)[l("0x28", "8DFs")](r); return n ? decodeURIComponent(n[2]) : (t = function (t) { if ("bCtSQ" !== e.QEsLn) { var r = window.location.search.substr(o + 1).match(n); return r ? decodeURIComponent(r[2]) : void 0 } var n = document[l("0x29", "mNcT")]; if (e[l("0x2a", "ua99")](0, n.length)) { var o = n.indexOf(t + "="); if (e.DQbQV(-1, o)) { var i = e[l("0x2b", "VLCr")](e.TVmcZ(o, t.length), 1), a = n.indexOf(";", i); return -1 === a && (a = n.length), decodeURI(n[l("0x2c", "hT&l")](i, a)) } } return "" }(s)) ? t : (t = window.sessionStorage.getItem(s) || "").replace(/"/g, "") } return ei(t, 4) } function fn() { var e = f() ? window.wsbtrStorage && window[l("0x2d", "gzJ8")].isoffline : eZ(l("0x2e", "sNrv")); return e && "1" === e } function fp() { var e = "https:"; return fn() || (e = window.location.protocol), e } function fr(e) { return c(e) || u(e) } var c = function ft(t) { var r = new RegExp(e[l("0x2f", "Twr*")]("(^|&)" + t, "=([^&]*)(&|$)")), n = window.location.hash.indexOf("?"); if (-1 < window.location.hash[l("0x30", "9Rrf")]("#")) { if ("IbVcc" === l("0x31", "46Sm")) { if (-1 === n) return; var o = window.location.hash.substr(n + 1).match(r); return o ? decodeURIComponent(o[2]) : void 0 } return ee(e[l("0x32", "[L!K")](a, t)[l("0x33", "QVwa")]("")[l("0x34", "cM]g")](function (e) { return e[l("0x35", "6Oy4")](0) })[l("0x36", "RE*Q")](function (e, t) { return e ^ t }, 0)) } var i = new RegExp(e.oNEib("[?&]" + t, "=([^&]+)"), "gmi"), a = window.location.href; return i.test(a) ? RegExp.$1 : "" }, u = function fu(t) { var r = new RegExp(e[l("0x37", "f)2u")]("(^|&)", t) + "=([^&]*)(&|$)"), n = window.location.search.indexOf("?"); if (-1 !== n) { var o = window.location.search.substr(n + 1).match(r); return o ? decodeURIComponent(o[2]) : void 0 } }, f = function fv() { return window.wsbtrStorage && window.wsbtrStorage.localized }, d = (fO.prototype.getByteArray = function () { var t = [], r = this.decimal[l("0x38", "9Rrf")](2); r = ey(r, 64, "0"); for (var n = 0; n < 8; n++)t.push(e[l("0x39", "eQIN")](parseInt, r.substr(8 * n, 8), 2)); return t }, Object[l("0x3a", "8DFs")](fO.prototype, e[l("0x3b", "VLCr")], { "get": function get() { return this[l("0x3c", "Twr*")] }, "enumerable": !0, "configurable": !0 }), fO); function fO(e) { this.decimal = e || Date.now(), this.bytes = this[l("0x3d", "Tt)t")]() } function fQ() { return "LNcOT" !== l("0x3e", "6Oy4") ? e.wqhBS(dS, t) : e[l("0x3f", "D#1n")](16 * Math.random(), 0).toString(16) } function fS(t, r) { return t = t || fQ(), r = r || fQ(), e.XaMSB(parseInt, "" + t + r, 16) } var p = (Object.defineProperty(fZ.prototype, e.rWmxI, { "get": function get() { return this.byteArray }, "enumerable": !0, "configurable": !0 }), fZ.prototype.toString = function () { return this.byteArray.map(ee).join("") }, fZ.toByteArrayFrom = function (t) { if (32 !== (t = t.replace(/-/g, "")).length) throw new Error(e.LFoMh); for (var r = [], n = 0; n < 32; n += 2)r.push(e[l("0x40", "#MwR")](parseInt, t[l("0x41", "&dn%")](n) + t.charAt(n + 1), 16)); return r }, fZ); function fZ(t) { if (e[l("0x42", "tXMM")]("cdAOk", "cdAOk")) return t[l("0x43", "ei$g")](16)[l("0x44", "&gnH")](); if (this.byteArray = t, !this.byteArray) { for (var r = new Array(16), n = 0; n < 16; n++)r[n] = fS(); r[6] = fS("4"), this[l("0x45", "Rh#G")] = r } } var h = function g4(e, t) { return (h = Object[l("0x46", "eQIN")] || { "__proto__": [] } instanceof Array && function (e, t) { e[l("0x47", "62Go")] = t } || function (e, t) { for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r]) })(e, t) }; function gc(e, t) { var r = { "qAZOI": function qAZOI(e, t) { return e !== t } }; function e0() { var t, n = function cdLBX(e, t) { return e < t }; r.qAZOI("VpmxE", "DMCAc") ? this.constructor = e : !((t = U || document.referrer) && t.indexOf(".xll.com") < 0 && n(t.indexOf(l("0x48", "hT&l")), 0)) || (localStorage.setItem(F, U || document[l("0x49", "8DFs")]), localStorage.setItem(N, Date.now()[l("0x4a", "D#1n")]())) } h(e, t), e[l("0x4b", "N[u^")] = null === t ? Object.create(t) : (e0.prototype = t.prototype, new e0) } function go() { } var m, g = (gc(gE, m = go), gE.prototype.set = function (e, t) { if ("rWhKs" === l("0x4c", "eQIN")) { var r = ""; if (r = f() ? window.wsbtrStorage && window.wsbtrStorage[l("0x4d", "9bL#")] : eZ({ "qVCiu": "app" }[l("0x4e", "bZ#A")])) return r; var n = new RegExp("(^|&)(?:loanChannel|channel)=([^&]*)(&|$)"), o = window.location.search[l("0x4f", "ua99")](1).match(n); return o ? decodeURIComponent(o[2]) : (r = function (e) { var t = document.cookie; if (0 < t.length) { var r = t.indexOf(e + "="); if (-1 !== r) { var n = r + e.length + 1, o = t.indexOf(";", n); return -1 === o && (o = t[l("0x50", "vnTa")]), decodeURI(t.substring(n, o)) } } return "" }(s)) ? r : (r = window.sessionStorage.getItem(s) || "").replace(/"/g, "") } this[l("0x51", "sNrv")][e] = t }, gE.prototype[l("0x52", "CItj")] = function (e) { return this.cache[e] || "" }, gE.isSupport = !0, gE); function gE() { var e = null !== m && m.apply(this, arguments) || this; return e.cache = {}, e } var v, y = (gc(gY, v = go), gY[l("0x53", "vnTa")].getCurrentEnv = function () { if ("MMXys" === l("0x54", "f)2u")) { if (e.hfRiq(fn)) { var t = fr(l("0x55", "[L!K")), r = t && t.toLowerCase(); if (t = e.LvbuF(e.YUtPO, r) ? "prod" : r) return t } var n = window.location.hostname; if (-1 !== n[l("0x56", "9eF5")](l("0x57", "J^D*")) || /\d{1,3}(\.\d{1,3}){3}/.test(n)) return "se"; var o = /.*-(.*)\.xll\.cn/[l("0x58", "bZ#A")](n); return o ? o[1] : l("0x59", "9bL#") } var i = fp(); switch (t) { case "dev": return e[l("0x5a", "]5[6")](i, "//localhost:9876/base/dist"); case l("0x5b", "[L!K"): return i + l("0x5c", "Twr*"); default: return e[l("0x5d", "*KE[")](i + "//m-zl-", t) + e[l("0x5e", "Rh#G")] } }, gY[l("0x5f", "Tt)t")].set = function (t, r, n) { e.ewCPO(void 0, n) && (n = 365), t = eO(t, 1), r = eO(e.WCBmE(encodeURI, r), 1); var o = new Date; o[l("0x60", "sNrv")](e.XtJIV(o[l("0x61", "eJ[O")](), n)); var i = this.getCurrentEnv(); document.cookie = "prod" === i ? t + "=" + r + e.HGOHT + o[l("0x62", "9Rrf")]() + l("0x63", "Q9VC") : e.XtJIV(t + "=" + r + l("0x64", "G1%L") + o.toUTCString(), l("0x65", "62Go")) }, gY.prototype[l("0x66", "9Rrf")] = function (t) { var r = document.cookie; if (e.gKOiH(0, r.length)) { t = eO(t, 1); var n = r.indexOf(t + "="); if (-1 !== n) { var o = n + t.length + 1, i = r.indexOf(";", o); return -1 === i && (i = r.length), eO(decodeURI(r.substring(o, i)), -1) } } return "" }, gY.isSupport = "cookie" in window[l("0x67", "gzJ8")], gY); function gY() { return null !== v && v.apply(this, arguments) || this } var b, S = (gc(h5, b = go), h5[l("0x68", "46Sm")][l("0x69", "hT&l")] = function (t, r) { t = eO(t, 4), r = e.PTgDw(eO, r, 4), window.localStorage.setItem(t, r) }, h5.prototype[l("0x6a", "Q9VC")] = function (e) { if ("FCIeD" !== l("0x6b", "9eF5")) return e = eO(e, 4), eO(window.localStorage.getItem(e) || "", -4); this.version = "0.3.0" }, h5.isSupport = e.FzqCn in window, h5); function h5() { return null !== b && b[l("0x6c", "46Sm")](this, arguments) || this } var _, w = (gc(hc, _ = go), hc.prototype.set = function (t, r) { if ("qgMUW" === e[l("0x6d", "pm*j")]) return ey(t.toString(16)[l("0x6f", "vnTa")](), 2); t = e.PTgDw(eO, t, 8), r = eO(r, 8), window[l("0x6e", "#MwR")].setItem(t, r) }, hc.prototype.get = function (t) { return t = e.LKFVa(eO, t, 8), eO(window.sessionStorage[l("0x70", "VLCr")](t) || "", -8) }, hc[l("0x71", "9Rrf")] = e[l("0x72", "gVP7")] in window, hc); function hc() { return null !== _ && _.apply(this, arguments) || this } var A = (hp.prototype.set = function (e, t) { var r = { "IRXjm": function IRXjm(e, t) { return e === t }, "PaFns": "RJjfc" }; this[l("0x73", "gVP7")].forEach(function (n) { if (!r[l("0x74", "OVy)")](r.PaFns, "kFoss")) return n.set(e, t); this.seq = 0, this.dp = new C, this.ts = new d }) }, hp.prototype.get = function (e) { var t = this.adapters.map(function (t) { return t.get(e) })[l("0x75", "*KE[")](function (e) { return !!e })[0]; return this[l("0x76", "9Rrf")](e, t), t }, hp); function hp() { var e = this; this.adapters = [], [g, y, S, w][l("0x77", "62Go")](function (t) { t[l("0x78", "RE*Q")] && e[l("0x79", "VLCr")][l("0x7a", "&dn%")](new t) }) } function hs(t) { for (var r = function jFbTo(t, r, n, o) { return e.aSTjX(t, r, n, o) }, n = t.bytes.slice(0)[l("0x7b", "cM]g")]().map(function (e) { return ei(e, 4) }).map(eg), o = n.length, i = [], a = 0; e.BRaVJ(a, o); a += 4)i[l("0x7c", "G1%L")](parseInt(n.slice(a, e[l("0x7d", "pm*j")](a, 4))[l("0x7e", "G1%L")](""), 2)); return i.map(function (e) { return r(ey, e.toString(36), 7, "0") })[l("0x7f", "uWDi")](function (e) { return e[l("0x80", "bZ#A")]() })[l("0x82", "Rh#G")]("") } var C = (hU.prototype[l("0x83", "&gnH")] = function (t) { void 0 === t && (t = ""); var r, n = this.ss.get(l("0x84", "sNrv")); if ((r = n && 28 === n.length ? n : t) && 28 === r.length) { var o = null; try { o = function (t) { if (28 !== t.length) throw new Error(e.keQFE); return Array.prototype[l("0x85", "tXMM")].apply([], er(t, 4).map(function (e) { return parseInt(e, 36) }).map(function (e) { return ey(e.toString(2), 32, "0") }).map(function (e) { return er(e, 4) }))[l("0x86", "pm*j")](function (e) { return parseInt(e, 2) }).map(function (e) { return ei(e, 4) }).reverse() }(r) } catch (e) { } if (o && 16 === o.length) return new p(o) } return new p }, Object.defineProperty(hU[l("0x87", "tXMM")], "dp", { "get": function get() { return hs(this.id) }, "enumerable": !0, "configurable": !0 }), Object.defineProperty(hU.prototype, e.rWmxI, { "get": function get() { return this.id[l("0x88", "46Sm")] }, "enumerable": !0, "configurable": !0 }), hU); function hU(t) { e.sQjkv(void 0, t) && (t = ""), this.ss = new A, this.id = this.getId(t), this.ss.set(l("0x84", "sNrv"), hs(this.id)) } var T = "undefined" != typeof window && void 0 !== window.navigator && e.kQNco(void 0, window.navigator[l("0x89", "D#1n")]) && (/micromessenger/i.test(window.navigator.userAgent) && (/miniprogram/i[l("0x8a", "vnTa")](window.navigator.userAgent) || l("0x8b", "mNcT") === window.__wxjs_environment) || /alipay/i[l("0x8c", "eJ[O")](window.navigator.userAgent) && /miniprogram/i[l("0x8d", "Twr*")](window.navigator[l("0x8e", "J^D*")])) ? 5 : 3, P = function (t) { var r = e[l("0x91", "QVwa")].split(".")[l("0x8f", "bZ#A")](function (e) { return parseInt(e, 10) }); if (r[l("0x90", "ei$g")](function (e) { return e < 16 })) return r.map(function (e) { return e.toString(16).toUpperCase() }).join(""); throw new Error("version exceeded") }(), k = (im.prototype.transformTimestamp = function () { var t = this.ts.byteArray.slice(0); return e.aSTjX(em, t, 0, 7), em(t, 2, 5), em(t, 4, 6), e2(t) }, im.prototype.transformUUID = function () { var t = this.ts[l("0x92", "f)2u")] % 8; return e.SKTCK(e2, this.dp.bytes.map(function (e) { return ei(e, t) })) }, im[l("0x93", "cM]g")].getSeq = function () { return e.BRaVJ(99, this[l("0x94", "CItj")]) && (this.seq = 0), this.seq < 10 ? "0" + this.seq++ : "" + this.seq++ }, im.prototype.toString = function (t) { void 0 === t && (t = !1), t || (this.ts = new d); var r = function (e, t) { for (var r = [], n = e.length + t.length, o = 0; o < n; o++)r.push("" + (e[o] || "") + (t[o] || "")); return r[l("0x95", "uWDi")]("") }(this.transformUUID(), this.transformTimestamp()), n = function (e) { return ee(e2(e).split("")[l("0x96", "QVwa")](function (e) { return e[l("0x97", "Q9VC")](0) }).reduce(function (e, t) { return e ^ t }, 0)) }(this.dp.bytes), o = (36 * Math[l("0x98", "ua99")]() | 0).toString(36); return e[l("0x99", "f)2u")]("" + r + n + T + P + o, this.getSeq()) }, im); function im() { this[l("0x9a", "uBG#")] = 0, this.dp = new C, this.ts = new d } var E = eU(), x = function (t) { var r = fp(); switch (t) { case "dev": return e.rhSJi(r, l("0x9b", "Q9VC")); case "prod": return r + l("0x9c", "6Oy4"); default: return r + "//m-zl-" + t + ".xll.cn" } }(E); (function (e) { var t = f7(); t === n.ali || n[l("0x9d", "mNcT")]; fp(); switch (e) { case "dev": case "st": case "prod": ; } })(E), function (t) { if (e.kQNco("edwyG", e[l("0x9e", "9bL#")])) { fp(); switch (t) { case l("0x9f", "eQIN"): case e.VumKy: ; } } else this.decimal = t || Date.now(), this[l("0xa0", "RE*Q")] = this.getByteArray() }(E); var O = 8; function k2(e, t, r, n, o, i) { var a = { "SGwsI": function SGwsI(e, t) { return e >>> t }, "iNABd": function iNABd(e, t) { return e - t }, "XlPap": function XlPap(e, t, r) { return e(t, r) } }; return l1(function (e, t) { return e << t | a.SGwsI(e, a[l("0xab", "D#1n")](32, t)) }(l1(l1(t, e), l1(n, i)), o), r) } function kv(e, t, r, n, o, i, a) { return k2(t & r | ~t & n, e, t, o, i, a) } function kD(t, r, n, o, i, a, s) { return k2(e.wFdqr(r, o) | n & ~o, t, r, i, a, s) } function kL(t, r, n, o, i, a, s) { return e.ynInU(k2, e[l("0xb1", "Tt)t")](r, n) ^ o, t, r, i, a, s) } function kT(e, t, r, n, o, i, a) { return k2(r ^ (t | ~n), e, t, o, i, a) } function l1(t, r) { var n = (65535 & t) + (65535 & r); return e[l("0xb2", "]5[6")](t, 16) + (r >> 16) + (n >> 16) << 16 | 65535 & n } var I, R, M, B, D = (lo.prototype.toString = function () { var t = function PRceL(t, r) { return e[l("0xb3", "cM]g")](t, r) }; if (e.sQjkv("ZYQAQ", "LMRTy")) return (16 * Math.random() | 0).toString(16); var r = Date[l("0xb4", "Tt)t")](), n = r[l("0xb5", "tXMM")]()[l("0xb6", "SOre")]("").map(function (e) { return e[l("0xb7", "RE*Q")](0) }).reduce(function (e, t) { return e + t }, 0), o = function iA(t) { var r = { "UFsbR": function UFsbR(e, t) { return e % t }, "Rcdct": function Rcdct(t, r) { return e.cwUXd(t, r) }, "gLwKX": function gLwKX(e, t) { return e + t }, "QRfzI": function QRfzI(e, t) { return e < t }, "ajXdg": function ajXdg(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) }, "EeVEV": function EeVEV(e, t) { return e + t }, "HsfDu": function HsfDu(t, r) { return e.rhSJi(t, r) }, "uirNI": function uirNI(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) }, "CGgBm": function CGgBm(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) }, "wVseM": function wVseM(e, t) { return e + t }, "DuPNJ": function DuPNJ(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) }, "paYVL": function paYVL(e, t) { return e + t }, "XPgoX": function XPgoX(e, t) { return e + t }, "DrmKf": function DrmKf(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) }, "XBsuG": function XBsuG(e, t) { return e + t }, "BlceJ": function BlceJ(e, t, r, n, o, i, a, s) { return e(t, r, n, o, i, a, s) } }; return function (t) { for (var r = e.kAaYb, n = "", o = 0; o < e[l("0xa1", "9bL#")](4, t[l("0xa2", "pm*j")]); o++)n += r.charAt(t[e.BmccR(o, 2)] >> o % 4 * 8 + 4 & 15) + r.charAt(t[e[l("0xa3", "8DFs")](o, 2)] >> o % 4 * 8 & 15); return n }(function (e, t) { e[t >> 5] |= 128 << r.UFsbR(t, 32), e[14 + r.Rcdct(r.gLwKX(t, 64) >>> 9, 4)] = t; for (var n = 1732584193, o = -271733879, i = -1732584194, a = 271733878, s = 0; r.QRfzI(s, e.length); s += 16) { var c = n, u = o, f = i, d = a; n = kv(n = kv(n = kv(n = kv(n, o, i, a, e[s + 0], 7, -680876936), o = kv(o, i = kv(i, a = kv(a, n, o, i, e[s + 1], 12, -389564586), n, o, e[s + 2], 17, 606105819), a, n, e[s + 3], 22, -1044525330), i, a, e[s + 4], 7, -176418897), o = kv(o, i = kv(i, a = kv(a, n, o, i, e[s + 5], 12, 1200080426), n, o, e[s + 6], 17, -1473231341), a, n, e[s + 7], 22, -45705983), i, a, e[s + 8], 7, 1770035416), o = kv(o, i = kv(i, a = r.ajXdg(kv, a, n, o, i, e[s + 9], 12, -1958414417), n, o, e[s + 10], 17, -42063), a, n, e[r.EeVEV(s, 11)], 22, -1990404162), i, a, e[s + 12], 7, 1804603682), a = r.ajXdg(kv, a, n, o, i, e[s + 13], 12, -40341101), o = kv(o, i = r.ajXdg(kv, i, a, n, o, e[r.HsfDu(s, 14)], 17, -1502002290), a, n, e[s + 15], 22, 1236535329), a = kD(a = kD(a, n = r.uirNI(kD, n, o, i, a, e[s + 1], 5, -165796510), o, i, e[s + 6], 9, -1069501632), n = kD(n, o = kD(o, i = kD(i, a, n, o, e[s + 11], 14, 643717713), a, n, e[s + 0], 20, -373897302), i, a, e[s + 5], 5, -701558691), o, i, e[s + 10], 9, 38016083), n = kD(n, o = kD(o, i = r.CGgBm(kD, i, a, n, o, e[s + 15], 14, -660478335), a, n, e[s + 4], 20, -405537848), i, a, e[s + 9], 5, 568446438), a = kT(a = kL(a = kL(a = kL(a = kL(a = kD(a = r.CGgBm(kD, a, n, o, i, e[s + 14], 9, -1019803690), n = kD(n, o = kD(o, i = kD(i, a, n, o, e[s + 3], 14, -187363961), a, n, e[s + 8], 20, 1163531501), i, a, e[s + 13], 5, -1444681467), o, i, e[s + 2], 9, -51403784), n = kL(n, o = kD(o, i = kD(i, a, n, o, e[r[l("0xa4", "QVwa")](s, 7)], 14, 1735328473), a, n, e[r.wVseM(s, 12)], 20, -1926607734), i, a, e[s + 5], 4, -378558), o, i, e[s + 8], 11, -2022574463), n = kL(n, o = kL(o, i = r.DuPNJ(kL, i, a, n, o, e[s + 11], 16, 1839030562), a, n, e[s + 14], 23, -35309556), i, a, e[s + 1], 4, -1530992060), o, i, e[s + 4], 11, 1272893353), n = kL(n, o = kL(o, i = kL(i, a, n, o, e[s + 7], 16, -155497632), a, n, e[s + 10], 23, -1094730640), i, a, e[r.paYVL(s, 13)], 4, 681279174), o, i, e[s + 0], 11, -358537222), n = kL(n, o = kL(o, i = r.DuPNJ(kL, i, a, n, o, e[s + 3], 16, -722521979), a, n, e[s + 6], 23, 76029189), i, a, e[s + 9], 4, -640364487), o, i, e[s + 12], 11, -421815835), n = kT(n, o = kL(o, i = r[l("0xa5", "tXMM")](kL, i, a, n, o, e[s + 15], 16, 530742520), a, n, e[r.paYVL(s, 2)], 23, -995338651), i, a, e[r[l("0xa6", "N[u^")](s, 0)], 6, -198630844), o, i, e[r.XPgoX(s, 7)], 10, 1126891415), o = kT(o, i = r[l("0xa7", "Q9VC")](kT, i, a, n, o, e[s + 14], 15, -1416354905), a, n, e[s + 5], 21, -57434055), n = r.DrmKf(kT, n, o, i, a, e[s + 12], 6, 1700485571), i = kT(i, a = r.DrmKf(kT, a, n, o, i, e[s + 3], 10, -1894986606), n, o, e[r[l("0xa8", "Twr*")](s, 10)], 15, -1051523), o = kT(o = kT(o = r.BlceJ(kT, o, i, a, n, e[s + 1], 21, -2054922799), i = kT(i, a = kT(a, n = kT(n, o, i, a, e[s + 8], 6, 1873313359), o, i, e[s + 15], 10, -30611744), n, o, e[s + 6], 15, -1560198380), a, n, e[r.XBsuG(s, 13)], 21, 1309151649), i = kT(i, a = kT(a, n = kT(n, o, i, a, e[s + 4], 6, -145523070), o, i, e[r.XBsuG(s, 11)], 10, -1120210379), n, o, e[r.XBsuG(s, 2)], 15, 718787259), a, n, e[s + 9], 21, -343485551), n = l1(n, c), o = l1(o, u), i = l1(i, f), a = l1(a, d) } return [n, o, i, a] }(function (t) { for (var r = [], n = (1 << O) - 1, o = 0; o < t.length * O; o += O)r[o >> 5] |= (t[l("0xa9", "besE")](o / O) & n) << e[l("0xaa", "SOre")](o, 32); return r }(t), t.length * O)) }(e[l("0xb8", "VLCr")]("" + n, eD(n) ^ eD(r)) + r), i = e.UpDkV(r, 2), a = o.split("").filter(function (t, r) { return e[l("0xb9", "ei$g")](r, i) % 2 })[l("0xba", "&dn%")](""), s = function (e) { var r = e[l("0xbb", "eJ[O")]()[l("0xbc", "uBG#")](""), n = r.shift(); return parseInt(t("", n) + r.reverse().join(""), 10).toString(36).toLowerCase() }(r); return "" + a.substr(0, 8) + s + a.substr(8) }, lo); function lo() { this[l("0xbd", "ei$g")] = l("0xbe", "CItj") } window._Opt && window._Opt.appName, (R = I = e[l("0xbf", "9eF5")](I, {})).noSupport = "_1", R.noPermission = "_2", R[l("0xc0", "bZ#A")] = "_3", (B = M = e.UjBFR(M, {})).system = "das_h5_system", B.status = l("0xc1", "*KE["), B.feature = "das_h5_feature", B.info = e.JCmEV, B.miniappInfo = "das_miniapp_status", B.fingerprint = e[l("0xc2", "Q9VC")], B.interaction = e.SMYkt, window[l("0xc3", "G1%L")], window.cancelIdleCallback, window[l("0xc4", "J^D*")].userAgent.toLowerCase(); var j = +("" + String[l("0xc5", "9eF5")](51) + 1 + 255..toString(2)[l("0xc6", "#MwR")]), F = "REF_STORAGE_ITEM", L = 3e4, N = e.dEmBx, H = "/static/safe/reject.html", U = localStorage[l("0xc7", "OVy)")](F), W = localStorage.getItem(N); function lA(t, r, n) { var o = new XMLHttpRequest; o.open(l("0xc8", "N[u^"), t, !0), o[l("0xc9", "&dn%")] = !0, o.setRequestHeader(l("0xca", "QVwa"), l("0xcb", "&dn%")), o[l("0xcc", "OVy)")] = function () { if (o.readyState === XMLHttpRequest.DONE && 200 === o.status) { var t = JSON.parse(o.responseText); e.SCOqH == (void 0 === n ? "undefined" : a(n)) && n(t) } }, o.send(function (e, t) { var r = { "jQZpL": function jQZpL(e, t) { return e & t } }; return e2(e.split("").map(function (e) { return e.charCodeAt(0) }).map(function (e) { return e ^ r[l("0xcd", "mNcT")](255, j) })) }(JSON[l("0xce", "SOre")](r))) } function m1() { var t = { "sLOmO": function sLOmO(e, t) { return e == t }, "JuPxL": function JuPxL(e) { return e() } }, r = function () { function dS() { var e; !((e = U || document.referrer) && e.indexOf(".xll.com") < 0 && e[l("0xd6", "CqFD")](".xll.cn") < 0) || (localStorage.setItem(F, U || document[l("0xd7", "]5[6")]), localStorage.setItem(N, Date[l("0xd8", "CItj")]().toString())) } return U ? Date.now() - Number(W) < L ? U : (md(), dS(), localStorage.getItem(F)) : (dS(), localStorage.getItem(F)) }(), n = /^(http|https):\/\/([\w+].*?)(:[0-9]*)?\/\.*/[l("0xd9", "QVwa")](r), o = { "referrer": r, "baseUrl": window.location.href, "baseHost": n && n[2] }; r && e[l("0xda", "]5[6")](setTimeout, function () { !function lN(t, r) { var n = { "FfOhG": function FfOhG(e) { return e() }, "gIPFG": ".api.xll.cn", "NvxRv": function NvxRv(t, r) { return e.klxsG(t, r) }, "MXYeF": "dfs" }, o = function (e) { return Object.keys(e).forEach(function (t) { var r = e[t]; switch (void 0 === r ? "undefined" : a(r)) { case "boolean": e[t] = r ? "1" : "0"; break; case "number": e[t] = r.toString(); break; case l("0xcf", "vnTa"): r instanceof Array && (e[t] = JSON.stringify(r)) } }), e }(t); e.aSTjX(lA, function (e) { var t = n[l("0xd0", "bZ#A")](eU), r = fp(); switch (t) { case "dev": case "st": return r + "//" + e + n.gIPFG; case l("0xd1", "eQIN"): return n[l("0xd2", "uBG#")](r + "//", e) + (n.MXYeF === e ? ".api" : "") + ".xll.com"; default: return n[l("0xd3", "hT&l")](r + "//" + e + "-", t) + ".api.xll.cn" } }(l("0xd4", "LEM3")) + l("0xd5", "tXMM"), o, r) }(o, function (e) { "0" === e.ret && (e.data && t.sLOmO("2", e.data.statusFlag) && (function () { var e = { "title": l("0xdb", "N[u^"), "url": H }; window[l("0xdc", "Twr*")].pushState(e, e.title, e.url) }(), window.location.href = H), t[l("0xdd", "RE*Q")](md)) }) }, 500) } function md() { localStorage.removeItem(F), localStorage.removeItem(N) } var G = new k, V = new D, q = { "_s": "", "_t": "", "time": 0 }; window[l("0xde", "CItj")] = eM(function () { var e = dR(); if (1e3 < e - q[l("0xdf", "J^D*")]) { q.time = e; var t = V.toString(), r = G.toString(); return { "_s": q._s = t, "_t": q._t = r } } return { "_s": q._s, "_t": q._t } }); var z = new k, X = new D, Q = { "_s": "", "_t": "", "time": 0 }; function mn() { var t = e.hfRiq(dR); if (1e3 < e.JPOsZ(t, Q.time)) { Q.time = t; var r = X[l("0xe0", "ua99")](), n = z.toString(); return { "_s": Q._s = r, "_t": Q._t = n } } return { "_s": Q._s, "_t": Q._t } } return e.hfRiq(mn), window._Opt = {}, function () { if (f()) r(131); else { var t = e.wkOFY(x + e.WUAqU, Date.now()), n = document[l("0xe1", "mNcT")]("script"); n.async = !0, n.src = t, (document.body || document.getElementsByTagName(e.YgOYA)[0]).appendChild(n) } }(), window._getChannelType = f7, window._getChannelCode = fb, document.addEventListener(e.fdCml, function () { "complete" === document.readyState && m1() }), window.dfsResend = function () { return mn(), void ("function" == typeof window[l("0xe2", "cM]g")] && window.dfsCollect()) }, window[l("0xe3", "D#1n")] = function (e) { void 0 === e && (e = ""); var t = function (e) { return void 0 === e && (e = ""), e }(e); return new C(t).dp }, eM(mn) }, (u = { "Gucrp": "object", "kWTzx": l("0x0", "I[gC"), "pQWXB": function pQWXB(e) { return e() }, "DvqGO": function DvqGO(e, t) { return e(t) } })[l("0x1", "eJ[O")] == a(t) && u.kWTzx != a(n) ? n.exports = u.pQWXB(c) : u.DvqGO(r(61), c) }).call(this, r(42)(e)) }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !function () { "use strict"; var e, t, o, i, a = window._Opt && window._Opt.appName || ""; (t = e = e || {}).noSupport = "_1", t.noPermission = "_2", t.noAccess = "_3", (i = o = o || {}).system = "das_h5_system", i.status = "das_h5_status", i.feature = "das_h5_feature", i.info = "das_h5_info", i.miniappInfo = "das_miniapp_status", i.fingerprint = "das_h5_fingerprint", i.interaction = "das_h5_interaction", window.requestIdleCallback, window.cancelIdleCallback; var u = ["button", "input"], l = ["btn", "button"]; function s(e) { var t = e.target, r = t.tagName, n = t.className; return 0 <= u.indexOf(r.toLowerCase()) || function (e, t) { for (var r = e.length, n = 0; n < r; n++)if (t(e[n])) return !0; return !1 }(l, function (e) { return n && n.indexOf && 0 <= n.indexOf(e) }) } function c(e, t) { return function (e) { for (var t = [], r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; for (var n = void 0, o = 0; o < t.length; o++)for (var i in n = t[o]) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]); return e }({}, t, { "type": e, "app_id": a, "token": wsbtr()._t, "sdk_version": "0.3.0" }) } var h = window.navigator.userAgent.toLowerCase(); function d(t, r) { return void 0 === r && (r = 1e3), function (n) { var o = !1, i = setTimeout(function () { n(e.noAccess), o = !0 }, r); t(function (e) { clearTimeout(i), o || n(e) }) } } function f() { return (new Date).getTime() } function p(e, t) { for (var r = "", n = e + t, o = e; o < n; o++)r += String.fromCharCode(o); return r } var g, y, b, S = (g = "", g += p(65, 26), g += p(97, 26), (g += p(48, 10)) + "-_"); function v(e) { return function (e, t, r) { void 0 === r && (r = "0"); var n = e.length; return n < 8 ? "" + new Array(8 - n + 1).join(r) + e : 8 < n ? e.substr(0, 8) : e }(e.toString(2)) } function A() { return "undefined" != typeof window && void 0 !== window.navigator && void 0 !== window.navigator.userAgent && (/micromessenger/i.test(window.navigator.userAgent) && (/miniprogram/i.test(window.navigator.userAgent) || "miniprogram" === window.__wxjs_environment) || /alipay/i.test(window.navigator.userAgent) && /miniprogram/i.test(window.navigator.userAgent)) } function x() { var e = C() ? window.wsbtrStorage && window.wsbtrStorage.isoffline : function (e) { for (var t = document.getElementsByTagName("script"), r = new RegExp("/" + "wsbtr.js".replace(".", "\\.") + ".*[?&]isoffline=(\\w+)", "i"), n = null, o = 0, i = t.length; o < i; o++) { var a = t[o].src; if (a && (n = r.exec(a))) break } return n ? n[1] : null }(); return e && "1" === e } (b = y = y || {}).ali = "ALI", b.par = "PAR", b.sef = "SEF"; var _ = function y(e) { var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), r = window.location.hash.indexOf("?"); if (-1 < window.location.hash.indexOf("#")) { if (-1 === r) return; var n = window.location.hash.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } var o = new RegExp("[?&]" + e + "=([^&]+)", "gmi"), i = window.location.href; return o.test(i) ? RegExp.$1 : "" }, w = function C(e) { var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), r = window.location.search.indexOf("?"); if (-1 !== r) { var n = window.location.search.substr(r + 1).match(t); return n ? decodeURIComponent(n[2]) : void 0 } }, C = function E() { return window.wsbtrStorage && window.wsbtrStorage.localized }, P = +("" + String.fromCharCode(51) + 1 + 255..toString(2).length); function I(e, t) { return function (e) { for (var t = e.map(v).join(""), r = [], n = (t += new Array(6 - t.length % 6 + 1).join("0")).length, o = 0; o < n; o += 6) { var i = t.substr(o, 6); r.push(S.charAt(parseInt(i, 2))) } return r.join("") }(e.split("").map(function (e) { return e.charCodeAt(0) }).map(function (e) { return e ^ 255 & (t || P) })) } var E = (O.prototype.addCollector = function (e, t) { e in this.collectors || (this.collectors[e] = []), t instanceof Array ? this.collectors[e] = this.collectors[e].concat(t) : this.collectors[e].push(t) }, O.prototype.exec = function (t, r) { if (t in this.collectors) { for (var n, o = this.collectors[t], i = {}, a = function e() { var t = (n = o[s]).fn, r = n.key, e = t(function (e) { i[r] = e }); void 0 !== e && (i[r] = e) }, s = 0; s < o.length; s++)a(); setTimeout(function () { r(i) }, 1e3) } }, O); function O() { this.collectors = {} } function T() { return "getBattery" in navigator || "battery" in navigator && "Promise" in window ? "getBattery" in navigator ? navigator.getBattery() : Promise.resolve(navigator.battery) : null } function k() { return "DeviceMotionEvent" in window } function B() { return "DeviceOrientationEvent" in window } function L(e, t, r) { var n = new XMLHttpRequest; n.open("POST", e, !0), n.withCredentials = !0, n.setRequestHeader("Content-type", "text/plain;charset=utf-8"), n.onreadystatechange = function () { if (n.readyState === XMLHttpRequest.DONE && 200 === n.status) { var e = JSON.parse(n.responseText); "function" == typeof r && r(e) } }, n.send(I(JSON.stringify(t))) } function J(e) { var t = function m(e) { if (void 0 === e && (e = window.location.hostname), x()) { var t = function (e) { return _(e) || w(e) }("appEnv"), r = t && t.toLowerCase(); if (t = "prd" === r ? "prod" : r) return t } if (-1 !== e.indexOf("localhost") || /\d{1,3}(\.\d{1,3}){3}/.test(e)) return "se"; var n = /.*-(.*)\.xll\.cn/.exec(e); return n ? n[1] : "prod" }(), r = function () { var e = "https:"; return x() || (e = window.location.protocol), e }(); switch (t) { case "dev": case "st": return r + "//" + e + ".api.xll.cn"; case "prod": return r + "//" + e + ("dfs" === e ? ".api" : "") + ".xll.com"; default: return r + "//" + e + "-" + t + ".api.xll.cn" } } function D(e, t) { L(J("dfs") + "/v2/" + (A() ? "miniapp" : "h5") + "/upload.json", [].concat(e).map(function (e) { return t = e, Object.keys(t).forEach(function (e) { var n = t[e]; switch (void 0 === n ? "undefined" : r(n)) { case "boolean": t[e] = n ? "1" : "0"; break; case "number": t[e] = n.toString(); break; case "object": n instanceof Array && (t[e] = JSON.stringify(n)) } }), t; var t }), t) } function Q(e, t) { return { "key": e, "fn": t } } function K(t, r) { return function () { return function n(t, r) { var o = r.split("."); if (o[0] in t) { var i = t[o.shift()]; if (0 < o.length && !(i instanceof Object)) throw new Error("wrong attr path?"); return 0 < o.length ? n(i, o.join(".")) : i } return e.noSupport }(t, r) } } function V(e, t) { return function () { return t in e } } var M = null; function R() { return M = M || new E } function q(t) { return function (r) { "permissions" in navigator ? navigator.permissions.query(t).then(function (e) { r(e.state) }).catch(function (t) { r(e.noAccess) }) : r(e.noSupport) } } var N, H, U = window.innerWidth; (H = N = N || {}).pass = "pass", H.timeout = "timeout", H.retry = "retry"; var W = "width:50px;height:50px;border-radius:25px;", G = '\n  <div id="wsb-tip"></div>\n  <div class="wsb-content" style="width: ' + U + 'px;height: 50px;">\n    <div class="wsb-finger" style="top:0;left:' + U / 4 + "px;" + W + '"></div>\n    <div class="wsb-finger" style="top:0;right:' + U / 4 + "px;" + W + '"></div>\n  </div>\n  <h3>同时按住圆圈<br/>才能继续使用哦</h3>\n', z = "wsb-verify", X = !1, Y = (F.open = function () { X || function () { var e = document.createElement("style"); e.innerText = "#wsb-verify{position:fixed;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.8);z-index:99999}.wsb-content{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center}#wsb-verify h3{position:fixed;bottom:50px;left:0;right:0;text-align:center;color:#fff;font-size:18px;font-weight:inherit;white-space:nowrap}#wsb-tip{position:fixed;top:50px;left:0;right:0;text-align:center;color:#fff;-webkit-transform:perspective(200px) rotateX(90deg);transform:perspective(200px) rotateX(90deg);transition:all .2s ease-in}#wsb-tip.pass{color:#0f0}#wsb-tip.error{color:red}#wsb-tip.show{-webkit-transform:perspective(200px) rotateX(0);transform:perspective(200px) rotateX(0)}.wsb-shaking img{width:100px;height:100px}.wsb-finger{display:inline-block;position:absolute;border:1px solid #fff;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wsb-finger.active{background:#7bd32d;-webkit-animation:wsb-scale .1s ease-out forwards;animation:wsb-scale .1s ease-out forwards}@-webkit-keyframes wsb-scale{from{-webkit-transform:scale(1)}80%{-webkit-transform:scale(1.4)}to{-webkit-transform:scale(1.2)}}@keyframes wsb-scale{from{transform:scale(1)}80%{transform:scale(1.4)}to{transform:scale(1.2)}}", document.getElementsByTagName("head")[0].appendChild(e), X = !0 }(); var e = document.createElement("div"); e.innerHTML = k() ? '\n  <div id="wsb-tip"></div>\n  <div class="wsb-content wsb-shaking">\n    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAch0lEQVR4Xu1d7bUtN5HtjgAcASYC7AgGIsBEAI5g7AjGRIAdwdgRzDgCIIKBCDARYEegWftSekuvn1RVkkrqUh/1WvfPPVK3VNJWfZfOYz+bApsCRQqcmzabApsCZQpsgOzdsSnAUGADZG+PTYENkL0HNgXaKLA5SBvddq8XocAGyIss9J5mGwU2QNrotnu9CAU2QF5kofc02yiwAdJGt93rRSiwAfIiC72n2UaBDZA2uu1eL0KBxwEkhPDJcRz/eRzHZ8dx/HAcx7fneX7zIuu5p2lMgccAJITw++M4/nAcx68zNPrjeZ5fGdNuv+4FKLA8QAgY2PwfM+v1w3mev3yB9dxTNKbAsgAJIYBT/Ok4DohU4nOe57JzFSe3GwyjwHKbJoQATvFfJE5pCfP9eZ7QSfazKVBFgaUAEkLAJv/v4zh+XjHLf0IvOc8TCvt+NgWqKLAMQEIIEKe+qJgdgPHVeZ7fVvTZTTcF3qOAe4CQSPU/Wl3jOI6/EjD+std6U6CXAq4BQj6NPytFKgDji/M8/9ZLlN1/UyBSwC1AKsCxRanLfiba/Sz590/74GgDvUuAVIDjO+IaP7ZN/xm9SAz9LTlJYf7OGTFAI4id35znucVP5dK7A0gIAd5wWKq45ycCxksq4CEEAOA/KJwGgOCcpDk6AiCfb8uejBJXAFFyjr/DB/JqIkMIAYAAGGDqVjlHheUHRwFI/lfeJq/bwg1A6FT8P+E0BDjg01CLVCR+IE4LJmKcvPCHfOl9YyjFJoudC5C8JCfWEM8TQAAO7mSEleozLTgUHvffeJLFE7EpcolasUmz3rk2OGxAi239y1DHBUBCCNA5oHuUnu/O8+R+f9ePNhrC3aXo3dsjfEmkTJXr1k3e2+9v53l+2vuSJ/a/HSAUPgJHYOn563meuRD2D9pXhqKoQWe18MTVUuW6JmTGahil92xRyxsHodP+H4wjED6OTzRiVQjha0qU0m6k343WQ24Um7Q0SNv95TzP37R0fHKfWzlICAHKIRTo3ANTLhRyVjamTQgOpOIy9CEo6QCU+UNiU8olzL+ReSH0M1ijICq9+TiIW0Gng9WrROPrq365Tb/vk+Q2gFA+B8JISo94whM48A6N2ROAAyiQgmsW2ZuITVG5niE2gbMCEDj1RTMtjRFzh77DPVvMulDnToBAtCpZasT8jQpwRGB8rRHVNMd9CCFVrDXg1LyWa4M5gDNEUDQBXCGGinTvnchq/W8BiOAtx2b4mNvMFeD4npyKar9JbgFvFJveQCGJmTWbThBrfzzP86Oa9z297V0A4biHRrTCxoGcX3q6QlHuFptIdOoCdYkwdLhAr/tFoc2nloBcHUDTASJwD9GkqxATVMr9deEolAMKLXSJZcSmlg0orMHt/qGWOY3qcwdAOO7BercVij2UV3jbRa9wIjZF5XoUjdP3IlQm6hG3RdQSF/lXYcLiITWDUF6+MRUgtCkRUpJ72IVRxGppdBcYBWJRuRmhHABsqlwPEZtaNlMIgRNTP7IyaLSMzVOf2QDhnHkS9+D6smIV6RTIaR9d2SRam6Jy3WRtmrFBQggIxUF1mNwj6oEzxujhG7MBArae8xP8/TzPotxPGxyiWekp2u9J3gY4RvknhohNiQiIOSMsxpT7CNwcSVU1BTI87OUhY5gGECHmivVsC6bJou1emXxVS9goNkUuYbJxSYSM/hVwuhTQQ8JAQggYe5qaG2mxK1ESJWYChAsrKYY4CNyjqHcIJ2QtKOBPASCwUUUDgPblZHSIoGAtZyMqQ4YQYDAoedd32MlxHDMBUlIKWe+tYNbNmiQVCr20hyE2RQ5hZm3qsJwN8XALHHaHnUwGSImDsAsRQoCim3NqcdxDk9d+BQkKQIwUm2pzx9+Fl4zK+BO48xBQSieTt99nchCIENiAqcwrKefYVKWAxqJDK4TA+Vqua4C7Q1CB0UqXwJhVYlNmMyAq1zy8hNt0zAG0w05mchAsEp1Y8aoCbAQ2gFAwRWZl5ArdAyc0nIrdIhSJKgBFrRnZxE/CJGK9XSBEpX6yB4Agwr7pXcdxgJuY6V7euAQ3nmkcpIUojBJZ5DwhBJgnYdaVHpOcdMHCdh2DmZ+kMqIYQIFv422TXyxmWtFPBJtE8BV/9w6Qki7B+T04B1hcI7N4oxBCEBbexE9iEFEMcIAb9MaavVS5INcAodPuaoqUrF6aSF82nL7mpMtwOWuxaWYiVs3UkXj2eU2HFdu6BwiBBJsEf0gpZTPoBNs+XmderIHEOrwbuRvN4SWVYpOH/fZ4kCwBkJqdICj2eJUb+36HX6SGJNq20fcDDhwV+si9fsW8xExc1Q50ZrsnAgSWJK6MkIly3rJIjcpxy6c0fdQhM2QlgzWslKR2G001E+1p80SAIIydC2ycupg3JGJx+6ErZIYxCT+28NzjAEI6S8n7jp+HAsSr2CTpbtpTljFruxFdtXPRtHsqQLjcEVOZ2eAqAs06advAz/KWsUiBlc0GA+6DBe/7I0NTngoQTg+JDi/sAfgG/lnrJR5wFYEWALl2sWicaaSxAJCsf2pExHEPYSz6PhIgJGZJDryUfgANTl2YgD8IPSEugeqE0dw8KvlKs6bgElCYVUXjNC9saVPIJRkqvraMs7fPkwEiOQxLtEM/iGGxhGft9dO9a1LqD2AgqHJIydTaQRdy2oeVdK0dn1X7RwIkhIBca+n6A4mGkOXBKWpq/krvbP29qZRR68c0/QoWLVP9TjOO0W0eBZCGO9VH09fi/e7AQSJsjkNvgFis+Ih3TCjOMGLYmne6FFu2iKVZOidtQghe9ARrisDCNqN+V/W4C1HMW0mvpuTgDorr29IRxGsDrgGPyHaMmYCDR1z1epfld5hc9scVnFtWB6mo8I4dCV8BLEBs9iDpMEi4gp0/Vw6nancbNHZZwK2Q0rwdhQYLbvaKEIJ0Ky6+BQUXd6qLl8ykAyPwwQqGMqV3Pu5EFiYea4ea3LlTLhtYuhU3cg31tdG5uSmiWEeTxBVAGHHWra7Uu0DLiVhKncM0KYqqQsJBV7pTo3cdSv1diFh0UOBQKvmEXAHZcjGWAoiyIIMpOCKxSeyCflIq+Gy5LvFdtynpBIpYqYVzlg6h9whitrxzGYAo7gbB/IcvFoWzg5twN1y1rEWuz7QauZ1RyTB+wF/zuNJASwBEcZ/6FHBc9CBYugCU0dauYY7CAVHJqHP2pdXp4OE9qwAEKbRcUbZbbkUi4CKyVrpeuWetkR8OGb/7dGYKzPWM79oX48R4TSpVWg6s5V3uAaIQreD8++TOBaExAiijlPgmkCRiUyy+MMsr/xiQrAAQ1ObllEQXFpRJvhP4ZqC4F09n0pHSe9xbDs7YJ0YeQMdA3vkPNE9EHoCjcw5VlED6Xc/HPfR1DRAF9xiulNcuEm1QcBOuVE7ta9P2AAccnzilo9gVQ2VwkPQkc72rKK9J2VVY9lyYqXuI7R0g3AUvmLfbS14U9bl61s2yb3dFeSY2a5oVzpIg6bvcAkRxL6E77nFdJAee+Ny+ScUmpO2aKNOMj2rpEBTPAJGqtLvQPTQnF20e6A+jTcK54VSJTZr5lNoUckSG3K/YM86avp4BwgUjLhf7Q9wEfpORJuG49iYV5Ws2EtqWLmpdudqJS4AoxKvbQjBqN01G7IL1B0q8JTcxqSjfOzcCSe7m3GW4/ZUGXgEiiVdulXPNJiPrDyxQrX4Ts4t4NOOtaVMQs5bVQ7wChLNesfca1izmnW0VF+/khgeLE8I5qvJbZs6zAJBlizl4BQhX9G1Z8SpuVIV/57qnze5THA2WDZDBFFZsnk8t4pIGT4N9vXBxZg4cv15lzoVMz2Udhu44iOBg++k8zx5P8Z24ePftymuql1FwSbf6V4bIyx5qHgHClQx17xyUEFgyhRb6LTXfwuG29KHmESA4gUpcYllrSKJ/aIpNxObLWOvINI+5XdduKZC7NvNSoB+IXHrMWDV0HakMkMQNan9XpgzH1y7jDBVKMJmtWS29Ldq74iBM0BvmasqqSRxA2uyUVFECP0L3tTrULUlgtZtKAMfytbK8AQTxSqWiCKYb5mItg2cbtvpRNzIhHL0GHNinrs3ZyYWkCJ/JgR6maSSyDaFpLZBb23sDCKegm2+YzCUwAAq+053eigWhTYTicy1XMbg7fZOU3ZihyHHDnTDVispSP8H8ae6NDSGUPPbxmjZEosJ7XfXQRgIwEHfVmubq4ubYEEKanQhOWPMgLuuL8zy/q+nkqa03DsJ50EcARIr5imv1lnJ6HAeAk+MuAAH+sIHw1wqK696YbsVKbukFuK0uDwL94Cw0yT2ZCaBXB4h0p/rMtch9y/xQuH6kUmzqoUdT4YmeD1r0XQkgQ2TywpXGFrS1eoe5mbRTbLrOC6H24Kw4bKToZIAE81lGcfcGkFwuQVyQITJ5CAGKOW6w9fpgM2FTNYsnidgUleueuRZzT8gogW9AdC1Vnhyyjj0T4vp6A4h0M635BS2VoR+j1kF6L0ACGV5lXUtMsPHa6h6dqCn3hOhaSgwbLjpKBNX+7g0g0mluHhXKBNhpaTizXdEMTWVEo2Jda226zgEpuzisYKplLx3iJk+cC/2v2ZPghjBANHPFWUT3BhAUIkOZ/dIzJK4nhICTeVQdqxFriY2VcpNea1MUmyIozDYuk74wrOawJcG9AUSyKv14nudHlgTAu4QQe9jwsXGimBJNuuiqUUyth2v1vu9pXvD1qES31g8X/E1L6CKuAEKbFfI2Zw0ZIWbhBEYoSO4pLqQQO9a6n0b1MxGbWgbHBKGa65Qt41tGSSeAILaHuxtwlJjFWdCyC6movmK9XrXvg+gEekKXuNW0mgnrwVzcJ4N55CBQMLmQ9yEKHhN2goUs5qE49qNANESYh5k+UYvOtH0hV91cGugZY66vO4AoxSzzxClBXCpyrcr8cuv1m2rM6Bn8qsUcvAKEC3vHOpmXsxTEpWIRZod+lCERBz3goEMv5+PaHKSFsErZ3jyQTxCXsiEfDv0o5nRpWcNrnxBCLpV66yCtxC2w5PR1I/JDOANB0W6vGGsrGWr7DTFg1A4iA46S+X5bsVqJqzChmvtEBHGpKLo4ugvEXDdrXb+Lgp6LkFgi596lDhKJq7AQmW4ISVwqVSlXFJuw2Gead7gTWbYnXbNsjW0UJ7O5QiqIS8UNWLDzN868uZsrkYUpVIEAyI+9mKA5anvnIMh5hoOLuyrAdFMIoCzqPYIfpXnHV3Y0zx2p/P675sQ5cH13Lm99R/O2Ejaj4EmedVNToSAueQ87MaVFyxoSMJBfg8DT3LNUdX7XHITs51IAo/lpJIhLnsNOpluxKnNPIFotU4gb+889QAgkXDj6CD2Eu5/Ec9jJlJTWjtwT0BX0cxH+ouGQqwCEyzQ0LShHgOTyUryHnZjXoyLHbSz/g6Ssngc6JXxKbi8BSie3AZJZ6geEnXQlI5HYhJzymKHYk7JbApOpib4HsctaseLABdOrOQchLsLlpRStRY1Xq41YXzjnABSVOENiUyzq0Juyq53Pt+d5fq5tfEe7VTgIdyXCEMVUiNJdIewE+wkgR+An9LT3gHIRmwAMbVHtrGUKOSeUoQhL39u3yKIFLgSRtWSqv93ytjQHUVzJ1iVOlIjTEXairdY4+0CEoSOCBByiBxBVOewkssFcnyuvNCS/x4q47jlICAGpsFxRgiHRqw8IO7HaI/E93TnsTHzdECnAggCuAaIIWByifyh1n6Jo4CTspHd/DMlhLxTqc8tF3AJEeeHM0OA84UYoLuxEqu/Vu3lH9K8Sm1oHQJw5Fz7k0qrlEiDCrUVxbYZyD1Iyufx472Enmj0MzzbADGvS0NI/6WAK8W7mDl8NAaQ27gBCnANBbpztfdrtRYK4lNV/lBmR0tqM/v22og6FeLdiWvNoQixjxVKKVZjPNNOgUNyaCzvxXK3xdnEm5y8q5dtsgPzbZg57OcqOSubHqYv7sGon2GsuRJkNkArYhxBwcafmHr+p4CA9hIsmLqb9Oqx2gum4SVTaAFEAhJRxcA0pAA4LiyJoUCinP0Jx6xXCTiLNzAtdtCxGQQdxmaN+m5KuVMbjqXdrDsFDwk5Ay6FmcS1YCubz4VZJ7fjSdrcAJISA2rsIPZAeOKv+MNMEmRuQIC4VF1bwo0hzN//dixJcuM14SMhQLxGnAoREKphwNfdZ4Prlz7TRqL2EkPpzUboLVDt5m54HgDDceEjIkLSu0u/TAFJhpcKY3cXmCCH3XNiJdJ2DtEaWv5sWuKgd2I7FylCMuAasVIhy1TzTLVWaQT0k7OQWHYT2AMTqnKVymtNXs87XNkM5SIUi7kIZ5wi4eLWTOLWpVqwk5wSHYykywqXuEQk2DCAVvg2MBco49I1bL3mRTpjGsBM4PpHwNeOB3ob8feh4uWuYh0bNJqm6MTNRStV14bTkFsYcIHRqQBHXpm3eFhNUu2Mdhp1k7ywXvP+mRR2Is8aCDhrjS0p2d7rmUBGrUhHHWFyz1yuxOsJOpNt7tVhV3VnOhJTH73x9nueX2o+m7egABHeKXEIKDeI+4zJAMR2wGQcJIfypQhHHQkOkar6Du2Vxe/sIWYZstfmOq6Yhfr7le2vpFUJAaiv8TNzmVdeoCiGkHEIrGWjJ7aZcam7A3QCpCBeJ319C3yitbkfYiabOMD6bFZu0uy2EgNCdUtnP62ugkyB8B2IX9Je3hyqcAAix7I/287l28b05nci9FGEBkJoFWUbfYADC1Qpmy6DSYQKLDv7SKh8x37vrNlon9yXGVF1wvLficEJBcFFRJz0H4piqhFEPmk11kMpQiqX0DQYg3J3q6ngiAsvPrSx3N95REvWiKAZ+YIkUAMJlZoKLpclzOJxwCE0DSjMHIWUN1zVrlDSXzr/Wk0YoDneLt3oy94jmZHA8MVVXuqIuFwJDB8g/MvtL9OWQsQjOaQAMwAWoxHGa6iCCyTP91qPAQSIDV9x6WrbjxbrE1S9uPQtiP+hFsTAcRCf1CS6VT8IHCgApcWrJGJLr1+z/aeIgypxrsF5E4i5RpLhmB7WGndR8o7atdEpXvk8Um7TvU9wSVgJI8SpwLuiSObibrsloBYhUPXC5eyC0C04chKt2cottv4Kjx6m+iSpUuTKdPsZvEtHAiEnp97IX6jDzYfW8EALE/pwpeipASoOIE3+cWHUFkHDB6PTQbUWJ1usUhvoflKWbMKasTsGY01nvO6MfNhmJWjlIYE5ctSWn5tT21rY17GTkPCrELNG02jPOynCjDyKMBb2lyAkE0b8pkrkaIIqT6vHcg8QsLnxk6AZkTNCwKEJZ/xWzweGnQAqzWtHWgoU2KLz4EME11s2SeMXRlrtpmDPBN3H1FoDAuwrbdOlpQqp2Eby06wk7GTkHppI69EIYTFD8wgwcnfeKZC1+DHf+6TzPIvA4g0BrNmULQIrWBVr4W8ycIzcdc2JzxeGGyvjSfAkoUFbxh3G+u7dD6sv9bnivSEn34MossZyZETGbxf4WgHBsrKh09SyK176Cc67JauJtroOuYyuKeYJZmKtkyeXdiM7FEt1HAKTZKeNtc0jjEfSx5lNL+u7o3ztzPKThcZegYpPnvOd4pyRecaJ/s9jfAhBNhtwjTk9ppRUO01vCTqRxX39Pcjxi9K5Gwa79jFj8T+AeLBfgrIqt+gcmWA0QdFLmNtwqg9euXkt7xe1XLvWxhtTYFvLEPhCnEGSIuK2icUARbFm0QgkOyS6LYitANBlyIAY2yFJJUdqdoAmh8FS+aLDYlJKt6SIe4dCVnIPcfmxyEMYJtQJEm/yD7zzOL6I47SJ9bwk7IS4Pa5BVaqx0biC6N4a7V0fNCsYOseA2E16CcXeJuU0AoQXQcJFI2OYcaGllZv9eEUIRhzZNzBqcGpuS+oOkqNZ1UNxDKSWhcVbV7qIQzQAhkHBh31eaub80XrPIDXkXw7gIcTJwCYvUWG760ckIcRnh7lbBjNIhm/W0pwMV9MBuPbgXIJrQhnQ+YL8wuZl5cjWb2qpNx50fJoeDcUURiSxdYpP0cgXnECsuCmZ2EVzSGJutWBcEt4AEekm1rKqZ0Kg2ytBt7vNNIJkoNr1Lihqdw6MMzRd110KV+LgGYn/NXuniIPEDtHmkILl0POAg4CTLgCSEgPgz6aIfieYQTRALhSIN2ScRm2LdKemdrb+bJUVpB0BzQ5EPqXSQ6EcTktbMLuMxAQjpI7WcBCCBCe6WW6O0i0pzkxLE0AyKKxdFm34SQMGBksrysDoBFFK5zpqhX9tW5ZL3fOjaVyFSxS6iYq2oh9DsOb+O2wwgCUjgFELIs/YxYYXaj9W2U968+xZbRBs+LedT+znr9s255JYDUaRIqMFB+4xL2DMN8TEFSJylUsZM16BJPrdcxNK7BBt77PZ2YimdhyOHPV1s0kwmhKCxdopiFYFDiibvtlylcxoCEJqIZMK70lZdClOzKBZtlBv+vVAGZRiOxfDiO6pLk1p+XPMuASBijFZy8Eq5SM1Ru6V5DAMIgQQTgo6hFTvcmIGVYsEHpkiSjzEP7Zw1eyxt01WatPZjFu0Z87i6DK1C1DUx617nOxQgBJJYvOsXSmJDcYX3+TYLF1nlIOdKCnNWLKDFxMGgVdo50qgquitpe1uzCzfGnBBdkbtx6oMxKsAxrIrOcIAQSFosXLeZgZUmXdaUyKS+ajape7FJM4lrm5jlWBPAqgAHPtMVkMjNZQpAEpC4t3BVeMtVMVa0wDATQ9wsiV3LiU0tAKntowSHaBau/W7afhpAEkVLskJc5/PVeZ5/7Jmktq/Cvh5f1ZRjQAsOsS06yt58IVaxTdp5rtCO/Ca4c4ZL3jI16eboMh0gxE1qLVxTzMCKBCgMH6f9J6vGky0CDtyIC2mDe4aVL7qVgyScBKcoTlCttQdtIdYMCXRUmnQxfDMv7QqbdeYYiYMjFEW663AKODD3WzhIAhKIG/B/aK09Q8zAFQlQKmfWzE31lG+FEOI96lI+/DRw3A6QRHmHSRT34Gke00DHigSoIXZ2zYSf3IboD11Dc20cgjxxY8AQKcKNDpIbSGUiEgiEGK7uqxWU3xVzE568iUfOrUK0HWqtKs3xVhHrOqiKiM/YtSuVt8Kk6zqgcuQGHv1uZcHtYX4OaX6uAEIiV63yDr2kOgGrIgGqyaQrEX7//m8KCIGt0DcgUt0WVeEOIIleUpOAhW5IRPpGs/Eq9I5t0tUQtKMNE/PmwiDiEiAJSGo976IpuPfuio69sLsWKECiLhzIsGZCEYdz+DaukQ7TLUDiICuUuNgFCjwI/B43Ia6BRC4shGRKxLtcnGAbVfdSwD1AiJvABAhuonUqohuAglMI0cExvEMDDPTdJt1796Wbry8BkER5h1lXGzbfSuRt0m2l3AP7LQOQDuW9dtlUUbq1L93t16TAUgBJ9BJ43msKQ2hXZ/s7tJR6kXZLAqRDL+GWdYPjRTZ9zTSXBQiBBMo3rFI93ERdNKCGsLvtMyiwNEASkSsChcvay63Yd2QSNinG/IwtsWeRUuARAEknRE4n5BPgLxdGH6sLIglrA2PjgaXA4wCSmy2chDNDpPeeew4FXgIgz1muPZPZFNgAmU3x/b2lKLABstRy7cHOpsAGyGyK7+8tRYENkKWWaw92NgU2QGZTfH9vKQpsgCy1XHuwsymwATKb4vt7S1FgA2Sp5dqDnU2BDZDZFN/fW4oCGyBLLdce7GwKbIDMpvj+3lIU+H9jR8WMK17c/wAAAABJRU5ErkJggg==" />\n  </div>\n  <h3>摇一摇<br/>才能继续使用哦</h3>\n' : G, e.setAttribute("id", z), document.body.appendChild(e) }, F.close = function () { var e = document.getElementById(z); e && e.remove() }, F.showTip = function (e) { var t = document.getElementById("wsb-tip"); t.classList.remove("show"); var r = ""; switch (e) { case N.pass: r = "验证成功，请继续使用"; break; case N.timeout: r = "未检测到操作，请重试"; break; case N.retry: r = "验证不通过，请重试" }setTimeout(function () { t.innerText = r, t.className = (e === N.pass ? "pass" : "error") + " show" }, 200) }, F); function F() { } var Z = (j.prototype.detect = function (e) { var t = f(), r = t - this.lastTs; if (200 < r) { this.lastTs = t; var n = e.accelerationIncludingGravity, o = n.x + n.y + n.z; 800 < Math.abs(o - this.lastAccSum) / r * 1e4 && (this.onDone(!0), clearTimeout(this.tid)), this.lastAccSum = o } }, j.prototype.clear = function () { window.removeEventListener("devicemotion", this.listener) }, j); function j(e) { var t = this; this.lastTs = 0, this.lastAccSum = 0, this.listener = this.detect.bind(this), window.addEventListener("devicemotion", this.listener), this.onDone = function (t) { "function" == typeof e && e(t) }, this.tid = setTimeout(function () { t.onDone(!1) }, 5e3) } var ee = "wsb-finger", te = ($.prototype.onTouchEnd = function (e) { var t = e.target; t.classList.contains(ee) && (this.isTouching = !1, t.classList.remove("active")) }, $.prototype.detect = function (e) { var t = e.target; t.classList.contains(ee) && (t.classList.add("active"), this.isTouching ? (clearTimeout(this.tid), this.onDone(!0)) : this.isTouching = !0) }, $.prototype.clear = function () { document.removeEventListener("touchstart", this.detectListener), document.removeEventListener("touchend", this.touchEndListener) }, $); function $(e) { var t = this; this.isTouching = !1, this.detectListener = this.detect.bind(this), this.touchEndListener = this.onTouchEnd.bind(this), document.addEventListener("touchstart", this.detectListener), document.addEventListener("touchend", this.touchEndListener), this.tid = setTimeout(function () { t.onDone(!1) }, 5e3), this.onDone = function (t) { "function" == typeof e && e(t) } } var re, ne = Math.round(1e3 * Math.random()), oe = { "check": (re = J("das")) + "/h5/emulator/check.json", "pass": re + "/h5/emulator/2verify.json" }, ie = (rn.prototype.onTouchStart = function (e) { var t = f(); if (s(e) && 1e4 < t - this.lastCheckTs) { var r = e.target; this.check(r), this.lastCheckTs = t } }, rn.prototype.check = function (e) { var t = wsbtr(), r = (t._s, t._t); L(oe.check, { "token": r, "code": ne }, function (e) { }) }, rn.prototype.showMasker = function () { Y.open(), this.initListener() }, rn.prototype.initListener = function () { var e = this.onResolve.bind(this); this.validator = function (e, t) { return new e(t) }(k() ? Z : te, e) }, rn.prototype.onResolve = function (e) { var t = this; if (!this.resolving) if (this.resolving = !0, e) { var r = wsbtr()._t, n = { "token": r, "hash": I(r, ne) }; L(oe.pass, n, function (e) { "0" === e.ret && e.data && 1 === e.data.res ? (Y.showTip(N.pass), t.validator.clear(), setTimeout(function () { Y.close() }, 2e3)) : Y.showTip(N.retry), t.resolving = !1 }) } else Y.showTip(N.timeout), this.resolving = !1 }, rn); function rn() { this.lastCheckTs = 0, this.resolving = !1, document.addEventListener("touchstart", this.onTouchStart.bind(this)) } var ae = [Q("platform", K(navigator, "platform")), Q("tz_offset", function () { return (new Date).getTimezoneOffset() }), Q("time_zone", function () { var e = (0 - (new Date).getTimezoneOffset()) / 60; return "UTC" + (0 <= e ? "+" : "") + e }), Q("private_ip", d(function (e) { try { var t = new (window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection)({ "iceServers": [] }), r = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g; t.createDataChannel(""); try { t.createOffer(t.setLocalDescription.bind(t), function () { }) } catch (t) { } t.onicecandidate = function (t) { if (t && t.candidate && t.candidate.candidate && "string" == typeof t.candidate.candidate) { var n = t.candidate.candidate.match(r); n && n.length && e(n[0]) } } } catch (t) { e("") } })), Q("cpu", K(navigator, "hardwareConcurrency")), Q("memory", K(navigator, "deviceMemory")), Q("langs", function () { return navigator.languages ? navigator.languages.toString() : e.noSupport }), Q("color_depth", K(screen, "colorDepth")), Q("dpr", K(window, "devicePixelRatio")), Q("resolution", function () { return screen.width + "x" + screen.height }), Q("avail_resolution", function () { return screen.availWidth + "," + screen.availHeight }), Q("orientation_angle", /ucbrowser/i.test(h) ? function () { return "orientation" in screen ? screen.orientation : e.noSupport } : K(screen, "orientation.angle")), Q("mime", function () { return "mimeTypes" in navigator ? [].slice.call(navigator.mimeTypes).map(function (e) { return e.type }).toString() : e.noSupport })], se = [Q("web_driver", function () { return "webdriver" in navigator }), Q("position", function () { return window.screenX + "," + window.screenY }), Q("dnt", function () { return !!navigator.doNotTrack }), Q("lang", K(navigator, "language")), Q("plugins", function () { return "plugins" in navigator ? [].slice.call(navigator.plugins).map(function (e) { return e.name }).toString() : e.noSupport }), Q("cookie", K(navigator, "cookieEnabled")), Q("java", function () { return "javaEnabled" in navigator ? navigator.javaEnabled() : e.noSupport }), Q("network", K(navigator, "onLine")), Q("connection", function () { return "connection" in navigator && (navigator.connection.effectiveType || navigator.connection.type) || e.noSupport }), Q("speed", function () { return "connection" in navigator && (navigator.connection.downlinkMax || navigator.connection.downlink) || e.noSupport }), Q("max_touch", K(navigator, "maxTouchPoints")), Q("lied_os", function () { var e, t = navigator.userAgent.toLowerCase(), r = navigator.oscpu, n = navigator.platform.toLowerCase(); if (e = 0 <= t.indexOf("windows phone") ? "Windows Phone" : 0 <= t.indexOf("win") ? "Windows" : 0 <= t.indexOf("android") ? "Android" : 0 <= t.indexOf("linux") ? "Linux" : 0 <= t.indexOf("iphone") || 0 <= t.indexOf("ipad") ? "iOS" : 0 <= t.indexOf("mac") ? "Mac" : "Other", ("ontouchstart" in window || 0 < navigator.maxTouchPoints || 0 < navigator.msMaxTouchPoints) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e) return !0; if (void 0 !== r) { if (0 <= (r = r.toLowerCase()).indexOf("win") && "Windows" !== e && "Windows Phone" !== e) return !0; if (0 <= r.indexOf("linux") && "Linux" !== e && "Android" !== e) return !0; if (0 <= r.indexOf("mac") && "Mac" !== e && "iOS" !== e) return !0; if ((-1 === r.indexOf("win") && -1 === r.indexOf("linux") && -1 === r.indexOf("mac")) != ("Other" === e)) return !0 } return 0 <= n.indexOf("win") && "Windows" !== e && "Windows Phone" !== e || (0 <= n.indexOf("linux") || 0 <= n.indexOf("android") || 0 <= n.indexOf("pike")) && "Linux" !== e && "Android" !== e || (0 <= n.indexOf("mac") || 0 <= n.indexOf("ipad") || 0 <= n.indexOf("ipod") || 0 <= n.indexOf("iphone")) && "Mac" !== e && "iOS" !== e || (-1 === n.indexOf("win") && -1 === n.indexOf("linux") && -1 === n.indexOf("mac")) != ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e }), Q("lied_browser", function () { var e, t = navigator.userAgent.toLowerCase(), r = navigator.productSub; if (("Chrome" == (e = 0 <= t.indexOf("firefox") ? "Firefox" : 0 <= t.indexOf("opera") || 0 <= t.indexOf("opr") ? "Opera" : 0 <= t.indexOf("chrome") ? "Chrome" : 0 <= t.indexOf("safari") ? "Safari" : 0 <= t.indexOf("trident") ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== r) return !0; var n, o = eval.toString().length; if (37 === o && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0; if (39 === o && "Internet Explorer" !== e && "Other" !== e) return !0; if (33 === o && "Chrome" !== e && "Opera" !== e && "Other" !== e) return !0; try { throw "a" } catch (e) { try { e.toSource(), n = !0 } catch (e) { n = !1 } } return !(!n || "Firefox" === e || "Other" === e) }), Q("lied_resolution", function () { return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight }), Q("battery_level", function (t) { var r = T(); r ? r.then(function (e) { "number" == typeof e.level && 0 <= e.level && e.level <= 1 ? t(100 * e.level) : t(e.level) }) : t(e.noSupport) }), Q("is_charging", function (t) { var r = T(); r ? r.then(function (e) { return t(e.charging) }) : t(e.noSupport) })], ce = [Q("session_storage", V(window, "sessionStorage")), Q("local_storage", V(window, "localStorage")), Q("indexed", V(window, "indexedDB")), Q("canvas", V(window, "HTMLCanvasElement")), Q("offscreen_canvas", V(window, "OffscreenCanvas")), Q("nav_timing", V(window, "PerformanceTiming")), Q("user_timing", function () { return "performance" in window && "mark" in window.performance }), Q("res_timing", V(window, "PerformanceResourceTiming")), Q("audio", V(window, "AudioContext")), Q("video", V(window, "HTMLVideoElement")), Q("rtc", V(window, "RTCPeerConnection")), Q("media_device", V(navigator, "mediaDevices")), Q("battery", V(navigator, "getBattery")), Q("bluetooth", V(navigator, "bluetooth")), Q("usb", V(navigator, "usb")), Q("payment", function () { return "PaymentRequest" in window || "ApplePaySession" in window }), Q("motion", V(window, "DeviceMotionEvent")), Q("orientation", V(window, "DeviceOrientationEvent")), Q("web_worker", V(window, "Worker")), Q("service_worker", V(navigator, "serviceWorker")), Q("fetch_fn", V(window, "fetch")), Q("promise", V(window, "Promise")), Q("notification", V(window, "Notification")), Q("credential", V(navigator, "credentials")), Q("clipboard", V(window, "ClipboardEvent")), Q("permission", V(navigator, "permissions"))]; function dn() { } Q("audio_fp", d(function (t) { var r = window.OfflineAudioContext || window.webkitOfflineAudioContext; if (r) try { var n = new r(1, 44100, 44100), o = n.createOscillator(); o.type = "triangle", o.frequency.value = 1e4; var i = n.createDynamicsCompressor(); i.threshold && (i.threshold.value = -50), i.knee && (i.knee.value = 40), i.ratio && (i.ratio.value = 12), i.reduction && (i.reduction.value = -20), i.attack && (i.attack.value = 0), i.release && (i.release.value = .25), o.connect(i), i.connect(n.destination), n.oncomplete = function (r) { !function un(t, r) { r && r(e.noAccess) }(r.renderedBuffer.getChannelData(0), function (e) { i.disconnect(), t(e) }) }, o.start(0), n.startRendering() } catch (r) { t(e.noAccess) } else t(e.noSupport) }, 3e3)), Q("rtc_ip", d(function (t) { var r = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection; if (r) try { var n = new r({ "iceServers": [] }, { "optional": [] }); n.createDataChannel(""), n.createOffer(n.setLocalDescription.bind(n), dn), n.onicecandidate = function (r) { if (r && r.candidate && r.candidate.candidate) { var o = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(r.candidate.candidate)[1]; t(JSON.stringify({ "loc": o, "pub": e.noAccess })), n.onicecandidate = dn } } } catch (r) { t(e.noAccess) } else t(JSON.stringify({ "loc": e.noSupport, "pub": e.noSupport })) })); var ue = [Q("media_devices", d(function (e) { return e("") })), Q("pm_geo", q({ "name": "geolocation" })), Q("pm_notifications", q({ "name": "notifications" })), Q("pm_midi", q({ "name": "midi", "sysex": !1 })), Q("pm_midi_sysex", q({ "name": "midi", "sysex": !0 })), Q("pm_push", q({ "name": "push", "userVisibleOnly": !0 })), Q("pm_camera", q({ "name": "camera" })), Q("pm_microphone", q({ "name": "microphone" }))], le = 4, fe = 5, de = { "app_id": a, "motion": [], "orientation": [], "keyboard_height": e.noSupport, "sdk_version": "0.3.0", "token": "", "touch_angle": [], "touch_position": [], "touch_size": [], "type": o.interaction }, pe = An(function (e) { var t = e.accelerationIncludingGravity, r = vn(t, "x") + "," + vn(t, "y") + "," + vn(t, "z"); de.motion.push(r), de.motion.length > fe && de.motion.shift() }, 100), he = An(function (e) { var t = vn(e, "alpha") + "," + vn(e, "beta") + "," + vn(e, "gamma"); de.orientation.push(t), de.orientation.length > fe && de.orientation.shift() }); function vn(t, r) { var n = t[r]; return "number" == typeof n ? n.toFixed(le) : null === n ? e.noAccess : e.noSupport } function mn(e) { if (!s(e)) return !1; var t = e.touches[0], r = vn(t, "screenX") + ", " + vn(t, "screenY"), n = "" + vn(t, "rotateAngle"), o = vn(t, "radiusX") + "," + vn(t, "radiusX"); de.touch_position.push(r), de.touch_angle.push(n), de.touch_size.push(o), de.touch_position.length >= fe && (de.token = wsbtr()._t, D(de), yn(document, "touchstart", mn), k() && yn(window, "devicemotion", pe), B() && yn(window, "deviceorientation", he)) } function An(e, t) { void 0 === t && (t = 500); var r = 0; return function (n) { var o = f(); t < o - r && (r = o, e(n)) } } function xn(e, t, r) { e.addEventListener(t, r, !1) } function yn(e, t, r) { e.removeEventListener(t, r) } var me = { "init": function init() { xn(document, "touchstart", mn), k() ? xn(window, "devicemotion", pe) : de.motion = e.noSupport, B() ? xn(window, "deviceorientation", he) : de.orientation = e.noSupport } }, ge = "lcts"; function In(e) { R().exec(A() ? o.miniappInfo : o.info, function (t) { var r = c(A() ? o.miniappInfo : o.info, t); D(r, function (e) { "0" === e.ret && localStorage.setItem(ge, "" + Date.now()) }), "function" == typeof e && e(r) }) } (function bn(e) { var t = R(), r = ae.concat(se, ce, ue); t.addCollector(A() ? o.miniappInfo : o.info, r), function () { var e = localStorage.getItem(ge); return !e || 12e4 < Date.now() - parseInt(e, 10) }() && In(e), function () { var e = T(); e && e.then(function (e) { R(), e.addEventListener("chargingchange", function () { In() }) }) }(), me.init() })(), /iPhone|iPad/i.test(h) || new ie }() }, function (e, t, r) { "use strict"; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function initSDK(e, t) { var r = o[a] = new i(e); r.sendPipe(t); var n = r._conf; return !1 !== n.autoSendPv && r.sendPV(), n && n.useFmp || r.sendPerformance(), n && n.sendResource && r.sendResources(), o[s] = !0, r } var o = window, i = o.BrowserLogger = r(133), a = r(15).key, s = "__hasInitBlSdk"; i.singleton = function (e, t) { return o[s] ? o[a] : initSDK(e, t) }, i.createExtraInstance = function (e) { e && "object" == (void 0 === e ? "undefined" : n(e)) && !0 !== e.enableInstanceAutoSend && (e.enableInstanceAutoSend = !1); var t = new i(e), r = t._conf; return r.enableInstanceAutoSend && (!1 !== r.autoSendPv && t.sendPV(), r && r.useFmp || t.sendPerformance(), r && r.sendResource && t.sendResources()), t }, "object" == ("undefined" == typeof window ? "undefined" : n(window)) && !!window.navigator && o[a] && (i.bl = function initCdnBlSDK() { if (o[s]) return o[a]; var e = {}, t = []; return a in o && (e = o[a].config || {}, t = o[a].pipe || []), initSDK(e, t) }(o.__hasInitBlSdk)), e.exports = i }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = r(134), a = r(137), s = r(138), c = o.win, u = c.document, l = /^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig|behavior|performance)$/, f = function Browser(e) { var t = this; return i.call(t, e), t._initialPage = e.page && o.safetyCall(e.page, [], e.page + "") || null, t._isRobot = o.isRobot(), t._health = { "errcount": 0, "apisucc": 0, "apifail": 0 }, t.beforeSend = function (e, r) { "error" === e ? t._health.errcount++ : "api" === e && t._health[r.success ? "apisucc" : "apifail"]++ }, !1 !== e.enableInstanceAutoSend && (t.initHandler(), t.initHook(), t.initFmpObserver(1e4), t._conf && t._conf.behavior && "function" == typeof t.initBehavior && t.initBehavior()), Object.defineProperty && c.addEventListener && Object.defineProperty(t, "pipe", { "set": t.sendPipe }), t }; f.prototype = o.createObject(i.prototype), o.ext(i._root.dftCon, { "uid": null, "setUsername": null, "ignoreUrlPath": null, "ignoreApiPath": null, "urlHelper": [{ "rule": /\/([a-z\-_]+)?\d{2,20}/g, "target": "/$1**" }, /\/$/], "apiHelper": { "rule": /\/([a-z\-_]+)?\d{2,20}/g, "target": "/$1**" }, "ignoreUrlCase": !0, "imgUrl": "https://arms-retcode.aliyuncs.com/r.png?", "disableHook": !1, "autoSendPv": !0, "autoSendPerf": !0, "enableSPA": !1, "enableLinkTrace": !1, "linkType": "arms", "enableApiCors": !1, "sendResource": !0, "behavior": !0, "enableConsole": !1, "parseHash": function parseHash(e) { return (e ? o.cutUrlSearch(e.replace(/^#\/?/, "")) : "") || "[index]" }, "parseResponse": function parseResponse(e) { if (!e || "object" != (void 0 === e ? "undefined" : n(e))) return {}; var t = e.code, r = e.msg || e.message || e.subMsg || e.errorMsg || e.ret || e.errorResponse || ""; return "object" == (void 0 === r ? "undefined" : n(r)) && (t = t || r.code, r = r.msg || r.message || r.info || r.ret || JSON.stringify(r)), { "msg": r, "code": t, "success": !0 } } }), o.ext(f.prototype, { "constructor": f, "_super": i, "onReady": function onReady(e) { var t = this; if (t.hasReady) return e(); "complete" === u.readyState ? (t.hasReady = !0, e()) : o.on(c, "load", function () { t.hasReady = !0, e() }, !0) }, "getPage": function getPage(e) { var t = this._conf, r = t.page, n = location, i = n.host + n.pathname; return r && !e ? o.safetyCall(r, [], r + "") : this._initialPage || o.filterByRule(t.ignoreUrlCase ? i.toLowerCase() : i, t.ignoreUrlPath ? t.ignoreUrlPath : t.urlHelper) }, "setPage": function setPage(e, t) { var r = this, n = r.prevPage; if (!1 !== t) { if (!e || e === n) return r; r.prevPage = e, clearTimeout(r.sendPVTimmer), r.handleUnload(1), r.resetPageview(), r.sendPVTimmer = setTimeout(function () { r.sendPV() }, 10) } else r.prevPage = e; return r._conf.page = e, r }, "setConfig": function setConfig(e, t) { if (e && "object" == (void 0 === e ? "undefined" : n(e))) { o.verifyConfig(e), e = this.setImgUrl(e); var r = this._conf; if (this._conf = o.ext({}, r, e), !t) { var i = "disableHook"; i in e && r[i] !== e[i] && (e[i] ? this.removeHook() : this.addHook()), (i = "enableSPA") in e && r[i] !== e[i] && this.bindHashChange(e[i]) } } }, "sendRequest": function sendRequest(e) { a(e, this.getConfig("imgUrl")) }, "postData": function postData(e, t) { var r = {}; r[t] = e[t], delete e[t]; var i = ""; "object" == (void 0 === e ? "undefined" : n(e)) && (i = o.serialize(e)), s(r, this.getConfig("imgUrl") + i + "&post_res=") }, "sendPipe": function sendPipe(e) { var t = this; if (!e || !e.length) return t; try { if ("Array" === o.T(e[0])) return o.each(e, function (e) { return t.sendPipe(e) }); if ("Array" !== o.T(e)) return t; var r = e.shift(); if (!l.test(r)) return t; t[r].apply(t, e) } catch (e) { return o.warn("[retcode] error in sendPipe", e), t } }, "sendHealth": function sendHealth() { var e = o.ext({}, this._health); e.healthy = e.errcount > 0 ? 0 : 1, e.begin = Date.now(); var t = e.begin - this.sBegin; e.stay = t, this._lg("health", e, 1), this._health = { "errcount": 0, "apisucc": 0, "apifail": 0 } }, "createInstance": function createInstance(e) { e = o.ext({ "pid": this._conf.pid }, e); var t = this.__proto__.constructor(e); return e.page && t.sendPV(), t } }), r(139)(f, c), r(140)(f, c, u), r(143)(f, c, u), r(144)(f, c), r(145)(f, c), f._super = i, f._root = i._root, i.Browser = f, e.exports = f }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = r(135), a = ["api", "success", "time", "code", "msg", "trace", "traceId", "begin", "pv_id", "sid", "seq", "domain", "flag"], s = function parseStatData(e) { var t = (e.key || "default").split("::"); return t.length > 1 ? o.ext(e, { "group": t[0], "key": t[1] }) : o.ext(e, { "group": "default_group", "key": t[0] }) }, c = function Reporter(e) { var t; i.call(this, e); try { t = "object" == ("undefined" == typeof performance ? "undefined" : n(performance)) ? performance.timing.fetchStart : Date.now() } catch (e) { t = Date.now() } return this._startTime = t, this }; c.prototype = o.createObject(i.prototype), o.ext(i.dftCon, { "startTime": null }), o.ext(c.prototype, { "constructor": c, "_super": i, "sum": function sum(e, t, r) { try { var n = o.dealParam(e, t, 1); return this._lg("sum", s(n), r) } catch (e) { o.warn("[retcode] can not get parseStatData: " + e) } }, "avg": function avg(e, t, r) { try { var n = o.dealParam(e, t, 0); return this._lg("avg", s(n), r) } catch (e) { o.warn("[retcode] can not get parseStatData: " + e) } }, "percent": function percent(e, t, r, n) { try { return this._lg("percent", s({ "key": e, "subkey": t, "val": r || 0, "begin": Date.now() }), n) } catch (e) { o.warn("[retcode] can not get parseStatData: " + e) } }, "msg": function msg(e, t) { if (e && !(e.length > 180)) return this.custom({ "msg": e }, t) }, "error": function error(e, t) { if (!e) return o.warn("[retcode] invalid param e: " + e), this; 1 === arguments.length ? ("string" == typeof e && (e = { "message": e }, t = {}), "object" == (void 0 === e ? "undefined" : n(e)) && (t = e = e.error || e)) : ("string" == typeof e && (e = { "message": e }), "object" != (void 0 === t ? "undefined" : n(t)) && (t = {})); var r = e.name || "CustomError", i = e.message || "", a = e.stack || ""; t = t || {}; var s = "object" == ("undefined" == typeof location ? "undefined" : n(location)) && "string" == typeof location.href && location.href.substring(0, 500) || ""; if (o.checkSDKError(i, t.filename)) { var c = /^Script error\.?$/, u = e.msg || e.message; if (o.ignoreByRule(u, c) || o.ignoreByRule(o.decode(u), c)) return this; var l = { "msg": o.selfErrKey, "err": { "msg_raw": o.encode(e.msg || e.message) } }; return this._self("error", l, 1) } for (var f = { "begin": Date.now(), "cate": r, "msg": i && i.substring(0, 1e3), "stack": a && a.substring(0, 1e3), "file": o.removeUrlSearch(t.filename || ""), "line": t.lineno || "", "col": t.colno || "", "err": { "msg_raw": o.encode(i), "stack_raw": o.encode(a) }, "dl": s }, d = ["tag", "c1", "c2", "c3"], p = 0; p < d.length; p++) { var h = d[p]; t[h] && (f[h] = t[h]) } var m = (this.getConfig("ignore") || {}).ignoreErrors; return o.ignoreByRule(f.msg, m) || o.ignoreByRule(o.decode(f.msg), m) ? this : (this.beforeSend && this.beforeSend("error", f), this._lg("error", f, 1)) }, "behavior": function behavior(e) { if (e) { var t = "object" == (void 0 === e ? "undefined" : n(e)) && e.behavior ? e : { "behavior": e }; return this.beforeSend && this.beforeSend("behavior", t), this._lg("behavior", t, 1) } }, "api": function api(e, t, r, i, s, c, u, l, f, d, p, h) { if (!e) return o.warn("[retcode] api is null"), this; if (e = "string" == typeof e ? { "api": e, "success": t, "time": r, "code": i, "msg": s, "begin": c, "traceId": u, "pv_id": l, "apiSnapshot": f, "domain": d, "flag": h } : o.sub(e, a), !o.checkAPI(e.api, !0)) return this; e.code = e.code || ""; var m = e.msg || ""; if (m = "string" == typeof m ? m.substring(0, 1e3) : m, e.msg = m, e.success = e.success ? 1 : 0, e.time = +e.time, e.begin = e.begin, e.traceId = e.traceId || "", e.pv_id = e.pv_id || "", e.domain = e.domain || "", e.flag = e.flag, e.dl = "object" == ("undefined" == typeof location ? "undefined" : n(location)) && "string" == typeof location.href && location.href.substring(0, 500) || "", e.success ? e.apiSnapshot && delete e.apiSnapshot : e.apiSnapshot = f, p && (e.traceOrigin = p), !e.api || isNaN(e.time)) return o.warn("[retcode] invalid time or api"), this; var g = (this.getConfig("ignore") || {}).ignoreApis; return o.ignoreByRule(e.api, g) || o.ignoreByRule(o.decode(e.api), g) ? this : (this.beforeSend && this.beforeSend("api", e), this._lg("api", e, e.success && this.getConfig("sample"), e.flag)) }, "speed": function speed(e, t, r) { var n = this, i = this.getConfig("startTime") || this._startTime; return /^s(\d|1[0])$/.test(e) ? (t = "number" != typeof t ? Date.now() - i : t >= i ? t - i : t, n.speedCache = n.speedCache || {}, n.speedCache[e] = t, n.speedCache.begin = i, clearTimeout(n.speedTimmer), n.speedTimmer = setTimeout(function () { r || (n.speedCache.page = n.getPage(!0)), n._lg("speed", n.speedCache), n.speedCache = null }, 5e3), n) : (o.warn("[retcode] invalid point: " + e), n) }, "performance": function performance(e) { if (e && "object" == (void 0 === e ? "undefined" : n(e)) && !this.hasSendPerf) { var t = {}, r = {}, i = this.getConfig("autoSendPerf"); if (e.autoSend && i) return r = o.ext(this.perfData || {}, e), this.hasSendPerf = !0, this._lg("perf", r, this.getConfig("sample")); if (e.autoSend && !i) return delete e.autoSend, this.perfData ? (r = o.ext(this.perfData || {}, e), this.hasSendPerf = !0, this._lg("perf", r, this.getConfig("sample"))) : void (this.perfData = e); for (var a in e) (/^t([1-9]|1[0])$/.test(a) || "ctti" === a || "cfpt" === a) && (t[a] = e[a]); if (!0 === e.autoSend || !i && (i || this.perfData)) return !0 !== e.autoSend && !1 === i && this.perfData ? (t = o.ext(this.perfData || {}, t), this.hasSendPerf = !0, this._lg("perf", t, this.getConfig("sample"))) : void 0; this.perfData = o.ext(this.perfData || {}, t) } }, "resource": function resource(e, t) { if (!e || !o.isPlainObject(e)) return o.warn("[arms] invalid param data: " + e), this; var r = Object.keys(e), n = ["begin", "dom", "load", "res", "dl"], i = !1; for (var a in n) if (r.indexOf(n[a]) < 0) { i = !0; break } if (i) return o.warn("[arms] lack param data: " + e), this; var s = { "begin": e.begin || Date.now(), "dom": e.dom || "", "load": e.load || "", "res": o.isArray(e.res) ? JSON.stringify(e.res) : JSON.stringify([]), "dl": e.dl || "" }; return this._lg("res", s, t) }, "event": function event(e, t) { if ("object" == (void 0 === e ? "undefined" : n(e)) && e && e.key) { var r = {}, o = ["key", "success", "time", "c1", "c2", "c3"]; for (var i in e) o.indexOf(i) > -1 && (r[i] = e[i]); r.success = !1 === e.success ? 0 : 1, this._lg("event", r, t) } } }), c._super = i, c._root = i, i.Reporter = c, e.exports = c }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = r(136), a = "aokcdqn3ly@e629dabd48a9933", s = function pushToQueue(e, t) { var r; if ("error" !== t.t || !(r = e.requestQueue[0]) || "error" !== r.t || t.msg !== r.msg) { if ("behavior" === t.t) { var n = e.requestQueue && e.requestQueue.length; if (n > 0 && "behavior" === e.requestQueue[n - 1].t) { var i = t.behavior || []; e.requestQueue[n - 1].behavior.concat(i) } else e.requestQueue.push(t) } else e.requestQueue.unshift(t); return e.onReady(function () { e.requestTimmer = o.delay(function () { e.clear() }, e.requestQueue[0] && "error" === e.requestQueue[0].t ? 3e3 : -1) }), !0 } r.times++ }, c = function Base(e) { return this.ver = "1.8.30", this._conf = o.ext({}, Base.dftCon), this.sampleCache = {}, this.requestQueue = [], this.selfQueue = [], this.sdkFlag = !0, this.hash = o.seq(), this.resetPageview(), this.setConfig(e), this.rip = o.getRandIP(), this.record = 999, this["EagleEye-TraceID"] = this.getTraceId()["EagleEye-TraceID"], this._common = {}, this }; c.dftCon = { "sample": 1, "pvSample": 1, "tag": "", "imgUrl": "https://arms-retcode.aliyuncs.com/r.png?", "region": null, "ignore": { "ignoreUrls": [], "ignoreApis": [], "ignoreErrors": [/^Script error\.?$/], "ignoreResErrors": [] }, "release": void 0, "environment": "prod" }, c.prototype = { "constructor": c, "onReady": function onReady(e) { return e() }, "getPage": function getPage() { var e = this._conf.page; return o.safetyCall(e, [], e + "") }, "setPage": function setPage() { }, "setConfig": function setConfig(e) { e && "object" == (void 0 === e ? "undefined" : n(e)) && (o.verifyConfig(e), e = this.setImgUrl(e), this._conf = o.ext({}, this._conf, e)) }, "setImgUrl": function setImgUrl(e) { var t = e.region, r = e.imgUrl; if (t) { var n = o.regionMap[t]; return e.imgUrl = n || o.defaultImgUrl, e } return r && (e.imgUrl = r), e }, "checkImgUrl": function checkImgUrl(e) { if (this.getConfig("debug")) return !0; var t = o.regionMap, r = !1; for (var n in t) if (t[n] === e) { r = !0; break } return !r && o.warn("[retcode] invalid url: " + e), r }, "sendRequest": function sendRequest() { }, "sendBeacon": function sendBeacon(e) { i(e, this.getConfig("imgUrl")) }, "postData": function postData() { }, "commonInfo": function commonInfo() { return {} }, "setCommonInfo": function setCommonInfo(e) { e && "object" == (void 0 === e ? "undefined" : n(e)) && (this._common = o.ext({}, this._common, e)) }, "resetPageview": function resetPageview() { this.pageview = o.uu(), this.sBegin = Date.now() }, "getUsername": function getUsername() { if (this.username) return this.username; var e = this._conf, t = e && e.setUsername; if ("function" == typeof t) try { var r = t(); "string" == typeof r && (r = r.substr(0, 40), this.username = r) } catch (e) { o.warn("[arms] setUsername fail", e) } return this.username }, "getTraceId": function getTraceId() { var e = this.rip, t = Date.now(), r = o.getSortNum(this.record), n = e + t + r + o.getRandNum(this._conf.pid); return this["EagleEye-TraceID"] = n, this.record = r, { "EagleEye-TraceID": n } }, "getUberTraceId": function getUberTraceId(e) { var t = this.rip, r = Date.now(), n = o.getSortNum(this.record), i = o.getRandNum(this._conf.pid), a = t + r + n + o.getNum(2) + i; return { "uber-trace-id": a + ":" + a.substring(0, 16) + ":0:" + (e = e ? "1" : "0"), "traceId": a } }, "getPageviewId": function getPageviewId() { return { "EagleEye-SessionID": this.pageview } }, "getConfig": function getConfig(e) { return e ? this._conf[e] : o.ext({}, this._conf) }, "sampling": function sampling(e) { return 1 === e || ("boolean" == typeof this.sampleCache[e] ? this.sampleCache[e] : (this.sampleCache[e] = o.pick(e), this.sampleCache[e])) }, "clear": function clear(e) { var t; clearTimeout(this.requestTimmer), this.requestTimmer = null; for (var r = this._conf && "function" == typeof this._conf.sendRequest; t = this.requestQueue.pop();)"res" === t.t ? this.postData(t, "res") : "error" === t.t ? this.postData(t, "err") : "api" === t.t ? this.postData(t, "apiSnapshot") : "behavior" === t.t ? this.postData(t, "behavior") : "health" === t.t && !r && window && window.navigator && "function" == typeof window.navigator.sendBeacon ? this.sendBeacon(t) : this.sendRequest(t); return e && this.clearSelf(), this }, "clearSelf": function clearSelf() { var e; for (clearTimeout(this.Timmer), this.Timmer = null; e = this.selfQueue.pop();)this.postData(e, "err"); return this }, "_lg": function _lg(e, t, r, n) { var i = this._conf, a = this.getPage(), c = i.ignore || {}, u = c.ignoreErrors, l = c.ignoreResErrors, f = c.ignoreUrls, d = c.ignoreApis; if (this._isRobot) return this; if (o.ignoreByRule(a, f) || o.ignoreByRule(o.decode(a), f)) return this; if ("error" === e && (o.ignoreByRule(t.msg, u) || o.ignoreByRule(o.decode(t.msg), u))) return this; if ("resourceError" === e && (o.ignoreByRule(t.src, l) || o.ignoreByRule(o.decode(t.src), l))) return this; if ("api" === e && (o.ignoreByRule(t.api, d) || o.ignoreByRule(o.decode(t.api), d))) return this; if (!this.checkImgUrl(i.imgUrl)) return this; if (!t || i.disabled || !i.pid) return this; if (0 === n) return this; var p = t.dl, h = "perf" === e ? { "fmp": i.fmp } : {}; return delete t.dl, t = o.ext({ "t": e, "times": 1, "page": a, "tag": i.tag || "", "release": i.release || "", "environment": i.environment, "begin": Date.now(), "c1": i.c1, "c2": i.c2, "c3": i.c3 }, h, t, this.commonInfo(), this._common, { "pid": i.pid, "_v": this.ver, "pv_id": this.pageview, "username": this.getUsername(), "sampling": r || 1, "dl": p, "z": o.seq() }), 1 === n ? s(this, t) : r && !this.sampling(r) ? this : s(this, t) }, "_self": function _self(e, t, r) { var n = this, i = n._conf; if ("error" !== e) return n; if (!n.checkImgUrl(i.imgUrl)) return n; if (!t || i.disabled || !i.pid) return n; if (r && !n.sampling(r)) return n; t = o.ext({ "t": e, "times": 1, "page": o.selfErrPage, "tag": i.pid, "begin": Date.now() }, t, { "pid": a, "_v": n.ver, "sampling": r || 1, "z": o.seq() }); var s = n.selfQueue[0]; if (s) { s.times++; try { s.err && t.err && s.err.msg_raw && t.err.msg_raw && s.err.msg_raw.split("&").indexOf(t.err.msg_raw) < 0 && s.err.msg_raw.length < 1e3 && (s.err.msg_raw += "&" + t.err.msg_raw) } catch (e) { } } else n.selfQueue.unshift(t), n.onReady(function () { n.sdkFlag && (n.sdkFlag = !1, n.Timmer = o.delay(function () { n.clearSelf() }, 1e4)) }) }, "custom": function custom(e, t) { if (!e || "object" != (void 0 === e ? "undefined" : n(e))) return this; var r = !1, i = { "begin": Date.now() }; return o.each(e, function (e, t) { return !(r = t && t.length <= 20) && o.warn("[retcode] invalid key: " + t), i["x-" + t] = e, r }), r ? this._lg("custom", i, t || 1) : this } }, e.exports = c }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15); e.exports = function (e, t) { "object" == (void 0 === e ? "undefined" : n(e)) && (e = o.serialize(e)); var r = t + e; window && window.navigator && "function" == typeof window.navigator.sendBeacon ? window.navigator.sendBeacon(r, "&post_res=") : o.warn("[arms] navigator.sendBeacon not surported") } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = "object" == ("undefined" == typeof window ? "undefined" : n(window)) ? window : {}, a = i.__oFetch_ || i.fetch; a = "function" == typeof a ? a : void 0, e.exports = function (e, t) { var r = -1; "object" == (void 0 === e ? "undefined" : n(e)) && (r = e.z, e = o.serialize(e)); var s = t + e; if (a) return a(s, { "method": "HEAD", "mode": "no-cors" }).catch(o.noop); if (i.document && i.document.createElement) { var c = "__request_hold_" + r, u = i[c] = new Image; u.onload = u.onerror = function () { i[c] = void 0 }, u.src = s, u = null } } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = "object" == ("undefined" == typeof window ? "undefined" : n(window)) ? window : {}, a = i.__oXMLHttpRequest_ || i.XMLHttpRequest; a = "function" == typeof a ? a : void 0, e.exports = function (e, t) { try { var r = new a; r.open("POST", t, !0), r.setRequestHeader("Content-Type", "text/plain"), r.send(JSON.stringify(e)) } catch (e) { o.warn("[retcode] Failed to log, exception is :\n" + e) } } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15); e.exports = function (t, r) { var i = [], s = null, c = r && r.location && r.location.href, u = 0, l = void 0, d = null, p = function u(e, t, r) { if (null !== e) { var n = e[t]; e[t] = r(n) } }, m = function c(e) { var t, r, n, o, i, a = []; if (!e || "string" != typeof e.tagName) return ""; if (a.push(e.tagName.toLowerCase()), "string" == typeof e.id && a.push("#".concat(e.id)), "string" == typeof (t = e.className)) for (r = t.split(/\s+/), i = 0; i < r.length; i++)a.push(".".concat(r[i])); var s = ["type", "name", "title", "alt", "data-arms-attr"]; for (i = 0; i < s.length; i++)n = s[i], "string" == typeof (o = e.getAttribute(n)) && a.push("[".concat(n, '="').concat(o, '"]')); return a.join("") }, g = function f(e, t) { return function (r) { if (r && r !== d) { var n; d = r; try { n = r.target } catch (e) { n = "<unknown>" } if (0 !== n.length) { var o = { "type": "ui.".concat(e), "data": { "message": function (e) { if (!e || 1 !== e.nodeType) return ""; for (var t = e || null, r = [], n = 0, o = 0, i = " > ".length, a = ""; t && n++ < 5 && !("html" === (a = m(t)) || n > 1 && o + r.length * i + a.length >= 80);)r.push(a), o += a.length, t = t.parentNode; return r.reverse().join(" > ") }(n) }, "timestamp": Date.now() }; "click" === e ? (u && clearTimeout(u), t ? u = setTimeout(function () { s && s.addBehavior(o) }, 0) : s && s.addBehavior(o)) : "keypress" === e && (l || s && s.addBehavior(o), clearTimeout(l), l = setTimeout(function () { l = void 0 }, 100)) } } } }; o.ext(t.prototype, { "addBehavior": function addBehavior(e) { if (this.getConfig("behavior") && e && "object" == (void 0 === e ? "undefined" : n(e))) { var t = {}, a = e.data || {}; if (e.type) t = a; else { if ("string" != typeof a.name || "string" != typeof a.message) return; t.name = a.name.substr(0, 20), t.message = a.message.substr(0, 200) } t.message && (t.message = o.encode(t.message)); var s = { "type": e.type || "custom", "data": t || {}, "timestamp": e.timestamp || Date.now(), "page": e.page || r && r.location && r.location.pathname }; return i.push(s), i = i.slice(-100) } }, "getBehavior": function getBehavior() { return i || [] }, "setBehavior": function setBehavior(e) { return e && (i = e), i }, "reportBehavior": function reportBehavior(e) { var t = this; t.getConfig("behavior") && (t.sendBhTimer && (clearTimeout(t.sendBhTimer), t.sendBhTimer = void 0), t.sendBhTimer = setTimeout(function () { i && i.length > 0 && (t.behavior(i), i = [], t.sendBhTimer = void 0, e && "function" == typeof e && e()) }, 0)) }, "initBehavior": function initBehavior() { if (!this.hasInitBehavior && !s) { try { !function () { if (document && document.referrer && document.location) { var e = document.referrer, t = document.location.href; if ("" !== e) { var r = { "type": "navigation", "data": { "from": e, "to": t } }; c = t, s && s.addBehavior(r) } } }(), r && r.document && r.document.addEventListener && (r.document.addEventListener("click", g("click"), !1), r.document.addEventListener("keypress", g("keypress"), !1)), function h() { if (function () { var e = r && r.chrome, t = e && e.app && e.app.runtime, n = "history" in r && !!r.history.pushState && !!r.history.replaceState; return !t && n }()) { var e = function e(t, r) { var n = { "type": "navigation", "data": { "from": t, "to": r } }; s && s.addBehavior(n), c = r }, t = r.onpopstate; r.onpopstate = function () { for (var n = arguments.length, o = new Array(n), i = 0; i < n; i++)o[i] = arguments[i]; var a = r.location.href; if (e(c, a), t) return t.apply(this, o) }; var n = function a(t) { return function () { for (var r = arguments.length, n = new Array(r), o = 0; o < r; o++)n[o] = arguments[o]; var i = n.length > 2 ? n[2] : void 0; return i && e(c, String(i)), t.apply(this, n) } }; p(r.history, "pushState", n), p(r.history, "replaceState", n) } }(), this.getConfig("enableConsole") && function () { if (r && r.console) for (var e = ["debug", "info", "warn", "log", "error", "assert"], t = 0; t < e.length; t++) { var n = e[t]; r.console[n] && "function" == typeof r.console[n] && p(r.console, n, function (e) { var t = n; return function () { for (var n = arguments.length, o = new Array(n), i = 0; i < n; i++)o[i] = arguments[i]; var a = { "type": "console", "data": { "level": t, "message": o } }; if (s && s.addBehavior(a), "error" === t) for (var c = 0; c < o.length; c++) { var u = o[c]; u && u.message && u.stack && s && s.errorHandler(new ErrorEvent("error", { "error": u, "message": u.message })) } e && Function.prototype.apply.call(e, r.console, o) } }) } }() } catch (e) { o.warn("[arms] error in initBehavior", e) } s = this, this.hasInitBehavior = !0 } return this } }) } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; e.exports = function (e, t, o) { var i = r(15), a = r(141), s = r(142), c = null, u = o.documentElement, l = t.innerWidth || u.clientWidth || o.body.clientWidth, d = t.innerHeight || u.clientHeight || o.body.clientHeight, p = t.navigator.connection, h = { "sr": screen.width + "x" + screen.height, "vp": l + "x" + d, "ct": p ? p.effectiveType || p.type : "" }, m = {}, v = function g(e, t, r, n, a) { if (void 0 === t) { var s, c; if (!m[e]) { s = new RegExp(e + "=([^;]+)"); try { c = s.exec(o.cookie) } catch (e) { return i.warn("[retcode] can not get cookie:", e), null } c && (m[e] = c[1]) } return m[e] } var u = e + "=" + t; n && (u += "; domain=" + n), u += "; path=" + (a || "/"), r && (u += "; max-age=" + r); try { return o.cookie = u, !!o.cookie } catch (e) { return i.warn("[retcode] can not set cookie: ", e), !1 } }, y = function f(e) { var t = e._conf.uid || v("_nk_") || v("_bl_uid"); return t || (t = i.uu(), v("_bl_uid", t, 15552e3)) ? t : null }; return i.ext(e.prototype, { "activeErrHandler": function activeErrHandler(e) { return c && !e ? this : (c = this, this) }, "errorHandler": function errorHandler(e) { if (!e) return this; var t = e.type; if ("error" === t) { var r = e.target || e.srcElement; !r || !r.tagName || e.message || e.filename || e.lineno || e.colno ? this.error(e.error || { "message": e.message }, e) : this.resourceErrorHandler(e) } else "unhandledrejection" === t && i.T(e.reason, "Error") && i.checkAutoError(e.reason) && this.error(e.reason); try { this.getConfig("behavior") && this.reportBehavior && this.reportBehavior() } catch (e) { } return this }, "resourceErrorHandler": function resourceErrorHandler(e) { var t = this, r = e.target || e.srcElement; try { var n = t.getSrc(r), o = "string" == typeof r.tagName ? r.tagName.toLowerCase() : "", a = t.getXPath(r, 5); return t._lg("resourceError", { "src": n && n.substring(0, 1e3), "node_name": o, "xpath": a }), t } catch (e) { return i.warn("[ARMS] resourceErrorHandler error :", e), t } }, "getSrc": function getSrc(e) { var t = e.src || e.href; try { if (!t) { var r = "object" === ("string" == typeof e.tagName ? e.tagName.toLowerCase() : ""), n = e.getAttribute("classid") && "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" === e.getAttribute("classid").toLowerCase() || "application/x-shockwave-flash" === e.getAttribute("type"); r && n && (t = e.getAttribute("data") || e.getAttribute("codebase")), t || (t = e.outerHTML || e.innerHTML) } } catch (e) { t = "" } return t }, "getXPath": function getXPath(e, t) { var r = e.id ? "#" + e.id : "", n = "string" == typeof e.className ? "." + e.className.split(" ").join(".") : "", o = ("string" == typeof e.tagName ? e.tagName.toLowerCase() : "") + r + n; return e.parentNode && e.parentNode.tagName && t - 1 != 0 ? this.getXPath(e.parentNode, t - 1) + " > " + o : o }, "sendPerformance": function sendPerformance(e) { var t = this; t.onReady(function () { var r = s(); r && r.load && r.load > 0 && (r.page = t.getPage(!0), e && (r = i.ext(r, e)), r.autoSend = !0, t.performance(r)) }) }, "sendResources": function sendResources(e) { var t = this; t.onReady(function () { var r = a(); r && r.load && r.load > 0 && (r.load && r.load <= 2e3 || r.load && r.load <= 8e3 && Math.random() > .05 || (r.page = t.getPage(!0), r.dl = location.href, e && (r = i.ext(r, e)), t._lg("res", r, t.getConfig("sample")))) }) }, "sendPV": function sendPV() { var e = this; e.onReady(function () { var r = function (e) { var r = y(e), n = t.devicePixelRatio || 1; return { "uid": r, "dt": o.title, "dl": location.href, "dr": o.referrer, "dpr": n.toFixed(2), "de": (o.characterSet || o.defaultCharset || "").toLowerCase(), "ul": u.lang, "begin": Date.now() } }(e); r && r.uid && e._lg("pv", r, e.getConfig("pvSample")) }) }, "commonInfo": function commonInfo() { return h.uid = y(this), h.sid = function (e) { if (e.session) return e.session; var t; try { if ("object" == ("undefined" == typeof window ? "undefined" : n(window)) && "object" == ("undefined" == typeof sessionStorage ? "undefined" : n(sessionStorage)) && "function" == typeof sessionStorage.getItem) return "string" == typeof (t = sessionStorage.getItem("_bl_sid")) ? (e.session = t, t) : (t = i.uu(), e.session = t, "function" == typeof sessionStorage.setItem && sessionStorage.setItem("_bl_sid", t), t) } catch (e) { i.warn("[ARMS] getSid error :", e) } return e.session = t = i.uu(), t }(this), h }, "handleUnload": function handleUnload(e) { var t = Date.now(); if (t - this._lastUnload < 200) return this; this._lastUnload = t, this.sendHealth(e), this.speedCache && (this._lg("speed", this.speedCache), this.speedCache = null, clearTimeout(this.speedTimmer)), this.clear(!0) }, "bindHashChange": function bindHashChange(e) { var r = this; if (!e ^ r.hashChangeHandler) return r; e ? (r.hackHistoryState(), r.hashChangeHandler = function (e) { var t = r._conf.parseHash(location.hash); t && r.setPage(t, !1 !== e) }, r.stateChangeHandler = function (e) { var t = r._conf.parseHash(e.detail); t && r.setPage(t) }, i.on(t, "hashchange", r.hashChangeHandler), i.on(t, "historystatechange", r.stateChangeHandler), r.hashChangeHandler(!1)) : (i.off(t, "hashchange", r.hashChangeHandler), i.off(t, "historystatechange", r.stateChangeHandler), r.hashChangeHandler = null, r.stateChangeHandler = null) }, "initHandler": function initHandler() { var e = this; if (e.hasInitHandler) return e; var r = e._conf; return i.on(t, "beforeunload", function () { e.handleUnload(0) }), e.bindHashChange(r.enableSPA), e.activeErrHandler(!1), e.hasInitHandler = !0, e } }), i.on(t, "error", function (e) { c && c.errorHandler(e) }, !1, !0).on(t, "unhandledrejection", function (e) { c && c.errorHandler(e) }), e } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = r(66).TIMING_KEYS; e.exports = function () { var e = o.win || {}, t = e.performance; if (!t || "object" != (void 0 === t ? "undefined" : n(t)) || "function" != typeof t.getEntriesByType) return null; var r = {}, a = t.timing || {}, s = t.getEntriesByType("resource") || []; if (r.begin = a[i[1]] || Date.now(), "function" == typeof e.PerformanceNavigationTiming) { var c = t.getEntriesByType("navigation")[0]; c && (a = c) } return o.each({ "dom": [10, 8], "load": [14, 1] }, function (e, t) { var n = a[i[e[1]]], o = a[i[e[0]]]; if (n > 0 && o > 0) { var s = Math.round(o - n); s >= 0 && s < 6e5 && (r[t] = s) } }), r.res = JSON.stringify(s), r } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(15), i = r(66).TIMING_KEYS; e.exports = function () { var e = o.win || {}, t = e.performance; if (!t || "object" != (void 0 === t ? "undefined" : n(t))) return null; var r = {}, a = t.timing || {}, s = Date.now(), c = 1; if ("function" == typeof e.PerformanceNavigationTiming) { var u = t.getEntriesByType("navigation")[0]; u && (a = u, c = 2) } o.each({ "dns": [3, 2], "tcp": [5, 4], "ssl": [5, 17], "ttfb": [7, 6], "trans": [8, 7], "dom": [10, 8], "res": [14, 12], "firstbyte": [7, 2], "fpt": [8, 1], "tti": [10, 1], "ready": [12, 1], "load": [14, 1] }, function (e, t) { var n = a[i[e[1]]], o = a[i[e[0]]]; if (2 === c || n > 0 && o > 0) { var s = Math.round(o - n); s >= 0 && s < 6e5 && (r[t] = s) } }); var l = e.navigator.connection, f = t.navigation || {}; r.ct = l ? l.effectiveType || l.type : ""; var d = l && (l.downlink || l.downlinkMax || l.bandwidth) || null; if ((d = d > 999 ? 999 : d) && (r.bandwidth = d), r.navtype = 1 === f.type ? "Reload" : "Other", 1 === c && a[i[16]] > 0 && a[i[1]] > 0) { var p = a[i[16]] - a[i[1]]; p >= 0 && p < 36e5 && (r.fpt = p) } return 1 === c && a[i[1]] > 0 ? r.begin = a[i[1]] : 2 === c && r.load > 0 ? r.begin = s - r.load : r.begin = s, r } }, function (e, r, n) { var o = n(15); e.exports = function (e, r, n) { function t(e, r, n) { var o = 0, a = e.tagName; if ("SCRIPT" !== a && "STYLE" !== a && "META" !== a && "HEAD" !== a) { var s = e.children ? e.children.length : 0; if (s > 0) for (var c = e.children, u = s - 1; u >= 0; u--)o += t(c[u], r + 1, o > 0); if (o <= 0 && !n && !(e.getBoundingClientRect && e.getBoundingClientRect().top < i)) return 0; o += 1 + .5 * r } return o } var i = r.innerHeight || 0, a = [], s = null, c = 0; o.ext(e.prototype, { "initFmpObserver": function initFmpObserver(e) { var i = this; if (!i._conf || !i._conf.useFmp) return null; if (!r.MutationObserver) return o.warn("[retcode] first meaningful paint can not be retrieved"), i.sendPerformance(), null; o.on(r, "beforeunload", function () { i.endObserving(0, !0) }); var u = r.MutationObserver; return (s = new u(function () { !function (e) { var r = Date.now() - e, o = n.querySelector("body"); if (o) { var i = 0; i += t(o, 1, !1), a.push({ "score": i, "t": r }) } else a.push({ "score": 0, "t": r }) }(i._startTime) })).observe(document, { "childList": !0, "subtree": !0 }), c = 1, i.onReady(function () { i.endObserving(e) }), s }, "endObserving": function endObserving(e, t) { var r = this; if (s && c) if (r.fmpTimmer && (clearTimeout(r.fmpTimmer), r.fmpTimmer = null), t || !function (e, t) { var r = Date.now() - e; return !(r > t || r - (a && a.length && a[a.length - 1].t || 0) > 1e3) }(r._startTime, e)) { s.disconnect(), c = 0, a = function i(e) { for (var t = 1; t < e.length; t++)if (e[t].score < e[t - 1].score) return e.splice(t, 1), i(e); return e }(a); for (var n = null, i = 1; i < a.length; i++)if (a[i].t >= a[i - 1].t) { var u = a[i].score - a[i - 1].score; (!n || n.rate <= u) && (n = { "t": a[i].t, "rate": u }) } n && n.t > 0 && n.t < 36e5 ? r.sendPerformance({ "fmp": n.t }) : r.sendPerformance() } else r.fmpTimmer = o.delay(function () { r.endObserving(e) }, 500) } }) } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; e.exports = function (e, t) { var o = r(15), a = null, c = o.getCurDomain(), u = function i(e, t, r, n, a, s, u, l, f, d, p, h, m) { var g = o.J(a) || null, v = o.safetyCall(t, [g, n], null); if (!v) return !1; var y = v.code || s, b = !("success" in v) || v.success; e.api(r, b, u, y, v.msg, l, f, d, p, c, h, m) }, l = "fetch", f = "__oFetch_", d = "__oXMLHttpRequest_", p = "XMLHttpRequest"; return o.ext(e.prototype, { "removeHook": function removeHook(e, r) { return a && (r || this === a) ? (t[f] && (t[l] = t[f], delete t[f]), t[d] && (t[p] = t[d], delete t[d]), a = null, this) : this }, "addHook": function addHook(e) { return !e && a ? this : (a || (function () { if ("function" == typeof t[l]) { var e = t[l]; t[f] = e, t[l] = function (r, i) { var s = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments), l = a; if (!l || !l.api) return e.apply(t, s); if (i && ("HEAD" === i.method || "no-cors" === i.mode)) return e.apply(t, s); var f = Date.now(), d = l._conf, p = (r && "string" != typeof r ? r.url : r) || "", h = p; p = o.cutUrlSearch(p); var m = (d.ignore || {}).ignoreApis; if (!o.checkAPI(p, !0) || o.ignoreByRule(p, m)) return e.apply(t, s); p = o.filterByRule(p, d.ignoreApiPath ? d.ignoreApiPath : d.apiHelper); var g = d.enableLinkTrace, v = "", y = "", b = l.getConfig("pid"), S = null, _ = l.getConfig("sample"), w = l.getConfig("linkType"), A = 1; if (_ && !l.sampling(_) && (A = 0), g) { var C = ""; try { C = location.origin ? location.origin : location.protocol + "//" + location.hostname + (location.port ? ":" + location.port : "") } catch (e) { C = "" } var T = o.checkSameOrigin(h, C); if (l.getConfig("enableApiCors") || T) { if (r && "string" != typeof r) try { if (s[0].headers && "function" == typeof s[0].headers.get && "function" == typeof s[0].headers.append) switch (w) { case "tracing": var P = s[0].headers.get("uber-trace-id"); P ? v = P.split(":")[0] : (P = l.getUberTraceId(A), s[0].headers.append("uber-trace-id", P["uber-trace-id"]), v = P.traceId), y = l.pageview; break; default: var k = s[0].headers.get("EagleEye-TraceID"), E = s[0].headers.get("EagleEye-SessionID"), x = s[0].headers.get("EagleEye-pAppName"); k ? v = k : (v = l.getTraceId()["EagleEye-TraceID"], s[0].headers.append("EagleEye-TraceID", v)), E ? y = E : (y = l.getPageviewId()["EagleEye-SessionID"], s[0].headers.append("EagleEye-SessionID", y)), x || s[0].headers.append("EagleEye-pAppName", b) } } catch (e) { o.warn("[retcode] fetch failed to set header, exception is :\n" + e) } if (i) switch (i.headers = i.headers ? i.headers : {}, w) { case "tracing": if (i.headers["uber-trace-id"]) v = i.headers["uber-trace-id"].split(":")[0]; else { var O = l.getUberTraceId(A); i.headers["uber-trace-id"] = O["uber-trace-id"], v = O.traceId } y = l.getPageviewId()["EagleEye-SessionID"]; break; default: i.headers["EagleEye-TraceID"] ? v = i.headers["EagleEye-TraceID"] : (v = l.getTraceId()["EagleEye-TraceID"], i.headers["EagleEye-TraceID"] = v), i.headers["EagleEye-SessionID"] ? y = i.headers["EagleEye-SessionID"] : (y = l.getPageviewId()["EagleEye-SessionID"], i.headers["EagleEye-SessionID"] = y), i.headers["EagleEye-pAppName"] || (i.headers["EagleEye-pAppName"] = b) } } } return e.apply(t, s).then(function (e) { if (!l || !l.api) return e; try { if (!e || "function" != typeof e.clone) return e; var t = e.clone(), r = t.headers; if (r && "function" == typeof r.get) { var i = r.get("content-type"); if (i && !/(text)|(json)/.test(i)) return e; if (!v) { var a = o.parseFetchHeaders(r); "object" == (void 0 === a ? "undefined" : n(a)) && a["eagleeye-traceid"] && (v = a["eagleeye-traceid"], S = "response") } } var m = Date.now() - f; return t.text().then(function (e) { var n = o.getFetchSnapshot(s, e, r); t.ok ? u(l, d.parseResponse, p, h, e, t.status || 200, m, f, v, y, n, S, A) : l.api(p, !1, m, t.status || 404, t.statusText, f, v, y, n, c, S, A) }), e } catch (t) { return o.warn("[ARMS] fetch response error :", t), e } }).catch(function (e) { if (!l || !l.api) throw e; var t = Date.now() - f; throw l.api(p, !1, t, e.name || "Error", e.message, f, v, y, {}, c), e }) }, t[l].toString = o.createFakeToString(l) } }(), function () { if ("function" == typeof t[p]) { var e, r = t[p]; t[d] = r; var i = function s(t) { var s = new r(t), i = a; if (!i || !i.api || !s.addEventListener) return s; var l, f, d, p = s.send, h = s.open, m = s.setRequestHeader, g = i._conf, v = (g.ignore || {}).ignoreApis, y = i.getConfig("enableLinkTrace"), b = "", S = "", _ = "", w = null, A = i.getConfig("sample"), C = i.getConfig("linkType"), T = 1; return A && !i.sampling(A) && (T = 0), s.open = function (t, r) { e = t; var n = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments); h.apply(s, n), d = r || "", f = o.cutUrlSearch(d); var a = !o.checkAPI(f, !0) || o.ignoreByRule(f, v); if (f = f ? o.filterByRule(f, g.ignoreApiPath ? g.ignoreApiPath : g.apiHelper) : "", !a && y) { var c = ""; try { c = location.origin ? location.origin : location.protocol + "//" + location.hostname + (location.port ? ":" + location.port : "") } catch (e) { c = "" } var u = o.checkSameOrigin(d, c); if ((i.getConfig("enableApiCors") || u) && m && "function" == typeof m) switch (C) { case "tracing": var l = i.getUberTraceId(T); m.apply(s, ["uber-trace-id", l["uber-trace-id"]]), b = l.traceId, S = i.getPageviewId()["EagleEye-SessionID"]; break; default: b = i.getTraceId()["EagleEye-TraceID"], m.apply(s, ["EagleEye-TraceID", b]), S = i.getPageviewId()["EagleEye-SessionID"], m.apply(s, ["EagleEye-SessionID", S]), _ = i.getConfig("pid"), m.apply(s, ["EagleEye-pAppName", _]) } } }, s.send = function () { l = Date.now(); var e = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments); p.apply(s, e) }, o.on(s, "readystatechange", function () { if (f && 4 === s.readyState) { var t = Date.now() - l, r = o.getXhrSnapshot(d, e, s); if (!b) { var a = o.parseXhrHeaders("function" == typeof s.getAllResponseHeaders && s.getAllResponseHeaders() || ""); "object" == (void 0 === a ? "undefined" : n(a)) && a["eagleeye-traceid"] && (b = a["eagleeye-traceid"], w = "response") } if (s.status >= 200 && s.status <= 299) { var p = s.status || 200; if ("function" == typeof s.getResponseHeader) { var h = s.getResponseHeader("Content-Type"); if (h && !/(text)|(json)/.test(h)) return } s.responseType && "text" !== s.responseType ? i.api(f, !0, t, p, "", l, b, S, {}, c, w, T) : u(i, g.parseResponse, f, d, s.responseText, p, t, l, b, S, r, w, T) } else i.api(f, !1, t, s.status || "FAILED", s.statusText, l, b, S, r, c, w, T) } }), s }; i.prototype = r.prototype, t[p] = i, t[p].toString = o.createFakeToString(p) } }()), a = this, this) }, "initHook": function initHook() { return this.hasInitHook ? this : (this.getConfig("disableHook") || this.addHook(), this.hasInitHook = !0, this) } }), e } }, function (e, t, r) { e.exports = function (e, t) { var n = r(15), a = t.history || {}, s = t.document, c = function i(e, r) { var n; t.CustomEvent ? n = new CustomEvent(e, { "detail": r }) : ((n = s.createEvent("HTMLEvents")).initEvent(e, !1, !0), n.detail = r), t.dispatchEvent(n) }, u = function o(e) { var t = a[e]; "function" == typeof t && (a[e] = function (r, o, i) { var s = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments), u = location.href, l = t.apply(a, s); if (!i || "string" != typeof i) return l; if (i === u) return l; try { var f = u.split("#"), d = i.split("#"), p = n.cutUrlSearch(f[0]), h = n.cutUrlSearch(d[0]), m = f[1] && f[1].replace(/^\/?(.*)/, "$1"), g = d[1] && d[1].replace(/^\/?(.*)/, "$1"); p !== h ? c("historystatechange", h) : m !== g && c("historystatechange", g) } catch (t) { n.warn("[retcode] error in " + e + ": " + t) } return l }, a[e].toString = n.createFakeToString(e)) }; n.ext(e.prototype, { "hackHistoryState": function hackHistoryState() { return this.hasHackedHistoryState ? this : (u("pushState"), u("replaceState"), this.hasHackedHistoryState = !0, this) } }) } }, function (e, t, r) { "use strict"; r.r(t), r.d(t, "doLoginH5", function () { return s }); var n = r(4), o = r(5), i = function a(e) { var t = Object(n.getChannel)(), r = window.location.origin, i = encodeURIComponent(window.location.href), s = Object(n.getStorageSync)("mobile") || o.Url.getParam("mobile") || ""; s = "null" === s ? "" : s; var c = function g() { var e = r + "/" + t + "/loginregister/#/auth?mgpAuth=1&redirectUrl=" + i; window.location.replace(e) }; return new Map([[Object(o.isMuapp)(), function () { var t = e && e.goBack ? "goBack" : ""; return window.muapp.LoginRegisterPlugin.pushLogin(function () { return window.location.reload() }, t) }], [Object(o.isWechat)(), c], [Object(o.isAlipay)(), c], [Object(o.isUnicom)(), c], ["3CMBAPP" === t, function () { window.location.replace("http://cmbls/functionjump?id=functionjump&action=gofuncid&funcid=130253&needlogin=true&loginmode=d&clean=false&data=0&CloseCurrentView=true") }], ["default", function () { return window.location.replace(r + "/" + t + "/loginregister/#/login/auth-code-login?&redirectUrl=" + i + "&mobile=" + s) }]]) }, s = function l(e) { var t = i(e).get(!0); t ? t() : i().get("default")() } }, , function (e, t, r) { e.exports = { "default": r(149), "__esModule": !0 } }, function (e, t, r) { r(150), e.exports = r(45).Object.assign }, function (e, t, r) { var n = r(151); n(n.S + n.F, "Object", { "assign": r(161) }) }, function (e, t, r) { var n = r(44), o = r(45), i = r(152), a = r(154), s = r(67), c = function $export(e, t, r) { var c, u, l, f = e & $export.F, d = e & $export.G, p = e & $export.S, h = e & $export.P, m = e & $export.B, g = e & $export.W, v = d ? o : o[t] || (o[t] = {}), y = v.prototype, b = d ? n : p ? n[t] : (n[t] || {}).prototype; for (c in d && (r = t), r) (u = !f && b && void 0 !== b[c]) && s(v, c) || (l = u ? b[c] : r[c], v[c] = d && "function" != typeof b[c] ? r[c] : m && u ? i(l, n) : g && b[c] == l ? function (e) { var t = function F(t, r, n) { if (this instanceof e) { switch (arguments.length) { case 0: return new e; case 1: return new e(t); case 2: return new e(t, r) }return new e(t, r, n) } return e.apply(this, arguments) }; return t.prototype = e.prototype, t }(l) : h && "function" == typeof l ? i(Function.call, l) : l, h && ((v.virtual || (v.virtual = {}))[c] = l, e & $export.R && y && !y[c] && a(y, c, l))) }; c.F = 1, c.G = 2, c.S = 4, c.P = 8, c.B = 16, c.W = 32, c.U = 64, c.R = 128, e.exports = c }, function (e, t, r) { var n = r(153); e.exports = function (e, t, r) { if (n(e), void 0 === t) return e; switch (r) { case 1: return function (r) { return e.call(t, r) }; case 2: return function (r, n) { return e.call(t, r, n) }; case 3: return function (r, n, o) { return e.call(t, r, n, o) } }return function () { return e.apply(t, arguments) } } }, function (e, t) { e.exports = function (e) { if ("function" != typeof e) throw TypeError(e + " is not a function!"); return e } }, function (e, t, r) { var n = r(155), o = r(160); e.exports = r(33) ? function (e, t, r) { return n.f(e, t, o(1, r)) } : function (e, t, r) { return e[t] = r, e } }, function (e, t, r) { var n = r(156), o = r(157), i = r(159), a = Object.defineProperty; t.f = r(33) ? Object.defineProperty : function defineProperty(e, t, r) { if (n(e), t = i(t, !0), n(r), o) try { return a(e, t, r) } catch (e) { } if ("get" in r || "set" in r) throw TypeError("Accessors not supported!"); return "value" in r && (e[t] = r.value), e } }, function (e, t, r) { var n = r(46); e.exports = function (e) { if (!n(e)) throw TypeError(e + " is not an object!"); return e } }, function (e, t, r) { e.exports = !r(33) && !r(47)(function () { return 7 != Object.defineProperty(r(158)("div"), "a", { "get": function get() { return 7 } }).a }) }, function (e, t, r) { var n = r(46), o = r(44).document, i = n(o) && n(o.createElement); e.exports = function (e) { return i ? o.createElement(e) : {} } }, function (e, t, r) { var n = r(46); e.exports = function (e, t) { if (!n(e)) return e; var r, o; if (t && "function" == typeof (r = e.toString) && !n(o = r.call(e))) return o; if ("function" == typeof (r = e.valueOf) && !n(o = r.call(e))) return o; if (!t && "function" == typeof (r = e.toString) && !n(o = r.call(e))) return o; throw TypeError("Can't convert object to primitive value") } }, function (e, t) { e.exports = function (e, t) { return { "enumerable": !(1 & e), "configurable": !(2 & e), "writable": !(4 & e), "value": t } } }, function (e, t, r) { "use strict"; var n = r(33), o = r(162), i = r(173), a = r(174), s = r(175), c = r(69), u = Object.assign; e.exports = !u || r(47)(function () { var e = {}, t = {}, r = Symbol(), n = "abcdefghijklmnopqrst"; return e[r] = 7, n.split("").forEach(function (e) { t[e] = e }), 7 != u({}, e)[r] || Object.keys(u({}, t)).join("") != n }) ? function assign(e, t) { for (var r = s(e), u = arguments.length, l = 1, f = i.f, d = a.f; u > l;)for (var p, h = c(arguments[l++]), m = f ? o(h).concat(f(h)) : o(h), g = m.length, v = 0; g > v;)p = m[v++], n && !d.call(h, p) || (r[p] = h[p]); return r } : u }, function (e, t, r) { var n = r(163), o = r(172); e.exports = Object.keys || function keys(e) { return n(e, o) } }, function (e, t, r) { var n = r(67), o = r(68), i = r(165)(!1), a = r(168)("IE_PROTO"); e.exports = function (e, t) { var r, s = o(e), c = 0, u = []; for (r in s) r != a && n(s, r) && u.push(r); for (; t.length > c;)n(s, r = t[c++]) && (~i(u, r) || u.push(r)); return u } }, function (e, t) { var r = {}.toString; e.exports = function (e) { return r.call(e).slice(8, -1) } }, function (e, t, r) { var n = r(68), o = r(166), i = r(167); e.exports = function (e) { return function (t, r, a) { var s, c = n(t), u = o(c.length), l = i(a, u); if (e && r != r) { for (; u > l;)if ((s = c[l++]) != s) return !0 } else for (; u > l; l++)if ((e || l in c) && c[l] === r) return e || l || 0; return !e && -1 } } }, function (e, t, r) { var n = r(71), o = Math.min; e.exports = function (e) { return e > 0 ? o(n(e), 9007199254740991) : 0 } }, function (e, t, r) { var n = r(71), o = Math.max, i = Math.min; e.exports = function (e, t) { return (e = n(e)) < 0 ? o(e + t, 0) : i(e, t) } }, function (e, t, r) { var n = r(169)("keys"), o = r(171); e.exports = function (e) { return n[e] || (n[e] = o(e)) } }, function (e, t, r) { var n = r(45), o = r(44), i = o["__core-js_shared__"] || (o["__core-js_shared__"] = {}); (e.exports = function (e, t) { return i[e] || (i[e] = void 0 !== t ? t : {}) })("versions", []).push({ "version": n.version, "mode": r(170) ? "pure" : "global", "copyright": "© 2019 Denis Pushkarev (zloirock.ru)" }) }, function (e, t) { e.exports = !0 }, function (e, t) { var r = 0, n = Math.random(); e.exports = function (e) { return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++r + n).toString(36)) } }, function (e, t) { e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",") }, function (e, t) { t.f = Object.getOwnPropertySymbols }, function (e, t) { t.f = {}.propertyIsEnumerable }, function (e, t, r) { var n = r(70); e.exports = function (e) { return Object(n(e)) } }, function (e, t, r) { var n = r(177); "string" == typeof n && (n = [[e.i, n, ""]]); var o = { "sourceMap": !1, "insertAt": "top", "hmr": !0, "transform": void 0, "insertInto": void 0 }; r(31)(n, o); n.locals && (e.exports = n.locals) }, function (e, t, r) { (e.exports = r(30)(!1)).push([e.i, "body,\nhtml {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n}", ""]) }, function (e, t) { e.exports = function (e) { var t = "undefined" != typeof window && window.location; if (!t) throw new Error("fixUrls requires window.location"); if (!e || "string" != typeof e) return e; var r = t.protocol + "//" + t.host, n = r + t.pathname.replace(/\/[^\/]*$/, "/"); return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function (e, t) { var o, i = t.trim().replace(/^"(.*)"$/, function (e, t) { return t }).replace(/^'(.*)'$/, function (e, t) { return t }); return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i) ? e : (o = 0 === i.indexOf("//") ? i : 0 === i.indexOf("/") ? r + i : n + i.replace(/^\.\//, ""), "url(" + JSON.stringify(o) + ")") }) } }, function (e, t, r) { "use strict"; var n = r(180); function emptyFunction() { } function emptyFunctionWithReset() { } emptyFunctionWithReset.resetWarningCache = emptyFunction, e.exports = function () { function shim(e, t, r, o, i, a) { if (a !== n) { var s = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"); throw s.name = "Invariant Violation", s } } function getShim() { return shim } shim.isRequired = shim; var e = { "array": shim, "bigint": shim, "bool": shim, "func": shim, "number": shim, "object": shim, "string": shim, "symbol": shim, "any": shim, "arrayOf": getShim, "element": shim, "elementType": shim, "instanceOf": getShim, "node": shim, "objectOf": getShim, "oneOf": getShim, "oneOfType": getShim, "shape": getShim, "exact": getShim, "checkPropTypes": emptyFunctionWithReset, "resetWarningCache": emptyFunction }; return e.PropTypes = e, e } }, function (e, t, r) { "use strict"; e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED" }, function (e, t, r) { (function (t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, n = "object" == (void 0 === t ? "undefined" : r(t)) && t && t.Object === Object && t; e.exports = n }).call(this, r(14)) }, function (e, t, r) { var n = r(73), o = Object.prototype, i = o.hasOwnProperty, a = o.toString, s = n ? n.toStringTag : void 0; e.exports = function getRawTag(e) { var t = i.call(e, s), r = e[s]; try { e[s] = void 0; var n = !0 } catch (e) { } var o = a.call(e); return n && (t ? e[s] = r : delete e[s]), o } }, function (e, t) { var r = Object.prototype.toString; e.exports = function objectToString(e) { return r.call(e) } }, function (e, t, r) { var n = r(74); e.exports = function now() { return n.Date.now() } }, function (e, t, r) { var n = r(186), o = r(34), i = r(188), a = NaN, s = /^[-+]0x[0-9a-f]+$/i, c = /^0b[01]+$/i, u = /^0o[0-7]+$/i, l = parseInt; e.exports = function toNumber(e) { if ("number" == typeof e) return e; if (i(e)) return a; if (o(e)) { var t = "function" == typeof e.valueOf ? e.valueOf() : e; e = o(t) ? t + "" : t } if ("string" != typeof e) return 0 === e ? e : +e; e = n(e); var r = c.test(e); return r || u.test(e) ? l(e.slice(2), r ? 2 : 8) : s.test(e) ? a : +e } }, function (e, t, r) { var n = r(187), o = /^\s+/; e.exports = function baseTrim(e) { return e ? e.slice(0, n(e) + 1).replace(o, "") : e } }, function (e, t) { var r = /\s/; e.exports = function trimmedEndIndex(e) { for (var t = e.length; t-- && r.test(e.charAt(t));); return t } }, function (e, t, r) { var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = r(72), i = r(189), a = "[object Symbol]"; e.exports = function isSymbol(e) { return "symbol" == (void 0 === e ? "undefined" : n(e)) || i(e) && o(e) == a } }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; e.exports = function isObjectLike(e) { return null != e && "object" == (void 0 === e ? "undefined" : r(e)) } }, function (e, t, r) { var n = r(191); "string" == typeof n && (n = [[e.i, n, ""]]); var o = { "sourceMap": !1, "insertAt": "top", "hmr": !0, "transform": void 0, "insertInto": void 0 }; r(31)(n, o); n.locals && (e.exports = n.locals) }, function (e, t, r) { (e.exports = r(30)(!1)).push([e.i, "button {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}", ""]) }, function (e, t, r) { var n = r(193); "string" == typeof n && (n = [[e.i, n, ""]]); var o = { "sourceMap": !1, "insertAt": "top", "hmr": !0, "transform": void 0, "insertInto": void 0 }; r(31)(n, o); n.locals && (e.exports = n.locals) }, function (e, t, r) { (e.exports = r(30)(!1)).push([e.i, 'img[src=""] {\n  opacity: 0;\n}\n\n.taro-img {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  font-size: 0;\n  width: 320px;\n  height: 240px;\n}\n\n.taro-img.taro-img__widthfix {\n  height: 100%;\n}\n\n.taro-img__mode-scaletofill {\n  width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-aspectfit {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.taro-img__mode-aspectfill {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.taro-img__mode-aspectfill--width {\n  min-width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-aspectfill--height {\n  width: 100%;\n  min-height: 100%;\n}\n\n.taro-img__mode-widthfix {\n  width: 100%;\n}\n\n.taro-img__mode-top {\n  width: 100%;\n}\n\n.taro-img__mode-bottom {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-left {\n  height: 100%;\n}\n\n.taro-img__mode-right {\n  position: absolute;\n  height: 100%;\n  right: 0;\n}\n\n.taro-img__mode-topright {\n  position: absolute;\n  right: 0;\n}\n\n.taro-img__mode-bottomleft {\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-bottomright {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}', ""]) }, function (e, t) { var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !function () { "use strict"; if ("object" === ("undefined" == typeof window ? "undefined" : r(window))) if ("IntersectionObserver" in window && "IntersectionObserverEntry" in window && "intersectionRatio" in window.IntersectionObserverEntry.prototype) "isIntersecting" in window.IntersectionObserverEntry.prototype || Object.defineProperty(window.IntersectionObserverEntry.prototype, "isIntersecting", { "get": function get() { return this.intersectionRatio > 0 } }); else { var e = function (e) { for (var t = window.document, r = getFrameElement(t); r;)r = getFrameElement(t = r.ownerDocument); return t }(), t = [], n = null, o = null; IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100, IntersectionObserver.prototype.POLL_INTERVAL = null, IntersectionObserver.prototype.USE_MUTATION_OBSERVER = !0, IntersectionObserver._setupCrossOriginUpdater = function () { return n || (n = function crossOriginUpdater(e, r) { o = e && r ? convertFromParentRect(e, r) : { "top": 0, "bottom": 0, "left": 0, "right": 0, "width": 0, "height": 0 }, t.forEach(function (e) { e._checkForIntersections() }) }), n }, IntersectionObserver._resetCrossOriginUpdater = function () { n = null, o = null }, IntersectionObserver.prototype.observe = function (e) { if (!this._observationTargets.some(function (t) { return t.element == e })) { if (!e || 1 != e.nodeType) throw new Error("target must be an Element"); this._registerInstance(), this._observationTargets.push({ "element": e, "entry": null }), this._monitorIntersections(e.ownerDocument), this._checkForIntersections() } }, IntersectionObserver.prototype.unobserve = function (e) { this._observationTargets = this._observationTargets.filter(function (t) { return t.element != e }), this._unmonitorIntersections(e.ownerDocument), 0 == this._observationTargets.length && this._unregisterInstance() }, IntersectionObserver.prototype.disconnect = function () { this._observationTargets = [], this._unmonitorAllIntersections(), this._unregisterInstance() }, IntersectionObserver.prototype.takeRecords = function () { var e = this._queuedEntries.slice(); return this._queuedEntries = [], e }, IntersectionObserver.prototype._initThresholds = function (e) { var t = e || [0]; return Array.isArray(t) || (t = [t]), t.sort().filter(function (e, t, r) { if ("number" != typeof e || isNaN(e) || e < 0 || e > 1) throw new Error("threshold must be a number between 0 and 1 inclusively"); return e !== r[t - 1] }) }, IntersectionObserver.prototype._parseRootMargin = function (e) { var t = (e || "0px").split(/\s+/).map(function (e) { var t = /^(-?\d*\.?\d+)(px|%)$/.exec(e); if (!t) throw new Error("rootMargin must be specified in pixels or percent"); return { "value": parseFloat(t[1]), "unit": t[2] } }); return t[1] = t[1] || t[0], t[2] = t[2] || t[0], t[3] = t[3] || t[1], t }, IntersectionObserver.prototype._monitorIntersections = function (t) { var r = t.defaultView; if (r && -1 == this._monitoringDocuments.indexOf(t)) { var n = this._checkForIntersections, o = null, i = null; this.POLL_INTERVAL ? o = r.setInterval(n, this.POLL_INTERVAL) : (addEvent(r, "resize", n, !0), addEvent(t, "scroll", n, !0), this.USE_MUTATION_OBSERVER && "MutationObserver" in r && (i = new r.MutationObserver(n)).observe(t, { "attributes": !0, "childList": !0, "characterData": !0, "subtree": !0 })), this._monitoringDocuments.push(t), this._monitoringUnsubscribes.push(function () { var e = t.defaultView; e && (o && e.clearInterval(o), removeEvent(e, "resize", n, !0)), removeEvent(t, "scroll", n, !0), i && i.disconnect() }); var a = this.root && (this.root.ownerDocument || this.root) || e; if (t != a) { var s = getFrameElement(t); s && this._monitorIntersections(s.ownerDocument) } } }, IntersectionObserver.prototype._unmonitorIntersections = function (t) { var r = this._monitoringDocuments.indexOf(t); if (-1 != r) { var n = this.root && (this.root.ownerDocument || this.root) || e; if (!this._observationTargets.some(function (e) { var r = e.element.ownerDocument; if (r == t) return !0; for (; r && r != n;) { var o = getFrameElement(r); if ((r = o && o.ownerDocument) == t) return !0 } return !1 })) { var o = this._monitoringUnsubscribes[r]; if (this._monitoringDocuments.splice(r, 1), this._monitoringUnsubscribes.splice(r, 1), o(), t != n) { var i = getFrameElement(t); i && this._unmonitorIntersections(i.ownerDocument) } } } }, IntersectionObserver.prototype._unmonitorAllIntersections = function () { var e = this._monitoringUnsubscribes.slice(0); this._monitoringDocuments.length = 0, this._monitoringUnsubscribes.length = 0; for (var t = 0; t < e.length; t++)e[t]() }, IntersectionObserver.prototype._checkForIntersections = function () { if (this.root || !n || o) { var e = this._rootIsInDom(), t = e ? this._getRootRect() : { "top": 0, "bottom": 0, "left": 0, "right": 0, "width": 0, "height": 0 }; this._observationTargets.forEach(function (r) { var o = r.element, i = getBoundingClientRect(o), a = this._rootContainsTarget(o), s = r.entry, c = e && a && this._computeTargetAndRootIntersection(o, i, t), u = null; this._rootContainsTarget(o) ? n && !this.root || (u = t) : u = { "top": 0, "bottom": 0, "left": 0, "right": 0, "width": 0, "height": 0 }; var l = r.entry = new IntersectionObserverEntry({ "time": function now() { return window.performance && performance.now && performance.now() }(), "target": o, "boundingClientRect": i, "rootBounds": u, "intersectionRect": c }); s ? e && a ? this._hasCrossedThreshold(s, l) && this._queuedEntries.push(l) : s && s.isIntersecting && this._queuedEntries.push(l) : this._queuedEntries.push(l) }, this), this._queuedEntries.length && this._callback(this.takeRecords(), this) } }, IntersectionObserver.prototype._computeTargetAndRootIntersection = function (t, r, i) { if ("none" != window.getComputedStyle(t).display) { for (var a, s, c, u, l, f, d, p, h = r, m = getParentNode(t), g = !1; !g && m;) { var v = null, y = 1 == m.nodeType ? window.getComputedStyle(m) : {}; if ("none" == y.display) return null; if (m == this.root || 9 == m.nodeType) if (g = !0, m == this.root || m == e) n && !this.root ? !o || 0 == o.width && 0 == o.height ? (m = null, v = null, h = null) : v = o : v = i; else { var b = getParentNode(m), S = b && getBoundingClientRect(b), _ = b && this._computeTargetAndRootIntersection(b, S, i); S && _ ? (m = b, v = convertFromParentRect(S, _)) : (m = null, h = null) } else { var w = m.ownerDocument; m != w.body && m != w.documentElement && "visible" != y.overflow && (v = getBoundingClientRect(m)) } if (v && (a = v, s = h, void 0, void 0, void 0, void 0, void 0, void 0, c = Math.max(a.top, s.top), u = Math.min(a.bottom, s.bottom), l = Math.max(a.left, s.left), f = Math.min(a.right, s.right), p = u - c, h = (d = f - l) >= 0 && p >= 0 && { "top": c, "bottom": u, "left": l, "right": f, "width": d, "height": p } || null), !h) break; m = m && getParentNode(m) } return h } }, IntersectionObserver.prototype._getRootRect = function () { var t; if (this.root && !isDoc(this.root)) t = getBoundingClientRect(this.root); else { var r = isDoc(this.root) ? this.root : e, n = r.documentElement, o = r.body; t = { "top": 0, "left": 0, "right": n.clientWidth || o.clientWidth, "width": n.clientWidth || o.clientWidth, "bottom": n.clientHeight || o.clientHeight, "height": n.clientHeight || o.clientHeight } } return this._expandRectByRootMargin(t) }, IntersectionObserver.prototype._expandRectByRootMargin = function (e) { var t = this._rootMarginValues.map(function (t, r) { return "px" == t.unit ? t.value : t.value * (r % 2 ? e.width : e.height) / 100 }), r = { "top": e.top - t[0], "right": e.right + t[1], "bottom": e.bottom + t[2], "left": e.left - t[3] }; return r.width = r.right - r.left, r.height = r.bottom - r.top, r }, IntersectionObserver.prototype._hasCrossedThreshold = function (e, t) { var r = e && e.isIntersecting ? e.intersectionRatio || 0 : -1, n = t.isIntersecting ? t.intersectionRatio || 0 : -1; if (r !== n) for (var o = 0; o < this.thresholds.length; o++) { var i = this.thresholds[o]; if (i == r || i == n || i < r != i < n) return !0 } }, IntersectionObserver.prototype._rootIsInDom = function () { return !this.root || containsDeep(e, this.root) }, IntersectionObserver.prototype._rootContainsTarget = function (t) { var r = this.root && (this.root.ownerDocument || this.root) || e; return containsDeep(r, t) && (!this.root || r == t.ownerDocument) }, IntersectionObserver.prototype._registerInstance = function () { t.indexOf(this) < 0 && t.push(this) }, IntersectionObserver.prototype._unregisterInstance = function () { var e = t.indexOf(this); -1 != e && t.splice(e, 1) }, window.IntersectionObserver = IntersectionObserver, window.IntersectionObserverEntry = IntersectionObserverEntry } function getFrameElement(e) { try { return e.defaultView && e.defaultView.frameElement || null } catch (e) { return null } } function IntersectionObserverEntry(e) { this.time = e.time, this.target = e.target, this.rootBounds = ensureDOMRect(e.rootBounds), this.boundingClientRect = ensureDOMRect(e.boundingClientRect), this.intersectionRect = ensureDOMRect(e.intersectionRect || { "top": 0, "bottom": 0, "left": 0, "right": 0, "width": 0, "height": 0 }), this.isIntersecting = !!e.intersectionRect; var t = this.boundingClientRect, r = t.width * t.height, n = this.intersectionRect, o = n.width * n.height; this.intersectionRatio = r ? Number((o / r).toFixed(4)) : this.isIntersecting ? 1 : 0 } function IntersectionObserver(e, t) { var r = t || {}; if ("function" != typeof e) throw new Error("callback must be a function"); if (r.root && 1 != r.root.nodeType && 9 != r.root.nodeType) throw new Error("root must be a Document or Element"); this._checkForIntersections = function throttle(e, t) { var r = null; return function () { r || (r = setTimeout(function () { e(), r = null }, t)) } }(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT), this._callback = e, this._observationTargets = [], this._queuedEntries = [], this._rootMarginValues = this._parseRootMargin(r.rootMargin), this.thresholds = this._initThresholds(r.threshold), this.root = r.root || null, this.rootMargin = this._rootMarginValues.map(function (e) { return e.value + e.unit }).join(" "), this._monitoringDocuments = [], this._monitoringUnsubscribes = [] } function addEvent(e, t, r, n) { "function" == typeof e.addEventListener ? e.addEventListener(t, r, n || !1) : "function" == typeof e.attachEvent && e.attachEvent("on" + t, r) } function removeEvent(e, t, r, n) { "function" == typeof e.removeEventListener ? e.removeEventListener(t, r, n || !1) : "function" == typeof e.detatchEvent && e.detatchEvent("on" + t, r) } function getBoundingClientRect(e) { var t; try { t = e.getBoundingClientRect() } catch (e) { } return t ? (t.width && t.height || (t = { "top": t.top, "right": t.right, "bottom": t.bottom, "left": t.left, "width": t.right - t.left, "height": t.bottom - t.top }), t) : { "top": 0, "bottom": 0, "left": 0, "right": 0, "width": 0, "height": 0 } } function ensureDOMRect(e) { return !e || "x" in e ? e : { "top": e.top, "y": e.top, "bottom": e.bottom, "left": e.left, "x": e.left, "right": e.right, "width": e.width, "height": e.height } } function convertFromParentRect(e, t) { var r = t.top - e.top, n = t.left - e.left; return { "top": r, "left": n, "height": t.height, "width": t.width, "bottom": r + t.height, "right": n + t.width } } function containsDeep(e, t) { for (var r = t; r;) { if (r == e) return !0; r = getParentNode(r) } return !1 } function getParentNode(t) { var r = t.parentNode; return 9 == t.nodeType && t != e ? getFrameElement(t) : (r && r.assignedSlot && (r = r.assignedSlot.parentNode), r && 11 == r.nodeType && r.host ? r.host : r) } function isDoc(e) { return e && 9 === e.nodeType } }() }, function (e, t, r) { var n = r(196); "string" == typeof n && (n = [[e.i, n, ""]]); var o = { "sourceMap": !1, "insertAt": "top", "hmr": !0, "transform": void 0, "insertInto": void 0 }; r(31)(n, o); n.locals && (e.exports = n.locals) }, function (e, t, r) { (e.exports = r(30)(!1)).push([e.i, ".taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}", ""]) }, function (e, t, r) { "use strict"; (function (e) { var n = r(37), o = r(198), i = r(199); function kMaxLength() { return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823 } function createBuffer(e, t) { if (kMaxLength() < t) throw new RangeError("Invalid typed array length"); return Buffer.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = Buffer.prototype : (null === e && (e = new Buffer(t)), e.length = t), e } function Buffer(e, t, r) { if (!(Buffer.TYPED_ARRAY_SUPPORT || this instanceof Buffer)) return new Buffer(e, t, r); if ("number" == typeof e) { if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string"); return allocUnsafe(this, e) } return from(this, e, t, r) } function from(e, t, r, n) { if ("number" == typeof t) throw new TypeError('"value" argument must not be a number'); return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function fromArrayBuffer(e, t, r, n) { if (t.byteLength, r < 0 || t.byteLength < r) throw new RangeError("'offset' is out of bounds"); if (t.byteLength < r + (n || 0)) throw new RangeError("'length' is out of bounds"); t = void 0 === r && void 0 === n ? new Uint8Array(t) : void 0 === n ? new Uint8Array(t, r) : new Uint8Array(t, r, n); Buffer.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = Buffer.prototype : e = fromArrayLike(e, t); return e }(e, t, r, n) : "string" == typeof t ? function fromString(e, t, r) { "string" == typeof r && "" !== r || (r = "utf8"); if (!Buffer.isEncoding(r)) throw new TypeError('"encoding" must be a valid string encoding'); var n = 0 | byteLength(t, r), o = (e = createBuffer(e, n)).write(t, r); o !== n && (e = e.slice(0, o)); return e }(e, t, r) : function fromObject(e, t) { if (Buffer.isBuffer(t)) { var r = 0 | checked(t.length); return 0 === (e = createBuffer(e, r)).length ? e : (t.copy(e, 0, 0, r), e) } if (t) { if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || function isnan(e) { return e != e }(t.length) ? createBuffer(e, 0) : fromArrayLike(e, t); if ("Buffer" === t.type && i(t.data)) return fromArrayLike(e, t.data) } throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.") }(e, t) } function assertSize(e) { if ("number" != typeof e) throw new TypeError('"size" argument must be a number'); if (e < 0) throw new RangeError('"size" argument must not be negative') } function allocUnsafe(e, t) { if (assertSize(t), e = createBuffer(e, t < 0 ? 0 : 0 | checked(t)), !Buffer.TYPED_ARRAY_SUPPORT) for (var r = 0; r < t; ++r)e[r] = 0; return e } function fromArrayLike(e, t) { var r = t.length < 0 ? 0 : 0 | checked(t.length); e = createBuffer(e, r); for (var n = 0; n < r; n += 1)e[n] = 255 & t[n]; return e } function checked(e) { if (e >= kMaxLength()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes"); return 0 | e } function byteLength(e, t) { if (Buffer.isBuffer(e)) return e.length; if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength; "string" != typeof e && (e = "" + e); var r = e.length; if (0 === r) return 0; for (var n = !1; ;)switch (t) { case "ascii": case "latin1": case "binary": return r; case "utf8": case "utf-8": case void 0: return utf8ToBytes(e).length; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return 2 * r; case "hex": return r >>> 1; case "base64": return base64ToBytes(e).length; default: if (n) return utf8ToBytes(e).length; t = ("" + t).toLowerCase(), n = !0 } } function swap(e, t, r) { var n = e[t]; e[t] = e[r], e[r] = n } function bidirectionalIndexOf(e, t, r, n, o) { if (0 === e.length) return -1; if ("string" == typeof r ? (n = r, r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648), r = +r, isNaN(r) && (r = o ? 0 : e.length - 1), r < 0 && (r = e.length + r), r >= e.length) { if (o) return -1; r = e.length - 1 } else if (r < 0) { if (!o) return -1; r = 0 } if ("string" == typeof t && (t = Buffer.from(t, n)), Buffer.isBuffer(t)) return 0 === t.length ? -1 : arrayIndexOf(e, t, r, n, o); if ("number" == typeof t) return t &= 255, Buffer.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : arrayIndexOf(e, [t], r, n, o); throw new TypeError("val must be string, number or Buffer") } function arrayIndexOf(e, t, r, n, o) { var i, a = 1, s = e.length, c = t.length; if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) { if (e.length < 2 || t.length < 2) return -1; a = 2, s /= 2, c /= 2, r /= 2 } function read(e, t) { return 1 === a ? e[t] : e.readUInt16BE(t * a) } if (o) { var u = -1; for (i = r; i < s; i++)if (read(e, i) === read(t, -1 === u ? 0 : i - u)) { if (-1 === u && (u = i), i - u + 1 === c) return u * a } else -1 !== u && (i -= i - u), u = -1 } else for (r + c > s && (r = s - c), i = r; i >= 0; i--) { for (var l = !0, f = 0; f < c; f++)if (read(e, i + f) !== read(t, f)) { l = !1; break } if (l) return i } return -1 } function hexWrite(e, t, r, n) { r = Number(r) || 0; var o = e.length - r; n ? (n = Number(n)) > o && (n = o) : n = o; var i = t.length; if (i % 2 != 0) throw new TypeError("Invalid hex string"); n > i / 2 && (n = i / 2); for (var a = 0; a < n; ++a) { var s = parseInt(t.substr(2 * a, 2), 16); if (isNaN(s)) return a; e[r + a] = s } return a } function utf8Write(e, t, r, n) { return blitBuffer(utf8ToBytes(t, e.length - r), e, r, n) } function asciiWrite(e, t, r, n) { return blitBuffer(function asciiToBytes(e) { for (var t = [], r = 0; r < e.length; ++r)t.push(255 & e.charCodeAt(r)); return t }(t), e, r, n) } function latin1Write(e, t, r, n) { return asciiWrite(e, t, r, n) } function base64Write(e, t, r, n) { return blitBuffer(base64ToBytes(t), e, r, n) } function ucs2Write(e, t, r, n) { return blitBuffer(function utf16leToBytes(e, t) { for (var r, n, o, i = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)r = e.charCodeAt(a), n = r >> 8, o = r % 256, i.push(o), i.push(n); return i }(t, e.length - r), e, r, n) } function base64Slice(e, t, r) { return 0 === t && r === e.length ? n.fromByteArray(e) : n.fromByteArray(e.slice(t, r)) } function utf8Slice(e, t, r) { r = Math.min(e.length, r); for (var n = [], o = t; o < r;) { var i, s, c, u, l = e[o], f = null, d = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1; if (o + d <= r) switch (d) { case 1: l < 128 && (f = l); break; case 2: 128 == (192 & (i = e[o + 1])) && (u = (31 & l) << 6 | 63 & i) > 127 && (f = u); break; case 3: i = e[o + 1], s = e[o + 2], 128 == (192 & i) && 128 == (192 & s) && (u = (15 & l) << 12 | (63 & i) << 6 | 63 & s) > 2047 && (u < 55296 || u > 57343) && (f = u); break; case 4: i = e[o + 1], s = e[o + 2], c = e[o + 3], 128 == (192 & i) && 128 == (192 & s) && 128 == (192 & c) && (u = (15 & l) << 18 | (63 & i) << 12 | (63 & s) << 6 | 63 & c) > 65535 && u < 1114112 && (f = u) }null === f ? (f = 65533, d = 1) : f > 65535 && (f -= 65536, n.push(f >>> 10 & 1023 | 55296), f = 56320 | 1023 & f), n.push(f), o += d } return function decodeCodePointsArray(e) { var t = e.length; if (t <= a) return String.fromCharCode.apply(String, e); var r = "", n = 0; for (; n < t;)r += String.fromCharCode.apply(String, e.slice(n, n += a)); return r }(n) } t.Buffer = Buffer, t.SlowBuffer = function SlowBuffer(e) { +e != e && (e = 0); return Buffer.alloc(+e) }, t.INSPECT_MAX_BYTES = 50, Buffer.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function typedArraySupport() { try { var e = new Uint8Array(1); return e.__proto__ = { "__proto__": Uint8Array.prototype, "foo": function foo() { return 42 } }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength } catch (e) { return !1 } }(), t.kMaxLength = kMaxLength(), Buffer.poolSize = 8192, Buffer._augment = function (e) { return e.__proto__ = Buffer.prototype, e }, Buffer.from = function (e, t, r) { return from(null, e, t, r) }, Buffer.TYPED_ARRAY_SUPPORT && (Buffer.prototype.__proto__ = Uint8Array.prototype, Buffer.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, { "value": null, "configurable": !0 })), Buffer.alloc = function (e, t, r) { return function alloc(e, t, r, n) { return assertSize(t), t <= 0 ? createBuffer(e, t) : void 0 !== r ? "string" == typeof n ? createBuffer(e, t).fill(r, n) : createBuffer(e, t).fill(r) : createBuffer(e, t) }(null, e, t, r) }, Buffer.allocUnsafe = function (e) { return allocUnsafe(null, e) }, Buffer.allocUnsafeSlow = function (e) { return allocUnsafe(null, e) }, Buffer.isBuffer = function isBuffer(e) { return !(null == e || !e._isBuffer) }, Buffer.compare = function compare(e, t) { if (!Buffer.isBuffer(e) || !Buffer.isBuffer(t)) throw new TypeError("Arguments must be Buffers"); if (e === t) return 0; for (var r = e.length, n = t.length, o = 0, i = Math.min(r, n); o < i; ++o)if (e[o] !== t[o]) { r = e[o], n = t[o]; break } return r < n ? -1 : n < r ? 1 : 0 }, Buffer.isEncoding = function isEncoding(e) { switch (String(e).toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "latin1": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return !0; default: return !1 } }, Buffer.concat = function concat(e, t) { if (!i(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return Buffer.alloc(0); var r; if (void 0 === t) for (t = 0, r = 0; r < e.length; ++r)t += e[r].length; var n = Buffer.allocUnsafe(t), o = 0; for (r = 0; r < e.length; ++r) { var a = e[r]; if (!Buffer.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers'); a.copy(n, o), o += a.length } return n }, Buffer.byteLength = byteLength, Buffer.prototype._isBuffer = !0, Buffer.prototype.swap16 = function swap16() { var e = this.length; if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits"); for (var t = 0; t < e; t += 2)swap(this, t, t + 1); return this }, Buffer.prototype.swap32 = function swap32() { var e = this.length; if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits"); for (var t = 0; t < e; t += 4)swap(this, t, t + 3), swap(this, t + 1, t + 2); return this }, Buffer.prototype.swap64 = function swap64() { var e = this.length; if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits"); for (var t = 0; t < e; t += 8)swap(this, t, t + 7), swap(this, t + 1, t + 6), swap(this, t + 2, t + 5), swap(this, t + 3, t + 4); return this }, Buffer.prototype.toString = function toString() { var e = 0 | this.length; return 0 === e ? "" : 0 === arguments.length ? utf8Slice(this, 0, e) : function slowToString(e, t, r) { var n = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return ""; if ((void 0 === r || r > this.length) && (r = this.length), r <= 0) return ""; if ((r >>>= 0) <= (t >>>= 0)) return ""; for (e || (e = "utf8"); ;)switch (e) { case "hex": return hexSlice(this, t, r); case "utf8": case "utf-8": return utf8Slice(this, t, r); case "ascii": return asciiSlice(this, t, r); case "latin1": case "binary": return latin1Slice(this, t, r); case "base64": return base64Slice(this, t, r); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return utf16leSlice(this, t, r); default: if (n) throw new TypeError("Unknown encoding: " + e); e = (e + "").toLowerCase(), n = !0 } }.apply(this, arguments) }, Buffer.prototype.equals = function equals(e) { if (!Buffer.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); return this === e || 0 === Buffer.compare(this, e) }, Buffer.prototype.inspect = function inspect() { var e = "", r = t.INSPECT_MAX_BYTES; return this.length > 0 && (e = this.toString("hex", 0, r).match(/.{2}/g).join(" "), this.length > r && (e += " ... ")), "<Buffer " + e + ">" }, Buffer.prototype.compare = function compare(e, t, r, n, o) { if (!Buffer.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); if (void 0 === t && (t = 0), void 0 === r && (r = e ? e.length : 0), void 0 === n && (n = 0), void 0 === o && (o = this.length), t < 0 || r > e.length || n < 0 || o > this.length) throw new RangeError("out of range index"); if (n >= o && t >= r) return 0; if (n >= o) return -1; if (t >= r) return 1; if (this === e) return 0; for (var i = (o >>>= 0) - (n >>>= 0), a = (r >>>= 0) - (t >>>= 0), s = Math.min(i, a), c = this.slice(n, o), u = e.slice(t, r), l = 0; l < s; ++l)if (c[l] !== u[l]) { i = c[l], a = u[l]; break } return i < a ? -1 : a < i ? 1 : 0 }, Buffer.prototype.includes = function includes(e, t, r) { return -1 !== this.indexOf(e, t, r) }, Buffer.prototype.indexOf = function indexOf(e, t, r) { return bidirectionalIndexOf(this, e, t, r, !0) }, Buffer.prototype.lastIndexOf = function lastIndexOf(e, t, r) { return bidirectionalIndexOf(this, e, t, r, !1) }, Buffer.prototype.write = function write(e, t, r, n) { if (void 0 === t) n = "utf8", r = this.length, t = 0; else if (void 0 === r && "string" == typeof t) n = t, r = this.length, t = 0; else { if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); t |= 0, isFinite(r) ? (r |= 0, void 0 === n && (n = "utf8")) : (n = r, r = void 0) } var o = this.length - t; if ((void 0 === r || r > o) && (r = o), e.length > 0 && (r < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds"); n || (n = "utf8"); for (var i = !1; ;)switch (n) { case "hex": return hexWrite(this, e, t, r); case "utf8": case "utf-8": return utf8Write(this, e, t, r); case "ascii": return asciiWrite(this, e, t, r); case "latin1": case "binary": return latin1Write(this, e, t, r); case "base64": return base64Write(this, e, t, r); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return ucs2Write(this, e, t, r); default: if (i) throw new TypeError("Unknown encoding: " + n); n = ("" + n).toLowerCase(), i = !0 } }, Buffer.prototype.toJSON = function toJSON() { return { "type": "Buffer", "data": Array.prototype.slice.call(this._arr || this, 0) } }; var a = 4096; function asciiSlice(e, t, r) { var n = ""; r = Math.min(e.length, r); for (var o = t; o < r; ++o)n += String.fromCharCode(127 & e[o]); return n } function latin1Slice(e, t, r) { var n = ""; r = Math.min(e.length, r); for (var o = t; o < r; ++o)n += String.fromCharCode(e[o]); return n } function hexSlice(e, t, r) { var n = e.length; (!t || t < 0) && (t = 0), (!r || r < 0 || r > n) && (r = n); for (var o = "", i = t; i < r; ++i)o += toHex(e[i]); return o } function utf16leSlice(e, t, r) { for (var n = e.slice(t, r), o = "", i = 0; i < n.length; i += 2)o += String.fromCharCode(n[i] + 256 * n[i + 1]); return o } function checkOffset(e, t, r) { if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint"); if (e + t > r) throw new RangeError("Trying to access beyond buffer length") } function checkInt(e, t, r, n, o, i) { if (!Buffer.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (t > o || t < i) throw new RangeError('"value" argument is out of bounds'); if (r + n > e.length) throw new RangeError("Index out of range") } function objectWriteUInt16(e, t, r, n) { t < 0 && (t = 65535 + t + 1); for (var o = 0, i = Math.min(e.length - r, 2); o < i; ++o)e[r + o] = (t & 255 << 8 * (n ? o : 1 - o)) >>> 8 * (n ? o : 1 - o) } function objectWriteUInt32(e, t, r, n) { t < 0 && (t = 4294967295 + t + 1); for (var o = 0, i = Math.min(e.length - r, 4); o < i; ++o)e[r + o] = t >>> 8 * (n ? o : 3 - o) & 255 } function checkIEEE754(e, t, r, n, o, i) { if (r + n > e.length) throw new RangeError("Index out of range"); if (r < 0) throw new RangeError("Index out of range") } function writeFloat(e, t, r, n, i) { return i || checkIEEE754(e, 0, r, 4), o.write(e, t, r, n, 23, 4), r + 4 } function writeDouble(e, t, r, n, i) { return i || checkIEEE754(e, 0, r, 8), o.write(e, t, r, n, 52, 8), r + 8 } Buffer.prototype.slice = function slice(e, t) { var r, n = this.length; if ((e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), t < e && (t = e), Buffer.TYPED_ARRAY_SUPPORT) (r = this.subarray(e, t)).__proto__ = Buffer.prototype; else { var o = t - e; r = new Buffer(o, void 0); for (var i = 0; i < o; ++i)r[i] = this[i + e] } return r }, Buffer.prototype.readUIntLE = function readUIntLE(e, t, r) { e |= 0, t |= 0, r || checkOffset(e, t, this.length); for (var n = this[e], o = 1, i = 0; ++i < t && (o *= 256);)n += this[e + i] * o; return n }, Buffer.prototype.readUIntBE = function readUIntBE(e, t, r) { e |= 0, t |= 0, r || checkOffset(e, t, this.length); for (var n = this[e + --t], o = 1; t > 0 && (o *= 256);)n += this[e + --t] * o; return n }, Buffer.prototype.readUInt8 = function readUInt8(e, t) { return t || checkOffset(e, 1, this.length), this[e] }, Buffer.prototype.readUInt16LE = function readUInt16LE(e, t) { return t || checkOffset(e, 2, this.length), this[e] | this[e + 1] << 8 }, Buffer.prototype.readUInt16BE = function readUInt16BE(e, t) { return t || checkOffset(e, 2, this.length), this[e] << 8 | this[e + 1] }, Buffer.prototype.readUInt32LE = function readUInt32LE(e, t) { return t || checkOffset(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, Buffer.prototype.readUInt32BE = function readUInt32BE(e, t) { return t || checkOffset(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, Buffer.prototype.readIntLE = function readIntLE(e, t, r) { e |= 0, t |= 0, r || checkOffset(e, t, this.length); for (var n = this[e], o = 1, i = 0; ++i < t && (o *= 256);)n += this[e + i] * o; return n >= (o *= 128) && (n -= Math.pow(2, 8 * t)), n }, Buffer.prototype.readIntBE = function readIntBE(e, t, r) { e |= 0, t |= 0, r || checkOffset(e, t, this.length); for (var n = t, o = 1, i = this[e + --n]; n > 0 && (o *= 256);)i += this[e + --n] * o; return i >= (o *= 128) && (i -= Math.pow(2, 8 * t)), i }, Buffer.prototype.readInt8 = function readInt8(e, t) { return t || checkOffset(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, Buffer.prototype.readInt16LE = function readInt16LE(e, t) { t || checkOffset(e, 2, this.length); var r = this[e] | this[e + 1] << 8; return 32768 & r ? 4294901760 | r : r }, Buffer.prototype.readInt16BE = function readInt16BE(e, t) { t || checkOffset(e, 2, this.length); var r = this[e + 1] | this[e] << 8; return 32768 & r ? 4294901760 | r : r }, Buffer.prototype.readInt32LE = function readInt32LE(e, t) { return t || checkOffset(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, Buffer.prototype.readInt32BE = function readInt32BE(e, t) { return t || checkOffset(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, Buffer.prototype.readFloatLE = function readFloatLE(e, t) { return t || checkOffset(e, 4, this.length), o.read(this, e, !0, 23, 4) }, Buffer.prototype.readFloatBE = function readFloatBE(e, t) { return t || checkOffset(e, 4, this.length), o.read(this, e, !1, 23, 4) }, Buffer.prototype.readDoubleLE = function readDoubleLE(e, t) { return t || checkOffset(e, 8, this.length), o.read(this, e, !0, 52, 8) }, Buffer.prototype.readDoubleBE = function readDoubleBE(e, t) { return t || checkOffset(e, 8, this.length), o.read(this, e, !1, 52, 8) }, Buffer.prototype.writeUIntLE = function writeUIntLE(e, t, r, n) { (e = +e, t |= 0, r |= 0, n) || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0); var o = 1, i = 0; for (this[t] = 255 & e; ++i < r && (o *= 256);)this[t + i] = e / o & 255; return t + r }, Buffer.prototype.writeUIntBE = function writeUIntBE(e, t, r, n) { (e = +e, t |= 0, r |= 0, n) || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0); var o = r - 1, i = 1; for (this[t + o] = 255 & e; --o >= 0 && (i *= 256);)this[t + o] = e / i & 255; return t + r }, Buffer.prototype.writeUInt8 = function writeUInt8(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 1, 255, 0), Buffer.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1 }, Buffer.prototype.writeUInt16LE = function writeUInt16LE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0), t + 2 }, Buffer.prototype.writeUInt16BE = function writeUInt16BE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1), t + 2 }, Buffer.prototype.writeUInt32LE = function writeUInt32LE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : objectWriteUInt32(this, e, t, !0), t + 4 }, Buffer.prototype.writeUInt32BE = function writeUInt32BE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1), t + 4 }, Buffer.prototype.writeIntLE = function writeIntLE(e, t, r, n) { if (e = +e, t |= 0, !n) { var o = Math.pow(2, 8 * r - 1); checkInt(this, e, t, r, o - 1, -o) } var i = 0, a = 1, s = 0; for (this[t] = 255 & e; ++i < r && (a *= 256);)e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255; return t + r }, Buffer.prototype.writeIntBE = function writeIntBE(e, t, r, n) { if (e = +e, t |= 0, !n) { var o = Math.pow(2, 8 * r - 1); checkInt(this, e, t, r, o - 1, -o) } var i = r - 1, a = 1, s = 0; for (this[t + i] = 255 & e; --i >= 0 && (a *= 256);)e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255; return t + r }, Buffer.prototype.writeInt8 = function writeInt8(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 1, 127, -128), Buffer.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, Buffer.prototype.writeInt16LE = function writeInt16LE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0), t + 2 }, Buffer.prototype.writeInt16BE = function writeInt16BE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1), t + 2 }, Buffer.prototype.writeInt32LE = function writeInt32LE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 4, 2147483647, -2147483648), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : objectWriteUInt32(this, e, t, !0), t + 4 }, Buffer.prototype.writeInt32BE = function writeInt32BE(e, t, r) { return e = +e, t |= 0, r || checkInt(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1), t + 4 }, Buffer.prototype.writeFloatLE = function writeFloatLE(e, t, r) { return writeFloat(this, e, t, !0, r) }, Buffer.prototype.writeFloatBE = function writeFloatBE(e, t, r) { return writeFloat(this, e, t, !1, r) }, Buffer.prototype.writeDoubleLE = function writeDoubleLE(e, t, r) { return writeDouble(this, e, t, !0, r) }, Buffer.prototype.writeDoubleBE = function writeDoubleBE(e, t, r) { return writeDouble(this, e, t, !1, r) }, Buffer.prototype.copy = function copy(e, t, r, n) { if (r || (r = 0), n || 0 === n || (n = this.length), t >= e.length && (t = e.length), t || (t = 0), n > 0 && n < r && (n = r), n === r) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError("targetStart out of bounds"); if (r < 0 || r >= this.length) throw new RangeError("sourceStart out of bounds"); if (n < 0) throw new RangeError("sourceEnd out of bounds"); n > this.length && (n = this.length), e.length - t < n - r && (n = e.length - t + r); var o, i = n - r; if (this === e && r < t && t < n) for (o = i - 1; o >= 0; --o)e[o + t] = this[o + r]; else if (i < 1e3 || !Buffer.TYPED_ARRAY_SUPPORT) for (o = 0; o < i; ++o)e[o + t] = this[o + r]; else Uint8Array.prototype.set.call(e, this.subarray(r, r + i), t); return i }, Buffer.prototype.fill = function fill(e, t, r, n) { if ("string" == typeof e) { if ("string" == typeof t ? (n = t, t = 0, r = this.length) : "string" == typeof r && (n = r, r = this.length), 1 === e.length) { var o = e.charCodeAt(0); o < 256 && (e = o) } if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string"); if ("string" == typeof n && !Buffer.isEncoding(n)) throw new TypeError("Unknown encoding: " + n) } else "number" == typeof e && (e &= 255); if (t < 0 || this.length < t || this.length < r) throw new RangeError("Out of range index"); if (r <= t) return this; var i; if (t >>>= 0, r = void 0 === r ? this.length : r >>> 0, e || (e = 0), "number" == typeof e) for (i = t; i < r; ++i)this[i] = e; else { var a = Buffer.isBuffer(e) ? e : utf8ToBytes(new Buffer(e, n).toString()), s = a.length; for (i = 0; i < r - t; ++i)this[i + t] = a[i % s] } return this }; var s = /[^+\/0-9A-Za-z-_]/g; function toHex(e) { return e < 16 ? "0" + e.toString(16) : e.toString(16) } function utf8ToBytes(e, t) { var r; t = t || 1 / 0; for (var n = e.length, o = null, i = [], a = 0; a < n; ++a) { if ((r = e.charCodeAt(a)) > 55295 && r < 57344) { if (!o) { if (r > 56319) { (t -= 3) > -1 && i.push(239, 191, 189); continue } if (a + 1 === n) { (t -= 3) > -1 && i.push(239, 191, 189); continue } o = r; continue } if (r < 56320) { (t -= 3) > -1 && i.push(239, 191, 189), o = r; continue } r = 65536 + (o - 55296 << 10 | r - 56320) } else o && (t -= 3) > -1 && i.push(239, 191, 189); if (o = null, r < 128) { if ((t -= 1) < 0) break; i.push(r) } else if (r < 2048) { if ((t -= 2) < 0) break; i.push(r >> 6 | 192, 63 & r | 128) } else if (r < 65536) { if ((t -= 3) < 0) break; i.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128) } else { if (!(r < 1114112)) throw new Error("Invalid code point"); if ((t -= 4) < 0) break; i.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128) } } return i } function base64ToBytes(e) { return n.toByteArray(function base64clean(e) { if ((e = function stringtrim(e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "") }(e).replace(s, "")).length < 2) return ""; for (; e.length % 4 != 0;)e += "="; return e }(e)) } function blitBuffer(e, t, r, n) { for (var o = 0; o < n && !(o + r >= t.length || o >= e.length); ++o)t[o + r] = e[o]; return o } }).call(this, r(14)) }, function (e, t) { t.read = function (e, t, r, n, o) { var i, a, s = 8 * o - n - 1, c = (1 << s) - 1, u = c >> 1, l = -7, f = r ? o - 1 : 0, d = r ? -1 : 1, p = e[t + f]; for (f += d, i = p & (1 << -l) - 1, p >>= -l, l += s; l > 0; i = 256 * i + e[t + f], f += d, l -= 8); for (a = i & (1 << -l) - 1, i >>= -l, l += n; l > 0; a = 256 * a + e[t + f], f += d, l -= 8); if (0 === i) i = 1 - u; else { if (i === c) return a ? NaN : 1 / 0 * (p ? -1 : 1); a += Math.pow(2, n), i -= u } return (p ? -1 : 1) * a * Math.pow(2, i - n) }, t.write = function (e, t, r, n, o, i) { var a, s, c, u = 8 * i - o - 1, l = (1 << u) - 1, f = l >> 1, d = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = n ? 0 : i - 1, h = n ? 1 : -1, m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = l) : (a = Math.floor(Math.log(t) / Math.LN2), t * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (t += a + f >= 1 ? d / c : d * Math.pow(2, 1 - f)) * c >= 2 && (a++, c /= 2), a + f >= l ? (s = 0, a = l) : a + f >= 1 ? (s = (t * c - 1) * Math.pow(2, o), a += f) : (s = t * Math.pow(2, f - 1) * Math.pow(2, o), a = 0)); o >= 8; e[r + p] = 255 & s, p += h, s /= 256, o -= 8); for (a = a << o | s, u += o; u > 0; e[r + p] = 255 & a, p += h, a /= 256, u -= 8); e[r + p - h] |= 128 * m } }, function (e, t) { var r = {}.toString; e.exports = Array.isArray || function (e) { return "[object Array]" == r.call(e) } }, , , , , , function (e, t, r) { }, , , , , function (e, t, r) { "use strict"; r.r(t); var n = r(4), o = r(132), i = r(22), l = r(5); r.d(t, "armsSetup", function () { return s }), r.d(t, "triggerFmp", function () { return y }); var f = function a() { return (f = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }).apply(this, arguments) }; function h5_i() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), o = 0; for (t = 0; t < r; t++)for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++)n[o] = i[a]; return n } function c() { var e = window.location || {}, t = e.hostname, r = void 0 === t ? "" : t, n = e.href, o = (void 0 === n ? "" : n).toLowerCase(); return !(-1 === o.indexOf("appenv=prod") && -1 === o.indexOf("appenv=prd") && -1 === r.indexOf("xll.com")) } var d, h, m, g = Object(l.getEnv)(); function s(e, t) { var r = e.getStore().debug, a = function p(e) { var t = (e.getStore().constants || {}).pidMaps, r = void 0 === t ? {} : t, n = function () { var e = "", t = window.location, r = t.hash, n = t.protocol, o = c() ? "prod" : "dev"; return "offline:" === n && (r = "offline"), r && (e = r.replace("#", "").split("?")[0] + "_" + o), e }(); return r["all_" + (c() ? "prod" : "dev")] || r[n] || "" }(e); a && (function u(e, t) { try { var r = (t || {}).debug, n = f({ "pid": e, "appType": "web", "imgUrl": "https://arms-retcode.aliyuncs.com/r.png?", "sendResource": !0, "enableLinkTrace": !0, "behavior": !0, "enableConsole": !0, "disableHook": !0, "enableSPA": !0, "useFmp": !0 }, t || {}); window.__bl = o.singleton(n) || {}, (r ? function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; console.log.apply(console, h5_i(["[渠道基础SDK日志]："], e)) } : function () { })("初始化ARMS上报成功！", n) } catch (e) { !function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; console.warn.apply(console, h5_i(["[渠道基础SDK日志]："], e)) }("接入ARMS探针抛错", e) } }(a, f(f({}, t), { "debug": r })), window.__bl && window.__bl.setConfig && Object(i.getSeed)(!0, Object(n.getChannel)()).then(function (e) { window.__bl.setConfig({ "uid": e }) })) } (m = {})[h = g] = m[h] || {}, ["mgp", "forum", "user", "auth", "buy", "loan", "order", "bill", "apply", "promote", "mgr", "pay"].forEach(function (e) { var t; m[h][e] = "prod" === h ? (t = e, "https://" + (Object(l.isAlipay)() && "pay" !== t && "mgp" !== t && "forum" !== t ? t + "-ali" : t) + ".api.xll.com") : function (e, t) { var r = Object(l.isAlipay)() && "pay" !== e && "mgp" !== e && "forum" !== e ? e + "-ali-" + t : e + "-" + t; r = "pay" === e && /uat|st2/i.test(t) ? t + "-" + e : r, r = "pay" === e && /se\d?/i.test(t) ? "buy" : r; var n = window.location.protocol; return (n = "offline:" === n ? "https:" : n) + "//" + r + ".api.xll.cn" }(e, h) }), m[h], "prod" === (d = g) || /^(st2|uat)$/i.test(d), function (e) { "prod" !== e && /^(st2|uat)$/i.test(e) }(g), "undefined" != typeof window && void 0 !== window.navigator && window.navigator.userAgent.toLowerCase(); var v, y = (v = 0, function () { try { var e = performance.timing.fetchStart; if (!v) return v = Date.now() - e, window.__bl.setConfig && window.__bl.setConfig({ "fmp": v }), void console.log("自定义上报的fmp:", v); console.log("渲染时间:", Date.now() - e) } catch (e) { console.log("自定义上报fmp失败", e) } }) }, function (e, t, r) { "use strict"; r(29); var n = r(1), o = r(24), i = r(8), a = r.n(i), s = (r(176), Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }), c = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var u = function (e) { function View() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, View); var e = function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (View.__proto__ || Object.getPrototypeOf(View)).apply(this, arguments)); return e.timeoutEvent = 0, e.startTime = 0, e.state = { "hover": !1, "touch": !1 }, e } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(View, n["l"].Component), c(View, [{ "key": "render", "value": function render() { var e = this, t = this.props, r = t.hoverClass, i = t.onTouchStart, c = t.onTouchEnd, u = t.onTouchMove, l = t.className, f = t.hoverStartTime, d = void 0 === f ? 50 : f, p = t.hoverStayTime, h = void 0 === p ? 400 : p, m = function _objectWithoutProperties(e, t) { var r = {}; for (var n in e) t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e, n) && (r[n] = e[n]); return r }(t, ["hoverClass", "onTouchStart", "onTouchEnd", "onTouchMove", "className", "hoverStartTime", "hoverStayTime"]), g = a()("", function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e }({}, "" + r, this.state.hover), l); return n.l.createElement("div", s({}, Object(o.a)(this.props, ["hoverClass", "onTouchStart", "onTouchEnd", "onTouchMove", "className", "hoverStartTime", "hoverStayTime"]), m, { "className": g, "onTouchStart": function _onTouchStart(t) { r && (e.setState(function () { return { "touch": !0 } }), setTimeout(function () { e.state.touch && e.setState(function () { return { "hover": !0 } }) }, d)), i && i(t), e.props.onLongPress && (e.timeoutEvent = setTimeout(function () { e.props.onLongPress() }, 350), e.startTime = (new Date).getTime()) }, "onTouchEnd": function _onTouchEnd(t) { (new Date).getTime() - e.startTime < 350 && clearTimeout(e.timeoutEvent), r && (e.setState(function () { return { "touch": !1 } }), setTimeout(function () { e.state.touch || e.setState(function () { return { "hover": !1 } }) }, h)), c && c(t) }, "onTouchMove": function _onTouchMove(t) { clearTimeout(e.timeoutEvent), u && u(t) } }), this.props.children) } }]), View }(); t.a = u }, function (e, t, r) { "use strict"; var n = r(1), o = r(19), i = r(211), a = r(12), s = r(2), c = r.n(s), u = r(8), l = r.n(u), f = r(4), d = r(17), p = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var h = function (e) { function MUList() { return function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUList), function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUList.__proto__ || Object.getPrototypeOf(MUList)).apply(this, arguments)) } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUList, d["a"]), p(MUList, [{ "key": "render", "value": function render() { var e = this.props, t = e.title, r = void 0 === t ? "" : t, o = e.renderTitle, a = e.hasBorder, s = void 0 === a || a, c = l()("at-list", { "at-list--no-border": !s }, this.props.className); return n.l.createElement(i.a, { "className": "mu-list-wrap" }, r && n.l.createElement(i.a, { "className": "mu-list__title" }, r), o, n.l.createElement(i.a, { "className": c }, this.props.children)) } }]), MUList }(); h.defaultProps = { "title": "", "renderTitle": "", "hasBorder": !0 }, h.propTypes = { "title": c.a.string, "renderTitle": c.a.oneOfType([c.a.element, c.a.string]), "hasBorder": c.a.bool }; var m = r(213), g = r(214), v = r(20), y = r.n(v), b = r(54), S = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, _ = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var w = function (e) { function MUListItem() { return function item_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUListItem), function item_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUListItem.__proto__ || Object.getPrototypeOf(MUListItem)).apply(this, arguments)) } return function item_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUListItem, d["a"]), _(MUListItem, [{ "key": "handleClick", "value": function handleClick(e) { y()(this.props.onClick) && this.props.onClick(e) } }, { "key": "handleBtnClick", "value": function handleBtnClick(e) { y()(this.props.onBtnClick) && this.props.onBtnClick(e) } }, { "key": "render", "value": function render() { var e = this.props, t = e.note, r = e.arrow, o = e.title, a = e.content, s = e.thumb, c = e.iconInfo, u = e.extraType, f = e.extraText, d = e.hasBorder, p = e.disabledArrow, h = e.trackedBeaconId, v = e.ifShowStar, y = l()("at-list__item", { "at-list__item--thumb": s, "at-list__item--multiple": t, "at-list__item--no-border": !d }, this.props.className), S = l()(c.prefixClass || "mu-icon", function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e }({}, (c.prefixClass || "mu-icon") + "-" + c.value, c.value), c.className), _ = null; switch (u) { case "text": _ = n.l.createElement(i.a, { "className": "item-extra__info" }, f); break; case "dot": _ = n.l.createElement(i.a, { "className": "item-extra__info" }, n.l.createElement(i.a, { "className": "item-extra__dot" })); break; case "button": _ = n.l.createElement(i.a, { "className": "item-extra__info" }, n.l.createElement(b.a, { "type": "primary", "circle": !0, "className": "mu-button--list", "onClick": this.handleBtnClick.bind(this), "beaconId": "MUButton", "parentId": h }, f.slice(0, 4))) }return n.l.createElement(i.a, { "className": y, "onClick": this.handleClick.bind(this) }, n.l.createElement(i.a, { "className": "at-list__item-container" }, s && n.l.createElement(i.a, { "className": l()("at-list__item--thumb", "item-thumb", { "item-thumb-lg": !!t }) }, n.l.createElement(m.a, { "className": "item-thumb__info", "mode": "scaleToFill", "src": s })), c.value && n.l.createElement(i.a, { "className": "at-list__item-icon item-icon" }, n.l.createElement(i.a, { "className": S })), n.l.createElement(i.a, { "className": "at-list__item-content item-content" }, n.l.createElement(i.a, { "className": l()("item-content__info", { "show_after_star": !!v }) }, n.l.createElement(i.a, null, n.l.createElement(i.a, { "className": "item-content__info-title" }, o), t && n.l.createElement(i.a, { "className": "item-content__info-note" }, t)), v && n.l.createElement(i.a, { "className": "item-content__info-star" }, "*"))), a && n.l.createElement(i.a, { "className": "at-list__item-mid item-mid" }, a), this.props.renderContent, n.l.createElement(i.a, { "className": "at-list__item-extra item-extra" }, _, this.props.renderExtraText, r && !p && "button" !== u ? n.l.createElement(i.a, { "className": "item-extra__icon" }, n.l.createElement(g.a, { "className": l()("mu-icon", "item-extra__icon-arrow", r) })) : null))) } }]), MUListItem }(); w.defaultProps = { "note": "", "title": "", "thumb": "", "ifShowStar": !1, "isSwitch": !1, "hasBorder": !0, "switchColor": "#6190E8", "switchIsCheck": !1, "extraType": "text", "extraText": "", "extraThumb": "", "iconInfo": { "value": "" }, "arrow": "mu-icon-chevron-right", "disabledArrow": !1, "content": "", "renderContent": null, "renderExtraText": null, "onSwitchChange": function onSwitchChange() { }, "onClick": function onClick() { }, "onBtnClick": function onBtnClick() { } }, w.propTypes = { "note": c.a.string, "title": c.a.string, "thumb": c.a.string, "onClick": c.a.func, "ifShowStar": c.a.bool, "isSwitch": c.a.bool, "hasBorder": c.a.bool, "switchColor": c.a.string, "switchIsCheck": c.a.bool, "extraText": c.a.string, "extraThumb": c.a.string, "onSwitchChange": c.a.func, "arrow": c.a.string, "content": c.a.string, "renderContent": c.a.element, "renderExtraText": c.a.element, "extraType": c.a.oneOf(["dot", "text", "button"]), "iconInfo": c.a.shape({ "size": c.a.number, "value": c.a.string, "color": c.a.string, "prefixClass": c.a.string, "customStyle": c.a.oneOfType([c.a.object, c.a.string]), "className": c.a.oneOfType([c.a.array, c.a.string]) }), "onBtnClick": c.a.func }, Object(o.a)([Object(a.c)({ "event": a.a.BC })], w.prototype, "handleClick", null); var A = w = Object(o.a)([Object(a.c)(function (e) { var t = e.beaconId, r = e.content, n = e.beaconContent; return n && n.cus ? { "beaconId": t, "beaconContent": { "cus": S({ "itemContent": r }, n.cus) }, "uiType": "MUListItem" } : { "beaconId": t, "beaconContent": { "cus": "" === r ? {} : { "itemContent": r } }, "uiType": "MUListItem" } })], w), C = r(23), T = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, P = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var k = function (e) { function MUDrawer(e) { !function drawer_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MUDrawer); var t = function drawer_possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (MUDrawer.__proto__ || Object.getPrototypeOf(MUDrawer)).apply(this, arguments)); return t.setRouteTrigger = function (e) { var r = t.state, n = r._show, o = r.pagePath, i = e.action; o !== t.$router.path ? n && Object(C.f)(!1) : "POP" === i && n && Object(C.f)(!0) }, t.state = { "animShow": !1, "_show": e.show, "routerHasChange": !1, "pagePath": "" }, t } return function drawer_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(MUDrawer, d["a"]), P(MUDrawer, [{ "key": "componentDidMount", "value": function componentDidMount() { this.setState({ "pagePath": this.$router.path }), f.default.eventCenter.on("__taroRouterChange", this.setRouteTrigger), this.state._show && this.animShow() } }, { "key": "onItemClick", "value": function onItemClick(e) { this.props.onItemClick && this.props.onItemClick(e), this.animHide() } }, { "key": "onHide", "value": function onHide() { var e = this; this.setState({ "_show": !1 }, function () { e.props.onClose && e.props.onClose() }), Object(a.b)({ "target": this, "beaconId": "CloseMUDrawer", "event": a.a.BC, "uiType": "MUDrawer" }) } }, { "key": "animHide", "value": function animHide() { var e = this; this.setState({ "animShow": !1 }), setTimeout(function () { e.onHide() }, 300) } }, { "key": "animShow", "value": function animShow() { var e = this; this.setState({ "_show": !0 }), setTimeout(function () { e.setState({ "animShow": !0 }) }, 200) } }, { "key": "onMaskClick", "value": function onMaskClick() { this.animHide() } }, { "key": "componentWillReceiveProps", "value": function componentWillReceiveProps(e) { var t = e.show; this.props.show !== t && Object(C.f)(t), t !== this.state._show && (t ? this.animShow() : this.animHide()) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { Object(C.f)(!1), f.default.eventCenter.off("__taroRouterChange", this.setRouteTrigger) } }, { "key": "render", "value": function render() { var e = this, t = this.props, r = t.mask, o = t.width, a = t.height, s = t.placement, c = t.items, u = t.maskStyle, f = t.contentStyle, d = t.trackedBeaconId, p = t.beaconContent, m = this.state, g = m.animShow, v = m._show, y = T({ "display": r ? "block" : "none", "opacity": g ? 1 : 0 }, u), b = o || "230px", S = a || "64%";["top", "bottom"].indexOf(s || "left") > -1 && (b = "100%"), ["top", "bottom"].indexOf(s || "left") <= -1 && (S = "100%"); var _ = T({ "width": b, "height": S, "transition": g ? "all 125ms cubic-bezier(0, 0, 0.2, 1)" : "all 95ms cubic-bezier(0.4, 0, 0.6, 1)" }, f), w = s ? ["at-drawer--" + s] : ["at-drawer--left"], C = { "at-drawer--show": g }; return v ? n.l.createElement(i.a, { "className": l()(["at-drawer"], C, w) }, n.l.createElement(i.a, { "className": "at-drawer__mask", "style": y, "onClick": this.onMaskClick.bind(this) }), n.l.createElement(i.a, { "className": "at-drawer__content", "style": _ }, c && c.length ? n.l.createElement(h, null, c.map(function (t, r) { return n.l.createElement(A, { "key": t + "-" + r, "data-index": r, "onClick": e.onItemClick.bind(e, r), "title": t, "arrow": "right", "beaconId": "MUListItem", "parentId": d, "beaconContent": p }) })) : this.props.children)) : n.l.createElement(i.a, null) } }]), MUDrawer }(); k.defaultProps = { "show": !1, "mask": !0, "width": "", "right": !1, "items": [], "placement": "left", "maskStyle": {}, "contentStyle": {}, "onItemClick": function onItemClick() { }, "onClose": function onClose() { } }, k.propTypes = { "customStyle": c.a.oneOfType([c.a.object, c.a.string]), "className": c.a.oneOfType([c.a.array, c.a.string]), "show": c.a.bool, "mask": c.a.bool, "width": c.a.string, "maskStyle": c.a.object, "contentStyle": c.a.object, "placement": c.a.string, "items": c.a.arrayOf(c.a.string), "onItemClick": c.a.func, "onClose": c.a.func }, Object(o.a)([Object(a.c)({ "event": a.a.SO })], k.prototype, "animShow", null), k = Object(o.a)([Object(a.c)(function (e) { return { "beaconId": e.beaconId, "beaconContent": e.beaconContent, "uiType": "MUDrawer" } })], k); t.a = k }, function (e, t, r) { "use strict"; r(29); var n = r(1), o = r(8), i = r.n(o), a = (r(192), Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }), s = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); r(194); var c = function (e) { function Image() { !function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Image); var e = function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments)); return e.state = { "isLoaded": !1, "aspectFillMode": "width" }, e.imageOnLoad = e.imageOnLoad.bind(e), e.observer = {}, e } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(Image, n["l"].Component), s(Image, [{ "key": "componentDidMount", "value": function componentDidMount() { var e = this; this.props.lazyLoad && (this.observer = new IntersectionObserver(function (t, r) { t[t.length - 1].isIntersecting && e.setState({ "isLoaded": !0 }, function () { n.l.findDOMNode(e).children[0].src = e.props.src }) }, { "rootMargin": "300px 0px" }), this.observer.observe(this.imgRef)) } }, { "key": "componentWillUnmount", "value": function componentWillUnmount() { this.observer.disconnect && this.observer.disconnect() } }, { "key": "imageOnLoad", "value": function imageOnLoad(e) { var t = this.props.onLoad; Object.defineProperty(e, "detail", { "enumerable": !0, "writable": !0, "value": { "width": this.imgRef.width, "height": this.imgRef.height } }), this.imgRef.naturalWidth > this.imgRef.naturalHeight ? this.setState({ "aspectFillMode": "width" }) : this.setState({ "aspectFillMode": "height" }), t && t(e) } }, { "key": "render", "value": function render() { var e = this, t = this.props, r = t.className, o = t.src, s = t.style, c = t.mode, u = t.onError, l = t.lazyLoad, f = t.imgProps, d = function _objectWithoutProperties(e, t) { var r = {}; for (var n in e) t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e, n) && (r[n] = e[n]); return r }(t, ["className", "src", "style", "mode", "onError", "lazyLoad", "imgProps"]), p = this.state.aspectFillMode, h = i()("taro-img", { "taro-img__widthfix": "widthFix" === c }, r), m = i()("taro-img__mode-" + (c || "scaleToFill").toLowerCase().replace(/\s/g, ""), function _defineProperty(e, t, r) { return t in e ? Object.defineProperty(e, t, { "value": r, "enumerable": !0, "configurable": !0, "writable": !0 }) : e[t] = r, e }({}, "taro-img__mode-aspectfill--" + p, "aspectFill" === c)); return n.l.createElement("div", a({ "className": h, "style": s }, d), l ? n.l.createElement("img", a({ "ref": function ref(t) { return e.imgRef = t }, "className": m, "data-src": o, "onLoad": this.imageOnLoad, "onError": u }, f)) : n.l.createElement("img", a({ "ref": function ref(t) { return e.imgRef = t }, "className": m, "src": o, "onLoad": this.imageOnLoad, "onError": u }, f))) } }]), Image }(); t.a = c }, function (e, t, r) { "use strict"; r(29); var n = r(1), o = r(24), i = r(8), a = r.n(i), s = (r(195), Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }), c = function () { function defineProperties(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (e, t, r) { return t && defineProperties(e.prototype, t), r && defineProperties(e, r), e } }(); var u = function (e) { function Text() { return function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Text), function _possibleConstructorReturn(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }(this, (Text.__proto__ || Object.getPrototypeOf(Text)).apply(this, arguments)) } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { "constructor": { "value": e, "enumerable": !1, "writable": !0, "configurable": !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(Text, n["l"].Component), c(Text, [{ "key": "render", "value": function render() { var e = this.props, t = e.className, r = e.selectable, i = void 0 !== r && r, c = a()("taro-text", { "taro-text__selectable": i }, t); return n.l.createElement("span", s({}, Object(o.a)(this.props, ["selectable", "className"]), { "className": c }), this.props.children) } }]), Text }(); t.a = u }]]);